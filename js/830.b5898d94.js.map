{"version":3,"file":"js/830.b5898d94.js","mappings":"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","sources":["webpack://new-web/./src/views/index/index.vue","webpack://new-web/./src/views/index/index.vue?f455"],"sourcesContent":["<template>\r\n  <div class=\"home-container\">\r\n    <div class=\"home-wrapper\">\r\n      <div class=\"ads\" style=\"padding-bottom: 0px;margin-bottom: 40px\">\r\n        <div class=\"ads-item\" v-for=\"(item, idx) in _ads.slice(0, 8)\" :key=\"item.title + '_' + idx\">\r\n          <van-image\r\n            @click=\"goAd(item.link)\"\r\n            fit=\"cover\"\r\n            position=\"center\"\r\n            :lazy-load=\"true\"\r\n            :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"category-part-h5\" v-for=\"(item, idx) in data\" :key=\"item.id\">\r\n        <Title class=\"page-title\" :name=\"item.category.classifyName\" :suffix=\"suffixMap[language]\" :item=\"item.category\"></Title>\r\n        <div class=\"list\">\r\n          <Card :classifyName=\"item.category.classifyName\" :classifyId=\"item.category.classifyId\" :specialId=\"item.category.specialId\" class=\"video-card\" v-for=\"v in item.videos.slice(0, 4)\" :item=\"v\"></Card>\r\n        </div>\r\n        <div   class=\"ads\">\r\n          <div class=\"ads-item\" \r\n          v-for=\"(a, idxad) in _ads.slice(8 + idx * 4, 8 + idx * 4 + 4)\"\r\n          :key=\"a.title + '_' + idxad\">\r\n            <van-image\r\n              @click=\"goAd(a.link)\"\r\n              fit=\"cover\"\r\n              position=\"center\"\r\n              :lazy-load=\"true\"\r\n              :src=\"a.picUrl\"\r\n            >\r\n              <template v-slot:loading>\r\n                <van-loading type=\"spinner\" size=\"20\" />\r\n              </template>\r\n            </van-image>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"category-part-pc\" v-for=\"(item, idx) in data\" :key=\"item.id\">\r\n        <Title class=\"page-title\" :name=\"item.category.classifyName\" :suffix=\"suffixMap[language]\" :item=\"item.category\"></Title>\r\n        <div class=\"list\">\r\n          <Card :classifyName=\"item.category.classifyName\" :classifyId=\"item.category.classifyId\" :specialId=\"item.category.specialId\" class=\"video-card\" v-for=\"v in item.videos\" :item=\"v\"></Card>\r\n        </div>\r\n        <div   v-if=\"idx %2==1\" class=\"ads h5-hide\">\r\n          <div class=\"ads-item\" \r\n          v-for=\"(a, idxad) in _ads.slice(\r\n            idx === 1 ? 8 : idx === 3 ? 16 : idx === 5 ? 24 : 9 + Math.floor((idx - 1) / 2) * 8,\r\n            idx === 1 ? 16 : idx === 3 ? 24 : idx === 5 ? 32 : 9 + Math.floor((idx - 1) / 2) * 8 + 8\r\n          )\r\n          \" \r\n          :key=\"a.title + '_' + idxad\">\r\n            <van-image\r\n              @click=\"goAd(a.link)\"\r\n              fit=\"cover\"\r\n              position=\"center\"\r\n              :lazy-load=\"true\"\r\n              :src=\"a.picUrl\"\r\n            >\r\n              <template v-slot:loading>\r\n                <van-loading type=\"spinner\" size=\"20\" />\r\n              </template>\r\n            </van-image>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  import * as api from '@/api'\r\n  import Title from \"@/components/Title.vue\";\r\n  import Card from \"@/components/Card.vue\";\r\n  import {mapActions,mapState} from 'vuex';\r\n\r\n  export default {\r\n    name: \"Index\",\r\n    components: {Title, Card},\r\n    data() {\r\n      return {\r\n        _ads: [],\r\n        data: [],\r\n        suffixMap: {\r\n          'ko-KR': '더보기',\r\n          'en-US': 'More related videos',\r\n          'zh-CN': '更多'\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n      menus() {\r\n        this.getVideos()\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState({\r\n        ads: state => state.common.ads,\r\n        menus: state => state.common.menus,\r\n        language: state => state.common.language,\r\n      }),\r\n    },\r\n    methods: {\r\n      ...mapActions({\r\n        toggleLoading: 'common/toggleLoading',\r\n      }),\r\n      goAd(url) {\r\n        window.open(url)\r\n      },\r\n      async getVideos() {\r\n        this.toggleLoading(true)\r\n        if (this.menus && this.menus.length) {\r\n          let count = (this.menus.length + 1) * 8 + 1;\r\n          let times = Math.ceil(count / this.ads.length);\r\n          let ads = [];\r\n          for (let i = 0;i < times;i++) {\r\n            ads = ads.concat(this.ads);\r\n          }\r\n          ads.shift()\r\n          // this._ads = ads;\r\n          let index = 0\r\n          const func = async (menu, i) => {\r\n            let {rows, code} = await api.getVideos({\r\n              pageNum: 1,\r\n              pageSize: 8,\r\n              // classifyId: menu.classifyId,\r\n              specialId: menu.specialId\r\n            })\r\n            // let {rowsad, codead} = await api.getAds({\r\n            //   pageNum: 1,\r\n            //   pageSize: 50,\r\n            // })\r\n            // this._ads=rowsad\r\n            if (code == 200) {\r\n              this.data.push({\r\n                id: menu.id,\r\n                category: menu,\r\n                ads: ads.slice((index + 1) * 8 + 4, (index + 2) * 8 + 4),\r\n                // ads: rowsad,\r\n                adsSide: ads.slice((index + 1) * 5, (index + 2) * 5),\r\n                videos: rows,\r\n              })\r\n              if (i % 2 == 1) {\r\n                index = index + 1\r\n              }\r\n\r\n            }\r\n            console.log(this.data,\"this.data\")\r\n          }\r\n          for (let i = 0; i < this.menus.length; i++) {\r\n            await func(this.menus[i], i);\r\n            this.toggleLoading(false)\r\n          }\r\n        }\r\n      },\r\n\r\n      async getAds() {\r\n        let {rows, code} = await api.getAds({\r\n              pageNum: 1,\r\n              pageSize: 50,\r\n            })\r\n        this._ads=rows\r\n        // print(rows)\r\n      }\r\n    },\r\n    mounted() {\r\n      this.getVideos()\r\n      this.getAds()\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .category-part-h5 {\r\n    display: none;\r\n  }\r\n  .home-container{\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    .home-wrapper{\r\n      width: 100%;\r\n      padding-top: 25px;\r\n      .ads{\r\n        width: 100%;\r\n        padding: 23px 20px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-wrap: wrap;\r\n        box-sizing: border-box;\r\n        padding-top: 0px;\r\n        padding-bottom: 40px;\r\n        .ads-item{\r\n          width: calc((100% - 27px) / 4);\r\n          margin-bottom: 7px;\r\n          height: 125px;\r\n          @include border2;\r\n          box-sizing: border-box;\r\n          cursor: pointer;\r\n          border-radius: 2px;\r\n          :deep(.van-image){\r\n            width: 100%;\r\n            height: 100%;\r\n            .van-image__loading{\r\n              background: none;\r\n            }\r\n            .van-image__error{\r\n              background: none;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .page-title{\r\n        margin-bottom: 11px;\r\n      }\r\n      .list{\r\n        width: 100%;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-wrap: wrap;\r\n        flex-direction:row;\r\n        box-sizing: border-box;\r\n        padding-left: 20px;\r\n        padding-right: 20px;\r\n        margin-bottom: 20px;\r\n        .video-card{\r\n          margin-bottom: 20px;\r\n        }\r\n      }\r\n\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n\r\n  @media screen and (min-width: 750px) and (max-width: 1280px) {\r\n    // .category-part-h5 {\r\n    //   display: none;\r\n    // }\r\n    .home-container{\r\n      .home-wrapper{\r\n        .ads{\r\n          .ads-item{\r\n            height: 100px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  @media screen and (max-width: 750px) {\r\n    .category-part-pc {\r\n      display: none;\r\n    }\r\n    .category-part-h5 {\r\n      display: block;\r\n    }\r\n    .home-container{\r\n      width: 100%;\r\n      .home-wrapper{\r\n        width: 100%;\r\n        box-sizing: border-box;\r\n        padding-left: 2px;\r\n        padding-right: 2px;\r\n        .page-title{\r\n          margin-bottom: 10px;\r\n        }\r\n        .ads{\r\n          padding-left: 14px;\r\n          padding-right: 14px;\r\n          .ads-item{\r\n            width: 100%;\r\n            height: 130px;\r\n            margin-bottom: 6px;\r\n            border: 1px solid #d7d7d8;\r\n            &:nth-child(1), &:nth-child(2), &:nth-child(3), &:nth-child(4), {\r\n              display: block;\r\n            }\r\n          }\r\n        }\r\n        .list{\r\n          margin-bottom: 25px;\r\n          .video-card{\r\n            width: 100%;\r\n            margin-bottom: 18px;\r\n          }\r\n        }\r\n      }\r\n      .sidebar{\r\n        display: none;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=eb333a78&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=eb333a78&scoped=true&lang=scss\"\nimport \"./index.vue?vue&type=style&index=1&id=eb333a78&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-eb333a78\"]])\n\nexport default __exports__"],"names":["class","style","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_Fragment","_renderList","$data","_ads","slice","item","idx","title","_createVNode","_component_van_image","onClick","$event","$options","goAd","link","fit","position","src","picUrl","loading","_withCtx","_component_van_loading","type","size","_","data","id","_component_Title","name","category","classifyName","suffix","suffixMap","_ctx","language","_hoisted_4","videos","v","_createBlock","_component_Card","classifyId","specialId","_hoisted_5","a","idxad","_hoisted_6","_hoisted_7","Math","floor","_createCommentVNode","components","Title","Card","watch","menus","this","getVideos","computed","mapState","ads","state","common","methods","mapActions","toggleLoading","url","window","open","length","count","times","ceil","i","concat","shift","index","func","async","menu","rows","code","api","pageNum","pageSize","push","adsSide","console","log","getAds","mounted","__exports__","render"],"sourceRoot":""}