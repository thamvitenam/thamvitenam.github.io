{"version":3,"file":"js/515.e5e98688.js","mappings":"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O,GAAGiB,cAAgBjB,EAAO,GAAGxjB,YAAY1xF,OAAO4+E,GAAmBs2B,EAAOn8G,KAAI,SAAS26B,GACjM,OAAOwrF,EAAK/S,KAAKz4E,EACnB,KAAK,CAACwrF,EAAKK,KAAKrK,KAEpB,GACC,CACD/yG,IAAK,OACL+H,MAAO,SAAcqO,GACnB,IAAIm5E,EAAYr5F,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,IAC7EmnH,EAAQN,EAAK1U,IAAI0U,EAAKxxB,MAAMwe,KAAM,IAAIjwG,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAy1F,GAAa,GAAK,IAClBA,GAAa,GAAK,IAClBA,GAAa,EAAI,IACL,IAAZA,EACAn5E,GAAY,GAAK,IACjBA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,OAEF,OAAOinG,CACT,GACC,CACDr9G,IAAK,OACL+H,MAAO,SAAcsoF,GACnB,IAAIitB,EAAQP,EAAK1U,IAAI0U,EAAKxxB,MAAMye,KAAM+S,EAAK5S,KAAK9Z,EAAMrtF,GAAIqtF,EAAMyjB,cAAgB,EAAGzjB,EAAM5/E,MAAO4/E,EAAM3/E,QAASqsG,EAAK3S,KAAK/Z,IACzH,OAAOitB,CACT,GACC,CACDt9G,IAAK,OACL+H,MAAO,SAAc/E,EAAIoT,GACvB,IAAI3F,EAAQva,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,EACzEwa,EAASxa,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,EAC1EqnH,EAAQR,EAAK1U,IAAI0U,EAAKxxB,MAAM4e,KAAM,IAAIrwG,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAkJ,GAAM,GAAK,IACXA,GAAM,GAAK,IACXA,GAAM,EAAI,IACL,IAALA,EACA,EACA,EACA,EACA,EACAoT,GAAY,GAAK,IACjBA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA3F,GAAS,EAAI,IACL,IAARA,EACA,EACA,EACAC,GAAU,EAAI,IACL,IAATA,EACA,EACA,KAEF,OAAO6sG,CACT,GACC,CACDv9G,IAAK,OACL+H,MAAO,SAAcsoF,GACnB,IAAImtB,EAAQT,EAAK1U,IAAI0U,EAAKxxB,MAAM6e,KAAM2S,EAAKrS,KAAKra,EAAMj6E,SAAUi6E,EAAMd,WAAYwtB,EAAKpS,KAAKta,EAAM16F,MAAOonH,EAAKnS,KAAKva,IACnH,OAAOmtB,CACT,GACC,CACDx9G,IAAK,OACL+H,MAAO,SAAcqO,GACnB,IAAIm5E,EAAYr5F,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,IAC7EunH,EAAQV,EAAK1U,IAAI0U,EAAKxxB,MAAMmf,KAAM,IAAI5wG,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAy1F,GAAa,GAAK,IAClBA,GAAa,GAAK,IAClBA,GAAa,EAAI,IACL,IAAZA,EACAn5E,GAAY,GAAK,IACjBA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,EACA,GACA,IACA,EACA,KAEF,OAAOqnG,CACT,GACC,CACDz9G,IAAK,OACL+H,MAAO,SAAcpS,GACnB,IAAI+nH,EAAQX,EAAK1U,IAAI0U,EAAKxxB,MAAMof,KAAMoS,EAAKY,WAAWhoH,IACtD,OAAO+nH,CACT,GACC,CACD19G,IAAK,OACL+H,MAAO,SAAcsoF,GACnB,IAAIutB,EAAQb,EAAK1U,IAAI0U,EAAKxxB,MAAMqf,KAAMva,EAAM16F,OAASy9F,GAAUxL,MAAQm1B,EAAKc,KAAOd,EAAKe,KAAMf,EAAKgB,KAAMhB,EAAK/R,KAAK3a,IACnH,OAAOutB,CACT,GACC,CACD59G,IAAK,OACL+H,MAAO,SAAcsoF,GACnB,IAAI2tB,EAAS,GACT3tB,GAASA,EAAMx0E,KACjBw0E,EAAMx0E,IAAIqwF,MAAQ8R,EAAO/gH,KAAK8/G,EAAK7Q,KAAK7b,EAAMx0E,IAAIqwF,KAAK56E,UAEzD,IAAI2sF,EAAQlB,EAAK1U,IAAI0U,EAAKxxB,MAAMyf,KAAM+R,EAAKxR,KAAKlb,GAAQ0sB,EAAKmB,KAAMF,EAAO,GAAIjB,EAAKoB,KAAMpB,EAAKqB,KAAMrB,EAAKsB,MACzG,OAAOJ,CACT,GACC,CACDj+G,IAAK,OACL+H,MAAO,SAAcsoF,GACnB,IAAI8sB,EAGAA,EAFe,UAAf9sB,EAAM16F,KACJ06F,EAAMskB,QAAUtkB,EAAM6lB,KACd6G,EAAK7G,KAAK7lB,GAEhBA,EAAMx8D,YAAc8/D,GAAeI,KAC3BgpB,EAAKuB,KAAKjuB,GAEV0sB,EAAKrP,KAAKrd,GAGfA,EAAMskB,QAAUtkB,EAAMwkB,KACrBkI,EAAKlI,KAAKxkB,GACXA,EAAM+e,KACL2N,EAAKxP,KAAKld,GAEV0sB,EAAKwB,SAASluB,GAE1B,IAAImuB,EAAQzB,EAAK1U,IAAI0U,EAAKxxB,MAAMggB,KAAM,IAAIzxG,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACEqjH,GACJ,OAAOqB,CACT,GACC,CACDx+G,IAAK,OACL+H,MAAO,SAAc1Q,GACnB,IAAIy4F,EAAez4F,EAAK6+G,KAAKpmB,aACzBW,EAAap5F,EAAK6+G,KAAKzlB,WACvB0sB,EAAU,IAAIrjH,WAAW,CAC3B,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAg2F,EACA,EACA,GACA,EACA,EACA,EACA,EACAW,GAAc,EAAI,IACL,IAAbA,EACA,EACA,IAEEud,EAAO+O,EAAK/O,KAAK32G,EAAKqP,QACtBqlG,EAAOgR,EAAKhR,KAAK10G,EAAK6+G,MAC1B,OAAO6G,EAAK1U,IAAI0U,EAAKxxB,MAAM2qB,KAAMiH,EAASnP,EAAMjC,EAClD,GACC,CACD/rG,IAAK,OACL+H,MAAO,SAAcsoF,GACnB,IAAIouB,EAAgBxuB,EAChByO,EAAMrO,EAAMqO,IAAIhmG,OAAS,EAAI23F,EAAMqO,IAAI,GAAK,GAC5CsE,EAAM3S,EAAM2S,IAAItqG,OAAS,EAAI23F,EAAM2S,IAAI,GAAK,GAC5CvyF,EAAQ4/E,EAAM5/E,MACdC,EAAS2/E,EAAM3/E,OACf4gG,EAAWjhB,EAAM2P,SAAS,GAC1BuR,EAAWlhB,EAAM2P,SAAS,GAC1Bmd,EAAU,IAAIrjH,WAAW,CAC3B,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA2W,GAAS,EAAI,IACL,IAARA,EACAC,GAAU,EAAI,IACL,IAATA,EACA,EACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,KAEEguG,EAAO,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EAAIhmG,QACtBgmG,EAAIv8F,QAAQk9G,IAEVrc,EAAItqG,SACNrB,EAAK4F,KAAK,IAAK,EAAG+lG,EAAItqG,QACtBsqG,EAAI7gG,QAAQk9G,GAEhB,MACEhoH,EAAO,CACL,EACA,EACA,GACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,EACA,IACA,IACA,IACA,IACA,EACA,EACA,GACA,EACA,IACA,EACA,EACA,EACA,GACA,GACA,EACA,GACA,EACA,IACA,IACA,EACA,GACA,EACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,EACA,IACA,EACA,EACA,EACA,GACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,EACA,IACA,IACA,GACA,GACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,IACA,EACA,EACA,EACA,EACA,GACA,EACA,IACA,IACA,IACA,GACA,IAGJ,OAAO0lH,EAAK1U,IAAI0U,EAAKxxB,MAAMmV,KAAM,IAAI5mG,WAAWzC,GAClD,GACC,CACD2I,IAAK,OACL+H,MAAO,SAAc6qF,GACnB,IAAI0sB,EAAQjjC,GAAeuW,EAAO,GAAI0e,EAAWgO,EAAM,GAAI/N,EAAW+N,EAAM,GAC5E,OAAOvC,EAAK1U,IAAI0U,EAAKxxB,MAAM6iB,KAAM,IAAIt0G,WAAW,CAACw3G,GAAY,GAAIA,GAAY,GAAK,IAAKA,GAAY,EAAI,IAAgB,IAAXA,EAAgBC,GAAY,GAAIA,GAAY,GAAK,IAAKA,GAAY,EAAI,IAAgB,IAAXA,IACzL,GACC,CACDvxG,IAAK,OACL+H,MAAO,SAAcsoF,GACnB,OAAO0sB,EAAK1U,IAAI0U,EAAKxxB,MAAMmiB,KAAM,IAAI5zG,WAAW,CAC9C,EACA,EACA,EACA,EACA,EACA,EACA,EACA,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IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IAEFmhB,MAAO,IAAInhB,WAAW,CACpB,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,MAGJi6E,GAAgB+M,GAAK,WAAYA,GAAIunB,IAAIvnB,GAAIyK,MAAM2xB,KAAM,IAAIpjH,WAAW,CACtE,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,IACA,GACA,IACA,GACA,OAEFi6E,GAAgB+M,GAAK,WAAYA,GAAIunB,IAAIvnB,GAAIyK,MAAM2xB,KAAM,IAAIpjH,WAAW,CACtE,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,OAEFi6E,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,MAAM23B,KAAMpiC,GAAIunB,IAAIvnB,GAAIyK,MAAM43B,KAAM,IAAIrpH,WAAW,CAC1F,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,IACA,GACA,EACA,EACA,EACA,OAEFi6E,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,MAAMuf,KAAM,IAAIhxG,WAAW,CAClE,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,MAEFi6E,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,MAAMwf,KAAM,IAAIjxG,WAAW,CAClE,EACA,EACA,EACA,EACA,EACA,EACA,EACA,MAEFi6E,GAAgB+M,GAAK,YAAa,IAAIhnF,WAAW,CAC/C,EACA,EACA,EACA,EACA,EACA,EACA,EACA,KAEFi6E,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,MAAMigB,KAAM1qB,GAAIsiC,YACzDrvC,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,MAAMmgB,KAAM5qB,GAAIsiC,YACzDrvC,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,MAAMogB,KAAM,IAAI7xG,WAAW,CAClE,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,MAEFi6E,GAAgB+M,GAAK,OAAQA,GAAIunB,IAAIvnB,GAAIyK,MAAMqgB,KAAM9qB,GAAIsiC,YC50DzD,IAAIrgC,GAAyB,WAC3B,SAASC,EAAQvlF,EAAMwyB,GACrBiqD,GAAgBjkF,KAAM+sF,GACtB/sF,KAAKwH,KAAOA,GAAQ,GACpBxH,KAAKgtF,QAAU,IAAIplF,OAAO5H,KAAKwH,KAAM,KACrCulF,EAAQ1jF,SAAW2wB,CACrB,CAkEA,OAjEAqqD,GAAa0I,EAAS,CAAC,CACrBhjF,IAAK,QACL+H,MAAO,WACL,IAAIu7E,EACJ,IAAIN,EAAQ1jF,SAAZ,CAEA,IAAK,IAAI8X,EAAOlhB,UAAUwC,OAAQ+F,EAAO,IAAI9H,MAAMygB,GAAOmsE,EAAO,EAAGA,EAAOnsE,EAAMmsE,IAC/E9kF,EAAK8kF,GAAQrtF,UAAUqtF,IAExBD,EAAWv8E,SAASJ,MAAM3Q,MAAMstF,EAAU,CAACrtF,KAAKgtF,SAASplF,OAAOY,GAJzD,CAKV,GACC,CACDuB,IAAK,MACL+H,MAAO,WACL,IAAI27E,EACJ,IAAIV,EAAQ1jF,SAAZ,CAEA,IAAK,IAAIqkF,EAAQztF,UAAUwC,OAAQ+F,EAAO,IAAI9H,MAAMgtF,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFnlF,EAAKmlF,GAAS1tF,UAAU0tF,IAEzBF,EAAY38E,SAASC,IAAIhR,MAAM0tF,EAAW,CAACztF,KAAKgtF,SAASplF,OAAOY,GAJzD,CAKV,GACC,CACDuB,IAAK,OACL+H,MAAO,WACL,IAAI+7E,EACJ,IAAId,EAAQ1jF,SAAZ,CAEA,IAAK,IAAIykF,EAAQ7tF,UAAUwC,OAAQ+F,EAAO,IAAI9H,MAAMotF,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFvlF,EAAKulF,GAAS9tF,UAAU8tF,IAEzBF,EAAY/8E,SAASR,KAAKvQ,MAAM8tF,EAAW,CAAC7tF,KAAKgtF,SAASplF,OAAOY,GAJ1D,CAKV,GACC,CACDuB,IAAK,QACL+H,MAAO,WACL,IAAIm8E,EACJ,IAAIlB,EAAQ1jF,SAAZ,CAEA,IAAK,IAAI6kF,EAAQjuF,UAAUwC,OAAQ+F,EAAO,IAAI9H,MAAMwtF,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpF3lF,EAAK2lF,GAASluF,UAAUkuF,IAEzBF,EAAYn9E,SAAST,MAAMtQ,MAAMkuF,EAAW,CAACjuF,KAAKgtF,SAASplF,OAAOY,GAJ3D,CAKV,GACC,CACDuB,IAAK,QACL+H,MAAO,WACL,IAAI48E,EACA3B,EAAQ1jF,WAEZyH,QAAQ69E,MAAM3uF,KAAKgtF,UAClB0B,EAAY59E,SAAS89E,MAAM7uF,MAAM2uF,EAAWzuF,WAC7C6Q,QAAQ+9E,WACV,IACE,CAAC,CACH9kF,IAAK,SACL+H,MAAO,WACLi7E,EAAQ1jF,UAAW,CACrB,GACC,CACDU,IAAK,UACL+H,MAAO,WACLi7E,EAAQ1jF,UAAW,CACrB,KAEK0jF,CACT,CAzE6B,GA0E7BjP,GAAgBgP,GAAQ,YAAY,GCvEpC,IAAIsgC,GAA8B,WAChC,SAASC,EAAazwB,EAAY8D,EAAYxuF,GAC5C+xE,GAAgBjkF,KAAMqtH,GACtBrtH,KAAK48F,WAAaA,EAClB58F,KAAK0gG,WAAaA,EAClB,IAAI4sB,EAAkB,kBAAkB9pG,KAAKjgB,UAAU4B,WACvDnF,KAAKutH,cAAgBD,GAAmBriH,OAAOqiH,EAAgB,IAAM,GACrEttH,KAAK+Q,IAAM,IAAI+7E,GAAO,eAAe56E,IAAWA,EAAQk/E,UAAWl/E,EAAQk/E,QAC7E,CA8HA,OA7HA/M,GAAagpC,EAAc,CAAC,CAC1BtjH,IAAK,QACL+H,MAAO,WACL,IAMI07G,EACAC,EACAC,EAkBAC,EACAC,EA3BAC,EAAa5tH,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,IAAgBA,UAAU,GACzEiS,EAAUjS,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,CAAC,EAC5E28F,EAAa58F,KAAK48F,WAClB8D,EAAa1gG,KAAK0gG,WAClBotB,EAAWlxB,EAAW6F,QACtBsrB,EAAWrtB,EAAW+B,QAItBqa,EAAS,GA2Bb,OA1BI+Q,IACE37G,GAAWA,EAAQ87G,WACjBF,GACFhR,EAAO91G,KAAKhH,KAAK48F,YAEfmxB,GACFjR,EAAO91G,KAAKhH,KAAK0gG,YAEnBgtB,EAAc7iC,GAAI6iC,YAAY5Q,KAE1BgR,IACFN,EAAmB3iC,GAAI6iC,YAAY,CAAC1tH,KAAK48F,cACvCmxB,IACFN,EAAmB5iC,GAAI6iC,YAAY,CAAC1tH,KAAK0gG,gBAK3CotB,GAAYlxB,EAAWqxB,cACzBN,EAAe3tH,KAAKkuH,eAElBH,GAAYrtB,EAAWutB,cACzBL,EAAe5tH,KAAKmuH,eAEtBvxB,EAAWlC,QAAU,GACrBgG,EAAWhG,QAAU,GACd,CACLgzB,cACAF,mBACAC,mBACAE,eACAC,eAEJ,GACC,CACD7jH,IAAK,cACL+H,MAAO,WACL,IAAIsoF,EAAQp6F,KAAK48F,WACb58F,KAAKutH,gBACPnzB,EAAMM,QAAQ,GAAG/xD,KAAO,CACtB+1D,UAAW,EACXC,gBAAiB,IAGrB,IAAIjE,EAAUN,EAAMM,QAChBiqB,EAAS,OAAOrhH,KAAK82F,EAAMC,OAC3BwyB,EAAW,EACXlI,EACFjqB,EAAQxuF,SAAQ,SAAS4wC,GACvB+vE,GAAY/vE,EAAE17C,KAAKizF,UACrB,IAEAqG,EAAQxuF,SAAQ,SAAS4wC,GACvB+vE,GAAY/vE,EAAEk+C,MAAM5R,QAAO,SAAS9tD,EAAGzb,GACrC,OAAOyb,EAAIzb,EAAEw0E,UACf,GAAG,GACHw4B,GAA6B,EAAjB/vE,EAAEk+C,MAAMv4F,MACtB,IAEF,IAAI2rH,EAAQ,IAAIvqH,WAAWgpH,GAC3B,GAAIlI,EACF,IAAK,IAA2ChqB,EAAvCh3F,EAAI,EAAGoE,EAAI2yF,EAAQj4F,OAAQ+e,EAAS,EAAW7d,EAAIoE,EAAGpE,IAC7Dg3F,EAASD,EAAQ/2F,GACjByqH,EAAMtmC,IAAI6S,EAAOv5F,KAAMogB,GACvBm5E,EAAO3rF,KAAO2rF,EAAOv5F,KAAKizF,WAC1B7yE,GAAUm5E,EAAO3rF,UAiBnB,IAdA,IAcmDq/G,EAd/CC,EAAW,IAAIlnB,SAASgnB,EAAMj6B,QAC9BwxB,EAAQ,SAAgB4I,EAAUC,GACpCA,EAAW9zB,EAAQ5d,GACnB,IAAI8+B,EAAa,EACjB4S,EAASxzB,MAAM9uF,SAAQ,SAASuiH,GAC9BH,EAAShd,UAAUid,EAAUE,EAAEp6B,YAC/Bk6B,GAAY,EACZH,EAAMtmC,IAAI2mC,EAAGF,GACbA,GAAYE,EAAEp6B,WACdunB,GAAc,EAAI6S,EAAEp6B,UACtB,IACAm6B,EAASx/G,KAAO4sG,EAChB8S,EAAUH,EAAUF,EAAUG,CAChC,EACS1xC,EAAK,EAAGvkC,EAAKmiD,EAAQj4F,OAAQisH,EAAU,EAAY5xC,EAAKvkC,EAAIukC,IACnE6oC,EAAM+I,EAASL,GAGnB,IAAIrB,EAAOniC,GAAImiC,KAAKoB,GAChB1N,EAAO71B,GAAI61B,KAAK,CAACtmB,IACrB,OAAO7B,GAAiBmoB,EAAMsM,EAChC,GACC,CACDjjH,IAAK,cACL+H,MAAO,WACL,IAAIsoF,EAAQp6F,KAAK0gG,WACb0tB,EAAQ,IAAIvqH,WAAWu2F,EAAMM,QAAQtR,QAAO,SAAS9tD,EAAGzb,GAC1D,OAAOyb,EAAIzb,EAAE7Q,IACf,GAAG,IACHorF,EAAMM,QAAQtR,QAAO,SAAS5nE,EAAQs7B,GAEpC,OADAsxE,EAAMtmC,IAAIhrC,EAAE17C,KAAMogB,GACXA,EAASs7B,EAAE9tC,IACpB,GAAG,GACH,IAAIg+G,EAAOniC,GAAImiC,KAAKoB,GAChB1N,EAAO71B,GAAI61B,KAAK,CAACtmB,IACrB,OAAO7B,GAAiBmoB,EAAMsM,EAChC,GACC,CACDjjH,IAAK,QACL+H,MAAO,WACL9R,KAAK48F,WAAW1qD,QAChBlyC,KAAK0gG,WAAWxuD,OAClB,KAEKm7E,CACT,CAvIkC,GCF9BrtG,GAAQ49D,GAAeA,GAAe,CAAC,EAAGwY,IAAQ,CAAC,EAAG,CACxDu4B,cAAe,oBACfC,eAAgB,oBAChBC,kBAAmB,wBACnBC,kBAAmB,wBACnBC,iBAAkB,sBAClBC,YAAa,oBCJX/5F,GAAS,IAAI63D,GAAO,cACpBmiC,GAA6B,WAC/B,SAASC,EAAYC,EAAKC,EAAOC,EAAWzuB,GAC1C3c,GAAgBjkF,KAAMkvH,GACtBpxC,GAAgB99E,KAAM,iBAAkB,IACxCA,KAAKmvH,IAAMA,EACXnvH,KAAKsvH,SAAWF,EAAQ,IAAI/K,GAAgB,IAAIrW,GAAU,KAAM,KAAM,KAAMpN,GAC5E5gG,KAAKuvH,OAASH,EACVC,IACFrvH,KAAKwvH,SAAW,IAAIpC,GAAYptH,KAAKsvH,SAAS1yB,WAAY58F,KAAKsvH,SAAS5uB,YAC5E,CAqJA,OApJArc,GAAa6qC,EAAa,CAAC,CACzBnlH,IAAK,WACL+H,MAAO,SAAkB29G,EAAYC,EAAY9tB,EAAeC,EAAY//D,EAAW6tF,GACrF,IAAIC,EAAU5vH,KAAKsvH,SACnB,IACMtvH,KAAKuvH,OACPK,EAAQzgB,MAAMsgB,EAAYC,GAE1BE,EAAQC,YAAYt3B,GAAiBk3B,EAAYC,GAAa9tB,EAAeC,EAAY//D,EAE7F,CAAE,MAAOzxB,GACP,MAAM,IAAI47E,GAAepC,GAAIO,MAAOP,GAAIa,UAAUE,IAAKv6E,EACzD,CACA,IAAIusF,EAAagzB,EAAQhzB,WAAY8D,EAAakvB,EAAQlvB,WAAYC,EAAgBivB,EAAQjvB,cAC1FmvB,EAAU,CACZz1B,MAAOuC,EAAWvC,MAClBf,UAAWsD,EAAWtD,UACtBy2B,SAAUnzB,EAAWmzB,SAAWnzB,EAAWtD,UAC3C02B,SAAUpzB,EAAWozB,SAAWpzB,EAAWtD,UAC3Cn5E,SAAUy8E,EAAWqzB,gBAAkBrzB,EAAWtD,WAEhD42B,EAAU,CACZ71B,MAAOqG,EAAWrG,MAClBf,UAAWoH,EAAWpH,UACtBy2B,SAAUrvB,EAAWqvB,SAAWnzB,EAAWtD,UAC3C02B,SAAUtvB,EAAWsvB,SAAWpzB,EAAWtD,UAC3Cn5E,SAAUugF,EAAWuvB,gBAAkBrzB,EAAWtD,WAEhD62B,EAAQ,GAAGvoH,OAAOg1F,EAAWvC,MAAO,KAAKzyF,OAAOg1F,EAAWpiF,MAAO,KAAK5S,OAAOg1F,EAAWniF,OAAQ,KAAK7S,OAAO84F,EAAWrG,MAAO,KAAKzyF,OAAO84F,EAAWjwF,QAU1J,GATI0/G,IAAUnwH,KAAKowH,iBACjBpwH,KAAKowH,eAAiBD,EACtBR,GAAW,GAEb3vH,KAAKqwH,YAAYzzB,EAAY8D,EAAYC,EAAeiB,GAAiB+tB,GACzE3vH,KAAKmvH,IAAIjnH,KAAK8X,GAAM23E,cAAe,CACjCiF,aACA8D,gBAEE1gG,KAAKwvH,SAkBP,MAAO,CAAC5yB,EAAY8D,GAjBhBivB,GAAY3vH,KAAKmvH,IAAItuF,SAAW7gC,KAAKmvH,IAAI1+G,OAAO6/G,gBAClD1zB,EAAWz8E,SAAWngB,KAAKmvH,IAAIoB,cAAgB3zB,EAAWtD,UAC1DoH,EAAWvgF,SAAWngB,KAAKmvH,IAAIoB,cAAgB7vB,EAAWpH,WAE5D,IACE,IAAIk3B,EAAuBxwH,KAAKwvH,SAASiB,MAAMd,GAAWnC,EAAmBgD,EAAqBhD,iBAAkBG,EAAe6C,EAAqB7C,aAAcF,EAAmB+C,EAAqB/C,iBAAkBG,EAAe4C,EAAqB5C,aAChQlc,EAAInZ,GAAiBi1B,EAAkBG,GACvCzrH,EAAIq2F,GAAiBk1B,EAAkBG,GAC3C,MAAO,CAAClc,EAAI9zB,GAAeA,GAAe,CAAC,EAAGkyC,GAAU,CAAC,EAAG,CAC1D1uH,KAAMswG,SACH,EAAQxvG,EAAI07E,GAAeA,GAAe,CAAC,EAAGsyC,GAAU,CAAC,EAAG,CAC/D9uH,KAAMc,SACH,EACP,CAAE,MAAOmO,GACP,MAAM,IAAI47E,GAAepC,GAAIQ,MAAOR,GAAIa,UAAUI,KAAMz6E,EAC1D,CAIJ,GACC,CACDtG,IAAK,cACL+H,MAAO,SAAqB8qF,EAAY8D,EAAYC,EAAeiB,GACjE,IAAIrV,EAAQvsF,KACR88G,EAAS,CAAClgB,EAAY8D,GACtBgwB,EAAQ,kBAAkB9oH,OAAOg6F,GACrCkb,EAAO5wG,SAAQ,SAASkuF,GACtB,IAAI4V,EACqC,QAApCA,EAAiB5V,EAAMM,eAAwC,IAAnBsV,GAA6BA,EAAevtG,SAC3FiuH,GAAS,KAAK9oH,OAAOwyF,EAAMM,QAAQj4F,OAAQ,KAAKmF,OAAOwyF,EAAM16F,OAASy9F,GAAUxL,MAAQ,QAAU,QAAS,0CAA0C/pF,QAAQwyF,EAAM21B,SAAW31B,EAAMd,WAAWxpC,QAAQ,GAAI,KAAKloD,QAAQwyF,EAAM41B,SAAW51B,EAAMd,WAAWxpC,QAAQ,GAAI,KAAKloD,QAAQwyF,EAAM61B,gBAAkB71B,EAAMd,WAAWxpC,QAAQ,KAElU8xC,GAAiBxH,EAAMqI,SACzBlW,EAAM4iC,IAAIjnH,KAAK8X,GAAMi3E,gBAAiB,CACpCv3F,KAAM06F,EAAM16F,KACZ06F,QACAu2B,KAAM/yC,GAAe,CACnByc,MAAOD,EAAMC,MACbf,UAAWc,EAAMd,UACjB+K,QAASjK,EAAMiK,SACdjK,EAAM16F,OAASy9F,GAAUxL,MAAQ,CAClCn3E,MAAO4/E,EAAM5/E,MACbC,OAAQ2/E,EAAM3/E,OACdsvF,SAAU3P,EAAM2P,UACd,CACF1P,MAAOD,EAAMC,MACbR,aAAcO,EAAMP,aACpBW,WAAYJ,EAAMI,cAI1B,IACAvlE,GAAOvkB,MAAMggH,GACb9zB,EAAWuG,SAASj3F,SAAQ,SAASoE,GACnC,IAAI5Q,EACJ,OAAQ4Q,EAAK5Q,MACX,KAAKq+F,GAAYC,eACft+F,EAAOsgB,GAAM63E,gCACb,MACF,KAAKkG,GAAYE,gBACfv+F,EAAOsgB,GAAM83E,2BACb,MACF,KAAKiG,GAAYG,8BACfx+F,EAAOsgB,GAAMk4E,uCACb,MAEAx4F,GACF6sF,EAAM4iC,IAAIjnH,KAAK8X,GAAM43E,iBAAkBha,GAAeA,GAAe,CAAC,EAAGttE,GAAO,CAAC,EAAG,CAClF5Q,UAEJu1B,GAAO3kB,KAAK,kBAAmBA,EACjC,IACAowF,EAAWyC,SAASj3F,SAAQ,SAASoE,GACnC,IAAI5Q,EACJ,OAAQ4Q,EAAK5Q,MACX,KAAKq+F,GAAYI,gBACfz+F,EAAOsgB,GAAM+3E,2BACb,MACF,KAAKgG,GAAYK,aACf1+F,EAAOsgB,GAAMg4E,iBACb,MACF,KAAK+F,GAAYM,cACf3+F,EAAOsgB,GAAMi4E,qBACb,MAEAv4F,GACF6sF,EAAM4iC,IAAIjnH,KAAK8X,GAAM43E,iBAAkBha,GAAeA,GAAe,CAAC,EAAGttE,GAAO,CAAC,EAAG,CAClF5Q,UAEJu1B,GAAO3kB,KAAK,kBAAmBA,EACjC,IACAssF,EAAWlC,QAAQxuF,SAAQ,SAASyuF,GAC9BA,EAAO2S,UACT/gB,EAAM4iC,IAAIjnH,KAAK8X,GAAM+2E,SAAU,CAC7ByH,IAAK7D,EAAO6D,KAGlB,IACAmC,EAAc+B,WAAWx2F,SAAQ,SAAS2sF,GACxCtM,EAAM4iC,IAAIjnH,KAAK8X,GAAMk3E,IAAKtZ,GAAeA,GAAe,CAAC,EAAGib,GAAM,CAAC,EAAG,CACpE+F,UAAW/F,EAAI+F,UAAY,GAC3B/F,IAAK,CACHzyE,KAAMyyE,EAAIz3F,KAAK1B,KACfwnH,QAASruB,EAAIz3F,KAAKS,QAClBg9F,IAAKhG,EAAI2F,OAGf,GACF,KAEK0wB,CACT,CA/JiC,GCC7B0B,GAAY,CAAC,QAASC,GAAa,CAAC,QACpC57F,GAAS,IAAI63D,GAAO,iBACpBgkC,GAAgC,WAClC,SAASC,EAAe5B,GACtB,IAAI5iC,EAAQvsF,KACZikF,GAAgBjkF,KAAM+wH,GACtBjzC,GAAgB99E,KAAM,aAAc,IAAI+iH,IACxCjlC,GAAgB99E,KAAM,cAAe,MACrC89E,GAAgB99E,KAAM,OAAQ,MAC9B89E,GAAgB99E,KAAM,aAAc,MACpC89E,GAAgB99E,KAAM,kBAAkB,GACxC89E,GAAgB99E,KAAM,oBAAoB,GAC1C89E,GAAgB99E,KAAM,iBAAiB,GACvCA,KAAKmvH,IAAMA,EACPA,EAAI1+G,OAAOugH,WACbhxH,KAAKixH,WAAa9B,EAAIhwG,OAEtBnf,KAAKkxH,KAAO,IAAI7gC,GAAI,KAAM,CACxBX,UAAWy/B,EAAI1+G,OAAOi/E,YAEpBy/B,EAAI1+G,OAAO3O,KACb9B,KAAKkxH,KAAK//B,UAAUg+B,EAAIhwG,OAAOwT,MAAK,SAAS9xB,GAC3C0rF,EAAM4iC,IAAIjnH,KAAKkuF,GAAMM,mBAAoB71F,EAC3C,KAGAsuH,EAAI1+G,OAAO0gH,YACbnxH,KAAKoxH,WAAW/N,kBAAoB8L,EAAI1+G,OAAO0gH,UAEnD,CA0hBA,OAzhBA9sC,GAAa0sC,EAAgB,CAAC,CAC5BhnH,IAAK,UACLioB,IAAK,WACH,IAAIq/F,EAAmBC,EAAuBC,EAC9C,OAAkD,QAA1CF,EAAoBrxH,KAAKwxH,mBAA+C,IAAtBH,GAAiG,QAAxDC,EAAwBD,EAAkB/B,gBAAgD,IAA1BgC,GAAwG,QAA3DC,EAAyBD,EAAsBpjB,cAA+C,IAA3BqjB,OAA1L,EAAuOA,EAAuB1wB,QACzV,GACC,CACD92F,IAAK,OACLioB,IAAK,WACH,IAAIy/F,EACJ,OAAmC,QAA5BA,EAAazxH,KAAKkxH,YAAiC,IAAfO,GAAyBA,EAAWzgC,cAExE9qF,OAAOoP,KAAKtV,KAAKkxH,KAAKlgC,eAAevuF,OADnC,CAEX,GACC,CACDsH,IAAK,aACLioB,IAAK,WACH,IAAI0/F,EACJ,OAAqC,QAA7BA,EAAc1xH,KAAKkxH,YAAkC,IAAhBQ,OAAyB,EAASA,EAAYx/B,QAC7F,GACC,CACDnoF,IAAK,eACLioB,IAAK,WACH,IAAI2/F,EACJ,OAAqC,QAA7BA,EAAc3xH,KAAKkxH,YAAkC,IAAhBS,OAAyB,EAASA,EAAYC,UAC7F,GACC,CACD7nH,IAAK,cACLioB,IAAK,WACH,IAAI6/F,EACJ,OAAqC,QAA7BA,EAAc7xH,KAAKkxH,YAAkC,IAAhBW,OAAyB,EAASA,EAAYpgC,SAC7F,GACC,CACD1nF,IAAK,iBACL+H,MAAO,WACL,IAAIggH,EAAkB9tC,GAAkC/F,KAAsBqE,MAAK,SAASkQ,EAAQryE,GAClG,OAAO89D,KAAsBU,MAAK,SAAkBiU,GAClD,MAAO,SACGA,EAAS/P,KAAO+P,EAASlgE,MAC/B,KAAK,EAEH,GADAuC,GAAOvkB,MAAM,kBAAmByP,IAC3BngB,KAAKkxH,KAAM,CACdt+B,EAASlgE,KAAO,EAChB,KACF,CACA,GAAI1yB,KAAKkxH,KAAKh/B,SAAU,CACtBU,EAASlgE,KAAO,EAChB,KACF,CAEA,OADAkgE,EAASlgE,KAAO,EACT1yB,KAAKkxH,KAAKluH,OACnB,KAAK,EAEH,OADA4vF,EAASlgE,KAAO,EACT1yB,KAAKkxH,KAAKt8D,eAAez0C,GAClC,KAAK,EACHyyE,EAASlgE,KAAO,GAChB,MACF,KAAK,EACC1yB,KAAKixH,aACPjxH,KAAKixH,WAAW9wG,SAAWA,GAE/B,KAAK,GACL,IAAK,MACH,OAAOyyE,EAAS5f,OAExB,GAAGwf,EAASxyF,KACd,KACA,SAAS40D,EAAehJ,GACtB,OAAOkmE,EAAgB/xH,MAAMC,KAAMC,UACrC,CACA,OAAO20D,CACT,CArCO,IAsCN,CACD7qD,IAAK,eACL+H,MAAO,SAAsB29G,EAAYC,EAAYh2B,EAAYD,GAC/D,IAAIz5F,KAAK+xH,eAAT,CAEA,IAAIC,EAAQvC,GAAcC,EAC1B,GAAKsC,EAAL,CAEA,GAAIhkB,GAAUyY,MAAMuL,GACbhyH,KAAKwxH,cACRxxH,KAAKwxH,YAAc,IAAIvC,GAAWjvH,KAAKmvH,KAAK,GAAQnvH,KAAKixH,WAAYjxH,KAAKmvH,IAAI1+G,OAAOmwF,kBAClF,KAAImR,GAAU0U,MAAMuL,GA4CzB,MAAM,IAAI/lC,GAAepC,GAAIW,MAAO,KAAM,KAAM,KAAM,sBA3CtD,GAAIxqF,KAAKixH,WACFjxH,KAAKwxH,cACRxxH,KAAKwxH,YAAc,IAAIvC,GAAWjvH,KAAKmvH,KAAK,EAAM,KAAMnvH,KAAKmvH,IAAI1+G,OAAOmwF,kBACrE,CACL5gG,KAAKiyH,eAAgB,EACrB,IAAIC,GAAM,EACNzC,IAAe/1B,GACjBqY,GAAUI,QAAQsd,EAAY,CAAC,OAAQ,SAASvjH,SAAQ,SAASovB,GAC/D,IAAI82E,EAAML,GAAUI,QAAQ72E,EAAEl6B,KAAM,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,SAAS,GAC9E,GAAIgxG,EAAK,CACP,IAAIvxG,EAAIkxG,GAAUuD,KAAKlD,GAAK/2E,QAAQ,GACpC,GAAIx6B,EACF,GAAIA,EAAE4pG,KACJ/Q,EAAa74F,EAAE4pG,KAAKpQ,OAAS,uBACxB,GAAIx5F,EAAEq3G,KACXxe,EAAa74F,EAAEq3G,KAAK7d,WACf,GAAIx5F,EAAE25F,YAAc35F,EAAEk3G,KAAM,CACjC,IAAI6E,EACJnjB,GAAqC,QAAtBmjB,EAAU/7G,EAAEk3G,YAA8B,IAAZ6E,OAAqB,EAASA,EAAQviB,QAAU,YAC7F63B,GAAM,CACR,CAEJ,CACF,IAEExC,IAAej2B,GACjBsY,GAAUI,QAAQud,EAAY,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,SAASxjH,SAAQ,SAASopG,GAC/F,IAAIz0G,EAAIkxG,GAAUuD,KAAKA,GAAMj6E,QAAQ,GACjCx6B,GAAKA,EAAEk3G,OACTte,EAAa54F,EAAEk3G,KAAK1d,MACxB,IAEEo1B,IAAe/1B,IACjBA,EAAa,eACXg2B,IAAej2B,IACjBA,EAAa,aACXy4B,IACFx4B,GAAc,KAAK9xF,OAAO6xF,GAC1BA,EAAa,IAEfz5F,KAAKmyH,iBAAiBz4B,EAAYD,EACpC,CAGF,CACIz5F,KAAKixH,aACPjxH,KAAK+xH,gBAAiB,EAnDhB,CAHA,CAuDV,GACC,CACDhoH,IAAK,eACL+H,MAAO,WACL,IAAIsgH,EAAgBpuC,GAAkC/F,KAAsBqE,MAAK,SAAS4Q,EAASm/B,EAASzE,EAAc6B,EAAYC,EAAY9tB,EAAeC,EAAY//D,GAC3K,IACIwwF,EAAalpF,EAAGumF,EAAU4C,EAAuBC,EAAwBtzG,EAAO8F,EAAOytG,EAAetuF,EAAKywC,EAAIuxC,EAAWuM,EAAWtM,EAAWuM,EADhJpiC,EAASvwF,KAEb,OAAOi+E,KAAsBU,MAAK,SAAmB2U,GACnD,MAAO,SACGA,EAAUzQ,KAAOyQ,EAAU5gE,MACjC,KAAK,EACH,GAAuB,OAAf+8F,QAAsC,IAAfA,GAAyBA,EAAWhtH,QAA4B,OAAfitH,QAAsC,IAAfA,GAAyBA,EAAWjtH,OAAU,CACnJ6wF,EAAU5gE,KAAO,EACjB,KACF,CACA,OAAO4gE,EAAUrS,OAAO,UAC1B,KAAK,EAWH,GAVAqxC,EAAc,WACZ,IAAIM,EAEEC,EAD4B,QAA7BD,EAAariC,EAAO4+B,WAAgC,IAAfyD,GAAyBA,EAAW1qH,OAE7C,QAA9B2qH,EAActiC,EAAO4+B,WAAiC,IAAhB0D,GAAkCA,EAAY3qH,KAAKkuF,GAAMQ,cAAe,CAC7GrlF,MAAO8gH,EAAQ9gH,MACfE,IAAK4gH,EAAQ5gH,MAGnB,GACKzR,KAAKiyH,cAAe,CACvB3+B,EAAU5gE,KAAO,EACjB,KACF,CAMA,OALA0W,EAAI,GACAqmF,GACFrmF,EAAEpiC,KAAKhH,KAAKkxH,KAAK5tD,OAAO+sB,GAAIsB,MAAO89B,IACjCC,GACFtmF,EAAEpiC,KAAKhH,KAAKkxH,KAAK5tD,OAAO+sB,GAAI+M,MAAOsyB,IAC9Bp8B,EAAUrS,OAAO,SAAUv8D,QAAQ6Z,IAAI6K,GAAGzW,KAAK2/F,IACxD,KAAK,EAeH,GAdA3C,EAAW3vH,KAAK8yH,kBAAoBlxB,EACpC2wB,EAAwBvyH,KAAKwxH,YAAYuB,SAAStD,EAAYC,EAAYC,EAAU9tB,EAAY//D,EAAW9hC,KAAK8yH,kBAAoBlxB,GAAgB4wB,EAAyBpsC,GAAemsC,EAAuB,GAAIrzG,EAAQszG,EAAuB,GAAIxtG,EAAQwtG,EAAuB,GACrR9C,GAAc9B,IACC,OAAjBA,QAA0C,IAAjBA,GAAmCA,EAAaoF,eAAc,GAAO,IAE5FtD,GAAc2C,IACJ,OAAZA,QAAgC,IAAZA,GAA8BA,EAAQW,eAAc,GAAM,IAE3EpF,GACS,OAAZyE,QAAgC,IAAZA,GAA8BA,EAAQW,gBAAgB9zG,IAAS8F,GAEjF9F,IAAU8F,GACZhlB,KAAKmvH,IAAIjnH,KAAK8X,GAAM4uG,iBAEjB5uH,KAAKixH,WAAY,CACpB39B,EAAU5gE,KAAO,GACjB,KACF,CACA1yB,KAAKixH,WAAW18B,aAAar1E,EAAO8F,GACpChlB,KAAK8yH,kBAAmB,EACxBR,IACAh/B,EAAU5gE,KAAO,GACjB,MACF,KAAK,GACH,IAAK1yB,KAAKkxH,KAAM,CACd59B,EAAU5gE,KAAO,GACjB,KACF,CAqBA,OApBA+/F,GAAiBzyH,KAAK+xH,eAClBU,GACFzyH,KAAKmyH,iBAA2B,OAAVjzG,QAA4B,IAAVA,OAAmB,EAASA,EAAMm7E,MAAiB,OAAVr1E,QAA4B,IAAVA,OAAmB,EAASA,EAAMq1E,OAEvIr6F,KAAK8yH,kBAAmB,EACxB3uF,EAAMnkC,KAAKkxH,KACXt8C,EAAK,GACD+6C,IAAa8C,GACfzyH,KAAKizH,mBAAmB/zG,EAAO8F,GAAO9Y,SAAQ,SAASgnH,GACrD,OAAOt+C,EAAG5tE,KAAKksH,EACjB,IAEEh0G,IACFinG,EAAYjnG,EAAM9d,KAAMsxH,EAAYjtC,GAAyBvmE,EAAO0xG,IACpEh8C,EAAG5tE,KAAKm9B,EAAIm/B,OAAO+sB,GAAIsB,MAAOw0B,EAAWuM,KAEvC1tG,IACFohG,EAAYphG,EAAM5jB,KAAMuxH,EAAYltC,GAAyBzgE,EAAO6rG,IACpEj8C,EAAG5tE,KAAKm9B,EAAIm/B,OAAO+sB,GAAI+M,MAAOgpB,EAAWuM,KAEpCr/B,EAAUrS,OAAO,SAAUv8D,QAAQ6Z,IAAIq2C,GAAIjiD,KAAK2/F,IACzD,KAAK,GACL,IAAK,MACH,OAAOh/B,EAAUtgB,OAEzB,GAAGkgB,EAAUlzF,KACf,KACA,SAASu0F,EAAaqB,EAAKC,EAAKC,EAAKouB,EAAKC,EAAKC,EAAK+O,GAClD,OAAOf,EAAcryH,MAAMC,KAAMC,UACnC,CACA,OAAOs0F,CACT,CA9FO,IA+FN,CACDxqF,IAAK,eACL+H,MAAO,WACL,IAAIshH,EAAgBpvC,GAAkC/F,KAAsBqE,MAAK,SAAS+S,IACxF,IACI9jF,EAAOE,EAAK0N,EADZmyE,EAAStxF,KACUqzH,EAASpzH,UAChC,OAAOg+E,KAAsBU,MAAK,SAAmB8W,GACnD,MAAO,SACGA,EAAU5S,KAAO4S,EAAU/iE,MACjC,KAAK,EAIH,GAHAnhB,EAAQ8hH,EAAO5wH,OAAS,QAAmB,IAAd4wH,EAAO,GAAgBA,EAAO,GAAK,EAChE5hH,EAAM4hH,EAAO5wH,OAAS,QAAmB,IAAd4wH,EAAO,GAAgBA,EAAO,GAAK/jG,IAC9DnQ,EAAQnf,KAAKmvH,IAAIhwG,SACVnf,KAAKkxH,OAAS/xG,GAAS5N,EAAQ,GAAKE,EAAMF,GAASA,GAASvR,KAAKkxH,KAAK/wG,UAAW,CACtFs1E,EAAU/iE,KAAO,EACjB,KACF,CACA,OAAO+iE,EAAUxU,OAAO,UAC1B,KAAK,EACH,OAAOwU,EAAUxU,OAAO,SAAUjhF,KAAKkxH,KAAKoC,YAAY/hH,EAAOE,GAAKkhB,MAAK,WACvE,OAAO2+D,EAAO69B,IAAIjnH,KAAKkuF,GAAMS,cAAe,CAC1CtlF,QACAE,MACA8hH,UAAW9hH,GAEf,KACF,KAAK,EACL,IAAK,MACH,OAAOgkF,EAAUziB,OAEzB,GAAGqiB,EAAUr1F,KACf,KACA,SAASwzH,IACP,OAAOJ,EAAcrzH,MAAMC,KAAMC,UACnC,CACA,OAAOuzH,CACT,CAlCO,IAmCN,CACDzpH,IAAK,cACL+H,MAAO,WACL,IAAI2hH,EAAezvC,GAAkC/F,KAAsBqE,MAAK,SAASoxC,EAASC,GAChG,IAAIx0G,EAAOmC,EAAaiyG,EAAWhiH,EACnC,OAAO0sE,KAAsBU,MAAK,SAAmBi1C,GACnD,MAAO,SACGA,EAAU/wC,KAAO+wC,EAAUlhG,MACjC,KAAK,EAEH,GADAvT,EAAQnf,KAAKmvH,IAAIhwG,MACVnf,KAAKkxH,MAAS/xG,GAAUw0G,KAAgBA,EAAe,GAAI,CAChEC,EAAUlhG,KAAO,EACjB,KACF,CACA,OAAOkhG,EAAU3yC,OAAO,UAC1B,KAAK,EAGH,GAFA3/D,EAAcnC,EAAMmC,YACpBiyG,EAAYjyG,EAAcqyG,IACpBJ,GAAa,GAAI,CACrBK,EAAUlhG,KAAO,EACjB,KACF,CACA,OAAOkhG,EAAU3yC,OAAO,UAC1B,KAAK,EAEH,GADA1vE,EAAQs3E,GAAOt3E,MAAMs3E,GAAO72D,IAAI7S,MAC1B5N,EAAQ,GAAKgiH,GAAY,CAC7BK,EAAUlhG,KAAO,GACjB,KACF,CACA,OAAOkhG,EAAU3yC,OAAO,UAC1B,KAAK,GACH,OAAO2yC,EAAU3yC,OAAO,SAAUjhF,KAAKwzH,aAAa,EAAGD,IACzD,KAAK,GACL,IAAK,MACH,OAAOK,EAAU5gD,OAEzB,GAAG0gD,EAAU1zH,KACf,KACA,SAAS6zH,EAAYC,GACnB,OAAOL,EAAa1zH,MAAMC,KAAMC,UAClC,CACA,OAAO4zH,CACT,CAxCO,IAyCN,CACD9pH,IAAK,iBACL+H,MAAO,WACL,IAAIiiH,EAAkB/vC,GAAkC/F,KAAsBqE,MAAK,SAAS0xC,IAC1F,OAAO/1C,KAAsBU,MAAK,SAAmBs1C,GACnD,MAAO,SACGA,EAAUpxC,KAAOoxC,EAAUvhG,MACjC,KAAK,EACH,IAAK1yB,KAAKkxH,KAAM,CACd+C,EAAUvhG,KAAO,EACjB,KACF,CACA,OAAOuhG,EAAUhzC,OAAO,SAAUjhF,KAAKkxH,KAAKgD,kBAC9C,KAAK,EACL,IAAK,MACH,OAAOD,EAAUjhD,OAEzB,GAAGghD,EAAUh0H,KACf,KACA,SAASk0H,IACP,OAAOH,EAAgBh0H,MAAMC,KAAMC,UACrC,CACA,OAAOi0H,CACT,CArBO,IAsBN,CACDnqH,IAAK,gBACL+H,MAAO,SAAuBoN,EAAO8F,GACnC,OAAOhlB,KAAKoxH,WAAWtN,QAAQ5kG,EAAO8F,EACxC,GACC,CACDjb,IAAK,QACL+H,MAAO,WACL,IAAIqqE,EAAS6H,GAAkC/F,KAAsBqE,MAAK,SAAS6xC,IACjF,IAAIC,EAAUC,EAASp0H,UACvB,OAAOg+E,KAAsBU,MAAK,SAAmB21C,GACnD,MAAO,SACGA,EAAUzxC,KAAOyxC,EAAU5hG,MACjC,KAAK,EAEH,GADA0hG,EAAWC,EAAO5xH,OAAS,QAAmB,IAAd4xH,EAAO,IAAgBA,EAAO,IACxDr0H,KAAKkxH,MAASkD,EAAW,CAC7BE,EAAU5hG,KAAO,EACjB,KACF,CAIA,OAHA1yB,KAAKwxH,YAAc,KACnBxxH,KAAK+xH,gBAAiB,EACtBuC,EAAU5hG,KAAO,EACV1yB,KAAKkxH,KAAKr+B,cACnB,KAAK,EAEH,OADAyhC,EAAU5hG,KAAO,EACV1yB,KAAKkxH,KAAK//B,UAAUnxF,KAAKmvH,IAAIhwG,OACtC,KAAK,EACHnf,KAAK8yH,kBAAmB,EACxB9yH,KAAKiyH,eAAgB,EACvB,KAAK,GACL,IAAK,MACH,OAAOqC,EAAUthD,OAEzB,GAAGmhD,EAAUn0H,KACf,KACA,SAASkyC,IACP,OAAOiqC,EAAOp8E,MAAMC,KAAMC,UAC5B,CACA,OAAOiyC,CACT,CAhCO,IAiCN,CACDnoC,IAAK,cACL+H,MAAO,WACL,IAAIyiH,EAAevwC,GAAkC/F,KAAsBqE,MAAK,SAASkyC,IACvF,OAAOv2C,KAAsBU,MAAK,SAAmB81C,GACnD,MAAO,SACGA,EAAU5xC,KAAO4xC,EAAU/hG,MACjC,KAAK,EACH,IAAK1yB,KAAKkxH,KAAM,CACduD,EAAU/hG,KAAO,EACjB,KACF,CACA,IAAK1yB,KAAK+xH,eAAgB,CACxB0C,EAAU/hG,KAAO,EACjB,KACF,CAEA,OADA+hG,EAAU/hG,KAAO,EACV1yB,KAAKkxH,KAAKz9B,cACnB,KAAK,EACHzzF,KAAKmvH,IAAIjnH,KAAKkuF,GAAMU,WACtB,KAAK,EACC92F,KAAKixH,YACPjxH,KAAKixH,WAAWx9B,cAEpB,KAAK,EACL,IAAK,MACH,OAAOghC,EAAUzhD,OAEzB,GAAGwhD,EAAUx0H,KACf,KACA,SAASyzF,IACP,OAAO8gC,EAAax0H,MAAMC,KAAMC,UAClC,CACA,OAAOwzF,CACT,CAhCO,IAiCN,CACD1pF,IAAK,uBACL+H,MAAO,WACL,IAAI4iH,EAAwB1wC,GAAkC/F,KAAsBqE,MAAK,SAASqyC,EAASpjH,EAAOE,GAChH,OAAOwsE,KAAsBU,MAAK,SAAmBi2C,GACnD,MAAO,SACGA,EAAU/xC,KAAO+xC,EAAUliG,MACjC,KAAK,EACC1yB,KAAKkxH,MACPlxH,KAAKkxH,KAAKh8B,qBAAqB3jF,EAAOE,GAC1C,KAAK,EACL,IAAK,MACH,OAAOmjH,EAAU5hD,OAEzB,GAAG2hD,EAAU30H,KACf,KACA,SAASk1F,EAAqB2/B,EAAMC,GAClC,OAAOJ,EAAsB30H,MAAMC,KAAMC,UAC3C,CACA,OAAOi1F,CACT,CAlBO,IAmBN,CACDnrF,IAAK,cACL+H,MAAO,WACL,IAAIijH,EAAe/wC,GAAkC/F,KAAsBqE,MAAK,SAAS0yC,IACvF,OAAO/2C,KAAsBU,MAAK,SAAmBs2C,GACnD,MAAO,SACGA,EAAUpyC,KAAOoyC,EAAUviG,MACjC,KAAK,EACH,IAAK1yB,KAAKkxH,KAAM,CACd+D,EAAUviG,KAAO,EACjB,KACF,CAEA,OADAuiG,EAAUviG,KAAO,EACV1yB,KAAKkxH,KAAKr+B,cACnB,KAAK,EACL,IAAK,MACH,OAAOoiC,EAAUjiD,OAEzB,GAAGgiD,EAAUh1H,KACf,KACA,SAASk1H,IACP,OAAOH,EAAah1H,MAAMC,KAAMC,UAClC,CACA,OAAOi1H,CACT,CAtBO,IAuBN,CACDnrH,IAAK,UACL+H,MAAO,WACL,IAAIqjH,EAAWnxC,GAAkC/F,KAAsBqE,MAAK,SAAS8yC,IACnF,IAAIC,EACJ,OAAOp3C,KAAsBU,MAAK,SAAoB22C,GACpD,MAAO,SACGA,EAAWzyC,KAAOyyC,EAAW5iG,MACnC,KAAK,EAGH,OAFyC,QAAxC2iG,EAAmBr1H,KAAKoxH,kBAA6C,IAArBiE,GAAuCA,EAAiBl1H,UACzGm1H,EAAW5iG,KAAO,EACX1yB,KAAKk1H,cACd,KAAK,EACHl1H,KAAKoxH,WAAa,KAClBpxH,KAAKkxH,KAAO,KACZlxH,KAAKixH,WAAa,KACpB,KAAK,EACL,IAAK,MACH,OAAOqE,EAAWtiD,OAE1B,GAAGoiD,EAAWp1H,KAChB,KACA,SAASG,IACP,OAAOg1H,EAASp1H,MAAMC,KAAMC,UAC9B,CACA,OAAOE,CACT,CAxBO,IAyBN,CACD4J,IAAK,mBACL+H,MAAO,SAA0B4nF,EAAYD,GAC3CxkE,GAAOvkB,MAAM,iCAAiC9I,OAAO8xF,EAAY,iBAAiB9xF,OAAO6xF,IACzF,IAAIt1D,EAAMnkC,KAAKkxH,KACV/sF,IAEDu1D,IACFv1D,EAAI+vD,aAAa7D,GAAIsB,MAAO,oBAAoB/pF,OAAO8xF,IACvD15F,KAAK+xH,gBAAiB,GAEpBt4B,IACFt1D,EAAI+vD,aAAa7D,GAAI+M,MAAO,oBAAoBx1F,OAAO6xF,IACvDz5F,KAAK+xH,gBAAiB,GAExB/xH,KAAKmvH,IAAIjnH,KAAKkuF,GAAMK,sBACtB,GACC,CACD1sF,IAAK,qBACL+H,MAAO,SAA4BoN,EAAO8F,GACxC,IAAIuwG,EAAQ,GACRpxF,EAAMnkC,KAAKkxH,KACXsE,EAAY,CAAC,CACf91H,KAAM2wF,GAAIsB,MACV6T,OAAkB,OAAVtmF,QAA4B,IAAVA,OAAmB,EAASA,EAAMm7E,OAC3D,CACD36F,KAAM2wF,GAAI+M,MACVoI,OAAkB,OAAVxgF,QAA4B,IAAVA,OAAmB,EAASA,EAAMq1E,QAc9D,OAZAm7B,EAAU7yG,QAAO,SAAStU,GACxB,QAASA,EAAKm3F,MAChB,IAAGt5F,SAAQ,SAAS8tF,GAClB,IAAIt6F,EAAOs6F,EAAKt6F,KAAM8lG,EAASxL,EAAKwL,OAChCiwB,EAAetxF,EAAIuxF,gBAAgBh2H,GACvC,GAAI+1H,EAAc,CAChB,IAAIp7B,EAAQmL,EAAO9iG,MAAM,KAAK,GACzB,IAAIyT,OAAOkkF,EAAO,MAAM/2F,KAAKmyH,EAAa7zH,WAC7C2zH,EAAMvuH,KAAKm9B,EAAI6vD,WAAWt0F,EAAM,GAAGkI,OAAOlI,EAAM,gBAAgBkI,OAAO49F,IAE3E,CACF,IACO+vB,CACT,GACC,CACDxrH,IAAK,iBACL+H,MAAO,WACL9R,KAAK8yH,kBAAmB,CAC1B,GACC,CACD/oH,IAAK,SACL+H,MAAO,WACL,IAAI6jH,EACA/oG,EAAY3sB,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAKowF,GAAIsB,MACrF,OAAqC,QAA7BgkC,EAAc31H,KAAKkxH,YAAkC,IAAhByE,OAAyB,EAASA,EAAY5/B,OAAOnpE,EACpG,KAEKmkG,CACT,CAtjBoC,GCPpC,SAAS6E,GAAUC,GACjB,IAAI12G,GAAiB,OAAR02G,QAAwB,IAARA,OAAiB,EAASA,EAAI12G,QAAU3e,SAASwB,cAAc,SAC5F,OAAO47E,GAAeA,GAAe,CACnCk4C,gBAAiB,GACjBC,WAAY,EACZC,WAAY,IACZC,eAAgB,EAChBC,YAAa,IACbC,oBAAqB,IACrBC,YAAa,GACbpF,YAAY,EACZ2C,aAAc,GACdz6B,gBAAiB,EACjBp3D,UAAW,EACXu0F,eAAe,EACfC,cAAe,GACfC,WAAY,GACZC,0BAA0B,EAC1BC,WAAW,EACXC,aAAc,GACdC,qBAAsB,EACtBjnC,WAAW,EACXknC,oBAAoB,EACpBtG,eAAe,EACf1vB,YAAa,CACXa,kBAAkB,EAClBE,kBAAmB,IAEpBk0B,GAAM,CAAC,EAAG,CACX12G,SAEJ,CChCA,IAAI03G,GAAa,CACfC,MAAO,QACPC,IAAK,OAEHC,GAAe,CACjBC,aAAc,cACdhzF,KAAM,OACN2xC,KAAM,QCLJshD,GAA2B,SAAShrC,GACtC1H,GAAU2yC,EAAWjrC,GACrB,IAAIE,EAASrG,GAAaoxC,GAC1B,SAASA,EAAUr1H,EAAK+uB,EAAS1tB,EAAUsjB,GACzC,IAAI8lE,EAYJ,OAXAtI,GAAgBjkF,KAAMm3H,GACtB5qC,EAAQH,EAAOxrF,KAAKZ,KAAMymB,GAC1Bq3D,GAAgB8H,GAAuB2G,GAAQ,aAAc,GAC7DzO,GAAgB8H,GAAuB2G,GAAQ,aAAa,GAC5DzO,GAAgB8H,GAAuB2G,GAAQ,aAAcsqC,GAAWC,OACxEh5C,GAAgB8H,GAAuB2G,GAAQ,YAAa,GAC5DzO,GAAgB8H,GAAuB2G,GAAQ,UAAW,GAC1DzO,GAAgB8H,GAAuB2G,GAAQ,UAAW,CAAC,GAC3DA,EAAMzqF,IAAMA,EACZyqF,EAAM17D,QAAUA,EAChB07D,EAAMppF,SAAWA,EACVopF,CACT,CACA,OAAOlI,GAAa8yC,EACtB,CAnB+B,CAmBbvvC,GAAiBzuD,QCpB/Bl3B,GAAWiE,OAAOzH,UAAUwD,SAChC,SAAS4P,GAAS3P,GAChB,OAAa,OAANA,GAA6B,WAAfwhF,GAAQxhF,EAC/B,CACA,SAASk1H,GAAch7G,GACrB,GAA2B,oBAAvBna,GAASrB,KAAKwb,GAChB,OAAO,EAET,IAAI3d,EAAYyH,OAAOy5E,eAAevjE,GACtC,OAAqB,OAAd3d,GAAsBA,IAAcyH,OAAOzH,SACpD,CACA,SAAS44H,GAAOn1H,GACd,MAA4B,kBAArBD,GAASrB,KAAKsB,EACvB,CCbA,SAASo1H,GAAcxlH,GACrB,GAAKA,GAAsB,OAAbA,EAAM,SAA4B,IAAbA,EAAM,KAA8B,IAAbA,EAAM,IAA0B,OAAbA,EAAM,SAA4B,IAAbA,EAAM,IAAxG,CAGA,IAAI+K,EAAM,SAAW/K,EAAM,GAAK,IAGhC,OAFIA,EAAM,KACR+K,GAAO/K,EAAM,IACR+K,CAJP,CAKF,CACA,SAASk9E,GAAO39E,GACd,OAAOvW,mBAAmBuW,GAAKhX,QAAQ,QAAS,KAAKA,QAAQ,OAAQ,KAAKA,QAAQ,QAAS,KAAKA,QAAQ,OAAQ,KAAKA,QAAQ,QAAS,KAAKA,QAAQ,QAAS,IAC9J,CACA,SAASmyH,GAAaz1H,EAAK2zB,GACzB,GAAK3zB,EAAL,CAEA,IAAK2zB,EACH,OAAO3zB,EACT,IAAI4vG,EACAr6F,EAAMnR,OAAOoP,KAAKmgB,GAAQ90B,KAAI,SAAS+tB,GAEzC,GADAgjF,EAAIj8E,EAAO/G,GACD,OAANgjF,QAAoB,IAANA,EAOlB,OALIhxG,MAAM20B,QAAQq8E,GAChBhjF,GAAQ,KAERgjF,EAAI,CAACA,GAEAA,EAAE/wG,KAAI,SAAS2d,GAMpB,OALI+4G,GAAO/4G,GACTA,EAAIA,EAAE23D,cACGpkE,GAASyM,KAClBA,EAAIs3D,KAAKC,UAAUv3D,IAEd,GAAG1W,OAAOmyF,GAAOrrE,GAAI,KAAK9mB,OAAOmyF,GAAOz7E,GACjD,IAAG3H,KAAK,IACV,IAAGgM,OAAOw2B,SAASxiC,KAAK,KACxB,GAAIU,EAAK,CACP,IAAImgH,EAAY11H,EAAIe,QAAQ,MACT,IAAf20H,IACF11H,EAAMA,EAAI4F,MAAM,EAAG8vH,IAErB11H,KAA8B,IAAtBA,EAAIe,QAAQ,KAAc,IAAM,KAAOwU,CACjD,CACA,OAAOvV,CA7BC,CA8BV,CACA,SAAS21H,GAAer2H,EAAMg8E,EAAMj6E,EAAUu0H,EAAeC,EAAK71F,EAAW81F,EAAepmH,EAAOqd,EAAOyf,EAAKupF,GAC7GF,EAAc,OAARA,QAAwB,IAARA,EAAiB58G,WAAW48G,GAAO,KACzDD,EAAgBj8G,SAASi8G,GAAiB,IAAK,IAC3CzsH,OAAO6M,MAAM4/G,KACfA,EAAgB,GAClB,IAAIxlH,EAAU,CACZ2c,QACAyf,MACA98B,QACAkmH,gBACAC,MACA71F,YACA81F,gBACApjC,QAAS1gF,KAAKC,MACd8jH,cAEF,MAAO,CACLz2H,OACAg8E,OACAlrE,UACA/O,WAEJ,CACA,SAAS20H,GAAeC,EAASC,GAC/B,OAAOrsH,KAAKoM,MAAgB,EAAVggH,EAAc,IAAMC,EAAc,KACtD,CCjEA,IAAIC,GAAY,QACZC,GAA8B,SAASC,GACzC3zC,GAAU4zC,EAAcD,GACxB,IAAI/rC,EAASrG,GAAaqyC,GAC1B,SAASA,IACP,IAAI7rC,EAiBJ,OAhBAtI,GAAgBjkF,KAAMo4H,GACtB7rC,EAAQH,EAAOxrF,KAAKZ,MACpB89E,GAAgB8H,GAAuB2G,GAAQ,mBAAoB,MACnEzO,GAAgB8H,GAAuB2G,GAAQ,gBAAiB,MAChEzO,GAAgB8H,GAAuB2G,GAAQ,UAAW,MAC1DzO,GAAgB8H,GAAuB2G,GAAQ,YAAa,MAC5DzO,GAAgB8H,GAAuB2G,GAAQ,YAAY,GAC3DzO,GAAgB8H,GAAuB2G,GAAQ,UAAW,GAC1DzO,GAAgB8H,GAAuB2G,GAAQ,SAAU,MACzDzO,GAAgB8H,GAAuB2G,GAAQ,kBAAmB,GAClEzO,GAAgB8H,GAAuB2G,GAAQ,YAAY,GAC3DzO,GAAgB8H,GAAuB2G,GAAQ,UAAW,MAC1DzO,GAAgB8H,GAAuB2G,GAAQ,OAAQ,IACvDzO,GAAgB8H,GAAuB2G,GAAQ,mBAAoB,GACnEzO,GAAgB8H,GAAuB2G,GAAQ,YAAa,MAC5DzO,GAAgB8H,GAAuB2G,GAAQ,cAAe,MACvDA,CACT,CA8YA,OA7YAlI,GAAa+zC,EAAc,CAAC,CAC1BruH,IAAK,OACL+H,MAAO,SAAckoF,GACnB,IAAIq+B,EAAuB9nC,EAASvwF,KAChC8B,EAAMk4F,EAAKl4F,IAAKwsC,EAAM0rD,EAAK1rD,IAAKnR,EAAU68D,EAAK78D,QAASl6B,EAAe+2F,EAAK/2F,aAAcq1H,EAAat+B,EAAKs+B,WAAY9mH,EAAQwoF,EAAKxoF,MAAO+mH,EAAYv+B,EAAKu+B,UAAWC,EAAWx+B,EAAKw+B,SAAU3pG,EAAQmrE,EAAKnrE,MAAO4pG,EAAoBz+B,EAAKy+B,kBAAmB5nG,EAAUmpE,EAAKnpE,QAAS4E,EAASukE,EAAKvkE,OAAQR,EAAS+kE,EAAK/kE,OAAQ+qD,EAASga,EAAKha,OAAQ9F,EAAU8f,EAAK9f,QAASr1E,EAAOm1F,EAAKn1F,KAAMuzB,EAAO4hE,EAAK5hE,KAAMsgG,EAAc1+B,EAAK0+B,YAAaC,EAAQ3+B,EAAK2+B,MAAOC,EAAW5+B,EAAK4+B,SAAUC,EAAW7+B,EAAK6+B,SAAUC,EAAiB9+B,EAAK8+B,eAAgBC,EAAkB/+B,EAAK++B,gBAAiBlB,EAAa79B,EAAK69B,WACpmB73H,KAAKmkB,QAAU8Q,EACfj1B,KAAKg5H,UAAW,EAChBh5H,KAAKi5H,iBAAmBF,EACxB/4H,KAAKk5H,UAAYV,EACjBx4H,KAAKm5H,iBAA8C,qBAApBC,iBAAmC,IAAIA,gBACtEp5H,KAAKq5H,UAAW,EAChBr5H,KAAKohB,OAAS5P,EACdxR,KAAKs5H,OAASzqG,GAAS,CAAC,EAAG,GAC3B7uB,KAAKu5H,KAAOjrF,GAAOxsC,EACnB9B,KAAKw5H,YAAc3B,GAAc,CAAC,EAClC,IAAIx7F,EAAO,CACT2jD,SACA9F,UACAr1E,OACAuzB,OACAsgG,cACAC,QACAC,WACAC,WACAC,iBACAW,OAA4D,QAAnDpB,EAAwBr4H,KAAKm5H,wBAAwD,IAA1Bd,OAAmC,EAASA,EAAsBoB,QAEpIhtC,GAAY,EAChBn5E,aAAatT,KAAK05H,eAClB53H,EAAMy1H,GAAaz1H,EAAK2zB,GACxB,IAAIkkG,EAAarC,GAAczoG,GAC3B8qG,IAEAz/C,EADErpD,EACQA,EAAQqpD,QAER79C,EAAK69C,QAAU79C,EAAK69C,UAAY0/C,QAAU,IAAIA,QAAY,CAAC,GAEnEA,SAAW1/C,aAAmB0/C,QAChC1/C,EAAQ5W,OAAO,QAASq2D,GAExBz/C,EAAQC,MAAQw/C,GAGhBx8F,IACFn9B,KAAK05H,cAAgBt2H,YAAW,WAG9B,GAFAqpF,GAAY,EACZ8D,EAAOt8E,SACHskH,EAAW,CACb,IAAIloH,EAAQ,IAAI6mH,GAASp1H,EAAKu6B,EAAM,KAAM,WAC1ChsB,EAAMo8E,WAAY,EAClB8rC,EAAUloH,EAAO,CACfmB,MAAO++E,EAAOnvE,OACdyN,MAAO0hE,EAAO+oC,OACdhrF,IAAKiiD,EAAOgpC,KACZ1B,WAAYtnC,EAAOipC,aAEvB,CACF,GAAGr8F,IAEL,IAAI2E,EAAYhuB,KAAKC,MAErB,OADA/T,KAAKmkB,QAAQzT,MAAM,6BAA8Bc,EAAO,UAAWqd,GAC5D,IAAInK,SAAQ,SAASC,EAAS8Y,GACnCo8F,MAAMhpG,GAAW/uB,EAAK+uB,OAAU,EAASwL,GAAM1J,KAAqB,WAClE,IAAIqpE,EAAQhY,GAAkC/F,KAAsBqE,MAAK,SAASkQ,EAAQrvF,GACxF,IAAIy0H,EAAex2H,EAAM27C,EAAU48B,EACnC,OAAOsE,KAAsBU,MAAK,SAAkBiU,GAClD,MAAO,SACGA,EAAS/P,KAAO+P,EAASlgE,MAC/B,KAAK,EAGH,GAFApf,aAAai9E,EAAOmpC,eACpBnpC,EAAOupC,UAAY32H,GACbotF,EAAOyoC,UAAazoC,EAAO8oC,SAAW,CAC1CzmC,EAASlgE,KAAO,EAChB,KACF,CACA,OAAOkgE,EAAS3R,OAAO,UACzB,KAAK,EAIH,GAHIw3C,IACFt1H,EAAWs1H,EAAkBt1H,EAAUrB,IAAQqB,GAE7CA,EAAS42H,GAAI,CACfnnC,EAASlgE,KAAO,EAChB,KACF,CACA,MAAM,IAAIwkG,GAASp1H,EAAKu6B,EAAMl5B,EAAU,wBAC1C,KAAK,EAEH,GADAy0H,EAAgB9jH,KAAKC,MACf9Q,IAAiB+zH,GAAa/yF,KAAO,CACzC2uD,EAASlgE,KAAO,GAChB,KACF,CAEA,OADAkgE,EAASlgE,KAAO,GACTvvB,EAASoZ,OAClB,KAAK,GACHnb,EAAOwxF,EAAS9R,KAChByP,EAAO8oC,UAAW,EAClBzmC,EAASlgE,KAAO,GAChB,MACF,KAAK,GACH,GAAMzvB,IAAiB+zH,GAAaphD,KAAO,CACzCgd,EAASlgE,KAAO,GAChB,KACF,CAEA,OADAkgE,EAASlgE,KAAO,GACTvvB,EAAS62H,OAClB,KAAK,GACH54H,EAAOwxF,EAAS9R,KAChByP,EAAO8oC,UAAW,EAClBzmC,EAASlgE,KAAO,GAChB,MACF,KAAK,GACH,IAAK4lG,EAAY,CACf1lC,EAASlgE,KAAO,GAChB,KACF,CAIA,OAHA69D,EAAO5rE,QAAUA,EACjB4rE,EAAO9yD,OAASA,EAChB8yD,EAAO0pC,WAAW92H,EAAUm1H,EAAYx2F,EAAW81F,GAC5ChlC,EAAS3R,OAAO,UACzB,KAAK,GAEH,OADA2R,EAASlgE,KAAO,GACTvvB,EAAS+2H,cAClB,KAAK,GACH94H,EAAOwxF,EAAS9R,KAChB1/E,EAAO,IAAIyC,WAAWzC,GACtBmvF,EAAO8oC,UAAW,EAClBt8E,EAAWjpC,KAAKC,MAAQ+tB,EACxB63C,EAAQm+C,GAAe12H,EAAKizF,WAAYt3C,GACxCwzC,EAAOroF,KAAKkuF,GAAM9sD,gBAAiB,CACjCqwC,QACAlxE,IAAKrH,EAAKizF,WACVthF,KAAMgqC,EACNzO,IAAKiiD,EAAOgpC,KACZ/nH,MAAO++E,EAAOnvE,OACdyN,MAAO0hE,EAAO+oC,OACdzB,WAAYtnC,EAAOipC,cAEvB,KAAK,GACHjpC,EAAOpsE,QAAQzT,MAAM,2BAA4Bc,EAAO,UAAWqd,GACnElK,EAAQ8yG,GAAer2H,GAAM,EAAM+B,EAAUA,EAAS+2E,QAAQloD,IAAI,kBAAmB7uB,EAAS+2E,QAAQloD,IAAI,OAAQ8P,EAAW81F,EAAepmH,EAAOqd,EAAO0hE,EAAOgpC,KAAMhpC,EAAOipC,cAChL,KAAK,GACL,IAAK,MACH,OAAO5mC,EAAS5f,OAExB,GAAGwf,EACL,KACA,OAAO,SAAS5mC,GACd,OAAOowC,EAAMj8F,MAAMC,KAAMC,UAC3B,CACF,CAvFoE,IAuF/DozB,OAAM,SAAShjB,GAClB,IAAIugC,EACJt9B,aAAai9E,EAAOmpC,eACpBnpC,EAAO8oC,UAAW,EACd9oC,EAAOyoC,WAAavsC,IAExBp8E,EAAQA,aAAiB6mH,GAAW7mH,EAAQ,IAAI6mH,GAASp1H,EAAKu6B,EAAM,KAA2B,QAApBuU,EAASvgC,SAA8B,IAAXugC,OAAoB,EAASA,EAAOhgC,SAC3IP,EAAMyxB,UAAYA,EAClBzxB,EAAMmkF,QAAU1gF,KAAKC,MACrB1D,EAAMo8E,UAAYA,EAClBp8E,EAAM6B,QAAU,CACdV,MAAO++E,EAAOnvE,OACdyN,MAAO0hE,EAAO+oC,OACdhrF,IAAKiiD,EAAOgpC,KACZ1B,WAAYtnC,EAAOipC,aAErB/7F,EAAOptB,GACT,GACF,GACF,GACC,CACDtG,IAAK,SACL+H,MAAO,WACL,IAAIqoH,EAAUn2C,GAAkC/F,KAAsBqE,MAAK,SAAS4Q,IAClF,OAAOjV,KAAsBU,MAAK,SAAmB2U,GACnD,MAAO,SACGA,EAAUzQ,KAAOyQ,EAAU5gE,MACjC,KAAK,EACH,IAAK1yB,KAAKg5H,SAAU,CAClB1lC,EAAU5gE,KAAO,EACjB,KACF,CACA,OAAO4gE,EAAUrS,OAAO,UAC1B,KAAK,EAGH,GAFAjhF,KAAKg5H,UAAW,EAChBh5H,KAAKq5H,UAAW,GACXr5H,KAAK85H,UAAW,CACnBxmC,EAAU5gE,KAAO,GACjB,KACF,CAEA,GADA4gE,EAAUzQ,KAAO,GACZ7iF,KAAKo6H,QAAS,CACjB9mC,EAAU5gE,KAAO,EACjB,KACF,CAEA,OADA4gE,EAAU5gE,KAAO,EACV1yB,KAAKo6H,QAAQnmH,SACtB,KAAK,EACHq/E,EAAU5gE,KAAO,GACjB,MACF,KAAK,GACH4gE,EAAUzQ,KAAO,GACjByQ,EAAU0wB,GAAK1wB,EAAU,SAAS,GACpC,KAAK,GACHtzF,KAAK85H,UAAY95H,KAAKo6H,QAAU,KAClC,KAAK,GACH,GAAIp6H,KAAKm5H,iBAAkB,CACzB,IACEn5H,KAAKm5H,iBAAiBhjC,OACxB,CAAE,MAAO9lF,GACT,CACArQ,KAAKm5H,iBAAmB,IAC1B,CACIn5H,KAAKk5H,WACPl5H,KAAKk5H,UAAU,CACb1nH,MAAOxR,KAAKohB,OACZyN,MAAO7uB,KAAKs5H,OACZhrF,IAAKtuC,KAAKu5H,KACV1B,WAAY73H,KAAKw5H,cAGvB,KAAK,GACL,IAAK,MACH,OAAOlmC,EAAUtgB,OAEzB,GAAGkgB,EAAUlzF,KAAM,CAAC,CAAC,EAAG,KAC1B,KACA,SAASiU,IACP,OAAOkmH,EAAQp6H,MAAMC,KAAMC,UAC7B,CACA,OAAOgU,CACT,CA3DO,IA4DN,CACDlK,IAAK,aACL+H,MAAO,SAAoB3O,EAAUm1H,EAAY+B,EAAIzC,GACnD,IAAItmC,EAAStxF,KACb,IAAKmD,EAAS0B,OAAS1B,EAAS0B,KAAKy1H,UAAW,CAC9Ct6H,KAAKq5H,UAAW,EAChB,IAAIxjH,EAAM,IAAIqhH,GAAS/zH,EAASrB,IAAK,GAAIqB,EAAU,6CAQnD,OAPA0S,EAAI3D,QAAU,CACZV,MAAOxR,KAAKohB,OACZyN,MAAO7uB,KAAKs5H,OACZhrF,IAAKtuC,KAAKu5H,KACV1B,WAAY73H,KAAKw5H,kBAEnBx5H,KAAKy9B,OAAO5nB,EAEd,CACI7V,KAAKi5H,iBAAmB,IAC1Bj5H,KAAKyJ,OAAS,IAAI5F,WAAWo0H,IAC7Bj4H,KAAKu6H,UAAY,GAEnB,IACIn5H,EACA0gC,EACA0yD,EAHAhzF,EAASxB,KAAKo6H,QAAUj3H,EAAS0B,KAAKy1H,YAItCE,EAAuB,WACzB,IAAI79B,EAAQ3Y,GAAkC/F,KAAsBqE,MAAK,SAAS+S,IAChF,IAAIolC,EACAC,EAAYC,EAAWC,EAAQC,EAASC,EAAM/9E,EAAU48B,EAC5D,OAAOsE,KAAsBU,MAAK,SAAmB8W,GACnD,MAAO,SACGA,EAAU5S,KAAO4S,EAAU/iE,MACjC,KAAK,EAIH,OAHAoP,EAAYhuB,KAAKC,MACjB0hF,EAAU5S,KAAO,EACjB4S,EAAU/iE,KAAO,EACVlxB,EAAO2vG,OAChB,KAAK,EACH/vG,EAAOq0F,EAAU3U,KACjB0T,EAAU1gF,KAAKC,MACf0hF,EAAU/iE,KAAO,GACjB,MACF,KAAK,EAcH,OAbA+iE,EAAU5S,KAAO,EACjB4S,EAAUuuB,GAAKvuB,EAAU,SAAS,GAClCjB,EAAU1gF,KAAKC,MACVu9E,EAAO0nC,WACV1nC,EAAO+nC,UAAW,EAClB5jC,EAAUuuB,GAAG9xG,QAAU,CACrBV,MAAO8/E,EAAOlwE,OACdyN,MAAOyiE,EAAOgoC,OACdhrF,IAAKgjD,EAAOioC,KACZ1B,WAAYvmC,EAAOkoC,aAErBloC,EAAO7zD,OAAOg4D,EAAUuuB,KAEnBvuB,EAAUxU,OAAO,UAC1B,KAAK,GAGH,GAFAy5C,GAAkD,QAAnCD,EAAgBnpC,EAAOgoC,cAAsC,IAAlBmB,OAA2B,EAASA,EAAch4H,QAAU,EAAI6uF,EAAOgoC,OAAO,GAAK,EAC7IqB,EAAYD,EAAappC,EAAOypC,iBAC3BzpC,EAAO0nC,SAAU,CACpBvjC,EAAU/iE,KAAO,GACjB,KACF,CAYA,OAXA4+D,EAAO+nC,UAAW,EAClBf,OAAW,GAAQ,EAAO,CACxBzpG,MAAO,CAAC8rG,EAAWA,GACnBrsF,IAAKgjD,EAAOioC,KACZ/nH,MAAO8/E,EAAOlwE,OACd0gB,YACA0yD,UACA6lC,KACAzC,gBACAC,WAAYvmC,EAAOkoC,aAClBr2H,GACIsyF,EAAUxU,OAAO,UAC1B,KAAK,GACH25C,EAASx5H,EAAK0Q,MAAQ1Q,EAAK0Q,MAAMuiF,WAAa,EAC9C/C,EAAOypC,iBAAmBH,EAC1BtpC,EAAOntE,QAAQzT,MAAM,sCAAiD4gF,EAAOgoC,OAAQ,WAAYqB,EAAW,SAAUD,EAAappC,EAAOypC,gBAAiB,UAAW35H,EAAKg8E,MACvKkU,EAAO2nC,iBAAmB,EACxB3nC,EAAOipC,UAAYK,GAAUtpC,EAAO2nC,kBAAoB73H,EAAKg8E,MAC/Dy9C,EAAU,IAAIh3H,WAAWytF,EAAOipC,UAAYK,GAC5CC,EAAQ/yC,IAAIwJ,EAAO7nF,OAAO/B,MAAM,EAAG4pF,EAAOipC,WAAY,GACtDK,EAAS,GAAKC,EAAQ/yC,IAAI1mF,EAAK0Q,MAAOw/E,EAAOipC,WAC7CjpC,EAAOipC,UAAY,EACnBjpC,EAAOntE,QAAQzT,MAAM,wCAAmDtP,EAAKg8E,KAAM,QAASy9C,EAAQxmC,WAAY,cAAe/C,EAAOipC,YAElIK,EAAS,GAAKtpC,EAAOipC,UAAYK,EAAS3C,IAC5C3mC,EAAO7nF,OAAOq+E,IAAI1mF,EAAK0Q,MAAOw/E,EAAOipC,WACrCjpC,EAAOipC,WAAaK,EACpBtpC,EAAOntE,QAAQzT,MAAM,sCAAiDkqH,EAAQ,cAAetpC,EAAOipC,YAC3FK,EAAS,IAClBE,EAAO,IAAIj3H,WAAWytF,EAAOipC,UAAYK,EAAS,MAClDtpC,EAAOntE,QAAQzT,MAAM,6CAAwD4gF,EAAOipC,UAAYK,EAAS,KAAM,aAAcA,EAAQ,cAAetpC,EAAOipC,WAC3JO,EAAKhzC,IAAIwJ,EAAO7nF,OAAO/B,MAAM,EAAG4pF,EAAOipC,WAAY,GACnDK,EAAS,GAAKE,EAAKhzC,IAAI1mF,EAAK0Q,MAAOw/E,EAAOipC,WAC1CjpC,EAAOipC,WAAaK,SACbtpC,EAAO7nF,OACd6nF,EAAO7nF,OAASqxH,EAChBxpC,EAAOntE,QAAQzT,MAAM,0CAAqDkqH,EAAQ,cAAetpC,EAAOipC,YAI5GM,EAAUz5H,EAAK0Q,OAEb+oH,GAAWA,EAAQxmC,WAAa,GAAKjzF,EAAKg8E,OAC5Ck7C,EAAWuC,EAASz5H,EAAKg8E,KAAM,CAC7BvuD,MAAO,CAACyiE,EAAOgoC,OAAO,GAAKhoC,EAAOypC,iBAAmBF,EAAUA,EAAQxmC,WAAa,GAAI/C,EAAOgoC,OAAO,GAAKhoC,EAAOypC,iBAClHzsF,IAAKgjD,EAAOioC,KACZ/nH,MAAO8/E,EAAOlwE,OACd0gB,YACA0yD,UACA6lC,KACAzC,gBACAC,WAAYvmC,EAAOkoC,aAClBr2H,GAEA/B,EAAKg8E,MAGRrgC,EAAWjpC,KAAKC,MAAQsmH,EACxB1gD,EAAQm+C,GAAexmC,EAAOypC,gBAAiBh+E,GAC/Cu0C,EAAOppF,KAAKkuF,GAAM9sD,gBAAiB,CACjCqwC,QACAlxE,IAAK6oF,EAAOypC,gBACZhoH,KAAMgqC,EACNzO,IAAKgjD,EAAOioC,KACZ/nH,MAAO8/E,EAAOlwE,OACdyN,MAAOyiE,EAAOgoC,OACdzB,WAAYvmC,EAAOkoC,cAErBloC,EAAO+nC,UAAW,EAClB/nC,EAAOntE,QAAQzT,MAAM,qCAAsC4gF,EAAOgoC,OAAQ,SAAUl4H,EAAKg8E,MACzFkU,EAAO3sE,QAAQ8yG,GAAer2H,GAAM,EAAM+B,EAAUA,EAAS+2E,QAAQloD,IAAI,kBAAmB7uB,EAAS+2E,QAAQloD,IAAI,OAAQqoG,EAAIzC,EAAetmC,EAAOlwE,OAAQkwE,EAAOgoC,OAAQhoC,EAAOioC,KAAMjoC,EAAOkoC,eAf9LgB,IAiBJ,KAAK,GACL,IAAK,MACH,OAAO/kC,EAAUziB,OAEzB,GAAGqiB,EAAU,KAAM,CAAC,CAAC,EAAG,IAC1B,KACA,OAAO,WACL,OAAOsH,EAAM58F,MAAMC,KAAMC,UAC3B,CACF,CAxH2B,GAyH3Bu6H,GACF,GACC,CACDzwH,IAAK,aACLioB,IAAK,WACH,OAAOhyB,KAAK+6H,eACd,GACC,CACDhxH,IAAK,UACLioB,IAAK,WACH,OAAOhyB,KAAKq5H,QACd,EACAvxC,IAAK,SAAa14D,GAChBpvB,KAAKq5H,SAAWjqG,CAClB,IACE,CAAC,CACHrlB,IAAK,cACL+H,MAAO,WACL,QAA2B,qBAAV+nH,MACnB,KAEKzB,CACT,CArakC,CAqahCjxH,KC1aF,SAASyuH,GAAUC,GACjB,OAAOj4C,GAAe,CACpBo9C,WAAYnE,GAAWC,MACvBjkF,MAAO,EACPmjF,WAAY,EACZ74F,QAAS,EACTtM,QAAS,KACT0nG,eAAW,EACXD,gBAAY,EACZ2C,kBAAc,EACdC,sBAAkB,EAClBzC,uBAAmB,EACnB0C,oBAAgB,EAChBl4H,aAAc+zH,GAAa/yF,KAC3BpV,WAAO,EACP/sB,IAAK,GACL2zB,YAAQ,EACRuqD,OAAQ,MACR9F,QAAS,CAAC,EACVr1E,UAAM,EACNuzB,UAAM,EACNsgG,iBAAa,EACbC,WAAO,EACPC,cAAU,EACVC,cAAU,EACVC,oBAAgB,EAChBsC,eAAW,EACXrC,gBAAiB,GAChBlD,EACL,CCzBA,IAAIwF,GAA4B,SAASlD,GACvC3zC,GAAU82C,EAAYnD,GACtB,IAAI/rC,EAASrG,GAAau1C,GAC1B,SAASA,IACP,IAAI/uC,EA6BJ,OA5BAtI,GAAgBjkF,KAAMs7H,GACtB/uC,EAAQH,EAAOxrF,KAAKZ,MACpB89E,GAAgB8H,GAAuB2G,GAAQ,OAAQ,MACvDzO,GAAgB8H,GAAuB2G,GAAQ,YAAY,GAC3DzO,GAAgB8H,GAAuB2G,GAAQ,gBAAiB,MAChEzO,GAAgB8H,GAAuB2G,GAAQ,SAAU,MACzDzO,GAAgB8H,GAAuB2G,GAAQ,kBAAmB,GAClEzO,GAAgB8H,GAAuB2G,GAAQ,OAAQ,MACvDzO,GAAgB8H,GAAuB2G,GAAQ,cAAe,MAC9DzO,GAAgB8H,GAAuB2G,GAAQ,UAAW,GAC1DzO,GAAgB8H,GAAuB2G,GAAQ,WAAY,MAC3DzO,GAAgB8H,GAAuB2G,GAAQ,sBAAuB,KACtEzO,GAAgB8H,GAAuB2G,GAAQ,WAAY,MAC3DzO,GAAgB8H,GAAuB2G,GAAQ,OAAQ,MACvDzO,GAAgB8H,GAAuB2G,GAAQ,mBAAoB,MACnEzO,GAAgB8H,GAAuB2G,GAAQ,cAAe,GAC9DzO,GAAgB8H,GAAuB2G,GAAQ,uBAAwB,MACvEzO,GAAgB8H,GAAuB2G,GAAQ,sBAAuB,MACtEzO,GAAgB8H,GAAuB2G,GAAQ,WAAW,GAC1DzO,GAAgB8H,GAAuB2G,GAAQ,WAAW,GAC1DzO,GAAgB8H,GAAuB2G,GAAQ,OAAQ,IACvDzO,GAAgB8H,GAAuB2G,GAAQ,qBAAiB,GAChEzO,GAAgB8H,GAAuB2G,GAAQ,oBAAgB,GAC/DzO,GAAgB8H,GAAuB2G,GAAQ,eAAW,GAC1DzO,GAAgB8H,GAAuB2G,GAAQ,0BAAsB,GACrEzO,GAAgB8H,GAAuB2G,GAAQ,iBAAa,GAC5DzO,GAAgB8H,GAAuB2G,GAAQ,YAAa,MAC5DzO,GAAgB8H,GAAuB2G,GAAQ,cAAe,MACvDA,CACT,CAyRA,OAxRAlI,GAAai3C,EAAY,CAAC,CACxBvxH,IAAK,OACL+H,MAAO,SAAcypH,GACnB,IAAIhrC,EAASvwF,KACbsT,aAAatT,KAAK05H,eAClB15H,KAAKmkB,QAAUo3G,EAAItmG,OACnBj1B,KAAKs5H,OAASiC,EAAI1sG,MAClB7uB,KAAKw7H,YAAcD,EAAIjD,WACvBt4H,KAAKohB,OAASm6G,EAAI/pH,MAClBxR,KAAKy7H,SAAWF,EAAIrhD,QACpBl6E,KAAK07H,iBAAuC,YAApBH,EAAI7C,aAAiD,gBAApB6C,EAAI7C,YAC7D14H,KAAK27H,MAAQJ,EAAI12H,MAAQ,KACzB02H,EAAIv7C,SAAWhgF,KAAK47H,QAAUL,EAAIv7C,QAClChgF,KAAK67H,SAAWN,EAAIp+F,SAAW,KAC/Bn9B,KAAK87H,SAAU,EACf97H,KAAKu5H,KAAOgC,EAAIjtF,KAAOitF,EAAIz5H,IAC3B9B,KAAK+7H,cAAgBR,EAAIt4H,aACzBjD,KAAKg8H,WAAa,EAClBh8H,KAAKi8H,WAAaV,EAAIhD,UACtBv4H,KAAKk5H,UAAYqC,EAAI/C,SACrBx4H,KAAKk8H,SAAWX,EAAI1qG,QACpB7wB,KAAKw5H,YAAc+B,EAAI1D,YAAc,CAAC,EACtC73H,KAAKmkB,QAAQzT,MAAM,0BAAqC1Q,KAAKs5H,QAC7Dt5H,KAAKuxF,KAAOgmC,GAAagE,EAAIz5H,IAAKy5H,EAAI9lG,QACtC,IAAIqM,EAAYhuB,KAAKC,MACrB,OAAO,IAAI2Q,SAAQ,SAASC,EAAS8Y,GACnC8yD,EAAO4rC,qBAAuBx3G,EAC9B4rE,EAAO6rC,oBAAsB3+F,EAC7B8yD,EAAO8rC,YACT,IAAGhpG,OAAM,SAAShjB,GAGhB,GAFAiD,aAAai9E,EAAOmpC,eACpBnpC,EAAOurC,SAAU,GACbvrC,EAAOyoC,SAUX,MARA3oH,EAAQA,aAAiB6mH,GAAW7mH,EAAQ,IAAI6mH,GAAS3mC,EAAOgB,KAAMhB,EAAO2rC,UAC7E7rH,EAAMyxB,UAAYA,EAClBzxB,EAAMmkF,QAAU1gF,KAAKC,MACrB1D,EAAM6B,QAAU,CACdV,MAAO++E,EAAOnvE,OACdktB,IAAKiiD,EAAOgpC,KACZ1B,WAAYtnC,EAAOipC,aAEfnpH,CACR,GACF,GACC,CACDtG,IAAK,aACL+H,MAAO,WACL,IAAI+c,EAAQ,KACZ,GAAI7uB,KAAK+7H,gBAAkB/E,GAAaC,cAAgBj3H,KAAKs5H,QAAUt5H,KAAKs5H,OAAO72H,OAAS,EAC1F,GAAIzC,KAAKw7H,YAAa,CACpBx7H,KAAKg8H,WAAa,EAClB,IAAIM,EAAuC,KAA3Bt8H,KAAKu8H,oBACjBxwH,EAAO/L,KAAKs5H,OAAO,GAAKt5H,KAAK+6H,gBAC7B5wF,EAAKnqC,KAAKs5H,OAAO,GACjBgD,EAAYt8H,KAAKs5H,OAAO,GAAKvtH,IAC/Bo+B,EAAKp+B,EAAOuwH,GAEdztG,EAAQ,CAAC9iB,EAAMo+B,GACfnqC,KAAKmkB,QAAQzT,MAAM,wBAAyB1Q,KAAKs5H,OAAQ,eAAgBzqG,EAC3E,MACEA,EAAQ7uB,KAAKs5H,OACbt5H,KAAKmkB,QAAQzT,MAAM,wBAAyB1Q,KAAKs5H,OAAQ,eAAgBzqG,GAG7E7uB,KAAKw8H,cAAc3tG,EACrB,GACC,CACD9kB,IAAK,gBACL+H,MAAO,SAAuB+c,GAC5B,IAAIyiE,EAAStxF,KACb,IACEA,KAAKy8H,WAAa3oH,KAAKC,MACvB,IAAIkmE,EAAMj6E,KAAK08H,KAAO,IAAI35H,eAC1Bk3E,EAAIj3E,KAAKhD,KAAK47H,SAAW,MAAO57H,KAAKuxF,MAAM,GAC3CtX,EAAIh3E,aAAejD,KAAK+7H,cACxB/7H,KAAK67H,WAAa5hD,EAAI98C,QAAUn9B,KAAK67H,UACrC5hD,EAAI0iD,gBAAkB38H,KAAK07H,iBAC3BzhD,EAAI/2E,OAASlD,KAAK48H,QAAQr8H,KAAKP,MAC/Bi6E,EAAII,mBAAqBr6E,KAAK68H,oBAAoBt8H,KAAKP,MACvDi6E,EAAIh9D,QAAU,SAAS6/G,GACrB,IAAIC,EAAuBC,EAAwBC,EACnD3rC,EAAO+nC,UAAW,EAClB,IAAIhpH,EAAQ,IAAI6mH,GAAS5lC,EAAOC,KAAMD,EAAO4qC,SAAyB,OAAfY,QAAsC,IAAfA,GAAwF,QAAtDC,EAAwBD,EAAWI,qBAAqD,IAA1BH,OAAxE,EAAoHA,EAAsB55H,SAAU,uBAAwC,OAAf25H,QAAsC,IAAfA,GAAyF,QAAvDE,EAAyBF,EAAWI,qBAAsD,IAA3BF,OAAzE,EAAsHA,EAAuB5tG,QAAU,gBAAiC,OAAf0tG,QAAsC,IAAfA,GAAyF,QAAvDG,EAAyBH,EAAWI,qBAAsD,IAA3BD,OAAzE,EAAsHA,EAAuBE,aACvqB9sH,EAAM6B,QAAU,CACdV,MAAO8/E,EAAOlwE,OACdyN,MAAOyiE,EAAOgoC,OACdhrF,IAAKgjD,EAAOioC,KACZ1B,WAAYvmC,EAAOkoC,aAErBloC,EAAO8qC,oBAAoB/rH,EAC7B,EACA4pE,EAAImjD,UAAY,SAASx2H,GACvB0qF,EAAOr9E,SACP,IAAI5D,EAAQ,IAAI6mH,GAAS5lC,EAAOC,KAAMD,EAAO4qC,SAAU,CACrD9sG,OAAQ,KACP,WACCkiE,EAAO2qC,aACT5rH,EAAMo8E,WAAY,EAClB6E,EAAO2qC,WAAW5rH,EAAO,CACvBmB,MAAO8/E,EAAOlwE,OACdyN,MAAOyiE,EAAOgoC,OACdhrF,IAAKgjD,EAAOioC,KACZ1B,WAAYvmC,EAAOkoC,eAGvBnpH,EAAM6B,QAAU,CACdV,MAAO8/E,EAAOlwE,OACdyN,MAAOyiE,EAAOgoC,OACdhrF,IAAKgjD,EAAOioC,KACZ1B,WAAYvmC,EAAOkoC,aAErBloC,EAAO8qC,oBAAoB/rH,EAC7B,EACA,IAAI6pE,EAAUl6E,KAAKy7H,UAAY,CAAC,EAC5B9B,EAAarC,GAAczoG,GAC3B8qG,IACFz/C,EAAQC,MAAQw/C,GAEdz/C,GACFh0E,OAAOoP,KAAK4kE,GAAShuE,SAAQ,SAASwiB,GACpCurD,EAAIG,iBAAiB1rD,EAAGwrD,EAAQxrD,GAClC,IAEF1uB,KAAKmkB,QAAQzT,MAAM,qBAAsB1Q,KAAKs5H,OAAQ,oBAAqBzqG,GAC3EorD,EAAI52E,KAAKrD,KAAK27H,MAChB,CAAE,MAAO96H,GACPA,EAAEqR,QAAU,CACVV,MAAOxR,KAAKohB,OACZyN,QACAyf,IAAKtuC,KAAKu5H,KACV1B,WAAY73H,KAAKw5H,aAEnBx5H,KAAKo8H,oBAAoBv7H,EAC3B,CACF,GACC,CACDkJ,IAAK,sBACL+H,MAAO,SAA6BjR,GAClC,IAAIo5E,EAAMp5E,EAAEE,OACW,IAAnBk5E,EAAIh0D,YACNjmB,KAAKg8H,UAAY,IAAMh8H,KAAKg8H,UAAYloH,KAAKC,MAEjD,GACC,CACDhK,IAAK,UACL+H,MAAO,SAAiBjR,GACtB,IAAIw8H,EACAjuG,EAASvuB,EAAEE,OAAOquB,OACtB,GAAIA,EAAS,KAAOA,EAAS,IAAK,CAChC,IAAI/e,EAAQ,IAAI6mH,GAASl3H,KAAKuxF,KAAM,KAAM3T,GAAeA,GAAe,CAAC,EAAG/8E,EAAEE,OAAOoC,UAAW,CAAC,EAAG,CAClGisB,WACE,uBAAyBA,GAO7B,OANA/e,EAAM6B,QAAU,CACdV,MAAOxR,KAAKohB,OACZyN,MAAO7uB,KAAKs5H,OACZhrF,IAAKtuC,KAAKu5H,KACV1B,WAAY73H,KAAKw5H,aAEZx5H,KAAKo8H,oBAAoB/rH,EAClC,CACA,IAEIitH,EAFAl8H,EAAO,KACPg8E,GAAO,EAEPs9C,GAA+C,QAAhC2C,EAAer9H,KAAKs5H,cAAqC,IAAjB+D,OAA0B,EAASA,EAAa56H,QAAU,EAAIzC,KAAKs5H,OAAO,GAAK,EAC1I,GAAIt5H,KAAK+7H,gBAAkB/E,GAAaC,aAAc,CACpD,IAAIsG,EACAvL,EAAQ,IAAInuH,WAAWhD,EAAEE,OAAOoC,UAEpC,GADAm6H,EAAY5C,EAAa16H,KAAK+6H,gBAC1B/I,GAASA,EAAM39B,WAAa,EAAG,CACjCr0F,KAAK+6H,iBAAmB/I,EAAM39B,WAC9B,IAAIt3C,EAAWjpC,KAAKC,MAAQ/T,KAAKy8H,WAC7B9iD,EAAQm+C,GAAe93H,KAAK+6H,gBAAiBh+E,GACjD/8C,KAAKkI,KAAKkuF,GAAM9sD,gBAAiB,CAC/BqwC,QACAlxE,IAAKzI,KAAK+6H,gBACVhoH,KAAMgqC,EACNzO,IAAKtuC,KAAKu5H,KACV/nH,MAAOxR,KAAKohB,OACZyN,MAAO,CAACyuG,EAAW5C,EAAa16H,KAAK+6H,iBACrClD,WAAY73H,KAAKw5H,aAErB,CACAp4H,EAAO4wH,EAEL50C,KADqC,QAAjCmgD,EAAgBv9H,KAAKs5H,cAAsC,IAAlBiE,OAA2B,EAASA,EAAc96H,QAAU,GAAKzC,KAAKs5H,OAAO,IAAMt5H,KAAK+6H,gBAAkB/6H,KAAKs5H,OAAO,GAAKt5H,KAAKs5H,OAAO,IAKtLt5H,KAAKmkB,QAAQzT,MAAM,4BAA6B1Q,KAAKs5H,OAAQ,UAAWgE,EAAW,OAAQ5C,EAAa16H,KAAK+6H,gBAAiB,YAAa/I,EAAQA,EAAM39B,WAAa,EAAG,kBAAmBr0F,KAAK+6H,gBAAiB,UAAW/6H,KAAKohB,OAAQ,UAAWg8D,EACvP,MACEA,GAAO,EACPh8E,EAAOP,EAAEE,OAAOoC,SAElB,IAAIA,EAAW,CACb42H,GAAI3qG,GAAU,KAAOA,EAAS,IAC9BA,SACA+tG,WAAYn9H,KAAK08H,KAAKS,WACtBr7H,IAAK9B,KAAK08H,KAAKc,YACftjD,QAASl6E,KAAKy9H,YAAYz9H,KAAK08H,MAC/B73H,KAAM7E,KAAK08H,KAAKv5H,UAEdnD,KAAK09H,qBACPv6H,EAAWnD,KAAK09H,mBAAmBv6H,EAAUnD,KAAKuxF,OAASpuF,GAEzDnD,KAAKw7H,aACPx7H,KAAKw7H,YAAYp6H,EAAMg8E,EAAM,CAC3B5rE,MAAOxR,KAAKohB,OACZktB,IAAKtuC,KAAKu5H,KACV1qG,MAAO,CAACyuG,EAAW5C,EAAa16H,KAAK+6H,iBACrCj5F,UAAW9hC,KAAKy8H,WAChBjoC,QAAS1gF,KAAKC,MACd8jH,WAAY73H,KAAKw5H,aAChBr2H,GAEAi6E,GAGHp9E,KAAK87H,SAAU,EACf97H,KAAKm8H,sBAAwBn8H,KAAKm8H,qBAAqB1E,GAAez3H,KAAKw7H,YAAc,KAAOp6H,EAAMg8E,EAAMj6E,EAAUA,EAAS+2E,QAAQ,kBAAmB/2E,EAAS+2E,QAAQy9C,IAAK33H,KAAKy8H,WAAYz8H,KAAKg8H,UAAWh8H,KAAKohB,OAAQphB,KAAKs5H,OAAQt5H,KAAKu5H,KAAMv5H,KAAKw5H,eAH3Px5H,KAAKq8H,YAKT,GACC,CACDtyH,IAAK,SACL+H,MAAO,WACL,IAAI9R,KAAKg5H,SAaT,OAXAh5H,KAAKg5H,UAAW,EAChBh5H,KAAK87H,SAAU,EACf5zC,GAAKtD,GAAgB02C,EAAW78H,WAAY,qBAAsBuB,MAAMY,KAAKZ,MACzEA,KAAKk5H,WACPl5H,KAAKk5H,UAAU,CACb1nH,MAAOxR,KAAKohB,OACZyN,MAAO7uB,KAAKs5H,OACZhrF,IAAKtuC,KAAKu5H,KACV1B,WAAY73H,KAAKw5H,cAGjBx5H,KAAK08H,KACA18H,KAAK08H,KAAKvmC,aADnB,CAGF,GACC,CACDpsF,IAAK,aACLioB,IAAK,WACH,OAAOhyB,KAAK+6H,eACd,GACC,CACDhxH,IAAK,UACLioB,IAAK,WACH,OAAOhyB,KAAKq5H,QACd,EACAvxC,IAAK,SAAa14D,GAChBpvB,KAAKq5H,SAAWjqG,CAClB,GACC,CACDrlB,IAAK,cACL+H,MAAO,SAAqBmoE,GAC1B,IAEyD5mB,EAFrDsqE,EAAc1jD,EAAI2jD,wBAAwB5iH,OAAOtY,MAAM,QACvDw3E,EAAU,CAAC,EACXwrC,EAAYr9B,GAA2Bs1C,GAC3C,IACE,IAAKjY,EAAU5oE,MAAOuW,EAAQqyD,EAAU5+B,KAAK1J,MAAQ,CACnD,IAAIygD,EAASxqE,EAAMvhD,MACf7N,EAAQ45H,EAAOn7H,MAAM,MACzBw3E,EAAQj2E,EAAM,GAAGoe,eAAiBpe,EAAMyD,MAAM,GAAGiP,KAAK,KACxD,CACF,CAAE,MAAOd,GACP6vG,EAAU7kH,EAAEgV,EACd,CAAE,QACA6vG,EAAUngH,GACZ,CACA,OAAO20E,CACT,IACE,CAAC,CACHnwE,IAAK,cACL+H,MAAO,WACL,MAAiC,qBAAnB/O,cAChB,KAEKu4H,CACT,CA5TgC,CA4T9Bn0H,KC5TEypH,GAAY,CAAC,QAAS,aAAc,eAAgB,kBACpDkN,GAAuB,WACzB,SAASC,EAAMr+H,EAAM+Q,GACnBwzE,GAAgBjkF,KAAM+9H,GACtB/9H,KAAKsvF,QAAUF,KACfpvF,KAAKg+H,QAAUvtH,EAAO6nH,YACrB7nH,EAAOwkB,SAAWxkB,EAAOwkB,OAAS,IAAI63D,GAAO,WAC9C9sF,KAAKi+H,YAAcv+H,EACnBM,KAAKk+H,QAAUx+H,IAASm3H,GAAWC,OAA0B,qBAAV+C,MAAwB,IAAI3B,GAAgB,IAAImD,GACnGr7H,KAAKkxF,QAAUzgF,EACfzQ,KAAKm+H,YAAc,EACnBn+H,KAAKo+H,YAAc,KACnBp+H,KAAKq+H,WAAY,EACjBr+H,KAAKs+H,gBAAkB7tH,EAAO8tH,eAC9Bv+H,KAAKmkB,QAAU1T,EAAOwkB,MACxB,CA2GA,OA1GAovD,GAAa05C,EAAO,CAAC,CACnBh0H,IAAK,OACL+H,MAAO,WACL,IAAIy6E,EAAQvsF,KACRw+H,EAAgBx+H,KAAKkxF,QAASr+C,EAAQ2rF,EAAc3rF,MAAOmjF,EAAawI,EAAcxI,WAAYiF,EAAeuD,EAAcvD,aAAcE,EAAiBqD,EAAcrD,eAAgBsD,EAAOh5C,GAAyB+4C,EAAe5N,IAC3O//F,EAA0B,WAC5B,IAAImpE,EAAOhW,GAAkC/F,KAAsBqE,MAAK,SAASkQ,IAC/E,IAAIrvF,EAAUkN,EAAOquH,EACrB,OAAOzgD,KAAsBU,MAAK,SAAkBiU,GAClD,MAAO,SACGA,EAAS/P,KAAO+P,EAASlgE,MAC/B,KAAK,EAGH,OAFAkgE,EAAS/P,KAAO,EAChB+P,EAASlgE,KAAO,EACT65D,EAAM2xC,QAAQnwG,KAAK0wG,GAC5B,KAAK,EACHt7H,EAAWyvF,EAAS9R,KACpByL,EAAM+C,QAAQ3qE,QAAQxhB,GACtByvF,EAASlgE,KAAO,GAChB,MACF,KAAK,EAKH,GAJAkgE,EAAS/P,KAAO,EAChB+P,EAASoxB,GAAKpxB,EAAS,SAAS,GAChCrG,EAAM2xC,QAAQS,SAAU,EACxBpyC,EAAMpoE,QAAQzT,MAAM,2BAA4BkiF,EAASoxB,KACpDz3B,EAAM8xC,UAAW,CACpBzrC,EAASlgE,KAAO,GAChB,KACF,CACA,OAAOkgE,EAAS3R,OAAO,UACzB,KAAK,GAmBH,GAlBA2R,EAASoxB,GAAGgX,WAAazuC,EAAM0xC,YAC/BrrC,EAASoxB,GAAG+R,WAAaxpC,EAAM4xC,YAC/B9tH,EAAQuiF,EAASoxB,GACbmX,IACF9qH,EAAQ8qH,EAAe9qH,IAAUA,GAE/B4qH,GAAgB1uC,EAAM4xC,YAAc,GACtClD,EAAa5qH,EAAOk8E,EAAM4xC,YAAa,CACrC3sH,MAAOitH,EAAKjtH,MACZ88B,IAAKmwF,EAAKnwF,IACVzf,MAAO4vG,EAAK5vG,MACZgpG,WAAY4G,EAAK5G,aAErBtrC,EAAM4xC,cACNO,GAAU,EACNnyC,EAAM+xC,kBACRI,EAAUnyC,EAAM+xC,gBAAgB1rC,EAASoxB,OAErC0a,GAAWnyC,EAAM4xC,aAAetrF,GAAQ,CAC5C+/C,EAASlgE,KAAO,GAChB,KACF,CAIA,OAHApf,aAAai5E,EAAM6xC,aACnB7xC,EAAMpoE,QAAQzT,MAAM,kCAAmC67E,EAAM4xC,YAAa,gBAAiBM,EAAK5vG,OAChG09D,EAAM6xC,YAAch7H,WAAWytB,EAASmlG,GACjCpjC,EAAS3R,OAAO,UACzB,KAAK,GACHsL,EAAM+C,QAAQ7xD,OAAOptB,GACvB,KAAK,GACL,IAAK,MACH,OAAOuiF,EAAS5f,OAExB,GAAGwf,EAAS,KAAM,CAAC,CAAC,EAAG,IACzB,KACA,OAAO,WACL,OAAOwH,EAAKj6F,MAAMC,KAAMC,UAC1B,CACF,CA/D8B,GAiE9B,OADA4wB,IACO7wB,KAAKsvF,OACd,GACC,CACDvlF,IAAK,SACL+H,MAAO,WACL,IAAIqoH,EAAUn2C,GAAkC/F,KAAsBqE,MAAK,SAAS4Q,IAClF,OAAOjV,KAAsBU,MAAK,SAAmB2U,GACnD,MAAO,SACGA,EAAUzQ,KAAOyQ,EAAU5gE,MACjC,KAAK,EAIH,OAHApf,aAAatT,KAAKo+H,aAClBp+H,KAAKq+H,WAAY,EACjBr+H,KAAKk+H,QAAQS,SAAU,EAChBrrC,EAAUrS,OAAO,SAAUjhF,KAAKk+H,QAAQjqH,UACjD,KAAK,EACL,IAAK,MACH,OAAOq/E,EAAUtgB,OAEzB,GAAGkgB,EAAUlzF,KACf,KACA,SAASiU,IACP,OAAOkmH,EAAQp6H,MAAMC,KAAMC,UAC7B,CACA,OAAOgU,CACT,CApBO,IAqBN,CACDlK,IAAK,UACLioB,IAAK,WACH,OAAOhyB,KAAKk+H,SAAWl+H,KAAKk+H,QAAQS,OACtC,GACC,CACD50H,IAAK,SACLioB,IAAK,WACH,OAAOhyB,KAAKk+H,OACd,KAEKH,CACT,CA1H2B,GCGvBa,GAA4B,SAASzG,GACvC3zC,GAAUq6C,EAAY1G,GACtB,IAAI/rC,EAASrG,GAAa84C,GAC1B,SAASA,EAAWhJ,GAClB,IAAItpC,EAcJ,OAbAtI,GAAgBjkF,KAAM6+H,GACtBtyC,EAAQH,EAAOxrF,KAAKZ,KAAM61H,GAC1B/3C,GAAgB8H,GAAuB2G,GAAQ,OAAQsqC,GAAWC,OAClEh5C,GAAgB8H,GAAuB2G,GAAQ,SAAU,IACzDzO,GAAgB8H,GAAuB2G,GAAQ,SAAU,IACzDzO,GAAgB8H,GAAuB2G,GAAQ,eAAgB,MAC/DzO,GAAgB8H,GAAuB2G,GAAQ,aAAc,IAC7DzO,GAAgB8H,GAAuB2G,GAAQ,eAAW,GAC1DA,EAAM2E,QAAU0kC,GAAUC,GACtBtpC,EAAM2E,QAAQ8pC,aAAenE,GAAWE,KAAQmB,GAAYv6F,gBAC9D4uD,EAAM7sF,KAAOm3H,GAAWE,KAE1BxqC,EAAMx7E,IAAM8kH,EAAI5gG,OACTs3D,CACT,CAsGA,OArGAlI,GAAaw6C,EAAY,CAAC,CACxB90H,IAAK,UACL+H,MAAO,WACL,OAAO9R,KAAKN,OAASm3H,GAAWC,KAClC,GACC,CACD/sH,IAAK,OACL+H,MAAO,SAAchQ,GACnB,IAAIyuF,EAASvwF,KACTyQ,EAASxQ,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,CAAC,EAC5D,kBAAR6B,GAAqBA,EAG9B2O,EAAS3O,EAFT2O,EAAO3O,IAAMA,GAAO2O,EAAO3O,KAAO9B,KAAKkxF,QAAQpvF,IAIjD2O,EAASvK,OAAOkmB,OAAO,CAAC,EAAGpsB,KAAKkxF,QAASzgF,GACrCA,EAAOglB,SACThlB,EAAOglB,OAASvvB,OAAOkmB,OAAO,CAAC,EAAG3b,EAAOglB,SACvChlB,EAAOypE,SAAWk9C,GAAc3mH,EAAOypE,WACzCzpE,EAAOypE,QAAUh0E,OAAOkmB,OAAO,CAAC,EAAG3b,EAAOypE,UACxCzpE,EAAO5L,MAAQuyH,GAAc3mH,EAAO5L,QACtC4L,EAAO5L,KAAOqB,OAAOkmB,OAAO,CAAC,EAAG3b,EAAO5L,OACrC4L,EAAOyqH,mBACTzqH,EAASA,EAAOyqH,iBAAiBzqH,IAAWA,GAE9CA,EAAOwkB,OAASj1B,KAAK+Q,IACrB,IAAImiH,EAAO,IAAI4K,GAAK99H,KAAKN,KAAM+Q,GAQ/B,OAPAyiH,EAAK71F,OAAOx0B,GAAGutF,GAAM9sD,iBAAiB,SAASloC,GAC7CmvF,EAAOroF,KAAKkuF,GAAM9sD,gBAAiBloC,EACrC,IACApB,KAAKywF,OAAOzpF,KAAKksH,GACU,IAAvBlzH,KAAKywF,OAAOhuF,QAAkBzC,KAAK8+H,cAAiB9+H,KAAK8+H,aAAaH,SACxE3+H,KAAK++H,eAEA7L,EAAK5jC,OACd,GACC,CACDvlF,IAAK,SACL+H,MAAO,WACL,IAAIqoH,EAAUn2C,GAAkC/F,KAAsBqE,MAAK,SAASkQ,IAClF,IAAIwsC,EACJ,OAAO/gD,KAAsBU,MAAK,SAAkBiU,GAClD,MAAO,SACGA,EAAS/P,KAAO+P,EAASlgE,MAC/B,KAAK,EAYH,OAXAssG,EAAUh/H,KAAKywF,OAAO9vF,KAAI,SAAS26B,GACjC,OAAOA,EAAErnB,QACX,IAAGrM,OAAO5H,KAAKi/H,OAAOt+H,KAAI,SAAS26B,GACjC,OAAOA,EAAErnB,QACX,KACIjU,KAAK8+H,cACPE,EAAQh4H,KAAKhH,KAAK8+H,aAAa7qH,UAEjCjU,KAAKywF,OAAS,GACdzwF,KAAKi/H,OAAS,GACdrsC,EAASlgE,KAAO,EACThO,QAAQ6Z,IAAIygG,GACrB,KAAK,EAEH,OADApsC,EAASlgE,KAAO,EACT+lE,KACT,KAAK,EACL,IAAK,MACH,OAAO7F,EAAS5f,OAExB,GAAGwf,EAASxyF,KACd,KACA,SAASiU,IACP,OAAOkmH,EAAQp6H,MAAMC,KAAMC,UAC7B,CACA,OAAOgU,CACT,CAhCO,IAiCN,CACDlK,IAAK,eACL+H,MAAO,WACL,IAAIw/E,EAAStxF,KAEb,GADAA,KAAK8+H,aAAe9+H,KAAKywF,OAAOjW,QAC3Bx6E,KAAK8+H,aAAV,CAEI9+H,KAAK8+H,aAAad,OACpBh+H,KAAKi/H,OAAOj4H,KAAKhH,KAAK8+H,cAExB,IAAIvD,EAAMv7H,KAAK8+H,aAAat7G,OAAO6P,OAAM,SAASxyB,GAClD,IACM06H,GAA8B,oBAAhBA,EAAI2D,SAExB3D,EAAI2D,SAAQ,WACV,IAAIC,EAAqBC,EAC2B,QAA/CD,EAAsB7tC,EAAOwtC,oBAAkD,IAAxBK,GAAkCA,EAAoBnB,QAA8C,QAAnCoB,EAAgB9tC,EAAO2tC,cAAsC,IAAlBG,OAA2B,EAASA,EAAc38H,QAAU,IAClO6uF,EAAO2tC,OAAS3tC,EAAO2tC,OAAOt8G,QAAO,SAASuwG,GAC5C,OAAOA,GAAQA,IAAS5hC,EAAOwtC,YACjC,KAEFxtC,EAAOytC,cACT,GAhBQ,CAiBV,IACE,CAAC,CACHh1H,IAAK,iBACL+H,MAAO,WACL,OAAOomH,GAAYv6F,aACrB,KAEKkhG,CACT,CA1HgC,CA0H9B13H,KCnIEk4H,GAAiCh7C,IAAa,SAASi7C,IACzDr7C,GAAgBjkF,KAAMs/H,GACtBxhD,GAAgB99E,KAAM,UAAW,GACjC89E,GAAgB99E,KAAM,UAAW,IACjC89E,GAAgB99E,KAAM,YAAY,EACpC,IACIu/H,GAAY,CACdC,MAAO,QACPC,MAAO,QACPC,SAAU,WACVC,eAAgB,mBAEdC,GAAa,CACfC,UAAW,kBACXC,SAAU,CAAC,gDAAiD,kCAC5DC,SAAU,CAAC,gDAAiD,qBAAsB,gBAClFC,UAAW,CAAC,gDAAiD,4BAE/D,SAASC,GAAUxjH,GAEjB,IADA,IAAII,EAAM,GACDlZ,EAAI,EAAGA,EAAI8Y,EAAIha,OAAQkB,IAC1BjD,MAAM20B,QAAQ5Y,EAAI9Y,IACpBkZ,EAAMA,EAAIjV,OAAOq4H,GAAUxjH,EAAI9Y,KAE/BkZ,EAAI7V,KAAKyV,EAAI9Y,IAGjB,OAAOkZ,CACT,CACA,IAAIqjH,GAA8B77C,IAAa,SAAS87C,IACtDl8C,GAAgBjkF,KAAMmgI,GACtBriD,GAAgB99E,KAAM,KAAM,GAC5B89E,GAAgB99E,KAAM,MAAO,IAC7B89E,GAAgB99E,KAAM,WAAW,GACjC89E,GAAgB99E,KAAM,cAAc,GACpC89E,GAAgB99E,KAAM,UAAU,GAChC89E,GAAgB99E,KAAM,QAAS,IAC/B89E,GAAgB99E,KAAM,OAAQ,IAC9B89E,GAAgB99E,KAAM,OAAQ,IAC9B89E,GAAgB99E,KAAM,WAAY,IAClC89E,GAAgB99E,KAAM,QAAS,EACjC,IACIogI,GAA8B,SAASC,GACzC77C,GAAU87C,EAAcD,GACxB,IAAIj0C,EAASrG,GAAau6C,GAC1B,SAASA,IACP,IAAI/zC,EACJtI,GAAgBjkF,KAAMsgI,GACtB,IAAK,IAAIn/G,EAAOlhB,UAAUwC,OAAQ+F,EAAO,IAAI9H,MAAMygB,GAAOmsE,EAAO,EAAGA,EAAOnsE,EAAMmsE,IAC/E9kF,EAAK8kF,GAAQrtF,UAAUqtF,GAKzB,OAHAf,EAAQH,EAAOxrF,KAAKb,MAAMqsF,EAAQ,CAACpsF,MAAM4H,OAAOY,IAChDs1E,GAAgB8H,GAAuB2G,GAAQ,YAAagzC,GAAUC,OACtE1hD,GAAgB8H,GAAuB2G,GAAQ,WAAY,GACpDA,CACT,CACA,OAAOlI,GAAai8C,EACtB,CAfkC,CAehCJ,IACEK,GAAiC,SAASC,GAC5Ch8C,GAAUi8C,EAAiBD,GAC3B,IAAIE,EAAU36C,GAAa06C,GAC3B,SAASA,IACP,IAAInvC,EACJrN,GAAgBjkF,KAAMygI,GACtB,IAAK,IAAI3yC,EAAQ7tF,UAAUwC,OAAQ+F,EAAO,IAAI9H,MAAMotF,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFvlF,EAAKulF,GAAS9tF,UAAU8tF,GAI1B,OAFAuD,EAASovC,EAAQ9/H,KAAKb,MAAM2gI,EAAS,CAAC1gI,MAAM4H,OAAOY,IACnDs1E,GAAgB8H,GAAuB0L,GAAS,YAAaiuC,GAAUG,UAChEpuC,CACT,CACA,OAAOjN,GAAao8C,EACtB,CAdqC,CAcnCP,IACES,GAA+Bt8C,IAAa,SAASu8C,IACvD38C,GAAgBjkF,KAAM4gI,GACtB9iD,GAAgB99E,KAAM,KAAM,GAC5B89E,GAAgB99E,KAAM,UAAW,GACjC89E,GAAgB99E,KAAM,QAAS,GAC/B89E,GAAgB99E,KAAM,SAAU,GAChC89E,GAAgB99E,KAAM,OAAQ,IAC9B89E,GAAgB99E,KAAM,MAAO,IAC7B89E,GAAgB99E,KAAM,aAAc,IACpC89E,GAAgB99E,KAAM,aAAc,IACpC89E,GAAgB99E,KAAM,YAAa,IACnC89E,GAAgB99E,KAAM,aAAc,IACpC89E,GAAgB99E,KAAM,eAAgB,IACtC89E,GAAgB99E,KAAM,kBAAmB,IACzC89E,GAAgB99E,KAAM,uBAAwB,GAChD,IACI6gI,GAAgCx8C,IAAa,SAASy8C,IACxD78C,GAAgBjkF,KAAM8gI,GACtBhjD,GAAgB99E,KAAM,UAAW,GACjC89E,GAAgB99E,KAAM,MAAO,IAC7B89E,GAAgB99E,KAAM,OAAQ,IAC9B89E,GAAgB99E,KAAM,UAAW,GACjC89E,GAAgB99E,KAAM,QAAS,GAC/B89E,GAAgB99E,KAAM,UAAW,GACjC89E,GAAgB99E,KAAM,QAAS,GAC/B89E,GAAgB99E,KAAM,gBAAiB,GACvC89E,GAAgB99E,KAAM,iBAAkB,GACxC89E,GAAgB99E,KAAM,qBAAsB,GAC5C89E,GAAgB99E,KAAM,eAAgB,GACtC89E,GAAgB99E,KAAM,qBAAqB,GAC3C89E,GAAgB99E,KAAM,kBAAmB,GACzC89E,GAAgB99E,KAAM,kBAAkB,GACxC89E,GAAgB99E,KAAM,eAAgB,GACtC89E,GAAgB99E,KAAM,QAAQ,GAC9B89E,GAAgB99E,KAAM,cAAc,GACpC89E,GAAgB99E,KAAM,eAAgB,GACtC89E,GAAgB99E,KAAM,WAAY,IAClC89E,GAAgB99E,KAAM,aAAc,CAAC,GACrC89E,GAAgB99E,KAAM,kBAAmB,EAC3C,IACI+gI,GAA+B,WACjC,SAASC,EAAcC,GACrBh9C,GAAgBjkF,KAAMghI,GACtBljD,GAAgB99E,KAAM,KAAM,GAC5B89E,GAAgB99E,KAAM,KAAM,GAC5B89E,GAAgB99E,KAAM,MAAO,IAC7B89E,GAAgB99E,KAAM,YAAa,IACnC89E,GAAgB99E,KAAM,QAAS,IAC/B89E,GAAgB99E,KAAM,QAAS,GAC/B89E,GAAgB99E,KAAM,WAAY,GAClC89E,GAAgB99E,KAAM,WAAY,IAClC89E,GAAgB99E,KAAM,MAAO,MAC7B89E,GAAgB99E,KAAM,YAAa,MACnC89E,GAAgB99E,KAAM,iBAAiB,GACvC89E,GAAgB99E,KAAM,cAAe,MACrC89E,GAAgB99E,KAAM,UAAU,GAChC89E,GAAgB99E,KAAM,YAAY,GAClC89E,GAAgB99E,KAAM,YAAY,GAClC89E,GAAgB99E,KAAM,eAAe,GACrC89E,GAAgB99E,KAAM,YAAa,GACnCA,KAAKihI,UAAYA,CACnB,CA2BA,OA1BA58C,GAAa28C,EAAe,CAAC,CAC3Bj3H,IAAK,MACLioB,IAAK,WACH,OAAOhyB,KAAKuR,MAAQvR,KAAKmgB,QAC3B,GACC,CACDpW,IAAK,gBACL+H,MAAO,SAAuB4/F,EAAGxvG,GAC/BlC,KAAK8tH,SAAWpc,EAChB1xG,KAAK+tH,SAAW7rH,CAClB,GACC,CACD6H,IAAK,eACL+H,MAAO,SAAsB1Q,EAAM8/H,GACjClhI,KAAKmhI,UAAY,CAAC,GAClB,IAAIC,EAAQhgI,EAAKsB,MAAM,KACF,IAAjB0+H,EAAM3+H,QAAgBy+H,GAAeA,EAAYC,WACnDnhI,KAAKmhI,UAAU,GAAKD,EAAYC,UAAU,IAAM,EAC5CnhI,KAAKmhI,UAAU,KACjBnhI,KAAKmhI,UAAU,IAAM,IAEvBnhI,KAAKmhI,UAAU,GAAK1lH,SAAS2lH,EAAM,IAErCphI,KAAKmhI,UAAU,GAAKnhI,KAAKmhI,UAAU,GAAK1lH,SAAS2lH,EAAM,IAAM,CAC/D,KAEKJ,CACT,CAjDmC,GAkD/BK,GAAkC,WACpC,SAASC,EAAiBC,GACxBt9C,GAAgBjkF,KAAMshI,GACtBxjD,GAAgB99E,KAAM,SAAU,IAChC89E,GAAgB99E,KAAM,MAAO,IAC7B89E,GAAgB99E,KAAM,KAAM,MAC5B89E,GAAgB99E,KAAM,YAAa,IACnC89E,GAAgB99E,KAAM,oBAAqB,IACvCuhI,aAAkBD,IACpBthI,KAAKggF,OAASuhD,EAAOvhD,OACrBhgF,KAAK8B,IAAMy/H,EAAOz/H,IAClB9B,KAAKwhI,UAAYD,EAAOC,UACxBxhI,KAAKyhI,kBAAoBF,EAAOE,kBAC5BF,EAAOprB,KACTn2G,KAAKm2G,GAAK,IAAItyG,WAAW09H,EAAOprB,KAEtC,CAoDA,OAnDA9xB,GAAai9C,EAAkB,CAAC,CAC9Bv3H,IAAK,QACL+H,MAAO,SAAe4vH,GACpB,IAAI33H,EAAM,IAAIu3H,EAAiBthI,MAG/B,OAFW,OAAP0hI,QAAsB,IAAPA,GACjB33H,EAAI43H,YAAYD,GACX33H,CACT,GACC,CACDA,IAAK,cACL+H,MAAO,SAAqB4vH,GAC1B,IAAK1hI,KAAKm2G,IAAsB,YAAhBn2G,KAAKggF,QAAsC,kBAAP0hD,GAAmB1hI,KAAK8B,IAAK,CAC/E9B,KAAKm2G,GAAK,IAAItyG,WAAW,IACzB,IAAK,IAAIF,EAAI,GAAIA,EAAI,GAAIA,IACvB3D,KAAKm2G,GAAGxyG,GAAK+9H,GAAM,GAAK,GAAK/9H,GAAK,GAEtC,CACF,GACC,CACDoG,IAAK,qBACL+H,MAAO,WACL,IAAIkuE,EAAShgF,KAAKggF,OAClB,MAAkB,YAAXA,CACT,GACC,CACDj2E,IAAK,mBACL+H,MAAO,WACL,IAAI8vH,EAAmB3B,GAAU,CAACL,GAAWC,UAAWD,GAAWE,SAAUF,GAAWG,SAAUH,GAAWI,YAAYn9H,QAAQ7C,KAAKwhI,YAAc,EACpJ,IAAKI,EACH,OAAO,EAET,IAAIC,EAAgB,CAAC,aAAc,kBAAmB,kBAAkBh/H,QAAQ7C,KAAKggF,SAAW,EAChG,QAAK6hD,CAIP,GACC,CACD93H,IAAK,cACL+H,MAAO,WACL,QAAK9R,KAAKggF,WAGNhgF,KAAK8hI,wBAEE9hI,KAAK+hI,mBAIlB,KAEKT,CACT,CArEsC,GCpKlCU,GAAa,0BACbC,GAAc,yCACdC,GAAsB,8BACtBC,GAAkB,mDACtB,SAASC,GAAS7lH,GAChB,OAAOA,EAAK7Z,MAAM,UAAU/B,KAAI,SAAS2d,GACvC,OAAOA,EAAEtD,MACX,IAAG2H,OAAOw2B,QACZ,CACA,SAASkpF,GAAS9lH,GAChB,IAAIM,EAAMN,EAAKrG,MAAM8rH,IACrB,GAAKnlH,GAAQA,EAAI,GAEjB,MAAO,CAACA,EAAI,GAAGzX,QAAQ,SAAU,IAAKyX,EAAI,GAC5C,CACA,SAASylH,GAAU/lH,GACjB,IAAIM,EAAM,CAAC,EACP3G,EAAQ+rH,GAAYz+G,KAAKjH,GAC7B,MAAOrG,EACL2G,EAAI3G,EAAM,IAAMA,EAAM,IAAMA,EAAM,GAClCA,EAAQ+rH,GAAYz+G,KAAKjH,GAE3B,OAAOM,CACT,CACA,SAAS0lH,GAAezgI,EAAKm/H,GAC3B,IAAKA,IAAcn/H,GAAOogI,GAAoB5+H,KAAKxB,GACjD,OAAOA,EACT,IAAI0gI,EAAQL,GAAgB3+G,KAAKy9G,GACjC,OAAKuB,EAEU,MAAX1gI,EAAI,GACC0gI,EAAM,GAAK1gI,EACb0gI,EAAM,GAAKA,EAAM,GAAK1gI,EAHpBA,CAIX,CACA,IAAI2gI,GAAgB,CAClBz9G,MAAO,CAAC,QAAS,WAAY,SAAU,SAAU,aACjD9F,MAAO,CAAC,OAAQ,OAAQ,OAAQ,YAAa,SAC7C3C,KAAM,CAAC,QAAS,QAAS,UAE3B,SAASmmH,GAAUhjI,EAAM8lG,GACvB,IAAIm9B,EAAKF,GAAc/iI,GACvB,GAAKijI,GAAOn9B,GAAWA,EAAO/iG,OAE9B,IAAK,IAAIkB,EAAI,EAAGA,EAAIg/H,EAAGlgI,OAAQkB,IAC7B,IAAK,IAAIiF,EAAI,EAAGA,EAAI48F,EAAO/iG,OAAQmG,IACjC,GAAI+5H,EAAGh/H,GAAGL,KAAKkiG,EAAO58F,IACpB,OAAO48F,EAAO58F,EAGtB,CACA,SAASg6H,GAAiB3rG,EAAM4rG,GAC9B,IAAIC,EACJ,GAAID,EACF,IAAK,IAAI94H,KAAO84H,EACd,GAAI38H,OAAOzH,UAAU0H,eAAevF,KAAKiiI,EAAqB94H,IAAQktB,EAAKltB,KAAS84H,EAAoB94H,GAAM,CAC5G+4H,EAAqB/4H,EACrB,KACF,CAGJ,IAAIoW,EAAW,KACX8W,EAAK8rG,WACP5iH,EAAWpF,WAAWkc,EAAK8rG,UACtB93H,OAAOu5F,SAASrkF,GAEV8W,EAAK+rG,WACd7iH,GAAY8W,EAAK+rG,SAAStjH,UAAYuX,EAAKgsG,WAAWvjH,WAAa,KAFnES,EAAW,MAKf,IAAI+iH,EAAMC,GAAqBlsG,EAAKmsG,KAAOnsG,EAAK,SAAU,CACxDjE,KAAK,EACLqwG,MAAM,EACN58H,MAAM,IAER,QAASwwB,EAAKqsG,KAAOR,GAAsB73H,OAAOu5F,SAASvtE,EAAKgsG,WAAWvjH,aAA4B,OAAbS,GAAqBA,GAAY,OAA8B,QAArB8W,EAAKssG,gBAA4BtsG,EAAKusG,UAAYvsG,EAAKmsG,MAAQF,EAAIlwG,MAAQkwG,EAAIG,MAAQH,EAAIlwG,MAAQkwG,EAAIG,UAA2B,+BAAfpsG,EAAKusG,QAA2C,gBAAiBvsG,GAAQ,iBAAkBA,EACpV,CACA,SAASksG,GAAqBM,EAAWC,GACvC,OAAQD,EAAYA,EAAU/gI,MAAM,SAAW,IAAI0mF,QAAO,SAASrjF,EAAQi9C,GAEzE,OADAj9C,EAAOi9C,EAAW3gC,gBAAiB,EAC5Btc,CACT,GAAG29H,EACL,CC9EA,SAASC,GAAoBC,EAAO3C,GAClC,IAEI1yF,EAFAs1F,EAAS,IAAIxE,GACb7tH,EAAQ,EAERsyH,EAAe,GACfC,EAAkB,GACtB,MAAOx1F,EAAOq1F,EAAMpyH,KAAU,CAC5B,IAAI6lB,EAAMgrG,GAAS9zF,GACnB,GAAKlX,EAAL,CAEA,IAAI2sG,EAAO59C,GAAe/uD,EAAK,GAAI7vB,EAAOw8H,EAAK,GAAI5iI,EAAO4iI,EAAK,GAC/D,GAAa,YAATx8H,EACFq8H,EAAOpgH,QAAUhI,SAASra,QACrB,GAAa,UAAToG,GAAoBpG,EAAM,CACnC,IAAI61B,EAAOqrG,GAAUlhI,GACjB6iI,OAAS,EACb,OAAQhtG,EAAKitG,MACX,IAAK,QACHD,EAAS,IAAI7D,GACb,MACF,IAAK,YACH6D,EAAS,IAAI1D,GACb,MACF,QACE0D,EAAS,IAAI/D,GAEjB+D,EAAOniI,IAAMygI,GAAetrG,EAAKktG,IAAKlD,GACtCgD,EAAO1mG,QAA2B,QAAjBtG,EAAK8H,QACtBklG,EAAOG,WAAiC,QAApBntG,EAAKotG,WACzBJ,EAAOt1C,MAAQ13D,EAAK,YACpBgtG,EAAOz8H,KAAOyvB,EAAKqtG,KACnBL,EAAOzvH,KAAOyiB,EAAKstG,SACfttG,EAAKutG,WACPP,EAAOQ,SAAWx5H,OAAOgsB,EAAKutG,SAAS9hI,MAAM,KAAK,IAC9CuI,OAAO6M,MAAMmsH,EAAOQ,YACtBR,EAAOQ,SAAW,IAEJ,UAAdxtG,EAAKitG,MAAoBjtG,EAAKktG,KAChCL,EAAa98H,KAAKi9H,GAEF,cAAdhtG,EAAKitG,MACPH,EAAgB/8H,KAAKi9H,EAEzB,MAAO,GAAa,eAATz8H,GAAyBpG,EAAM,CACxC,IAAIsjI,EAAU,IAAI/D,GACdgE,EAAQrC,GAAUlhI,GAItB,GAHAsjI,EAAQlzF,QAAU/1B,SAASkpH,EAAM,sBAAwBA,EAAMC,WAC/DF,EAAQl9H,KAAOm9H,EAAML,KACrBI,EAAQ5iI,IAAMygI,GAAeqB,EAAMpyH,KAAUyvH,GACzC0D,EAAME,WAAY,CACpB,IAAIC,EAAwBH,EAAME,WAAWniI,MAAM,KAAMqiI,EAAyB3+C,GAAe0+C,EAAuB,GAAInqH,EAAIoqH,EAAuB,GAAInqH,EAAImqH,EAAuB,GACtLL,EAAQlqH,MAAQiB,SAASd,GACzB+pH,EAAQjqH,OAASgB,SAASb,EAC5B,CACA,GAAI+pH,EAAMK,OAAQ,CAChB,IAAIx/B,EAASm/B,EAAMK,OAAOtiI,MAAM,SAASigB,OAAOw2B,SAChDurF,EAAQhrC,WAAagpC,GAAU,QAASl9B,GACxCk/B,EAAQjrC,WAAaipC,GAAU,QAASl9B,GACxCk/B,EAAQO,UAAYvC,GAAU,OAAQl9B,EACxC,CACAk/B,EAAQQ,WAAaP,EAAMvnC,MAC3BsnC,EAAQS,cAAgBR,EAAMS,UAC9BvB,EAAOwB,QAAQr+H,KAAK09H,EACtB,CAtDU,CAuDZ,CA4BA,OA3BAb,EAAOwB,QAAQn5H,SAAQ,SAAS4wC,EAAGn5C,GACjCm5C,EAAE/vC,GAAKpJ,CACT,IACImgI,EAAarhI,SACfqhI,EAAa53H,SAAQ,SAAS4wC,EAAGn5C,GAC/Bm5C,EAAE/vC,GAAKpJ,CACT,IACAkgI,EAAOwB,QAAQn5H,SAAQ,SAASo5H,GAC1BA,EAAQJ,aACVI,EAAQxB,aAAeA,EAAanhH,QAAO,SAASrE,GAClD,OAAOA,EAAEqwE,QAAU22C,EAAQJ,UAC7B,IAEJ,KAEEnB,EAAgBthI,SAClBshI,EAAgB73H,SAAQ,SAAS4wC,EAAGn5C,GAClCm5C,EAAE/vC,GAAKpJ,CACT,IACAkgI,EAAOwB,QAAQn5H,SAAQ,SAASo5H,GAC1BA,EAAQH,gBACVG,EAAQvB,gBAAkBA,EAAgBphH,QAAO,SAASrE,GACxD,OAAOA,EAAEqwE,QAAU22C,EAAQH,aAC7B,IAEJ,KAEKtB,CACT,CC7FA,SAAS0B,GAAmB3B,EAAO3C,EAAW5K,GAC5C,IAAIl3G,EAAQ,IAAI0hH,GAChB1hH,EAAMrd,IAAMm/H,EACZ,IAOI1yF,EAPAi3F,EAAa,IAAIzE,GAAaE,GAC9BwE,EAAiB,KACjBC,EAAS,KACTnV,EAAgB,EAChBoV,EAAQ,EACRC,EAAQ,EACRp0H,EAAQ,EAERq0H,GAAY,EACZC,EAAmB,EACvB,MAAOv3F,EAAOq1F,EAAMpyH,KAClB,GAAgB,MAAZ+8B,EAAK,GAAT,CAiBA,IAAIlX,EAAMgrG,GAAS9zF,GACnB,GAAKlX,EAAL,CAEA,IAAI2sG,EAAO59C,GAAe/uD,EAAK,GAAI7vB,EAAOw8H,EAAK,GAAI5iI,EAAO4iI,EAAK,GAC/D,OAAQx8H,GACN,IAAK,UACH2X,EAAMsE,QAAUhI,SAASra,GACzB,MACF,IAAK,gBACH+d,EAAMzf,KAAgB,OAAT0B,QAA0B,IAATA,OAAkB,EAASA,EAAKssB,cAC9D,MACF,IAAK,iBACHvO,EAAM4mH,eAAiBhrH,WAAW3Z,GAClC,MACF,IAAK,WAEGi1H,IACFl3G,EAAM6mH,YAAa,GAErB,IAAI/uG,EAAOqrG,GAAUlhI,GACjB61B,EAAK,iBACP9X,EAAM8mH,mBAAqBlrH,WAAWkc,EAAK,iBAG/C,MACF,IAAK,iBAED,IAAI0tG,EAAQrC,GAAUlhI,GACtB+d,EAAM+mH,eAA+C,QAA9BvB,EAAM,oBAC7BxlH,EAAMgnH,aAAeprH,WAAW4pH,EAAM,mBAAqB,GAC3DxlH,EAAMinH,aAAerrH,WAAW4pH,EAAM,mBAAqB,GAC3DxlH,EAAMknH,kBAAqD,QAAjC1B,EAAM,uBAElC,MACF,IAAK,UAEDkB,GAAY,EAEd,MACF,IAAK,iBACHF,EAAQxmH,EAAMmnH,QAAU7qH,SAASra,GACjC,MACF,IAAK,yBACHwkI,EAAQzmH,EAAMonH,QAAU9qH,SAASra,GACjC,MACF,IAAK,gBACHwkI,IACA,MACF,IAAK,YACHJ,EAAWgB,aAAaplI,EAAM+d,EAAM+B,SAAS/B,EAAM+B,SAASze,OAAS,IACrE,MACF,IAAK,OAED,IAAK0c,EAAM6mH,WACT,MACF,IAAIS,EAASnE,GAAUlhI,GACvBokI,EAAWrlH,SAAWpF,WAAW0rH,EAAO,aACxCjB,EAAWkB,YAAwC,QAA1BD,EAAO,eAChCjB,EAAW9D,GAAKiE,EAChBH,EAAWmB,GAAKf,EAChBJ,EAAWoB,UAAYd,EACvBN,EAAWj0H,MAAQg/G,EACnBiV,EAAWrlH,SAAWpF,WAAW0rH,EAAO,aACxClW,GAAiBiV,EAAWrlH,SAC5BqlH,EAAW1jI,IAAMygI,GAAekE,EAAO,OAAQxF,GAC3CyE,IACFF,EAAWz7H,IAAM27H,EAAOmB,MAAMlB,IAC5BF,IACFD,EAAW9X,YAAc+X,GAC3BtmH,EAAM+B,SAASla,KAAKw+H,GACpBA,EAAa,IAAIzE,GAAaE,GAC9B6E,IAEF,MACF,IAAK,eACH,MACF,IAAK,oBACHN,EAAWsB,SAAW1lI,EACtB,MACF,IAAK,SAED,GAAI+d,EAAM6mH,WAAY,CACpBF,EAAmB,EACnB,KACF,CACA,IAAIiB,EAAc3lI,EAAKsB,MAAM,KAAMskI,EAAe5gD,GAAe2gD,EAAa,GAAI5mH,EAAW6mH,EAAa,GAAIn6H,EAAQm6H,EAAa,GACnIxB,EAAWj0H,MAAQg/G,EACnBiV,EAAWrlH,SAAWpF,WAAWoF,GACjCowG,GAAiBiV,EAAWrlH,SAC5BqlH,EAAW34H,MAAQA,EAErB,MACF,IAAK,MAED,IAAIo6H,EAAS3E,GAAUlhI,GACvB,GAAsB,SAAlB6lI,EAAOC,OAAmB,CAC5BxB,EAAS,KACT,KACF,CAMA,GALAA,EAAS,IAAIrE,GACbqE,EAAO1lD,OAASinD,EAAOC,OACvBxB,EAAO5jI,IAAM,SAASwB,KAAK2jI,EAAO9C,KAAO8C,EAAO9C,IAAM5B,GAAe0E,EAAO9C,IAAKlD,GACjFyE,EAAOlE,UAAYyF,EAAOE,WAAa,WACvCzB,EAAOjE,kBAAoBwF,EAAOG,mBAC7B1B,EAAO/nG,cACV,MAAM,IAAIxE,MAAM,WAAWvxB,OAAOq/H,EAAOC,OAAQ,KAAKt/H,OAAOq/H,EAAOE,UAAW,sBAEjF,GAAIF,EAAOI,GAAI,CACb,IAAIhwH,EAAM4vH,EAAOI,GAAG3/H,MAAM,GAC1B2P,GAAoB,EAAbA,EAAI5U,OAAa,IAAM,IAAM4U,EACpCquH,EAAOvvB,GAAK,IAAItyG,WAAWwT,EAAI5U,OAAS,GACxC,IAAK,IAAIkB,EAAI,EAAGoE,EAAIsP,EAAI5U,OAAS,EAAGkB,EAAIoE,EAAGpE,IACzC+hI,EAAOvvB,GAAGxyG,GAAK8X,SAASpE,EAAI3P,MAAU,EAAJ/D,EAAW,EAAJA,EAAQ,GAAI,GAEzD,CAEF,MACF,IAAK,MAED,IAAI2jI,EAAShF,GAAUlhI,GACvBokI,EAAW1jI,IAAMygI,GAAe+E,EAAOnD,IAAKlD,GACxCqG,EAAOC,WACT/B,EAAWgB,aAAac,EAAOC,WACjC/B,EAAWgC,eAAgB,EAC3BhC,EAAW9D,GAAK,EACZgE,IACFF,EAAWz7H,IAAM27H,EAAOmB,MAAM,IAEhCpB,EAAiBD,EACjBA,EAAa,IAAIzE,GAAaE,GAEhC,MACF,IAAK,OAED,IAAIwG,EAASnF,GAAUlhI,GACnBsmI,EAAkBjsH,SAASgsH,EAAO,oBAAqB,IACvDC,GAAmBz8H,OAAO08H,mBAC5BxoH,EAAMuoH,iBAAmBA,GAG7B,MACF,IAAK,YAED,IAAIE,EAAStF,GAAUlhI,GACnByhI,EAAsB1jH,EAAM0oH,WAAWD,EAAOtE,IAClDsE,EAAO3E,WAAaJ,EAAsBA,EAAoBI,WAAa,IAAInvH,KAAK8zH,EAAO,eAC3F,IAAIE,GAAmC,OAAxBjF,QAAwD,IAAxBA,OAAiC,EAASA,EAAoBG,WAAa,IAAIlvH,KAAK8zH,EAAOG,UACtI98H,OAAOu5F,SAASsjC,KAClBF,EAAO5E,SAAW8E,IAEhBlF,GAAiBgF,EAAQ/E,IAAwB1jH,EAAMuoH,mBACzDvoH,EAAM0oH,WAAWD,EAAOtE,IAAMsE,GAGlC,MAxJM,CAHV,KAhBA,CACE,GAAIzoH,EAAM6mH,WAAY,CACpBL,IACA,QACF,CACAH,EAAW9D,GAAKiE,EAChBH,EAAWmB,GAAKf,EAChBJ,EAAW1jI,IAAMygI,GAAeh0F,EAAM0yF,GAClCyE,IACFF,EAAWz7H,IAAM27H,EAAOmB,MAAMlB,IAC5BF,IACFD,EAAW9X,YAAc+X,GAC3BtmH,EAAM+B,SAASla,KAAKw+H,GACpBA,EAAa,IAAIzE,GAAaE,GAC9B0E,GAEF,CA8JFxmH,EAAM+B,SAAW/B,EAAM+B,SAASyB,QAAO,SAASrE,GAC9C,OAAsB,IAAfA,EAAE6B,QACX,IACA,IAAI6nH,EAAc7oH,EAAM+B,SAAS/B,EAAM+B,SAASze,OAAS,GAazD,OAZIulI,IACEnC,IACFmC,EAAYC,QAAS,GAEvB9oH,EAAM+oH,MAAQF,EAAYtG,GAC1BviH,EAAMgpH,aAAeH,EAAYpB,WAE/Bf,IACF1mH,EAAMipH,MAAO,GAEfjpH,EAAMoxG,cAAgBA,EACtBpxG,EAAMkpH,MAAQzC,EACPzmH,CACT,CC5MA,IAAImpH,GAA6B,WAC/B,SAASC,IACPtkD,GAAgBjkF,KAAMuoI,EACxB,CAqBA,OApBAlkD,GAAakkD,EAAa,KAAM,CAAC,CAC/Bx+H,IAAK,QACL+H,MAAO,WACL,IAAIyK,EAAOtc,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,GACxEghI,EAAYhhI,UAAUwC,OAAS,EAAIxC,UAAU,QAAK,EAClDo2H,EAAgBp2H,UAAUwC,OAAS,EAAIxC,UAAU,QAAK,EAC1D,IAAKsc,EAAK4yE,SAAS,WACjB,MAAM,IAAIh2D,MAAM,qBAClB,IAAIyqG,EAAQxB,GAAS7lH,GACrB,OAAIgsH,EAAYC,gBAAgBjsH,GACvBgpH,GAAmB3B,EAAO3C,EAAW5K,GAEvCsN,GAAoBC,EAAO3C,EACpC,GACC,CACDl3H,IAAK,kBACL+H,MAAO,SAAyByK,GAC9B,OAAOA,EAAK4yE,SAAS,aAAe5yE,EAAK4yE,SAAS,yBACpD,KAEKo5C,CACT,CAzBiC,GCA7BE,GAAiC,WACnC,SAASC,EAAgBvZ,GACvB,IAAI5iC,EAAQvsF,KACZikF,GAAgBjkF,KAAM0oI,GACtB5qD,GAAgB99E,KAAM,iBAAiB,SAASs1B,EAAKxzB,GACnD,IAAIqB,EAAWmyB,EAAInyB,SAAU+O,EAAUojB,EAAIpjB,QACvC8nF,EAAO9nF,GAAW,CAAC,EAAG0lH,EAAgB59B,EAAK49B,cAAe91F,EAAYk4D,EAAKl4D,UAAW0yD,EAAUwF,EAAKxF,QAASkjC,EAAgB19B,EAAK09B,cACnI3kH,EAAOyhF,EAAU1yD,EACrByqD,EAAM4iC,IAAIjnH,KAAKkuF,GAAMoB,MAAO,CAC1BzkF,OACAshF,WAAYqjC,EACZ51H,QAEFyqF,EAAM4iC,IAAIjnH,KAAKkuF,GAAMG,cAAe,CAClCz0F,MACA6mI,QAAS51H,GAAQ,IAEnBw5E,EAAM4iC,IAAIjnH,KAAKkuF,GAAMC,KAAM,CACzBv0F,MACA24F,YAAat3F,EAASrB,IACtB6mI,QAAS/Q,EAAgB91F,IAE3ByqD,EAAM4iC,IAAIjnH,KAAKkuF,GAAME,sBAAuB,CAC1Cpc,QAAS/2E,EAAS+2E,QAClBp4E,OAEJ,IACAg8E,GAAgB99E,KAAM,kBAAkB,SAASqQ,EAAOu4H,GACtDr8C,EAAM4iC,IAAIjnH,KAAK8X,GAAMw2E,WAAY,CAC/BnmF,MAAO47E,GAAe/nD,QAAQ7zB,GAC9Bu4H,aAEJ,IACA5oI,KAAKmvH,IAAMA,EACXnvH,KAAK07E,OAAS,KACd17E,KAAK6oI,eAAiB1Z,EAAI1+G,OAAO4lH,cACjC,IAAIyS,EAAmB9oI,KAAKmvH,IAAI1+G,OAAQslH,EAAa+S,EAAiB/S,WAAYC,EAAa8S,EAAiB9S,WAAYG,EAAsB2S,EAAiB3S,oBAAqB4S,EAAeD,EAAiBC,aACxN/oI,KAAKk+H,QAAU,IAAIU,GAAUhhD,GAAeA,GAAe,CAAC,EAAGmrD,GAAe,CAAC,EAAG,CAChF9lI,aAAc,OACd4vC,MAAOkjF,EACPC,aACA74F,QAASg5F,EACT8E,aAAcj7H,KAAKgpI,kBAErBhpI,KAAKipI,aAAe,IAAIrK,GAAUhhD,GAAeA,GAAe,CAAC,EAAGmrD,GAAe,CAAC,EAAG,CACrF9lI,aAAc,OACd4vC,MAAOkjF,EACPC,aACA74F,QAASg5F,EACT8E,aAAcj7H,KAAKgpI,kBAErBhpI,KAAKkpI,gBAAkB,IAAItK,GAAUhhD,GAAeA,GAAe,CAAC,EAAGmrD,GAAe,CAAC,EAAG,CACxF9lI,aAAc,OACd4vC,MAAOkjF,EACPC,aACA74F,QAASg5F,EACT8E,aAAcj7H,KAAKgpI,iBAEvB,CAuMA,OAtMA3kD,GAAaqkD,EAAiB,CAAC,CAC7B3+H,IAAK,OACL+H,MAAO,WACL,IAAIq3H,EAAQnlD,GAAkC/F,KAAsBqE,MAAK,SAASkQ,EAAQ1wF,EAAKsnI,EAAUC,GACvG,IAAIC,EAAQC,EAAWC,EAAWC,EAAcC,EAAaC,EAAaC,EAAgBC,EAAoBC,EAAqB5qH,EAAO8F,EAAO+kH,EAAUC,EAAiBC,EAAoBC,EAAkBC,EAAgBC,EAAUC,EAAeC,EAAkBC,EAC7Q,OAAOtsD,KAAsBU,MAAK,SAAkBiU,GAClD,MAAO,SACGA,EAAS/P,KAAO+P,EAASlgE,MAC/B,KAAK,EAUH,OATA42G,EAAS,CAACtpI,KAAKk+H,QAAQnwG,KAAKjsB,IACxBsnI,GACFE,EAAOtiI,KAAKhH,KAAKipI,aAAal7G,KAAKq7G,IAEjCC,GACFC,EAAOtiI,KAAKhH,KAAKkpI,gBAAgBn7G,KAAKs7G,IAExCz2C,EAAS/P,KAAO,EAChB+P,EAASlgE,KAAO,EACThO,QAAQ6Z,IAAI+qG,GACrB,KAAK,EAMH,GALAO,EAAqBj3C,EAAS9R,KAC9BgpD,EAAsB1jD,GAAeyjD,EAAoB,GACzD3qH,EAAQ4qH,EAAoB,GAC5B9kH,EAAQ8kH,EAAoB,GAC5BC,EAAWD,EAAoB,GAC3B5qH,EAAO,CACT0zE,EAASlgE,KAAO,GAChB,KACF,CACA,OAAOkgE,EAAS3R,OAAO,SAAU,IACnC,KAAK,GACHjhF,KAAKwqI,cAActrH,EAAOpd,GAC1BynI,EAAYrqH,EAAM9d,KAClBsoI,EAAcxqH,EAAM/b,SAASrB,KAAOA,EAChCsnI,GACFI,EAAsB,OAAVxkH,QAA4B,IAAVA,OAAmB,EAASA,EAAM5jB,KAChEqoI,EAA4B,OAAbM,QAAkC,IAAbA,OAAsB,EAASA,EAAS3oI,KAC5EuoI,GAAyB,OAAV3kH,QAA4B,IAAVA,GAAmE,QAAtCglH,EAAkBhlH,EAAM7hB,gBAA0C,IAApB6mI,OAAxD,EAA8FA,EAAgBloI,MAAQsnI,EAC1KQ,GAA+B,OAAbG,QAAkC,IAAbA,GAA4E,QAA5CE,EAAqBF,EAAS5mI,gBAA6C,IAAvB8mI,OAA9D,EAAuGA,EAAmBnoI,MAAQunI,EAC/LG,GAAaxpI,KAAKwqI,cAAcxlH,EAAOokH,GACvCK,GAAgBzpI,KAAKwqI,cAAcT,EAAUV,KAE7CI,EAAyB,OAAVzkH,QAA4B,IAAVA,OAAmB,EAASA,EAAM5jB,KACnEwoI,GAA4B,OAAV5kH,QAA4B,IAAVA,GAAoE,QAAvCklH,EAAmBllH,EAAM7hB,gBAA2C,IAArB+mI,OAAzD,EAAgGA,EAAiBpoI,MAAQunI,EAChLI,GAAgBzpI,KAAKwqI,cAAcxlH,EAAOqkH,IAE5Cz2C,EAASlgE,KAAO,GAChB,MACF,KAAK,GAGH,MAFAkgE,EAAS/P,KAAO,GAChB+P,EAASoxB,GAAKpxB,EAAS,SAAS,GAC1B3G,GAAe/nD,QAAQ0uD,EAASoxB,IACxC,KAAK,GAWH,GAVAmmB,EAAiBnqI,KAAKmvH,IAAI1+G,OAAO05H,eACjCv3C,EAAS/P,KAAO,GACZsnD,IACFZ,EAAYY,EAAeZ,IAAcA,EACrCC,IACFA,EAAYW,EAAeX,GAAW,IAASA,GAC7CC,IACFA,EAAeU,EAAeV,GAAc,IAASA,IAEzDW,EAAW9B,GAAWlkG,MAAMmlG,EAAWG,EAAa1pI,KAAK6oI,iBACqC,KAA5D,QAA1B0B,EAAYH,SAAoC,IAAdG,OAAuB,EAASA,EAAUnC,QAAmBgC,EAASlpH,UAAakpH,EAASlpH,SAASze,OAAS,CACtJmwF,EAASlgE,KAAO,GAChB,KACF,CACA,MAAM,IAAIyG,MAAM,uBAClB,KAAK,GACCqwG,IACFa,EAAgB/B,GAAWlkG,MAAMolG,EAAWG,EAAa3pI,KAAK6oI,iBAE5DY,IACFa,EAAmBhC,GAAWlkG,MAAMqlG,EAAcG,EAAgB5pI,KAAK6oI,iBAEzEj2C,EAASlgE,KAAO,GAChB,MACF,KAAK,GAGH,MAFAkgE,EAAS/P,KAAO,GAChB+P,EAASqxB,GAAKrxB,EAAS,SAAS,IAC1B,IAAI3G,GAAepC,GAAIC,SAAUD,GAAIa,UAAUE,IAAKgI,EAASqxB,IACrE,KAAK,GAYH,OAXImmB,IACEA,EAASK,SACXzqI,KAAKmvH,IAAIjnH,KAAK8X,GAAMy3E,oBAAqB,CACvC2yC,aAGFpqI,KAAKmvH,IAAIjnH,KAAK8X,GAAM03E,iBAAkB,CACpC0yC,cAICx3C,EAAS3R,OAAO,SAAU,CAACmpD,EAAUC,EAAeC,IAC7D,KAAK,GACL,IAAK,MACH,OAAO13C,EAAS5f,OAExB,GAAGwf,EAASxyF,KAAM,CAAC,CAAC,EAAG,IAAK,CAAC,GAAI,KACnC,KACA,SAAS+tB,EAAK69B,EAAIgqC,EAAKC,GACrB,OAAOszC,EAAMppI,MAAMC,KAAMC,UAC3B,CACA,OAAO8tB,CACT,CAtGO,IAuGN,CACDhkB,IAAK,YACL+H,MAAO,SAAmBy3H,EAAWznI,GACnC,IACIsoI,EADAD,EAAiBnqI,KAAKmvH,IAAI1+G,OAAO05H,eAErC,IACE,IAAIO,EAKJ,GAJIP,IACFZ,EAAYY,EAAeZ,IAAcA,GAE3Ca,EAAW9B,GAAWlkG,MAAMmlG,EAAWznI,EAAK9B,KAAK6oI,iBAC8C,KAA9D,QAA3B6B,EAAaN,SAAqC,IAAfM,OAAwB,EAASA,EAAWtC,OAAmBgC,EAASlpH,WAAakpH,EAASlpH,SAASze,OAC9I,MAAM,IAAI02B,MAAM,sBAEpB,CAAE,MAAO9oB,GACP,MAAM,IAAI47E,GAAepC,GAAIC,SAAUD,GAAIa,UAAUE,IAAKv6E,EAC5D,CAYA,OAXI+5H,IACEA,EAASK,SACXzqI,KAAKmvH,IAAIjnH,KAAK8X,GAAMy3E,oBAAqB,CACvC2yC,aAGFpqI,KAAKmvH,IAAIjnH,KAAK8X,GAAM03E,iBAAkB,CACpC0yC,cAIC,CAACA,EACV,GACC,CACDrgI,IAAK,OACL+H,MAAO,SAAchQ,EAAKsnI,EAAUC,EAAasB,EAAIC,EAAS73H,GAC5D,IAAIw9E,EAASvwF,KACbsT,aAAatT,KAAK07E,QAClB3oE,EAAOA,GAAQ,IACf,IAAIgjH,EAAa/1H,KAAKmvH,IAAI1+G,OAAOwlH,eAC7B1vH,EAAqB,WACvB,IAAIy1F,EAAQhY,GAAkC/F,KAAsBqE,MAAK,SAAS4Q,IAChF,IAAI59D,EACJ,OAAO2oD,KAAsBU,MAAK,SAAmB2U,GACnD,MAAO,SACGA,EAAUzQ,KAAOyQ,EAAU5gE,MACjC,KAAK,EAIH,OAHApf,aAAai9E,EAAO7U,QACpB4X,EAAUzQ,KAAO,EACjByQ,EAAU5gE,KAAO,EACV69D,EAAOxiE,KAAKjsB,EAAKsnI,EAAUC,GACpC,KAAK,EAEH,GADA/zG,EAAMg+D,EAAUxS,KACZxrD,EAAI,GAAI,CACVg+D,EAAU5gE,KAAO,EACjB,KACF,CACA,OAAO4gE,EAAUrS,OAAO,UAC1B,KAAK,EACH80C,EAAaxlC,EAAO4+B,IAAI1+G,OAAOwlH,eAC/B0U,EAAGr1G,EAAI,GAAIA,EAAI,GAAIA,EAAI,IACvBg+D,EAAU5gE,KAAO,GACjB,MACF,KAAK,GACH4gE,EAAUzQ,KAAO,GACjByQ,EAAU0wB,GAAK1wB,EAAU,SAAS,GAClCyiC,IACIA,GAAc,GAChB6U,EAAQt3C,EAAU0wB,IAEtB,KAAK,GACHzzB,EAAO7U,OAASt4E,WAAWmD,EAAIwM,GACjC,KAAK,GACL,IAAK,MACH,OAAOugF,EAAUtgB,OAEzB,GAAGkgB,EAAU,KAAM,CAAC,CAAC,EAAG,KAC1B,KACA,OAAO,WACL,OAAO8I,EAAMj8F,MAAMC,KAAMC,UAC3B,CACF,CAzCyB,GA0CzBD,KAAK07E,OAASt4E,WAAWmD,EAAIwM,EAC/B,GACC,CACDhJ,IAAK,WACL+H,MAAO,WAEL,OADAwB,aAAatT,KAAK07E,QACX17E,KAAKiU,QACd,GACC,CACDlK,IAAK,SACL+H,MAAO,WACL,OAAO4S,QAAQ6Z,IAAI,CAACv+B,KAAKk+H,QAAQjqH,SAAUjU,KAAKipI,aAAah1H,UAC/D,KAEKy0H,CACT,CAlQqC,GCJrC,SAASmC,GAAMjqF,EAAK90C,EAAKO,GAIvB,OAHIP,EAAMO,IACRA,EAAMP,GAEDH,KAAKG,IAAIH,KAAKU,IAAIu0C,EAAK90C,GAAMO,EACtC,CCHA,IAAI4oB,GAAS,IAAI63D,GAAO,YACpBg+C,GAAyB,WAC3B,SAASC,EAAQX,EAAUC,EAAeC,GACxCrmD,GAAgBjkF,KAAM+qI,GACtBjtD,GAAgB99E,KAAM,YAAQ,GAC9B89E,GAAgB99E,KAAM,KAAM,GAC5B89E,GAAgB99E,KAAM,UAAW,GACjC89E,GAAgB99E,KAAM,QAAS,GAC/B89E,GAAgB99E,KAAM,SAAU,GAChC89E,GAAgB99E,KAAM,OAAQ,IAC9B89E,GAAgB99E,KAAM,MAAO,IAC7B89E,GAAgB99E,KAAM,aAAc,IACpC89E,GAAgB99E,KAAM,aAAc,IACpC89E,GAAgB99E,KAAM,YAAa,IACnC89E,GAAgB99E,KAAM,UAAW,GACjC89E,GAAgB99E,KAAM,QAAS,GAC/B89E,GAAgB99E,KAAM,UAAW,GACjC89E,GAAgB99E,KAAM,SAAU,GAChC89E,GAAgB99E,KAAM,gBAAiB,GACvC89E,GAAgB99E,KAAM,iBAAkB,GACxC89E,GAAgB99E,KAAM,qBAAsB,GAC5C89E,GAAgB99E,KAAM,eAAgB,GACtC89E,GAAgB99E,KAAM,qBAAqB,GAC3C89E,GAAgB99E,KAAM,kBAAmB,GACzC89E,GAAgB99E,KAAM,kBAAkB,GACxC89E,GAAgB99E,KAAM,eAAgB,GACtC89E,GAAgB99E,KAAM,cAAc,GACpC89E,GAAgB99E,KAAM,eAAgB,GACtC89E,GAAgB99E,KAAM,SAAU,MAChC89E,GAAgB99E,KAAM,WAAY,IAClC89E,GAAgB99E,KAAM,eAAgB,IACtC89E,GAAgB99E,KAAM,kBAAmB,IACzC89E,GAAgB99E,KAAM,iBAAkB,IACxC89E,GAAgB99E,KAAM,qBAAsB,MAC5C89E,GAAgB99E,KAAM,wBAAyB,MAC/CA,KAAK04C,OAAO14C,KAAKgrI,oBAAoBZ,GAAWC,EAAeC,EACjE,CA8OA,OA7OAjmD,GAAa0mD,EAAS,CAAC,CACrBhhI,IAAK,cACLioB,IAAK,WACH,OAAIhyB,KAAKkhB,SAASze,OACTzC,KAAKkhB,SAASlhB,KAAKkhB,SAASze,OAAS,GAEvC,IACT,GACC,CACDsH,IAAK,kBACLioB,IAAK,WACH,IAAIi5G,EACJ,OAAOjrI,KAAK+lI,iBAA4D,QAAxCkF,EAAkBjrI,KAAKkhB,SAAS,UAAoC,IAApB+pH,OAA6B,EAASA,EAAgB9qH,WAAa,CACrJ,GACC,CACDpW,IAAK,WACLioB,IAAK,WACH,OAAOhyB,KAAKw0F,OACd,EACA1M,IAAK,SAAar2E,GAChBzR,KAAKw0F,QAAU/iF,CACjB,GACC,CACD1H,IAAK,UACLioB,IAAK,WACH,IAAIk5G,EACJ,OAAmD,QAA1CA,EAAoBlrI,KAAKgoI,mBAA+C,IAAtBkD,OAA+B,EAASA,EAAkBz5H,MAAQ,CAC/H,EACAq2E,IAAK,SAAar2E,GAChB,IAAI05H,EAAUnrI,KAAKgoI,YACfmD,IACFA,EAAQhrH,SAAW1O,EAAM05H,EAAQ55H,MACrC,GACC,CACDxH,IAAK,uBACLioB,IAAK,WACH,IAAIo5G,EACJ,OAAiE,QAAxDA,EAAwBprI,KAAKqrI,6BAA6D,IAA1BD,OAAmC,EAASA,EAAsBlD,QAAU,CACvJ,GACC,CACDn+H,IAAK,kBACL+H,MAAO,SAAyBgwB,EAAW0jB,GAIzC,OAHIxlD,KAAKsrI,oBACPtrI,KAAKurI,eAAezpG,EAAW0jB,GAE1BxlD,KAAKurI,eAAezpG,EAAW0jB,EACxC,GACC,CACDz7C,IAAK,kBACL+H,MAAO,SAAyB2xG,GAC9B,GAAKA,GAAQzjH,KAAKsrI,mBAAlB,CAEA,IAAI5J,EAAKje,EAAIie,GAAK1hI,KAAKwrI,OACvB,OAAOxrI,KAAKsrI,mBAAmBpqH,SAAS6Y,MAAK,SAASzb,GACpD,OAAOA,EAAEojH,KAAOA,CAClB,GAJQ,CAKV,GACC,CACD33H,IAAK,SACL+H,MAAO,SAAgBs4H,EAAUC,GAC/BrqI,KAAK8B,IAAMsoI,EAAStoI,IAChBpB,MAAM20B,QAAQ+0G,EAASlpH,WACP,OAAdlhB,KAAKooI,WAA+B,IAAdpoI,KAAKooI,OAC7BpoI,KAAKooI,KAAOgC,EAAShC,MACvBpoI,KAAKyrI,gBAAgBrB,EAAUpqI,MAC/BA,KAAKumI,QAAU6D,EAAS7D,QACxBvmI,KAAKqoI,MAAQ+B,EAAS/B,MACtBroI,KAAKsmI,QAAU8D,EAAS9D,QACxBtmI,KAAKkoI,MAAQkC,EAASlC,QAAU,EAChCloI,KAAKuwH,cAAgB6Z,EAAS7Z,cAC9BvwH,KAAK+lI,eAAiBqE,EAASrE,eAC/B/lI,KAAKooI,KAAOgC,EAAShC,KACrBpoI,KAAKgmI,WAAaoE,EAASpE,WAC3BhmI,KAAKkmI,eAAiBkE,EAASlE,eAC/BlmI,KAAKqmI,kBAAoB+D,EAAS/D,kBAClCrmI,KAAKomI,aAAegE,EAAShE,aAC7BpmI,KAAKmmI,aAAeiE,EAASjE,aAC7BnmI,KAAKimI,mBAAqBmE,EAASnE,mBACnCjmI,KAAK0nI,gBAAkB0C,EAAS1C,gBAChC1nI,KAAKmoI,aAAeiC,EAASjC,aACzBkC,GAAiBrqI,KAAKsrI,oBAAsB5qI,MAAM20B,QAAQg1G,EAAcnpH,YAC1ElhB,KAAKyrI,gBAAgBpB,EAAerqI,KAAKsrI,qBACpB,OAAhBtrI,KAAKwrI,aAAmC,IAAhBxrI,KAAKwrI,SAAsBpB,EAASlpH,SAASze,QAAU4nI,EAAcnpH,SAASze,SACzGzC,KAAKwrI,OAASpB,EAASlpH,SAAS,GAAGwgH,GAAK2I,EAAcnpH,SAAS,GAAGwgH,OAItE1hI,KAAK+M,GAAKq9H,EAASr9H,GACnB/M,KAAKwxC,QAAU44F,EAAS54F,QACxBxxC,KAAKwa,MAAQ4vH,EAAS5vH,MACtBxa,KAAKya,OAAS2vH,EAAS3vH,OACvBza,KAAKwH,KAAO4iI,EAAS5iI,KACrBxH,KAAKy5F,WAAa2wC,EAAS3wC,WAC3Bz5F,KAAK05F,WAAa0wC,EAAS1wC,WAC3B15F,KAAKilI,UAAYmF,EAASnF,UAC1BjlI,KAAK8jI,aAAesG,EAAStG,aAC7B9jI,KAAK+jI,gBAAkBqG,EAASrG,iBAC3B/jI,KAAKsrI,oBAAsBtrI,KAAK8jI,aAAarhI,SAChDzC,KAAKsrI,mBAAqBtrI,KAAK8jI,aAAa/pG,MAAK,SAASzb,GACxD,OAAOA,EAAEif,OACX,KAAMv9B,KAAK8jI,aAAa,KAErB9jI,KAAKqrI,uBAAyBrrI,KAAK+jI,gBAAgBthI,SACtDzC,KAAKqrI,sBAAwBrrI,KAAK+jI,gBAAgBhqG,MAAK,SAASzb,GAC9D,OAAOA,EAAEif,OACX,KAAMv9B,KAAK+jI,gBAAgB,IAGjC,GACC,CACDh6H,IAAK,iBACL+H,MAAO,SAAwBw4H,GAC7B,IAAI/9C,EAAQvsF,KACZ,GAAMsqI,GAAoBtqI,KAAKqrI,uBAAyB3qI,MAAM20B,QAAQi1G,EAAiBppH,UAAvF,CAEA,IAAIwqH,EAAU1rI,KAAKyrI,gBAAgBnB,EAAkBtqI,KAAKqrI,uBACtDM,EAAO3rI,KAAKqrI,sBAAsBnqH,SAItC,GAHIyqH,EAAKlpI,OAAS,MAChBzC,KAAKqrI,sBAAsBnqH,SAAWyqH,EAAKjkI,MAAM,MAE9CgkI,EAEL,OAAOA,EAAQ/qI,KAAI,SAAS2d,GAC1B,MAAO,CACLojH,GAAIpjH,EAAEojH,GACN5/H,IAAKwc,EAAExc,IACPqe,SAAU7B,EAAE6B,SACZ5O,MAAO+M,EAAE/M,MACTE,IAAK6M,EAAE7M,IACP+C,KAAM+3E,EAAM8+C,sBAAsB72H,KAEtC,GAjBQ,CAkBV,GACC,CACDzK,IAAK,iBACL+H,MAAO,SAAwB0C,GAC7B,IAAIo3H,EAAW5rI,KAAK+jI,gBAAgBhqG,MAAK,SAASzb,GAChD,OAAOA,EAAE9J,OAASA,CACpB,IACI83E,EAAStsF,KAAKqrI,sBACdO,IACF5rI,KAAKqrI,sBAAwBO,EAC7Bt/C,EAAOprE,SAAW,GAEtB,GACC,CACDnX,IAAK,sBACL+H,MAAO,SAA6Bs4H,GAClC,IAAKA,EAASpE,aAAeoE,EAASlpH,SAASze,OAC7C,OAAO2nI,EAIT,IAHA,IAAIyB,EAAgBzB,EAAS7Z,cAAgB6Z,EAASjE,aAClDwF,EAAOvB,EAASlpH,SAChB1P,EAAQ,EACH7N,EAAI,EAAGoE,EAAI4jI,EAAKlpI,OAAQkB,EAAIoE,EAAGpE,IAClCgoI,EAAKhoI,GAAG4N,OAASs6H,GAAiBF,EAAKhoI,GAAG+iI,cAC5Cl1H,EAAQ7N,GAGZ,IAAImoI,EAAaH,EAAKjkI,MAAM8J,GACxBgjF,EAAU,EAUd,OATAs3C,EAAW5/H,SAAQ,SAAS4wC,GAC1BA,EAAEvrC,MAAQijF,EACVA,EAAU13C,EAAErrC,GACd,IACA24H,EAASlpH,SAAW4qH,EACpB1B,EAAS7Z,cAAgB/7B,EACzB41C,EAAS9D,QAAUwF,EAAW,GAAGpK,GACjC0I,EAAS7D,QAAUuF,EAAW,GAAGnF,GACjC1xG,GAAOlkB,IAAI,iCAAiCnJ,OAAOwiI,EAAS9D,QAAS,eAAe1+H,OAAOkkI,EAAW,GAAGlF,UAAW,eAAeh/H,OAAO4sF,IACnI41C,CACT,GACC,CACDrgI,IAAK,iBACL+H,MAAO,SAAwBgwB,EAAW0jB,GAGxC,IAFA,IAAIumF,EAAa,EACb7qH,EAAWlhB,KAAKkhB,SACXvd,EAAI,EAAGoE,EAAImZ,EAASze,OAAQkB,EAAIoE,EAAGpE,IAC1C,GAAIud,EAASvd,GAAG8N,KAAOqwB,EAAW,CAChCiqG,EAAapoI,EACb,KACF,CAWF,OATIooI,EAAavmF,IACfumF,EAAavmF,GAEXumF,IACF/rI,KAAKkhB,SAAWlhB,KAAKkhB,SAASxZ,MAAMqkI,GAChC/rI,KAAKsrI,qBACPtrI,KAAKsrI,mBAAmBpqH,SAAWlhB,KAAKsrI,mBAAmBpqH,SAASxZ,MAAMqkI,KAGvEvmF,EAAUumF,CACnB,GACC,CACDhiI,IAAK,kBACL+H,MAAO,SAAyBs4H,EAAU4B,GACxC,IAAI9qH,EAAW8qH,EAAO9qH,SACtB,GAAIlhB,KAAKooI,KAAM,CACb,IAAI6D,EACAjG,EAAaoE,EAASpE,WACtBkG,EAAShrH,EAASA,EAASze,OAAS,GACpCylI,EAAqF,QAA5E+D,EAAwB,OAAXC,QAA8B,IAAXA,OAAoB,EAASA,EAAOxK,UAA+B,IAAfuK,EAAwBA,GAAc,EACnI9D,GAA2B,OAAX+D,QAA8B,IAAXA,OAAoB,EAASA,EAAOtF,YAAc,EACrFuF,EAASjE,EAAQkC,EAASlC,OAASkC,EAASlpH,SAASze,OAIzD,GAHIujI,IACFmG,EAASA,GAAUhE,EAAeiC,EAASjC,cAEzCgE,EAAQ,CACVl3G,GAAOlkB,IAAI,0BAA0BnJ,OAAOsgI,EAAO,gBAAgBtgI,OAAOugI,EAAc,kBAAevgI,OAAOwiI,EAASlC,MAAO,gBAAgBtgI,OAAOwiI,EAASjC,eAC9J,IAAI32H,EAAQ44H,EAASlpH,SAASw0C,WAAU,SAASp3C,GAC/C,OAAOA,EAAEojH,KAAOwG,GAAS5pH,EAAEsoH,YAAcuB,CAC3C,IACIiE,EAAW56H,EAAQ,EAAI44H,EAASlpH,SAAWkpH,EAASlpH,SAASxZ,MAAM8J,EAAQ,GAC/E,GAAI0P,EAASze,QAAU2pI,EAAS3pI,OAAQ,CACtC,IAAI+xF,EAAU03C,EAAOz6H,IACjB46H,EAAsB73C,EAC1B43C,EAASlgI,SAAQ,SAASu3G,GACxBA,EAAIlyG,MAAQijF,EACZA,EAAUivB,EAAIhyG,GAChB,IACAwjB,GAAOlkB,IAAI,aAAanJ,OAAOykI,EAAqB,QAAQzkI,OAAO4sF,IACnE,IAAI83C,GAAqB,OAAXJ,QAA8B,IAAXA,OAAoB,EAASA,EAAOvF,MAAQ,EACzE2F,EAASF,EAAS,GAAGzF,IACvByF,EAASlgI,SAAQ,SAASu3G,GACxB,OAAOA,EAAIkjB,IAAM2F,CACnB,GAEJ,CAGA,OAFAN,EAAO9D,MAAQkC,EAASlC,MACxB8D,EAAO9qH,SAAWA,EAAStZ,OAAOwkI,GAC3BA,CACT,CACF,MACEJ,EAAO9qH,SAAWkpH,EAASlpH,QAE/B,KAEK6pH,CACT,CAlR6B,GCCzBwB,GAA2B,WAC7B,SAASC,EAAUrd,GACjBlrC,GAAgBjkF,KAAMwsI,GACtB1uD,GAAgB99E,KAAM,UAAW,IACjC89E,GAAgB99E,KAAM,gBAAiB,MACvC89E,GAAgB99E,KAAM,YAAa,GACnC89E,GAAgB99E,KAAM,mBAAoB,GAC1CA,KAAKmvH,IAAMA,CACb,CA0QA,OAzQA9qC,GAAamoD,EAAW,CAAC,CACvBziI,IAAK,aACLioB,IAAK,WACH,IAAIy6G,EACJ,OAAsD,QAA9CA,EAAsBzsI,KAAK0sI,qBAAmD,IAAxBD,OAAiC,EAASA,EAAoBzG,UAC9H,GACC,CACDj8H,IAAK,cACLioB,IAAK,WACH,IAAI26G,EACJ,OAAuD,QAA/CA,EAAuB3sI,KAAK0sI,qBAAoD,IAAzBC,OAAkC,EAASA,EAAqB3E,WACjI,GACC,CACDj+H,IAAK,iBACLioB,IAAK,WACH,IAAI46G,EACJ,OAA0D,QAAlDA,EAAwB5sI,KAAK6sI,uBAAuD,IAA1BD,OAAmC,EAASA,EAAsB5sI,KAAK8sI,gBAC3I,GACC,CACD/iI,IAAK,cACLioB,IAAK,WACH,IAAI+6G,EACJ,OAA2D,QAAnDA,EAAyB/sI,KAAK6sI,uBAAwD,IAA3BE,OAAoC,EAASA,EAAuB/sI,KAAK8sI,gBAAkB,EAChK,GACC,CACD/iI,IAAK,kBACLioB,IAAK,WACH,IAAIg7G,EACJ,OAAuD,QAA/CA,EAAuBhtI,KAAK0sI,qBAAoD,IAAzBM,OAAkC,EAASA,EAAqB9rH,QACjI,GACC,CACDnX,IAAK,uBACLioB,IAAK,WACH,IAAIi7G,EACJ,OAAuD,QAA/CA,EAAuBjtI,KAAK0sI,qBAAoD,IAAzBO,OAAkC,EAASA,EAAqBC,oBACjI,GACC,CACDnjI,IAAK,WACLioB,IAAK,WACH,IAAIm7G,EACJ,OAAuD,QAA/CA,EAAuBntI,KAAK0sI,qBAAoD,IAAzBS,OAAkC,EAASA,EAAqBC,QACjI,EACAtlD,IAAK,SAAar2E,GACZzR,KAAK0sI,gBACP1sI,KAAK0sI,cAAcU,SAAW37H,EAElC,GACC,CACD1H,IAAK,gBACLioB,IAAK,WACH,IAAIq7G,EACJ,OAAwD,QAA/CA,EAAuBrtI,KAAK0sI,qBAAoD,IAAzBW,OAAkC,EAASA,EAAqB9c,gBAAkB,CACpJ,GACC,CACDxmH,IAAK,YACLioB,IAAK,WACH,IAAI9Q,EAAWlhB,KAAK6sI,gBACpB,GAAK3rH,GAAaA,EAASze,OAE3B,MAAO,CAACye,EAAS,GAAG3P,MAAO2P,EAASA,EAASze,OAAS,GAAGgP,IAC3D,GACC,CACD1H,IAAK,aACLioB,IAAK,WACH,IAAIs7G,EACJ,OAA4D,QAAnDA,EAAyBttI,KAAK6sI,uBAAwD,IAA3BS,OAAoC,EAASA,EAAuB7qI,SAAW,CACrJ,GACC,CACDsH,IAAK,UACLioB,IAAK,WACH,IAAIu7G,EACJ,QAA6D,QAAnDA,EAAyBvtI,KAAK6sI,uBAAwD,IAA3BU,GAAqCA,EAAuB9qI,OACnI,GACC,CACDsH,IAAK,SACLioB,IAAK,WACH,IAAIw7G,EACJ,OAAuD,QAA/CA,EAAuBxtI,KAAK0sI,qBAAoD,IAAzBc,OAAkC,EAASA,EAAqBpF,IACjI,GACC,CACDr+H,IAAK,mBACLioB,IAAK,WACH,OAAiC,IAA1BhyB,KAAK8sI,eACd,GACC,CACD/iI,IAAK,cACLioB,IAAK,WACH,IAAIy7G,EACJ,QAA0D,QAA/CA,EAAuBztI,KAAK0sI,qBAAoD,IAAzBe,IAAmCA,EAAqBpC,sBAC5H,GACC,CACDthI,IAAK,kBACL+H,MAAO,SAAyB2xG,GAC9B,IAAIiqB,EACJ,OAAuD,QAA/CA,EAAuB1tI,KAAK0sI,qBAAoD,IAAzBgB,OAAkC,EAASA,EAAqBC,gBAAgBlqB,EACjJ,GACC,CACD15G,IAAK,qBACL+H,MAAO,SAA4ByO,GACjC,IAAIqtH,EACQ,OAARrtH,QAAwB,IAARA,IAClBA,EAAMvgB,KAAK8sI,gBAAkB,GAC/B9sI,KAAK8sI,gBAAkBjC,GAAMtqH,GAAM,EAAuD,QAAnDqtH,EAAyB5tI,KAAK6sI,uBAAwD,IAA3Be,OAAoC,EAASA,EAAuBnrI,OACxK,GACC,CACDsH,IAAK,QACL+H,MAAO,WACL9R,KAAKqlI,QAAU,GACfrlI,KAAK0sI,cAAgB,KACrB1sI,KAAK6tI,UAAY,EACjB7tI,KAAK8sI,iBAAmB,CAC1B,GACC,CACD/iI,IAAK,oBACL+H,MAAO,SAA2BN,GAChC,IAAIs8H,EACJ,OAA2D,QAAnDA,EAAyB9tI,KAAK6sI,uBAAwD,IAA3BiB,OAAoC,EAASA,EAAuBt8H,EACzI,GACC,CACDzH,IAAK,wBACL+H,MAAO,WACL,IAAIN,EAAQvR,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,EAC7ED,KAAK8sI,gBAAkBt7H,EAAQ,CACjC,GACC,CACDzH,IAAK,qBACL+H,MAAO,WACL,IAAIi8H,EACArM,EAAKzhI,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,EACtEs1D,EAA+D,QAAnDw4E,EAAyB/tI,KAAK6sI,uBAAwD,IAA3BkB,OAAoC,EAASA,EAAuBr4E,WAAU,SAASp3C,GAChK,OAAOA,EAAEojH,KAAOA,CAClB,IAIA,OAHkB,IAAdnsE,GACFv1D,KAAKguI,sBAAsBz4E,EAAW,GAEjCA,CACT,GACC,CACDxrD,IAAK,yBACL+H,MAAO,SAAgCiB,GACrC,IAAImO,EAAWlhB,KAAK6sI,gBACpB,GAAI3rH,EAAU,CACZ,IAAK,IAAgCuiG,EAA5B9/G,EAAI,EAAGoE,EAAImZ,EAASze,OAAakB,EAAIoE,EAAGpE,IAE/C,GADA8/G,EAAMviG,EAASvd,GACXoP,GAAQ0wG,EAAIlyG,OAASwB,EAAO0wG,EAAIhyG,IAClC,OAAO9N,EAGX,IAAIqkI,EAAc9mH,EAASA,EAASze,OAAS,GAC7C,GAAIkJ,KAAKqV,IAAIjO,GAAwB,OAAhBi1H,QAAwC,IAAhBA,OAAyB,EAASA,EAAYv2H,MAAQ,GACjG,OAAOyP,EAASze,OAAS,CAC7B,CACF,GACC,CACDsH,IAAK,iBACL+H,MAAO,SAAwBs4H,EAAUC,EAAeC,GACtD,IAAI/9C,EAAQvsF,KACZ,GAAKoqI,EAAL,CAEA,GAAIA,EAASK,SACXzqI,KAAKqlI,QAAQ5iI,OAAS2nI,EAAS/E,QAAQ5iI,OACvC2nI,EAAS/E,QAAQ1iH,QAAO,SAASrE,GAC/B,OAAOA,EAAExc,GACX,IAAGoK,SAAQ,SAASo5H,EAAS3hI,GACvB4oF,EAAM84C,QAAQ1hI,GAChB4oF,EAAM84C,QAAQ1hI,GAAG+0C,OAAO4sF,GAExB/4C,EAAM84C,QAAQ1hI,GAAK,IAAImnI,GAAOxF,EAElC,IACAtlI,KAAK0sI,cAAgB1sI,KAAKqlI,QAAQ,QAC7B,GAAI3kI,MAAM20B,QAAQ+0G,EAASlpH,UAAW,CAC3C,IAAI+iH,EAASjkI,KAAK0sI,cAClB,GAAIzI,EAAQ,CACVA,EAAOvrF,OAAO0xF,EAAUC,EAAeC,GACvC,IAAI2D,EAAkBhK,EAAOiK,eAAe5D,GACxC2D,GACFjuI,KAAKmvH,IAAIjnH,KAAK8X,GAAM6uG,kBAAmB,CACrCj9G,KAAMq8H,GAGZ,MACEjuI,KAAKkyC,QACLlyC,KAAK0sI,cAAgB1sI,KAAKqlI,QAAQ,GAAK,IAAIyF,GAAOV,EAAUC,EAAeC,EAE/E,CACA,IAAIoC,EAAgB1sI,KAAK0sI,cACrBA,GACE1sI,KAAKmvH,IAAItuF,SAAW7gC,KAAK6tI,YAC3B7tI,KAAK6tI,UAAY7tI,KAAK6sI,gBAAgBzjD,QAAO,SAASlnF,EAAG2d,GAEvD,OADA3d,GAAK2d,EAAEM,SACAje,CACT,GAAG,GAlCC,CAqCV,GACC,CACD6H,IAAK,uBACL+H,MAAO,SAA8B4vH,EAAInwH,GACvC,IAAI48H,EACAxC,EAA2D,QAAnDwC,EAAyBnuI,KAAK6sI,uBAAwD,IAA3BsB,OAAoC,EAASA,EAAuBxrH,QAAO,SAASrE,GACzJ,OAAOA,EAAEojH,IAAMA,CACjB,IACAiK,EAAKz/H,SAAQ,SAAS4wC,GACpBA,EAAEvrC,MAAQA,EACVA,EAAQurC,EAAErrC,GACZ,GACF,GACC,CACD1H,IAAK,iBACL+H,MAAO,SAAwB0C,GAC7B,IAAI45H,EAC6C,QAAhDA,EAAwBpuI,KAAK0sI,qBAAqD,IAA1B0B,GAA4CA,EAAsBC,eAAe75H,EAC5I,GACC,CACDzK,IAAK,kBACL+H,MAAO,WACL,IAAIgkH,EAAkB71H,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,GACnFgkI,EAASjkI,KAAK0sI,cAClB,GAAK1sI,KAAK6tI,WAAc5J,EAAxB,CAEA,IAAIniG,EAAYmiG,EAAOzvC,QAAUx0F,KAAK6tI,UACtC,KAAI/rG,GAAa,GAAjB,CAEA,IAAI5gB,EAAW+iH,EAAO/iH,SAClBA,EAASze,QAAUqzH,IAEvB91H,KAAK8sI,gBAAkB7I,EAAOqK,gBAAgBxsG,EAAW9hC,KAAK8sI,iBAJtD,CAHA,CAQV,GACC,CACD/iI,IAAK,0BACL+H,MAAO,SAAiCyP,EAAOgtH,GAC7C,IAAI/8H,EAAQxR,KAAKwuI,uBAAuBjtH,GACpCkiG,EAAMzjH,KAAKyuI,kBAAkBj9H,GACjC,GAAKiyG,IAEAA,EAAIsK,UAAatK,EAAIqK,UAA1B,CAEA,GAAa,IAATygB,GAAc9qB,EAAIsK,UAAYtK,EAAIqK,SACpC,OAAOrK,EACT,KAAIA,EAAIhyG,IAAM8P,EAAQ,IAAtB,CAEA,IAAImR,EAAO1yB,KAAKyuI,kBAAkBj9H,EAAQ,GAC1C,GAAKkhB,IAEAA,EAAKq7F,UAAar7F,EAAKo7F,UAE5B,OAAIp7F,EAAKq7F,WAAatK,EAAIsK,UAAYr7F,EAAKo7F,WAAarK,EAAIqK,SACnDp7F,OADT,CANQ,CAJA,CAYV,GACC,CACD3oB,IAAK,mBACL+H,MAAO,SAA0BugH,EAASvgC,GACxC,IAAIo5C,EACAS,EAAO3rI,KAAK6sI,gBAChB,GAAKlB,EAAL,CAEA,IAAI1D,GAAqD,QAA1CiD,EAAoBlrI,KAAKgoI,mBAA+C,IAAtBkD,OAA+B,EAASA,EAAkBxJ,MAAQrP,EAAQqP,GACvIuG,EACFjoI,KAAKotI,SAAWt7C,EAGlB9xF,KAAK0uI,qBAAqBrc,EAAQqP,GAAK,EAAG5vC,EANlC,CAOV,KAEK06C,CACT,CAnR+B,GCH3BmC,GAAmB,IACnBC,GAAsB,GACtBC,GAAwB,EACxBC,GAAsB,IACtBC,GAAmC,WACrC,SAASC,EAAkBC,GACzBhrD,GAAgBjkF,KAAMgvI,GACtBlxD,GAAgB99E,KAAM,cAAe,GACrC89E,GAAgB99E,KAAM,cAAe,IACrC89E,GAAgB99E,KAAM,UAAW,IACjC89E,GAAgB99E,KAAM,aAAc,GACpC89E,GAAgB99E,KAAM,aAAc,GACpCA,KAAKkvI,MAAQD,GAAQ,CAAC,CACxB,CAqFA,OApFA5qD,GAAa2qD,EAAmB,CAAC,CAC/BjlI,IAAK,YACL+H,MAAO,SAAmBq9H,EAAWh9C,GAC9Bg9C,GAAch9C,IAEnBnyF,KAAKovI,QAAQpoI,KAAK,IAAMmoI,EAAYh9C,GACpCnyF,KAAKovI,QAAUpvI,KAAKovI,QAAQ1nI,OAAOmnI,IACrC,GACC,CACD9kI,IAAK,iBACL+H,MAAO,SAAwBq9H,EAAWh9C,GACxC,IAAIk9C,EAAaC,EACjB,GAAKH,GAAch9C,KAAMg9C,IAA6C,QAA9BE,EAAcrvI,KAAKkvI,aAAmC,IAAhBG,OAAyB,EAASA,EAAYE,gBAAkBZ,KAA9I,CAEA3uI,KAAKwvI,YAAcL,EACnBnvI,KAAKyvI,YAAct9C,EACnBnyF,KAAK0vI,YAAc,IAAMP,EAAYh9C,EACrCnyF,KAAK2vI,YAAY3oI,KAAK,CACpBgI,KAAMmgI,EACNhvH,SAAUgyE,EACVpc,UAAWp2D,YAAY5L,QAEzB,IAAI/E,GAAwC,QAA/BsgI,EAAetvI,KAAKkvI,aAAoC,IAAjBI,OAA0B,EAASA,EAAaM,qBAAuBhB,GACvH5uI,KAAK2vI,YAAYltI,OAASuM,IAC5BhP,KAAK2vI,YAAc3vI,KAAK2vI,YAAYjoI,OAAOsH,GAXrC,CAaV,GACC,CACDjF,IAAK,cACL+H,MAAO,WACL,IAAI+9H,EACJ,IAAK7vI,KAAK2vI,YAAYltI,SAAWzC,KAAKovI,QAAQ3sI,OAC5C,OAAO,EACT,GAAIzC,KAAKovI,QAAQ3sI,OACf,OAAOzC,KAAKovI,QAAQhmD,QAAO,SAASlnF,EAAG2d,GACrC,OAAO3d,EAAK2d,CACd,IAAK7f,KAAKovI,QAAQ3sI,OAEpB,IAAIqtG,EAAa9vG,KAAK2vI,YAAY3vI,KAAK2vI,YAAYltI,OAAS,GACxDqtI,EAAOnwH,YAAY5L,MAAQ+7F,EAAW/5B,UACtC+5D,IAAyC,QAA/BD,EAAe7vI,KAAKkvI,aAAoC,IAAjBW,OAA0B,EAASA,EAAaE,qBAAuBjB,KAC1H9uI,KAAK2vI,YAAY3oI,KAAK,CACpBgI,KAAM,EACNmR,SAAU2vH,EACV/5D,UAAWp2D,YAAY5L,QAG3B,IAAIwoF,EAAYv8F,KAAK2vI,YAAYvmD,QAAO,SAASlnF,EAAG2d,GAClD,OAAO3d,EAAK2d,EAAE7Q,IAChB,GAAG,GACCuhH,EAAgBvwH,KAAK2vI,YAAYvmD,QAAO,SAASlnF,EAAG2d,GACtD,OAAO3d,EAAK2d,EAAEM,QAChB,GAAG,GACH,OAAO,IAAMo8E,EAAYg0B,CAC3B,GACC,CACDxmH,IAAK,iBACL+H,MAAO,WACL,OAAK9R,KAAK2vI,YAAYltI,QAAWzC,KAAKovI,QAAQ3sI,OAE1CzC,KAAKovI,QAAQ3sI,OACRzC,KAAKovI,QAAQpvI,KAAKovI,QAAQ3sI,OAAS,GAErCzC,KAAK0vI,YAJH,CAKX,GACC,CACD3lI,IAAK,eACL+H,MAAO,WACL,OAAO9R,KAAKwvI,UACd,GACC,CACDzlI,IAAK,eACL+H,MAAO,WACL,OAAO9R,KAAKyvI,UACd,GACC,CACD1lI,IAAK,QACL+H,MAAO,WACL9R,KAAK2vI,YAAc,GACnB3vI,KAAKovI,QAAU,GACfpvI,KAAKwvI,WAAa,EAClBxvI,KAAKyvI,WAAa,CACpB,KAEKT,CACT,CA/FuC,GCHnCgB,GAAgC,WAClC,SAASC,EAAe9gB,GACtB,IAAI5iC,EAAQvsF,KACZikF,GAAgBjkF,KAAMiwI,GACtBnyD,GAAgB99E,KAAM,QAAS,MAC/B89E,GAAgB99E,KAAM,iBAAiB,SAASs1B,EAAKxzB,GACnD,IAAIV,EAAOk0B,EAAIl0B,KAAM+B,EAAWmyB,EAAInyB,SAAU+O,EAAUojB,EAAIpjB,QACxD8nF,EAAO9nF,GAAW,CAAC,EAAG0lH,EAAgB59B,EAAK49B,cAAe91F,EAAYk4D,EAAKl4D,UAAW0yD,EAAUwF,EAAKxF,QAASkjC,EAAgB19B,EAAK09B,cACnI3kH,EAAOyhF,EAAU1yD,EACrByqD,EAAM2jD,kBAAkBC,UAAUzY,GAAiBt2H,EAAKizF,WAAYthF,GACpEw5E,EAAM4iC,IAAIjnH,KAAKkuF,GAAMoB,MAAO,CAC1BzkF,OACAshF,WAAYqjC,EACZ51H,QAEFyqF,EAAM4iC,IAAIjnH,KAAKkuF,GAAMG,cAAe,CAClCz0F,MACA6mI,QAAS51H,GAAQ,IAEnBw5E,EAAM4iC,IAAIjnH,KAAKkuF,GAAMC,KAAM,CACzBv0F,MACA24F,YAAat3F,EAASrB,IACtB6mI,QAAS/Q,EAAgB91F,IAE3ByqD,EAAM4iC,IAAIjnH,KAAKkuF,GAAME,sBAAuB,CAC1Cpc,QAAS/2E,EAAS+2E,QAClBp4E,OAEJ,IACAg8E,GAAgB99E,KAAM,kBAAkB,SAASqQ,EAAOu4H,GACtDr8C,EAAM4iC,IAAIjnH,KAAKkuF,GAAMI,WAAY,CAC/BnmF,MAAO47E,GAAe/nD,QAAQ7zB,GAC9Bu4H,aAEJ,IACA5oI,KAAKmvH,IAAMA,EACXnvH,KAAKkwI,kBAAoB,IAAInB,GAC7B/uI,KAAKowI,UAAY,CAAC,EAClBpwI,KAAKqwI,UAAY,CAAC,EAClB,IAAIvH,EAAmB9oI,KAAKmvH,IAAI1+G,OAAQslH,EAAa+S,EAAiB/S,WAAYC,EAAa8S,EAAiB9S,WAAYE,EAAc4S,EAAiB5S,YAAa6S,EAAeD,EAAiBC,aACxM/oI,KAAKswI,eAAiB,IAAI1R,GAAUhhD,GAAeA,GAAe,CAAC,EAAGmrD,GAAe,CAAC,EAAG,CACvF9lI,aAAc,cACd4vC,MAAOkjF,EACPC,aACA74F,QAAS+4F,EACT+E,aAAcj7H,KAAKgpI,kBAErBhpI,KAAKuwI,oBAAsB,IAAI3R,GAAUhhD,GAAeA,GAAe,CAAC,EAAGmrD,GAAe,CAAC,EAAG,CAC5F9lI,aAAc,cACd4vC,MAAOkjF,EACPC,aACA74F,QAAS+4F,EACT+E,aAAcj7H,KAAKgpI,kBAErBhpI,KAAKwwI,WAAa,IAAI5R,GAAUhhD,GAAeA,GAAe,CAAC,EAAGmrD,GAAe,CAAC,EAAG,CACnF9lI,aAAc,cACd4vC,MAAOkjF,EACPC,aACA74F,QAAS+4F,EACT+E,aAAcj7H,KAAKgpI,iBAEvB,CA8JA,OA7JA3kD,GAAa4rD,EAAgB,CAAC,CAC5BlmI,IAAK,YACL+H,MAAO,WACL,MAAO,CACL6nE,MAAO35E,KAAKkwI,kBAAkBO,iBAC9B53F,SAAU74C,KAAKkwI,kBAAkBQ,cAErC,GACC,CACD3mI,IAAK,OACL+H,MAAO,SAAc2xG,EAAKktB,EAAUC,GAClC,IAAIC,EAAgB5wI,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK2wI,EACjFtH,EAAS,GAKb,OAJI7lB,IACF6lB,EAAO,GAAKtpI,KAAK8wI,iBAAiBrtB,EAAKmtB,IACrCD,IACFrH,EAAO,GAAKtpI,KAAK+wI,iBAAiBJ,EAAUE,IACvCnsH,QAAQ6Z,IAAI+qG,EACrB,GACC,CACDv/H,IAAK,mBACL+H,MAAO,SAA0B2xG,EAAKmtB,GACpC,OAAO5wI,KAAKgxI,aAAahxI,KAAKswI,eAAgB7sB,EAAKmtB,EACrD,GACC,CACD7mI,IAAK,mBACL+H,MAAO,SAA0B2xG,EAAKmtB,GACpC,OAAO5wI,KAAKgxI,aAAahxI,KAAKuwI,oBAAqB9sB,EAAKmtB,EAC1D,GACC,CACD7mI,IAAK,eACL+H,MAAO,WACL,IAAIm/H,EAAgBjtD,GAAkC/F,KAAsBqE,MAAK,SAASkQ,EAAQ0+C,EAAWztB,EAAKmtB,GAChH,IAAmBO,EACfxwI,EAAKoJ,EAAK45G,EAAOytB,EAAQC,EAAU/H,EAAQgI,EAAsBC,EAAQC,EAASC,EAAQ5H,EAAoBC,EAAqBhtF,EAAG17C,EADtImvF,EAASvwF,KAEb,OAAOi+E,KAAsBU,MAAK,SAAkBiU,GAClD,MAAO,SACGA,EAAS/P,KAAO+P,EAASlgE,MAC/B,KAAK,EAyDH,OAxDA42G,EAAS,GACTtpI,KAAKmvH,IAAIjnH,KAAKkuF,GAAMzuE,WAAY,CAC9B7lB,IAAK2hH,EAAI3hH,MAEXwnI,EAAO,GAAK4H,EAAUnjH,KAAK01F,EAAI3hH,KAC3B8uI,GAAYntB,EAAIiK,cAClB6jB,EAAS9tB,EAAIiK,YAAY5rH,IACzBnB,EAAMX,KAAKowI,UAAUmB,GAChB5wI,IACHX,KAAKmvH,IAAIjnH,KAAKkuF,GAAMzuE,WAAY,CAC9B7lB,IAAKyvI,IAEPjI,EAAO,GAAK4H,EAAUnjH,KAAKwjH,GAAQ5+G,MAAK,SAAShb,GAC/C,GAAIA,EAAG,CACL,IAAI5P,EAAI7B,OAAOoP,KAAKi7E,EAAO6/C,WACvBroI,EAAI,KACNwoF,EAAO6/C,UAAY,CAAC,GACtBzvI,EAAM4vF,EAAO6/C,UAAUmB,GAAU55H,EAAEvW,KACnCmvF,EAAOi6C,cAAc7yH,EAAG45H,EAC1B,CACF,KAEFC,EAA2D,QAAhDF,EAAuB7tB,EAAIiK,YAAY3jH,WAA0C,IAAzBunI,OAAkC,EAASA,EAAqBxvI,IAC/H0vI,IACFH,EAAW5tB,EAAIiK,YAAY3jH,IAAIosG,GAC/Bi7B,EAASpxI,KAAKqwI,UAAUmB,GACnBJ,IACHpxI,KAAKmvH,IAAIjnH,KAAKkuF,GAAMzuE,WAAY,CAC9B7lB,IAAK0vI,IAEPlI,EAAO,GAAKtpI,KAAKwwI,WAAWziH,KAAKyjH,GAAS7+G,MAAK,SAAShb,GAClDA,IACFy5H,EAAS7gD,EAAO8/C,UAAUmB,GAAW75H,EAAEvW,KACvCmvF,EAAOi6C,cAAc7yH,EAAG65H,GAE5B,OAINC,EAAkC,QAAxBN,EAAW1tB,EAAI15G,WAA8B,IAAbonI,OAAsB,EAASA,EAASrvI,IAC9E2vI,GAAUhuB,EAAI15G,IAAI+3H,uBACpBne,EAAQF,EAAI15G,IAAIosG,GAChBpsG,EAAM/J,KAAKqwI,UAAUoB,GAChB1nI,IACH/J,KAAKmvH,IAAIjnH,KAAKkuF,GAAMzuE,WAAY,CAC9B7lB,IAAK2vI,IAEPnI,EAAO,GAAKtpI,KAAKwwI,WAAWziH,KAAK0jH,GAAQ9+G,MAAK,SAAShb,GACjDA,IACF5N,EAAMwmF,EAAO8/C,UAAUoB,GAAU95H,EAAEvW,KACnCmvF,EAAOi6C,cAAc7yH,EAAG85H,GAE5B,MAGJ7+C,EAASlgE,KAAO,EACThO,QAAQ6Z,IAAI+qG,GACrB,KAAK,EAIH,GAHAO,EAAqBj3C,EAAS9R,KAC9BgpD,EAAsB1jD,GAAeyjD,EAAoB,GACzD/sF,EAAIgtF,EAAoB,GACpBhtF,EAAG,CACL81C,EAASlgE,KAAO,GAChB,KACF,CACA,OAAOkgE,EAAS3R,OAAO,UACzB,KAAK,GAGH,OAFA7/E,EAAO07C,EAAE17C,KACTpB,KAAKwqI,cAAc1tF,EAAG2mE,EAAI3hH,KACnB8wF,EAAS3R,OAAO,SAAU,CAC/B7/E,OACAT,MACAoJ,MACAqnI,SACAztB,QACA0tB,aAEJ,KAAK,GACL,IAAK,MACH,OAAOz+C,EAAS5f,OAExB,GAAGwf,EAASxyF,KACd,KACA,SAASgxI,EAAaplF,EAAIgqC,EAAKC,GAC7B,OAAOo7C,EAAclxI,MAAMC,KAAMC,UACnC,CACA,OAAO+wI,CACT,CA/FO,IAgGN,CACDjnI,IAAK,QACL+H,MAAO,WACL9R,KAAKqQ,MAAQ,KACbrQ,KAAKowI,UAAY,CAAC,EAClBpwI,KAAKqwI,UAAY,CAAC,EAClBrwI,KAAKkwI,kBAAkBh+F,OACzB,GACC,CACDnoC,IAAK,SACL+H,MAAO,WACL,IAAIqoH,EAAUn2C,GAAkC/F,KAAsBqE,MAAK,SAAS4Q,IAClF,OAAOjV,KAAsBU,MAAK,SAAmB2U,GACnD,MAAO,SACGA,EAAUzQ,KAAOyQ,EAAU5gE,MACjC,KAAK,EAEH,OADA4gE,EAAU5gE,KAAO,EACVhO,QAAQ6Z,IAAI,CAACv+B,KAAKwwI,WAAWv8H,SAAUjU,KAAKswI,eAAer8H,SAAUjU,KAAKuwI,oBAAoBt8H,WACvG,KAAK,EACL,IAAK,MACH,OAAOq/E,EAAUtgB,OAEzB,GAAGkgB,EAAUlzF,KACf,KACA,SAASiU,IACP,OAAOkmH,EAAQp6H,MAAMC,KAAMC,UAC7B,CACA,OAAOgU,CACT,CAlBO,MAoBFg8H,CACT,CA5NoC,GCahCh7G,GAAS,IAAI63D,GAAO,OACpB4kD,GAAsB,SAASvZ,GACjC3zC,GAAUmtD,EAAMxZ,GAChB,IAAI/rC,EAASrG,GAAa4rD,GAC1B,SAASA,EAAKC,GACZ,IAAIrlD,EA6RJ,OA5RAtI,GAAgBjkF,KAAM2xI,GACtBplD,EAAQH,EAAOxrF,KAAKZ,MACpB89E,GAAgB8H,GAAuB2G,GAAQ,UAAWolD,EAAKluH,SAC/Dq6D,GAAgB8H,GAAuB2G,GAAQ,QAAS,MACxDzO,GAAgB8H,GAAuB2G,GAAQ,SAAU,MACzDzO,GAAgB8H,GAAuB2G,GAAQ,kBAAmB,MAClEzO,GAAgB8H,GAAuB2G,GAAQ,iBAAkB,MACjEzO,GAAgB8H,GAAuB2G,GAAQ,YAAa,MAC5DzO,GAAgB8H,GAAuB2G,GAAQ,iBAAkB,MACjEzO,GAAgB8H,GAAuB2G,GAAQ,cAAe,MAC9DzO,GAAgB8H,GAAuB2G,GAAQ,cAAe,MAC9DzO,GAAgB8H,GAAuB2G,GAAQ,SAAU,MACzDzO,GAAgB8H,GAAuB2G,GAAQ,aAAc,MAC7DzO,GAAgB8H,GAAuB2G,GAAQ,aAAc,MAC7DzO,GAAgB8H,GAAuB2G,GAAQ,aAAc,MAC7DzO,GAAgB8H,GAAuB2G,GAAQ,gBAAiB,KAChEzO,GAAgB8H,GAAuB2G,GAAQ,sBAAsB,GACrEzO,GAAgB8H,GAAuB2G,GAAQ,iBAAiB,GAChEzO,GAAgB8H,GAAuB2G,GAAQ,iBAAkB,MACjEzO,GAAgB8H,GAAuB2G,GAAQ,2BAA2B,GAC1EzO,GAAgB8H,GAAuB2G,GAAQ,eAAgCvI,GAAkC/F,KAAsBqE,MAAK,SAASkQ,IACnJ,IAAIq/C,EAAiBC,EAAa9J,EAAa+J,EAAuBthI,EAAQuhI,EAAkBC,EAAqBC,EAAOC,EAC5H,OAAOl0D,KAAsBU,MAAK,SAAkBiU,GAClD,MAAO,SACGA,EAAS/P,KAAO+P,EAASlgE,MAC/B,KAAK,EACH,IAAM65D,EAAM6lD,oBAAuB7lD,EAAMptE,MAAQ,CAC/CyzE,EAASlgE,KAAO,EAChB,KACF,CACA,OAAOkgE,EAAS3R,OAAO,UACzB,KAAK,EAKH,GAJA4wD,EAAkBtlD,EAAMg+C,UAAWuH,EAAcD,EAAgBC,YAAa9J,EAAc6J,EAAgB7J,YAC5G+J,EAAwBnsD,GAAuB2G,GAAQ97E,EAASshI,EAAsBthI,OACtFuhI,EAAmB,KACnBC,EAAsBtmI,KAAKG,IAAIH,KAAKU,KAAqB,OAAhB27H,QAAwC,IAAhBA,OAAyB,EAASA,EAAY7nH,UAAY6xH,EAAmB,GAAK,EAAGA,GAAmB,IACrKF,EAAa,CACfl/C,EAASlgE,KAAO,EAChB,KACF,CACA,OAAOkgE,EAAS3R,OAAO,UACzB,KAAK,EACH,GAAIsL,EAAM1rD,OAAQ,CAChB+xD,EAASlgE,KAAO,GAChB,KACF,CAMA,GALAw/G,EAAQ3lD,EAAMmQ,aACVnQ,EAAMptE,MAAM+L,SAAWqhE,EAAMptE,MAAMmC,cACrC4wH,EAAQ3lD,EAAMmQ,WAAWw1C,EAAM7oD,WAAa,KAE9C8oD,EAAmBxmI,KAAKqV,IAAIkxH,EAAMzgI,IAAM86E,EAAMptE,MAAMgB,UAAY8xH,IAC1DC,EAAMxoD,WAAaj5E,EAAO2lH,aAAe+b,GAAmB,CAChEv/C,EAASlgE,KAAO,GAChB,KACF,CAEA,OADA65D,EAAM8lD,UACCz/C,EAAS3R,OAAO,UACzB,KAAK,GACH,IAAMxwE,EAAOmmH,oBAAuBrqC,EAAM+lD,eAAeC,YAAc,CACrE3/C,EAASlgE,KAAO,GAChB,KACF,CACA,OAAOkgE,EAAS3R,OAAO,UACzB,KAAK,IACEsL,EAAMimD,eAAiBjmD,EAAMkmD,aAAeX,EAAYpQ,GAAK,GAAKwQ,EAAMzgI,KAAO9F,KAAKqV,IAAI8wH,EAAYvgI,MAAQ2gI,EAAMzgI,KAAO,GAC5H86E,EAAMg+C,UAAUyD,sBAAsBzhD,EAAMg+C,UAAUiE,uBAAuB0D,EAAMzgI,IAAM,KAE7F,KAAK,GACH,OAAOmhF,EAAS3R,OAAO,SAAUsL,EAAMmmD,sBACzC,KAAK,GACL,IAAK,MACH,OAAO9/C,EAAS5f,OAExB,GAAGwf,EACL,MACA1U,GAAgB8H,GAAuB2G,GAAQ,iBAAiB,WAC1DA,EAAM1rD,SAAW0rD,EAAM97E,OAAO6/G,eAC5B/jC,EAAMptE,MAAMgB,WAAamP,KAC3Bi9D,EAAM+lD,eAAe19E,eAAetlC,KAAU+D,OAAM,SAASxyB,GAC7D,GAGN,IACAi9E,GAAgB8H,GAAuB2G,GAAQ,UAA2BvI,GAAkC/F,KAAsBqE,MAAK,SAAS4Q,IAC9I,OAAOjV,KAAsBU,MAAK,SAAmB2U,GACnD,MAAO,SACGA,EAAUzQ,KAAOyQ,EAAU5gE,MACjC,KAAK,EACH,IAAM65D,EAAMptE,MAAMuQ,SAAuC,IAA5B68D,EAAMptE,MAAMmC,YAAoB,CAC3DgyE,EAAU5gE,KAAO,EACjB,KACF,CAEA,OADAuC,GAAOvkB,MAAM,gCACN4iF,EAAUrS,OAAO,UAC1B,KAAK,EAEH,GADA3tE,aAAai5E,EAAMomD,mBACdpmD,EAAMqmD,cAAe,CACxBt/C,EAAU5gE,KAAO,EACjB,KACF,CACA65D,EAAMqmD,eAAgB,EACtBrmD,EAAM55C,QAAO,GACb2gD,EAAU5gE,KAAO,GACjB,MACF,KAAK,EAEH,OADA4gE,EAAU5gE,KAAO,GACV65D,EAAMykD,eACf,KAAK,GACHzkD,EAAM/Q,aACR,KAAK,GACL,IAAK,MACH,OAAO8X,EAAUtgB,OAEzB,GAAGkgB,EACL,MACApV,GAAgB8H,GAAuB2G,GAAQ,YAAY,WACzD,GAAIA,EAAM1rD,QACR,IAAK0rD,EAAMqmD,cAAe,CACxB,IAAIC,EAAiBtmD,EAAM97E,OAAOoiI,eAGlC,GAFuB,OAAnBA,QAA8C,IAAnBA,IAC7BA,EAAiBtmD,EAAMg+C,UAAUsD,YAC9B5iI,OAAOu5F,SAASquC,GACnB,OACFv/H,aAAai5E,EAAMomD,kBACnBpmD,EAAMomD,iBAAmBvvI,YAAW,WAClCmpF,EAAMqmD,eAAgB,EACtBrmD,EAAMumD,QACR,GAAGD,GAAkB,EACvB,OAEAtmD,EAAM9Q,WAEV,IACAqC,GAAgB8H,GAAuB2G,GAAQ,aAA8BvI,GAAkC/F,KAAsBqE,MAAK,SAAS+S,IACjJ,IAAIv+B,EAAUi8E,EAAWC,EAAaC,EAAQ7iI,EAAM8iI,EAAUzvB,EAC9D,OAAOxlC,KAAsBU,MAAK,SAAmB8W,GACnD,MAAO,SACGA,EAAU5S,KAAO4S,EAAU/iE,MACjC,KAAK,EACH,GAAI65D,EAAMptE,MAAO,CACfs2E,EAAU/iE,KAAO,EACjB,KACF,CACA,OAAO+iE,EAAUxU,OAAO,UAC1B,KAAK,EAIH,GAHAsL,EAAM4mD,wBACNr8E,EAAWy1B,EAAMptE,MAAMmC,YACvByxH,EAAYxmD,EAAMg+C,UAAUwI,WACvBA,EAAW,CACdt9C,EAAU/iE,KAAO,GACjB,KACF,CAEA,GADAsgH,EAAcnI,GAAM/zE,EAAUi8E,EAAU,GAAIxmD,EAAM1rD,OAASkyG,EAAU,GAAKxmD,EAAMptE,MAAMgB,YAChF6yH,GAAe,GAAKrnI,KAAKqV,IAAI81C,EAAWk8E,IAAgB,IAAM,CAClEv9C,EAAU/iE,KAAO,GACjB,KACF,CAEA,OADA65D,EAAMptE,MAAMmC,YAAc0xH,EACnBv9C,EAAUxU,OAAO,UAC1B,KAAK,GAGH,GAFAgyD,EAAS1mD,EAAMg+C,UAAU6I,eACzBhjI,EAAOy4E,GAAOz4E,KAAKy4E,GAAO72D,IAAIu6D,EAAMptE,OAAQ23C,EAAU,KACjDm8E,EAAQ,CACXx9C,EAAU/iE,KAAO,GACjB,KACF,CACA,KAAMtiB,EAAKqB,KAAO9F,KAAKqV,IAAI5Q,EAAKqB,IAAMwhI,EAAOxhI,KAAO,IAAM,CACxDgkF,EAAU/iE,KAAO,GACjB,KACF,CACA,OAAO+iE,EAAUxU,OAAO,UAC1B,KAAK,GACH,IAAMsL,EAAM1rD,SAAUzwB,EAAKqB,IAAM,CAC/BgkF,EAAU/iE,KAAO,GACjB,KACF,CACA,OAAO+iE,EAAUxU,OAAO,UAC1B,KAAK,GAGH,GAFAiyD,EAAW3mD,EAAMg+C,UAAUiE,uBAAuB13E,GAClD2sD,EAAMl3B,EAAMg+C,UAAUkE,kBAAkByE,GACrB,OAAbA,QAAkC,IAAbA,GAAwBzvB,KAAOl3B,EAAM6lD,oBAAsB3uB,IAAQl3B,EAAMg+C,UAAUuH,aAAc,CAC1Hr8C,EAAU/iE,KAAO,GACjB,KACF,CACA,OAAO+iE,EAAUxU,OAAO,UAC1B,KAAK,GAKH,OAJAhsD,GAAOvkB,MAAM,UAAWomD,EAAU2sD,GAClCl3B,EAAMg+C,UAAUyD,sBAAsBkF,GACtC3mD,EAAM9Q,YACNga,EAAU/iE,KAAO,GACV65D,EAAM+jD,eAAer8H,SAC9B,KAAK,GAEH,GADAs4E,EAAM6lD,oBAAqB,EACpBhiI,EAAKqB,MAAO86E,EAAM1rD,OAAS,CAChC40D,EAAU/iE,KAAO,GACjB,KACF,CAEA,OADA+iE,EAAU/iE,KAAO,GACV65D,EAAMmmD,oBAAmB,GAClC,KAAK,GACHnmD,EAAM/Q,aACR,KAAK,GACL,IAAK,MACH,OAAOia,EAAUziB,OAEzB,GAAGqiB,EACL,MACAvX,GAAgB8H,GAAuB2G,GAAQ,iBAAiB,WAC9D,GAAKA,EAAMptE,MAAX,CAEA,IAYMk0H,EAZFxd,EAAMtpC,EAAM97E,OAChB,GAAIolH,EAAIh1F,QAAUg1F,EAAIU,YAAcV,EAAIS,eAAiB/pC,EAAMptE,MAAO,CACpE,IAAIiuH,EAAW7gD,EAAMg+C,UAAU6C,SAC/B,IAAKA,EACH,OACF,IAAIkG,EAAUlG,EAAW7gD,EAAMptE,MAAMmC,YACjCgyH,GAAWzd,EAAIU,aACjBthG,GAAOvkB,MAAM,6BAA6B9I,OAAO2kF,EAAMptE,MAAMmC,YAAa,eAAe1Z,OAAOwlI,EAAU,eAAexlI,OAAO0rI,IAChI/mD,EAAMptE,MAAMmC,YAAc8rH,EAAWvX,EAAIS,cAE7C,CACA,GAAIT,EAAIY,UAEsC,QAA3C4c,EAAoB9mD,EAAMgnD,mBAA+C,IAAtBF,GAAwCA,EAAkBG,MAAMjnD,EAAMptE,MAAMmC,aAE9HirE,EAAM97E,OAAO+lH,2BAA6BjqC,EAAM97E,OAAOugH,YACzDzkC,EAAMknD,wBAAwBlnD,EAAMptE,MAAMmC,YAjBpC,CAmBV,IACAw8D,GAAgB8H,GAAuB2G,GAAQ,SAAS,WACtD,GAAKA,EAAMptE,MAAX,CAEAotE,EAAM/Q,aACN,IAAIr8D,EAAQotE,EAAMptE,MACdtB,EAAWgrE,GAAO72D,IAAI7S,GACtBu0H,EAAiBnnD,EAAM+jD,eAAejgI,MAQ1C,GAPAk8E,EAAM4mD,wBACF5mD,EAAMonD,0BACHpnD,EAAM+lD,eAAev8C,WACxBxJ,EAAMonD,yBAA0B,EAChCpnD,EAAM6lD,oBAAqB,IAG3BsB,EAAJ,CACE,IAAIE,EAAyB,KACxBz0H,EAAM8G,YAAcsmE,EAAMmQ,WAAWk3C,GAAwBlqD,UAAY,KAC5EgqD,EAAeG,OAAQ,EACvBtnD,EAAMunD,WAAW7nD,GAAe/nD,QAAQwvG,IAG5C,MACI7qD,GAAOp3E,IAAIoM,IAAa,IAAOsB,EAAM8G,aACnCkyE,GAAeh5E,IACjBotE,EAAMykD,eACFzkD,EAAMwnD,aACRxnD,EAAMwnD,YAAYC,GAAG70H,EAAOotE,EAAM97E,OAAOyoF,gBAAiB3M,EAAM1rD,SAG9D1hB,EAAM8G,WAAa,GAAKsmE,EAAMwnD,aAChCxnD,EAAMwnD,YAAYC,GAAG70H,EAAOotE,EAAM97E,OAAOyoF,iBAAkB/5E,EAAMmC,aAAqBirE,EAAM1rD,SAI7F0rD,EAAM1rD,QACT0rD,EAAM8lD,SAjCA,CAmCV,IACA9lD,EAAM97E,OAASmhI,EAAOhc,GAAUgc,GAChCrlD,EAAMptE,MAAQotE,EAAM97E,OAAO0O,MAC3BotE,EAAM0nD,gBAAkB,IAAIxL,GAAe7iD,GAAuB2G,IAClEA,EAAM+jD,eAAiB,IAAIN,GAAcpqD,GAAuB2G,IAChEA,EAAMg+C,UAAY,IAAIgC,GAAS3mD,GAAuB2G,IACtDA,EAAM+lD,eAAiB,IAAIxhB,GAAclrC,GAAuB2G,IAC5DqlD,EAAKnb,YACPlqC,EAAMgnD,YAAc,IAAI76C,GAAW9S,GAAuB2G,KAEvDqlD,EAAK5gB,aACRzkC,EAAMwnD,YAAc,IAAI/6C,IAC1BzM,EAAM9W,OAAS,IAAIwlB,GAAkBrV,GAAuB2G,GAAQ,KACpEA,EAAMptE,MAAMjf,iBAAiB,aAAcqsF,EAAM2nD,eACjD3nD,EAAMptE,MAAMjf,iBAAiB,OAAQqsF,EAAMnvB,SAC3CmvB,EAAMptE,MAAMjf,iBAAiB,QAASqsF,EAAM4nD,UAC5C5nD,EAAMptE,MAAMjf,iBAAiB,UAAWqsF,EAAMjwC,YAC9CiwC,EAAMptE,MAAMjf,iBAAiB,aAAcqsF,EAAM1vC,eAC1C0vC,CACT,CA6lCA,OA5lCAlI,GAAastD,EAAM,CAAC,CAClB5nI,IAAK,SACLioB,IAAK,WACH,OAAOhyB,KAAKuqI,UAAU1pG,MACxB,GACC,CACD92B,IAAK,UACLioB,IAAK,WACH,OAAOhyB,KAAKuqI,UAAUlF,OACxB,GACC,CACDt7H,IAAK,gBACLioB,IAAK,WACH,OAAOhyB,KAAKuqI,UAAUmC,aACxB,GACC,CACD3iI,IAAK,cACLioB,IAAK,WACH,OAAOhyB,KAAKuqI,UAAU6J,WACxB,GACC,CACDrqI,IAAK,gBACLioB,IAAK,WACH,OAAOhyB,KAAKuqI,UAAUha,aACxB,GACC,CACDxmH,IAAK,UACLioB,IAAK,WACH,IAAIqiH,EACJ,OAAwD,QAAhDA,EAAuBr0I,KAAKsyI,sBAAqD,IAAzB+B,OAAkC,EAASA,EAAqBhwC,OAClI,GACC,CACDt6F,IAAK,iBACLioB,IAAK,WACH,IAAIsiH,EAAYt0I,KAAKwyI,cAAgBxyI,KAAKuqI,UAAU6I,eAAiBpzI,KAAKuqI,UAAUuH,YACpF,OAAOwC,EAAYA,EAAU/iI,MAAQ+iI,EAAUn0H,SAAW,EAAI,IAChE,GACC,CACDpW,IAAK,YACL+H,MAAO,WACL,OAAO9R,KAAKswI,eAAej0C,WAC7B,GACC,CACDtyF,IAAK,aACL+H,MAAO,WACL,IAAIyiI,EACAvrD,EAAU/oF,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,GAC/E,OAAO4oF,GAAOz4E,KAAKy4E,GAAO72D,IAAIhyB,KAAKmf,OAAuC,QAA9Bo1H,EAAcv0I,KAAKmf,aAAmC,IAAhBo1H,OAAyB,EAASA,EAAYjzH,YAAa0nE,EAC/I,GACC,CACDj/E,IAAK,WACL+H,MAAO,WACL,OAAO9R,KAAKy1E,OAAOE,UACrB,GACC,CACD5rE,IAAK,kBACL+H,MAAO,WACL,OAAOmmC,GAAwBj4C,KAAKmf,MACtC,GACC,CACDpV,IAAK,OACL+H,MAAO,WACL,IAAIq3H,EAAQnlD,GAAkC/F,KAAsBqE,MAAK,SAASoxC,IAChF,IAAI5xH,EAAKoQ,EAASkiH,EAAUogB,EAASv0I,UACrC,OAAOg+E,KAAsBU,MAAK,SAAmBi1C,GACnD,MAAO,SACGA,EAAU/wC,KAAO+wC,EAAUlhG,MACjC,KAAK,EAaH,OAZA5wB,EAAM0yI,EAAO/xI,OAAS,QAAmB,IAAd+xI,EAAO,GAAgBA,EAAO,GAAK,GAC9DtiI,EAAUsiI,EAAO/xI,OAAS,QAAmB,IAAd+xI,EAAO,GAAgBA,EAAO,GAAK,CAAC,EACnEpgB,EAA8B,mBAAZliH,EAAwBA,IAAyB,OAAZA,QAAgC,IAAZA,IAAsBA,EAAQkiH,UAChF,WAArB1wC,GAAQxxE,IAAqC,OAAZA,QAAgC,IAAZA,GAAsBA,EAAQuiI,oBACrFz0I,KAAKwyI,eAAgB,EACrBxyI,KAAK00I,eAAiB,KACtB10I,KAAKyQ,OAAOqxB,eAAY,GAEtBhgC,IACF9B,KAAKyQ,OAAO3O,IAAMA,GACpBA,EAAM9B,KAAKyQ,OAAO3O,IAClB8xH,EAAUlhG,KAAO,EACV1yB,KAAKm8E,OAAOi4C,GACrB,KAAK,EAEH,OADAR,EAAUlhG,KAAO,GACV1yB,KAAK20I,UAAU7yI,GACxB,KAAK,GACH9B,KAAKw7E,aACP,KAAK,GACL,IAAK,MACH,OAAOo4C,EAAU5gD,OAEzB,GAAG0gD,EAAU1zH,KACf,KACA,SAAS+tB,IACP,OAAOo7G,EAAMppI,MAAMC,KAAMC,UAC3B,CACA,OAAO8tB,CACT,CAnCO,IAoCN,CACDhkB,IAAK,YACL+H,MAAO,WACL,IAAI8iI,EAAa5wD,GAAkC/F,KAAsBqE,MAAK,SAAS0xC,EAASlyH,GAC9F,IAAI+yI,EAAUnI,EAAen3E,EAAUu/E,EAAsBC,EAAuBC,EAAuBC,EAAuBC,EAAiBC,EAAQC,EAASC,EAAuBvzG,EAAWwzG,EACtM,OAAOr3D,KAAsBU,MAAK,SAAmBs1C,GACnD,MAAO,SACGA,EAAUpxC,KAAOoxC,EAAUvhG,MACjC,KAAK,EACH,IACM5wB,IACFA,EAAMA,EAAIkZ,OACd,CAAE,MAAOna,GACT,CACA,GAAIiB,EAAK,CACPmyH,EAAUvhG,KAAO,EACjB,KACF,CACA,MAAM1yB,KAAK8zI,WAAW,IAAI7nD,GAAepC,GAAIW,MAAOX,GAAIa,UAAUU,OAAQ,KAAM,KAAM,wBACxF,KAAK,EAEH,OADA6oC,EAAUvhG,KAAO,EACV1yB,KAAKu1I,UAAUzzI,GACxB,KAAK,EAGH,GAFA+yI,EAAW5gB,EAAUnzC,KACrB4rD,EAAgB1sI,KAAKuqI,UAAUmC,eAC1B1sI,KAAKwyI,cAAe,CACvBve,EAAUvhG,KAAO,GACjB,KACF,CACA,IAAK1yB,KAAK6gC,OAAQ,CAChBozF,EAAUvhG,KAAO,GACjB,KACF,CACA6iC,EAAWv1D,KAAKuqI,UAAUiL,mBAAmBx1I,KAAKyyI,YAClDx9G,GAAOlkB,IAAI,cAAcnJ,OAAO5H,KAAKyyI,WAAY,cAAc7qI,OAAO2tD,EAAU,0BAC9D,IAAdA,IACFv1D,KAAKy1I,WAAa,KAClBz1I,KAAKyyI,WAAa,MAEpBxe,EAAUvhG,KAAO,GACjB,MACF,KAAK,GAQH,GAP8B,IAA1Bg6G,EAAcl7F,SAAkE,QAAhDsjG,EAAuB90I,KAAK00I,sBAAqD,IAAzBI,GAAmCA,EAAqBtjG,UAClJk7F,EAAcl7F,QAA4D,QAAjDyjG,EAAwBj1I,KAAK00I,sBAAsD,IAA1BO,OAAmC,EAASA,EAAsBzjG,SAEtJ0jG,EAAqK,kBAAzF,QAAjDH,EAAwB/0I,KAAK00I,sBAAsD,IAA1BK,OAAmC,EAASA,EAAsBjzG,WAA4E,QAAjDkzG,EAAwBh1I,KAAK00I,sBAAsD,IAA1BM,OAAmC,EAASA,EAAsBlzG,UAAY9hC,KAAK01I,0BAC7T11I,KAAKyQ,OAAOqxB,UAAYozG,EACxBC,EAASn1I,KAAKuqI,UAAUiE,uBAAuB0G,GAC/CE,EAAUp1I,KAAKuqI,UAAUkE,kBAAkB0G,EAAS,IAC/CC,EAAS,CACZnhB,EAAUvhG,KAAO,GACjB,KACF,CAGA,OAFA2iH,EAAwBD,EAAQ7jI,MAChC0iH,EAAUvhG,KAAO,GACV1yB,KAAKsyI,eAAe9e,aAAa6hB,GAC1C,KAAK,GACH,GAAIR,EAAU,CACZ5gB,EAAUvhG,KAAO,GACjB,KACF,CACA,OAAOuhG,EAAUhzC,OAAO,UAC1B,KAAK,GACH,IAAKjhF,KAAK6gC,OAAQ,CAChBozF,EAAUvhG,KAAO,GACjB,KACF,CAUA,GATA1yB,KAAKsyI,eAAep9C,qBAAqB,EAAG,YAC5CjgE,GAAOlkB,IAAI,gCAAiC/Q,KAAKuqI,UAAUha,eAC3Dt7F,GAAOlkB,IAAI,mBAAoB/Q,KAAKuqI,UAAUoL,YAC1C31I,KAAKyQ,OAAO6lH,cAAgBt2H,KAAKuqI,UAAUha,gBAC7CvwH,KAAKyQ,OAAO6lH,cAAgBt2H,KAAKuqI,UAAUha,cAC3CvwH,KAAKyQ,OAAO8lH,WAAa,IAAMv2H,KAAKyQ,OAAO6lH,eAExCue,EAASpK,UACZzqI,KAAK41I,UAAU9zI,KACX9B,KAAKuqI,UAAUoL,WAAa31I,KAAKyQ,OAAOkmH,sBAAuB,CACnE1C,EAAUvhG,KAAO,GACjB,KACF,CACA,OAAOuhG,EAAUhzC,OAAO,UAC1B,KAAK,GAEH,OADAgzC,EAAUvhG,KAAO,GACV1yB,KAAKgxI,eACd,KAAK,GACH,OAAO/c,EAAUhzC,OAAO,UAC1B,KAAK,GAEH,OADAgzC,EAAUvhG,KAAO,GACV1yB,KAAKsyI,eAAe19E,eAAe83E,EAAcnc,eAC1D,KAAK,GASH,OARAzuF,EAAY9hC,KAAKyQ,OAAOqxB,UACpBA,IACsD,QAAjDwzG,EAAwBt1I,KAAK00I,sBAAsD,IAA1BY,GAAoCA,EAAsB7jG,WACxHzxC,KAAKmf,MAAMmC,YAAcwgB,GAE3B9hC,KAAKuqI,UAAUyD,sBAAsBhuI,KAAKuqI,UAAUiE,uBAAuB1sG,IAAc,IAE3FmyF,EAAUvhG,KAAO,GACV1yB,KAAKgxI,eACd,KAAK,GACL,IAAK,MACH,OAAO/c,EAAUjhD,OAEzB,GAAGghD,EAAUh0H,KACf,KACA,SAAS20I,EAAU/oF,GACjB,OAAOgpF,EAAW70I,MAAMC,KAAMC,UAChC,CACA,OAAO00I,CACT,CA3GO,IA4GN,CACD5qI,IAAK,SACL+H,MAAO,WACL,IAAI+jI,EAAU7xD,GAAkC/F,KAAsBqE,MAAK,SAAS6xC,EAAS2hB,GAC3F,OAAO73D,KAAsBU,MAAK,SAAmB21C,GACnD,MAAO,SACGA,EAAUzxC,KAAOyxC,EAAU5hG,MACjC,KAAK,EAKH,OAJA1yB,KAAKyQ,OAAOqxB,UAAY,EACxB9hC,KAAKwyI,eAAgB,EACrBxyI,KAAK00I,eAAiB,KACtBpgB,EAAU5hG,KAAO,EACV1yB,KAAK+tB,OACd,KAAK,EAEH,OADA/tB,KAAK4yI,eAAgB,EACdte,EAAUrzC,OAAO,SAAUjhF,KAAKmf,MAAMwP,MAAMmnH,IACrD,KAAK,EACL,IAAK,MACH,OAAOxhB,EAAUthD,OAEzB,GAAGmhD,EAAUn0H,KACf,KACA,SAAS2yC,EAAOijD,GACd,OAAOigD,EAAQ91I,MAAMC,KAAMC,UAC7B,CACA,OAAO0yC,CACT,CAxBO,IAyBN,CACD5oC,IAAK,YACL+H,MAAO,WACL,IAAIikI,EAAa/xD,GAAkC/F,KAAsBqE,MAAK,SAASkyC,EAAS1yH,GAC9F,IAAIoQ,EAAS8jI,EAAajsI,EAAKksI,EAAUxkG,EAAU3P,EAAWo0G,EAAUC,EAASl2I,UACjF,OAAOg+E,KAAsBU,MAAK,SAAmB81C,GACnD,MAAO,SACGA,EAAU5xC,KAAO4xC,EAAU/hG,MACjC,KAAK,EACHxgB,EAAUikI,EAAO1zI,OAAS,QAAmB,IAAd0zI,EAAO,GAAgBA,EAAO,GAAK,CAAC,EACnEH,EAAc,CACZvkG,UAAU,EACV3P,UAAW,EACX0P,QAAS,GAEXijF,EAAUzQ,GAAKtgC,GAAQxxE,GACvBuiH,EAAU/hG,KAAwB,WAAjB+hG,EAAUzQ,GAAkB,EAAqB,YAAjByQ,EAAUzQ,GAAmB,EAAqB,WAAjByQ,EAAUzQ,GAAkB,EAAI,GAClH,MACF,KAAK,EAIH,OAHA9xG,EAAU,CACR4vB,UAAW5vB,GAENuiH,EAAUxzC,OAAO,QAAS,IACnC,KAAK,EAIH,OAHA/uE,EAAU,CACRu/B,SAAUv/B,GAELuiH,EAAUxzC,OAAO,QAAS,IACnC,KAAK,EACH,IAAKl3E,KAAOmI,OACW,IAAjBA,EAAQnI,IAAoC,OAAjBmI,EAAQnI,WAC9BmI,EAAQnI,GAGnB,OAAO0qH,EAAUxzC,OAAO,QAAS,IACnC,KAAK,GACH,KAAM,+BAA+Br5E,OAAOsK,GAC9C,KAAK,GAMH,GALAA,EAAUhM,OAAOkmB,OAAO,CAAC,EAAG4pH,EAAa9jI,GACzC+jI,EAAW/jI,EAASu/B,EAAWwkG,EAASxkG,SAAU3P,EAAYm0G,EAASn0G,UACvE9hC,KAAKyQ,OAAO3O,IAAMA,EAClB9B,KAAKyQ,OAAOqxB,UAAYA,EACxB9hC,KAAK00I,eAAiBxiI,EAClBu/B,EAAU,CACZgjF,EAAU/hG,KAAO,GACjB,KACF,CAEA,GADA+hG,EAAU5xC,KAAO,IACZ7iF,KAAKyQ,OAAOugH,WAAY,CAC3ByD,EAAU/hG,KAAO,GACjB,KACF,CACA+hG,EAAUxQ,GAAKjkH,KAAK+tB,KAAKjsB,GACzB2yH,EAAU/hG,KAAO,GACjB,MACF,KAAK,GAEH,OADA+hG,EAAU/hG,KAAO,GACV1yB,KAAK+tB,KAAKjsB,GACnB,KAAK,GACH2yH,EAAUxQ,GAAKwQ,EAAU3zC,KAC3B,KAAK,GACHo1D,EAAWzhB,EAAUxQ,GACrBwQ,EAAU/hG,KAAO,GACjB,MACF,KAAK,GAIH,MAHA+hG,EAAU5xC,KAAO,GACjB4xC,EAAU2hB,GAAK3hB,EAAU,SAAS,IAClCz0H,KAAKkI,KAAK8X,GAAMu3E,kBAAmBk9B,EAAU2hB,IACvC3hB,EAAU2hB,GAClB,KAAK,GAOH,OANAp2I,KAAK4yI,eAAgB,EACjBsD,GACFl2I,KAAKkI,KAAK8X,GAAMs3E,mBAAoB,CAClCx1F,QAGG2yH,EAAUxzC,OAAO,SAAUjhF,KAAKmf,MAAMwP,MAAK,IACpD,KAAK,GASH,OARA3uB,KAAKwyI,eAAgB,EAChBxyI,KAAK6gC,SACR7gC,KAAKyyI,WAAa,KAClBzyI,KAAKy1I,WAAa,MAEpBz1I,KAAKuqI,UAAUr4F,QACflyC,KAAKsyI,eAAe+D,iBACpB5hB,EAAU/hG,KAAO,GACV1yB,KAAK8yI,SACd,KAAK,GAEH,OADAre,EAAU/hG,KAAO,GACV1yB,KAAK20I,UAAU7yI,GACxB,KAAK,GACH9B,KAAKw7E,aACP,KAAK,GACHx7E,KAAK00I,eAAiB,KACxB,KAAK,GACL,IAAK,MACH,OAAOjgB,EAAUzhD,OAEzB,GAAGwhD,EAAUx0H,KAAM,CAAC,CAAC,GAAI,KAC3B,KACA,SAASwwC,EAAUqlD,GACjB,OAAOkgD,EAAWh2I,MAAMC,KAAMC,UAChC,CACA,OAAOuwC,CACT,CAtGO,IAuGN,CACDzmC,IAAK,eACL+H,MAAO,WACL,IAAIwkI,EAAgBtyD,GAAkC/F,KAAsBqE,MAAK,SAASqyC,EAAS5nH,GACjG,IAAIwpI,EAAOC,EAAWnR,EAASuG,EAAU6K,EAAOC,EAASz2I,UACzD,OAAOg+E,KAAsBU,MAAK,SAAmBi2C,GACnD,MAAO,SACGA,EAAU/xC,KAAO+xC,EAAUliG,MACjC,KAAK,EAIH,GAHA6jH,IAAQG,EAAOj0I,OAAS,QAAmB,IAAdi0I,EAAO,KAAgBA,EAAO,GAC3DF,EAAYx2I,KAAK0sI,cACjBrH,EAAUrlI,KAAKqlI,QACRmR,GAAaA,EAAUzpI,KAAOA,GAAOs4H,KAAWA,EAAQ5iI,OAAS,GAAI,CAC1EmyH,EAAUliG,KAAO,EACjB,KACF,CACA,OAAOkiG,EAAU3zC,OAAO,UAC1B,KAAK,EAIH,GAHA2qD,EAAWvG,EAAQtrG,MAAK,SAASzb,GAC/B,OAAOA,EAAEvR,KAAOA,CAClB,IACI6+H,EAAU,CACZhX,EAAUliG,KAAO,EACjB,KACF,CACA,OAAOkiG,EAAU3zC,OAAO,UAC1B,KAAK,EAGH,OAFA2zC,EAAU/xC,KAAO,EACjB+xC,EAAUliG,KAAO,GACV1yB,KAAK8yI,SACd,KAAK,GACH,IAAKyD,EAAO,CACV3hB,EAAUliG,KAAO,GACjB,KACF,CAEA,OADAkiG,EAAUliG,KAAO,GACV1yB,KAAKsyI,eAAepe,iBAC7B,KAAK,GACHU,EAAUliG,KAAO,GACjB,MACF,KAAK,GAGH,MAFAkiG,EAAU/xC,KAAO,GACjB+xC,EAAU5Q,GAAK4Q,EAAU,SAAS,GAC5B50H,KAAK8zI,WAAW7nD,GAAe7kF,OAAOwtH,EAAU5Q,KACxD,KAAK,GASH,GARIwyB,EAAUlL,oBAAsBM,EAAS9H,aAAarhI,OAAS,IACjEg0I,EAAQD,EAAUlL,mBAAmBv+H,GACrC6+H,EAASN,mBAAqBM,EAAS9H,aAAa/pG,MAAK,SAASzb,GAChE,OAAOA,EAAEvR,KAAO0pI,CAClB,KAAM7K,EAASN,oBAEjBtrI,KAAKuqI,UAAUmC,cAAgBd,EAC/BhX,EAAU/xC,KAAO,IACX7iF,KAAK6gC,QAAW+qG,EAAS1qH,SAASze,OAAS,CAC/CmyH,EAAUliG,KAAO,GACjB,KACF,CAEA,OADAkiG,EAAUliG,KAAO,GACV1yB,KAAK22I,eACd,KAAK,GAIH,OAHA32I,KAAKuqI,UAAUyD,sBAAsBhuI,KAAKuqI,UAAUiE,uBAAuBxuI,KAAKmf,MAAMmC,cAAgB,GACtGthB,KAAKy1I,WAAa,KAClB7gB,EAAUliG,KAAO,GACV1yB,KAAK0yI,qBACd,KAAK,GACH9d,EAAUliG,KAAO,GACjB,MACF,KAAK,GAIH,MAHAkiG,EAAU/xC,KAAO,GACjB+xC,EAAU3Q,GAAK2Q,EAAU,SAAS,IAClC50H,KAAKuqI,UAAUmC,cAAgB8J,EACzB5hB,EAAU3Q,GAClB,KAAK,GAEH,OADAjkH,KAAKw7E,aACEo5C,EAAU3zC,OAAO,SAAU2qD,GACpC,KAAK,GACL,IAAK,MACH,OAAOhX,EAAU5hD,OAEzB,GAAG2hD,EAAU30H,KAAM,CAAC,CAAC,EAAG,IAAK,CAAC,GAAI,KACpC,KACA,SAAS42I,EAAa9gD,GACpB,OAAOwgD,EAAcv2I,MAAMC,KAAMC,UACnC,CACA,OAAO22I,CACT,CAnFO,IAoFN,CACD7sI,IAAK,oBACL+H,MAAO,WACL,IAAI+kI,EAAqB7yD,GAAkC/F,KAAsBqE,MAAK,SAAS0yC,EAASjoH,GACtG,IAAIwpI,EAAOC,EAAWM,EAAalL,EAAUmL,EAAS92I,UACtD,OAAOg+E,KAAsBU,MAAK,SAAmBs2C,GACnD,MAAO,SACGA,EAAUpyC,KAAOoyC,EAAUviG,MACjC,KAAK,EAGH,GAFA6jH,IAAQQ,EAAOt0I,OAAS,QAAmB,IAAds0I,EAAO,KAAgBA,EAAO,GAC3DP,EAAYx2I,KAAK0sI,cACb8J,EAAW,CACbvhB,EAAUviG,KAAO,EACjB,KACF,CACA,OAAOuiG,EAAUh0C,OAAO,UAC1B,KAAK,EAEH,GADA61D,EAAcN,EAAUlL,mBACjBwL,GAAeA,EAAY/pI,KAAOA,KAAMypI,EAAU1S,aAAarhI,OAAS,GAAI,CACjFwyH,EAAUviG,KAAO,EACjB,KACF,CACA,OAAOuiG,EAAUh0C,OAAO,UAC1B,KAAK,EAIH,GAHA2qD,EAAW4K,EAAU1S,aAAa/pG,MAAK,SAASzb,GAC9C,OAAOA,EAAEvR,KAAOA,CAClB,IACI6+H,EAAU,CACZ3W,EAAUviG,KAAO,GACjB,KACF,CACA,OAAOuiG,EAAUh0C,OAAO,UAC1B,KAAK,GAGH,OAFAg0C,EAAUpyC,KAAO,GACjBoyC,EAAUviG,KAAO,GACV1yB,KAAK8yI,SACd,KAAK,GACH,IAAKyD,EAAO,CACVthB,EAAUviG,KAAO,GACjB,KACF,CAEA,OADAuiG,EAAUviG,KAAO,GACV1yB,KAAKsyI,eAAepe,iBAC7B,KAAK,GACHe,EAAUviG,KAAO,GACjB,MACF,KAAK,GAGH,MAFAuiG,EAAUpyC,KAAO,GACjBoyC,EAAUjR,GAAKiR,EAAU,SAAS,IAC5Bj1H,KAAK8zI,WAAW7nD,GAAe7kF,OAAO6tH,EAAUjR,KACxD,KAAK,GAGH,GAFAwyB,EAAUlL,mBAAqBM,EAC/B3W,EAAUpyC,KAAO,IACX7iF,KAAK6gC,QAAW+qG,EAAS1qH,SAASze,OAAS,CAC/CwyH,EAAUviG,KAAO,GACjB,KACF,CAEA,OADAuiG,EAAUviG,KAAO,GACV1yB,KAAK22I,eACd,KAAK,GAIH,OAHA32I,KAAKuqI,UAAUyD,sBAAsBhuI,KAAKuqI,UAAUiE,uBAAuBxuI,KAAKmf,MAAMmC,cAAgB,GACtGthB,KAAKy1I,WAAa,KAClBxgB,EAAUviG,KAAO,GACV1yB,KAAK0yI,qBACd,KAAK,GACHzd,EAAUviG,KAAO,GACjB,MACF,KAAK,GAIH,MAHAuiG,EAAUpyC,KAAO,GACjBoyC,EAAUhR,GAAKgR,EAAU,SAAS,IAClCuhB,EAAUlL,mBAAqBwL,EACzB7hB,EAAUhR,GAClB,KAAK,GAEH,OADAjkH,KAAKw7E,aACEy5C,EAAUh0C,OAAO,SAAU2qD,GACpC,KAAK,GACL,IAAK,MACH,OAAO3W,EAAUjiD,OAEzB,GAAGgiD,EAAUh1H,KAAM,CAAC,CAAC,GAAI,IAAK,CAAC,GAAI,KACrC,KACA,SAASg3I,EAAkB9yB,GACzB,OAAO2yB,EAAmB92I,MAAMC,KAAMC,UACxC,CACA,OAAO+2I,CACT,CAnFO,IAoFN,CACDjtI,IAAK,uBACL+H,MAAO,WACL,IAAImlI,EAAwBjzD,GAAkC/F,KAAsBqE,MAAK,SAAS8yC,EAAU5gH,GAC1G,OAAOypE,KAAsBU,MAAK,SAAoB22C,GACpD,MAAO,SACGA,EAAWzyC,KAAOyyC,EAAW5iG,MACnC,KAAK,EAGH,OAFA1yB,KAAKuqI,UAAU8D,eAAe75H,GAC9B8gH,EAAW5iG,KAAO,EACX1yB,KAAKi0I,gBAAgBiD,WAC9B,KAAK,EAEH,OADA5hB,EAAW5iG,KAAO,EACX1yB,KAAK22I,eACd,KAAK,EACL,IAAK,MACH,OAAOrhB,EAAWtiD,OAE1B,GAAGoiD,EAAWp1H,KAChB,KACA,SAASm3I,EAAqBhzB,GAC5B,OAAO8yB,EAAsBl3I,MAAMC,KAAMC,UAC3C,CACA,OAAOk3I,CACT,CAtBO,IAuBN,CACDptI,IAAK,cACL+H,MAAO,WACL,IAAIijH,EAAe/wC,GAAkC/F,KAAsBqE,MAAK,SAAS80D,IACvF,OAAOn5D,KAAsBU,MAAK,SAAoB04D,GACpD,MAAO,SACGA,EAAWx0D,KAAOw0D,EAAW3kH,MACnC,KAAK,EACH,IAAK1yB,KAAKsyI,eAAgB,CACxB+E,EAAW3kH,KAAO,EAClB,KACF,CAEA,OADA2kH,EAAW3kH,KAAO,EACX1yB,KAAKsyI,eAAepd,cAC7B,KAAK,EACL,IAAK,MACH,OAAOmiB,EAAWrkE,OAE1B,GAAGokE,EAAWp3I,KAChB,KACA,SAASk1H,IACP,OAAOH,EAAah1H,MAAMC,KAAMC,UAClC,CACA,OAAOi1H,CACT,CAtBO,IAuBN,CACDnrH,IAAK,UACL+H,MAAO,WACL,IAAIqjH,EAAWnxC,GAAkC/F,KAAsBqE,MAAK,SAASg1D,IACnF,IAAIC,EACJ,OAAOt5D,KAAsBU,MAAK,SAAoB64D,GACpD,MAAO,SACGA,EAAW30D,KAAO20D,EAAW9kH,MACnC,KAAK,EACH,GAAI1yB,KAAKmf,MAAO,CACdq4H,EAAW9kH,KAAO,EAClB,KACF,CACA,OAAO8kH,EAAWv2D,OAAO,UAC3B,KAAK,EAWH,OAVAjhF,KAAK8I,qBACL9I,KAAKuqI,UAAUr4F,QACflyC,KAAKswI,eAAep+F,QACwB,QAA3CqlG,EAAqBv3I,KAAKuzI,mBAAgD,IAAvBgE,GAAyCA,EAAmBrlG,QAChHlyC,KAAKmf,MAAM/e,oBAAoB,aAAcJ,KAAKk0I,eAClDl0I,KAAKmf,MAAM/e,oBAAoB,OAAQJ,KAAKo9D,SAC5Cp9D,KAAKmf,MAAM/e,oBAAoB,QAASJ,KAAKm0I,UAC7Cn0I,KAAKmf,MAAM/e,oBAAoB,UAAWJ,KAAKs8C,YAC/Ct8C,KAAKmf,MAAM/e,oBAAoB,aAAcJ,KAAK68C,eAClD26F,EAAW9kH,KAAO,GACXhO,QAAQ6Z,IAAI,CAACv+B,KAAK8yI,SAAU9yI,KAAKsyI,eAAenyI,YACzD,KAAK,GACHH,KAAKmf,MAAQ,KACf,KAAK,GACL,IAAK,MACH,OAAOq4H,EAAWxkE,OAE1B,GAAGskE,EAAWt3I,KAChB,KACA,SAASG,IACP,OAAOg1H,EAASp1H,MAAMC,KAAMC,UAC9B,CACA,OAAOE,CACT,CApCO,IAqCN,CACD4J,IAAK,YACL+H,MAAO,WACL,IAAI2lI,EAAWzzD,GAAkC/F,KAAsBqE,MAAK,SAASo1D,EAAU51I,GAC7F,IAAIsoI,EAAUuN,EAAuBC,EAAwB/C,EAAUxrB,EAAO8C,EAAO0rB,EACrF,OAAO55D,KAAsBU,MAAK,SAAoBm5D,GACpD,MAAO,SACGA,EAAWj1D,KAAOi1D,EAAWplH,MACnC,KAAK,EAKH,GAJAolH,EAAWj1D,KAAO,EAClBgyD,EAAkE,QAAtD8C,EAAwB33I,KAAKyQ,OAAOimH,oBAAoD,IAA1BihB,GAE/D,QAF4GC,EAAyBD,EAAsBh1H,QAAO,SAASrE,GACpL,OAAOA,EAAExc,MAAQA,CACnB,IAAG,UAA2C,IAA3B81I,OAF0F,EAE7CA,EAAuB/C,UAClFA,EAAU,CACbiD,EAAWplH,KAAO,EAClB,KACF,CACAolH,EAAW9zB,GAAKhkH,KAAKi0I,gBAAgB8D,UAAUlD,EAAU/yI,GACzDg2I,EAAWplH,KAAO,EAClB,MACF,KAAK,EAEH,OADAolH,EAAWplH,KAAO,EACX1yB,KAAKi0I,gBAAgBlmH,KAAKjsB,GACnC,KAAK,EACHg2I,EAAW9zB,GAAK8zB,EAAWh3D,KAC7B,KAAK,EACHuoC,EAAQyuB,EAAW9zB,GACnBmI,EAAQ/lC,GAAeijC,EAAO,GAC9B+gB,EAAWje,EAAM,GACjB2rB,EAAWplH,KAAO,GAClB,MACF,KAAK,GAGH,MAFAolH,EAAWj1D,KAAO,GAClBi1D,EAAW7zB,GAAK6zB,EAAW,SAAS,GAC9B93I,KAAK8zI,WAAW7nD,GAAe7kF,OAAO0wI,EAAW7zB,KACzD,KAAK,GACH,GAAImmB,EAAU,CACZ0N,EAAWplH,KAAO,GAClB,KACF,CACA,OAAOolH,EAAW72D,OAAO,UAC3B,KAAK,GAEH,GADAjhF,KAAKuqI,UAAUyN,eAAe5N,IACzBA,EAASK,SAAU,CACtBqN,EAAWplH,KAAO,GAClB,KACF,CAOA,OAN+E,QAA1EmlH,EAAwB73I,KAAKuqI,UAAUmC,cAAc3I,uBAAuD,IAA1B8T,GAAoCA,EAAsBp1I,QAC/IzC,KAAKkI,KAAK8X,GAAM8uG,kBAAmB,CACjCl9G,KAAM5R,KAAKuqI,UAAUmC,cAAc3I,kBAGvC+T,EAAWplH,KAAO,GACX1yB,KAAK22I,eACd,KAAK,GAEH,OADA32I,KAAKkI,KAAK8X,GAAM2uG,eACTmpB,EAAW72D,OAAO,SAAUmpD,GACrC,KAAK,GACL,IAAK,MACH,OAAO0N,EAAW9kE,OAE1B,GAAG0kE,EAAW13I,KAAM,CAAC,CAAC,EAAG,KAC3B,KACA,SAASu1I,EAAUnxB,GACjB,OAAOqzB,EAAS13I,MAAMC,KAAMC,UAC9B,CACA,OAAOs1I,CACT,CAjEO,IAkEN,CACDxrI,IAAK,eACL+H,MAAO,WACL,IAAImmI,EAAuBC,EAAuB3nD,EAASvwF,KACvDikI,EAASjkI,KAAKuqI,UAAUmC,cAC5B,IAAKzI,IAAWA,EAAOniI,IACrB,MAAM9B,KAAK8zI,WAAW7nD,GAAe7kF,OAAO,KAAM,KAAM,IAAI+xB,MAAM,6BACpE,IAAIr3B,EAAMmiI,EAAOniI,IACbsnI,EAAmE,QAAvD6O,EAAwBhU,EAAOqH,0BAA0D,IAA1B2M,OAAmC,EAASA,EAAsBn2I,IAC7IunI,EAAyE,QAA1D6O,EAAwBjU,EAAOoH,6BAA6D,IAA1B6M,OAAmC,EAASA,EAAsBp2I,IACvJ,OAAO9B,KAAKi0I,gBAAgBlmH,KAAKjsB,EAAKsnI,EAAUC,GAAa12G,MAAK,SAASy5F,GACzE,IAAIK,EAAQrmC,GAAegmC,EAAO,GAAI+rB,EAAgB1rB,EAAM,GAAI4d,EAAgB5d,EAAM,GAAI6d,EAAmB7d,EAAM,GAC9G0rB,IAEL5nD,EAAOg6C,UAAUyN,eAAeG,EAAe9N,EAAeC,GACzD/5C,EAAO1vD,QAEZ0vD,EAAOqlD,UAAU9zI,EAAKsnI,EAAUC,GAClC,IAAGh2G,OAAM,SAASxd,GAChB,MAAM06E,EAAOujD,WAAW7nD,GAAe7kF,OAAOyO,GAChD,GACF,GACC,CACD9L,IAAK,YACL+H,MAAO,SAAmBhQ,EAAKsnI,EAAUC,GACvC,IAEI+O,EAIEC,EANF/mD,EAAStxF,KACTs4I,EAAUt4I,KAAKuqI,UAAU+N,QAEzBt4I,KAAKuqI,UAAUvE,WACjBoS,EAAwE,KAAxDp4I,KAAKuqI,UAAUmC,cAAczG,oBAAsB,GAGnEmS,EAAsK,MAA5F,QAAxDC,EAAwBr4I,KAAKuqI,UAAUvC,mBAAmD,IAA1BqQ,OAAmC,EAASA,EAAsBl4H,WAAa,GAEnKngB,KAAKi0I,gBAAgBsE,KACnBz2I,EACAsnI,EACAC,GACA,SAASmP,EAAIzzD,EAAI0zD,GACfnnD,EAAOi5C,UAAUyN,eAAeQ,EAAIzzD,EAAI0zD,GACxCnnD,EAAOi5C,UAAU+D,kBACjB,IAAIoK,EAAkBF,GAAMF,IAAYhnD,EAAOi5C,UAAU+N,SACrDI,IAAoBpnD,EAAOi5C,UAAUoO,kBAAoBrnD,EAAOi5C,UAAUoL,YAAcrkD,EAAO7gF,OAAOkmH,uBACxGrlC,EAAO0/C,eAELsH,IACFA,EAAUhnD,EAAOi5C,UAAU+N,QAC/B,IACA,SAASziI,GACPy7E,EAAOwiD,WAAW7nD,GAAe7kF,OAAOyO,GAC1C,GACAuiI,EAEJ,GACC,CACDruI,IAAK,qBACL+H,MAAO,WACL,IAAI8mI,EAAsB50D,GAAkC/F,KAAsBqE,MAAK,SAASu2D,EAAUC,GACxG,IAAIr1B,EAAKyyB,EAAU6C,EAAaC,EAAwBlnD,EAAWmnD,EACnE,OAAOh7D,KAAsBU,MAAK,SAAoBu6D,GACpD,MAAO,SACGA,EAAWr2D,KAAOq2D,EAAWxmH,MACnC,KAAK,EAEH,GADA+wF,EAAMzjH,KAAKuqI,UAAUuH,YACjBruB,EAAK,CACPy1B,EAAWxmH,KAAO,EAClB,KACF,CACA,OAAOwmH,EAAWj4D,OAAO,UAC3B,KAAK,EAOH,OANAi1D,GAAW,EACX6C,EAAc,KACdG,EAAWr2D,KAAO,EAClB7iF,KAAKoyI,oBAAqB,EAC1Bn9G,GAAOlkB,IAAI,oBAAoBnJ,OAAO67G,EAAIie,GAAI,OAAO95H,OAAO67G,EAAIlyG,MAAO,MAAM3J,OAAO67G,EAAIhyG,IAAK,iBAAiB7J,OAAO67G,EAAImjB,YACzHsS,EAAWxmH,KAAO,GACX1yB,KAAKm5I,qBAAqB11B,EAAKzjH,KAAKuqI,UAAUoD,gBAAgBlqB,IACvE,KAAK,GACHyyB,EAAWgD,EAAWp4D,KACtBo4D,EAAWxmH,KAAO,GAClB,MACF,KAAK,GACHwmH,EAAWr2D,KAAO,GAClBq2D,EAAWl1B,GAAKk1B,EAAW,SAAS,GACpCH,EAAcG,EAAWl1B,GAC3B,KAAK,GAGH,OAFAk1B,EAAWr2D,KAAO,GAClB7iF,KAAKoyI,oBAAqB,EACnB8G,EAAW31D,OAAO,IAC3B,KAAK,GACH,IAAKw1D,EAAa,CAChBG,EAAWxmH,KAAO,GAClB,KACF,CACA,IAAK1yB,KAAKsyI,eAAev8C,SAAU,CACjCmjD,EAAWxmH,KAAO,GAClB,KACF,CAIA,OAHAuC,GAAOlkB,IAAI,oBAAoBnJ,OAAO67G,EAAIie,GAAI,gBAAgB95H,OAAO67G,EAAImjB,YACzE5mI,KAAKoyI,oBAAqB,EAC1BpyI,KAAK2zI,yBAA0B,EACxBuF,EAAWj4D,OAAO,UAAU,GACrC,KAAK,GACH,OAAOi4D,EAAWj4D,OAAO,SAAUjhF,KAAK8zI,WAAW7nD,GAAe7kF,OAAO2xI,KAC3E,KAAK,GAyBH,OAxBI7C,IACFpkD,EAAY9xF,KAAK08F,aAAajrF,IAC1BzR,KAAK6gC,SAAW7gC,KAAKmf,MAAMuQ,SAAWoiE,GAAanmF,KAAKqV,IAAIyiG,EAAIhyG,IAAMqgF,GAAa,IACrF78D,GAAO3kB,KAAK,YAAY1I,OAAO67G,EAAIie,GAAI,kBAAkB95H,OAAO67G,EAAIhyG,IAAK,eAAe7J,OAAOkqF,IAC/F9xF,KAAKuqI,UAAU6O,iBAAiB31B,EAAK3xB,IAEvCmnD,GAA0E,QAA3DD,EAAyBh5I,KAAKuqI,UAAUmC,qBAAsD,IAA3BsM,OAAoC,EAASA,EAAuBl3I,OAAS2hH,EAAIwd,UAC/JjhI,KAAKwyI,gBAAkByG,IACzBhkH,GAAO3kB,KAAK,kCACZtQ,KAAKsyI,eAAe+D,kBAElBr2I,KAAK6gC,QAAU7gC,KAAKwyI,eAAiByG,IACvCj5I,KAAKwyI,eAAgB,EACrBxyI,KAAKkI,KAAK8X,GAAMs3E,mBAAoB,CAClCx1F,IAAK9B,KAAKyQ,OAAO3O,OAGrB9B,KAAKuqI,UAAU8O,qBACX51B,EAAIwkB,OACNjoI,KAAKg6D,OACK8+E,GACV94I,KAAKgxI,gBAGFkI,EAAWj4D,OAAO,SAAUi1D,GACrC,KAAK,GACL,IAAK,MACH,OAAOgD,EAAWlmE,OAE1B,GAAG6lE,EAAW74I,KAAM,CAAC,CAAC,EAAG,GAAI,GAAI,KACnC,KACA,SAAS0yI,EAAmBvf,GAC1B,OAAOylB,EAAoB74I,MAAMC,KAAMC,UACzC,CACA,OAAOyyI,CACT,CApFO,IAqFN,CACD3oI,IAAK,uBACL+H,MAAO,WACL,IAAIwnI,EAAwBt1D,GAAkC/F,KAAsBqE,MAAK,SAASi3D,EAAU91B,EAAKktB,GAC/G,IAAI6I,EACA7S,EAAI/kC,EAAe63C,EAAWr4I,EAAMsgI,EAAInwH,EAAO0yH,EAAQyV,EAAQ73C,EAAY83C,EAC/E,OAAO17D,KAAsBU,MAAK,SAAoBi7D,GACpD,MAAO,SACGA,EAAW/2D,KAAO+2D,EAAWlnH,MACnC,KAAK,EAMH,OALAi0G,EAAKljB,EAAMA,EAAIkjB,GAAKgK,EAAShK,GAC7B/kC,EAAgB5hG,KAAKy1I,aAAe9O,EACpC8S,EAAY,GACZG,EAAW/2D,KAAO,EAClB+2D,EAAWlnH,KAAO,EACX1yB,KAAKswI,eAAeviH,KAAK01F,EAAKktB,EAAU/uC,GACjD,KAAK,EACH63C,EAAYG,EAAW94D,KACvB84D,EAAWlnH,KAAO,GAClB,MACF,KAAK,EAKH,MAJAknH,EAAW/2D,KAAO,EAClB+2D,EAAW51B,GAAK41B,EAAW,SAAS,GACpCA,EAAW51B,GAAG6vB,OAAQ,EACtB7zI,KAAKswI,eAAejgI,MAAQupI,EAAW51B,GACjC41B,EAAW51B,GACnB,KAAK,GACH,GAAIy1B,EAAU,GAAI,CAChBG,EAAWlnH,KAAO,GAClB,KACF,CACA,OAAOknH,EAAW34D,OAAO,UAC3B,KAAK,GAEH,OADA24D,EAAWlnH,KAAO,IACV8mH,EAAwBx5I,KAAKsyI,gBAAgBuH,cAAc95I,MAAMy5I,EAAuBhzD,GAAmBizD,IACrH,KAAK,GAEH,GADAr4I,EAAOw4I,EAAW94D,KACd1/E,EAAM,CACRw4I,EAAWlnH,KAAO,GAClB,KACF,CACA,OAAOknH,EAAW34D,OAAO,UAC3B,KAAK,GAcH,OAbAygD,EAAKje,EAAMA,EAAIie,GAAKiP,EAASjP,GAC7BnwH,EAAQkyG,EAAMA,EAAIlyG,MAAQo/H,EAASp/H,MACnC0yH,EAASjkI,KAAKuqI,UAAUmC,cACxB1sI,KAAKsyI,eAAep+C,aAAa9yF,EAAK,GAAIA,EAAK,GAAe,OAAX6iI,QAA8B,IAAXA,OAAoB,EAASA,EAAOvqC,WAAuB,OAAXuqC,QAA8B,IAAXA,OAAoB,EAASA,EAAOxqC,YAC7KigD,EAAS5lI,KAAKC,MACd8tF,EAAa7hG,KAAKyyI,aAAe/Q,EAAK,EAClC1hI,KAAK6gC,QAAU7gC,KAAKwyI,gBACtBmH,EAAW35I,KAAK08F,aAAajrF,IAC7BzR,KAAKuqI,UAAUmE,qBAAqBhN,EAAIiY,GACxC1kH,GAAO3kB,KAAK,gDAAgD1I,OAAO85H,EAAI,mBAAmB95H,OAAO+xI,EAAU,eAAe/xI,OAAO5H,KAAKuqI,UAAU6C,WAChJ77H,EAAQooI,GAEVC,EAAWlnH,KAAO,GACX1yB,KAAKsyI,eAAe/9C,aAAakvB,EAAKktB,EAAUvvI,EAAK,GAAIA,EAAK,GAAIwgG,EAAeC,EAAYtwF,GACtG,KAAK,GAMH,OALAvR,KAAKkI,KAAK8X,GAAMgvG,YAAa,CAC3B2Z,QAAS70H,KAAKC,MAAQ2lI,EACtB53I,IAAK2hH,EAAI3hH,MAEX83I,EAAWlnH,KAAO,GACX1yB,KAAKsyI,eAAeze,YAAY7zH,KAAKyQ,OAAOkjH,cACrD,KAAK,GAGH,OAFA3zH,KAAKy1I,WAAa9O,EAClB3mI,KAAKyyI,WAAa/Q,EACXkY,EAAW34D,OAAO,UAAU,GACrC,KAAK,GACL,IAAK,MACH,OAAO24D,EAAW5mE,OAE1B,GAAGumE,EAAWv5I,KAAM,CAAC,CAAC,EAAG,IAC3B,KACA,SAASm5I,EAAqBrlB,EAAKe,GACjC,OAAOykB,EAAsBv5I,MAAMC,KAAMC,UAC3C,CACA,OAAOk5I,CACT,CA5EO,IA6EN,CACDpvI,IAAK,wBACL+H,MAAO,WACL,IAAIgoI,EAAyB91D,GAAkC/F,KAAsBqE,MAAK,SAASy3D,IACjG,IAAIjjF,EAAUj5C,EAAUm8H,EAAYr2I,EAAGgwH,EAAcsmB,EACrD,OAAOh8D,KAAsBU,MAAK,SAAoBu7D,GACpD,MAAO,SACGA,EAAWr3D,KAAOq3D,EAAWxnH,MACnC,KAAK,EACHokC,EAAW92D,KAAKmf,MAAMmC,YACtBzD,EAAW7d,KAAKmf,MAAMtB,SACtBm8H,GAAa,EACbr2I,EAAI,EACN,KAAK,EACH,KAAMA,EAAIka,EAASpb,QAAS,CAC1By3I,EAAWxnH,KAAO,GAClB,KACF,CACA,KAAM7U,EAAStM,MAAM,IAAMulD,GAAYA,EAAWj5C,EAASpM,IAAI9N,IAAK,CAClEu2I,EAAWxnH,KAAO,EAClB,KACF,CAEA,OADAsnH,GAAa,EACNE,EAAWj5D,OAAO,QAAS,IACpC,KAAK,EACHt9E,IACAu2I,EAAWxnH,KAAO,EAClB,MACF,KAAK,GACH,IAAK1yB,KAAKsyI,eAAev8C,SAAU,CACjCmkD,EAAWxnH,KAAO,GAClB,KACF,CAGA,GAFAihG,EAAeqmB,EAAah6I,KAAKyQ,OAAOkjH,aAAe,EACvDsmB,EAAYj6I,KAAKmf,MAAMmC,cACjB24H,EAAYtmB,EAAe,GAAI,CACnCumB,EAAWxnH,KAAO,GAClB,KACF,CAEA,OADAwnH,EAAWxnH,KAAO,GACX1yB,KAAKsyI,eAAe9e,aAAa,EAAGymB,EAAYtmB,GACzD,KAAK,GACL,IAAK,MACH,OAAOumB,EAAWlnE,OAE1B,GAAG+mE,EAAW/5I,KAChB,KACA,SAASmzI,IACP,OAAO2G,EAAuB/5I,MAAMC,KAAMC,UAC5C,CACA,OAAOkzI,CACT,CAjDO,IAkDN,CACDppI,IAAK,0BACL+H,MAAO,SAAiCiB,GACtC,IAAIonI,EAAan6I,KAAKuqI,UAAU6P,wBAAwBrnI,EAAM/S,KAAKsyI,eAAe/D,MAC7E4L,GAELn6I,KAAKwwC,UAAUxwC,KAAKyQ,OAAO3O,IAAKq4I,EAAW5oI,MAAQ,GACrD,GACC,CACDxH,IAAK,SACL+H,MAAO,WACL,IAAIuoI,EAAUr2D,GAAkC/F,KAAsBqE,MAAK,SAASg4D,IAClF,OAAOr8D,KAAsBU,MAAK,SAAoB47D,GACpD,MAAO,SACGA,EAAW13D,KAAO03D,EAAW7nH,MACnC,KAAK,EAIH,OAHApf,aAAatT,KAAK2yI,kBAClB3yI,KAAKy7E,YACL8+D,EAAW7nH,KAAO,EACXhO,QAAQ6Z,IAAI,CAACv+B,KAAKswI,eAAer8H,SAAUjU,KAAKi0I,gBAAgBiD,aACzE,KAAK,EACHl3I,KAAKoyI,oBAAqB,EAC5B,KAAK,EACL,IAAK,MACH,OAAOmI,EAAWvnE,OAE1B,GAAGsnE,EAAWt6I,KAChB,KACA,SAAS8yI,IACP,OAAOuH,EAAQt6I,MAAMC,KAAMC,UAC7B,CACA,OAAO6yI,CACT,CAtBO,IAuBN,CACD/oI,IAAK,SACL+H,MAAO,WACL,IAAI0oI,EAAUx2D,GAAkC/F,KAAsBqE,MAAK,SAASm4D,IAClF,IAAIC,EACAtmB,EAAUumB,EAAU16I,UACxB,OAAOg+E,KAAsBU,MAAK,SAAoBi8D,GACpD,MAAO,SACGA,EAAW/3D,KAAO+3D,EAAWloH,MACnC,KAAK,EAWH,OAVA0hG,EAAWumB,EAAQl4I,OAAS,QAAoB,IAAfk4I,EAAQ,IAAgBA,EAAQ,GACjE36I,KAAK4yI,eAAgB,EACrB5yI,KAAKyyI,WAAa,KAClBzyI,KAAKy1I,WAAa,KAClBz1I,KAAK00I,eAAiB,KACtB10I,KAAKuqI,UAAUr4F,QACflyC,KAAKswI,eAAep+F,QACwB,QAA3CwoG,EAAqB16I,KAAKuzI,mBAAgD,IAAvBmH,GAAyCA,EAAmBxoG,QAChHlyC,KAAKy1E,OAAOvjC,QACZ0oG,EAAWloH,KAAO,GACX1yB,KAAK8yI,SACd,KAAK,GACH,OAAO8H,EAAW35D,OAAO,SAAUjhF,KAAKsyI,eAAepgG,MAAMkiF,IAC/D,KAAK,GACL,IAAK,MACH,OAAOwmB,EAAW5nE,OAE1B,GAAGynE,EAAWz6I,KAChB,KACA,SAASm8E,IACP,OAAOq+D,EAAQz6I,MAAMC,KAAMC,UAC7B,CACA,OAAOk8E,CACT,CA/BO,IAgCN,CACDpyE,IAAK,OACL+H,MAAO,WACL9R,KAAK8yI,SACL9yI,KAAKsyI,eAAe7+C,eAChBzzF,KAAKmf,MAAM8G,YAAc,GAAKjmB,KAAKmf,MAAMtB,SAASpb,OAAS,IAC7DzC,KAAKw7E,YAET,GACC,CACDzxE,IAAK,YACL+H,MAAO,WACD9R,KAAK66I,YACPvnI,aAAatT,KAAK66I,YAEpB76I,KAAK66I,WAAa,IACpB,GACC,CACD9wI,IAAK,aACL+H,MAAO,WACL9R,KAAKy7E,YACLz7E,KAAK66I,WAAaz3I,WAAWpD,KAAK86I,MAAO96I,KAAK+6I,cAChD,GACC,CACDhxI,IAAK,aACL+H,MAAO,SAAoBzB,GACzB,IAAI2qI,EAKEC,EAAcC,EAAcC,EAJ9B1nD,EAAcxzF,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,IAAgBA,UAAU,IACmD,KAA/E,QAA5C+6I,EAAqB3qI,EAAMsV,mBAAgD,IAAvBq1H,OAAgC,EAASA,EAAmBnH,OACpH5+G,GAAO3kB,KAAKD,IAGZ4kB,GAAO25D,MAAMv+E,GACb4kB,GAAO5kB,MAAMA,GACb4kB,GAAO5kB,MAAsC,QAA/B4qI,EAAej7I,KAAKmf,aAAoC,IAAjB87H,OAA0B,EAASA,EAAa5qI,OACjE,QAA/B6qI,EAAel7I,KAAKmf,aAAoC,IAAjB+7H,GAA2BA,EAAaj1H,YAClFjmB,KAAKmf,MAAMsP,QAEbzuB,KAAKy7E,YACDz7E,KAAKwyI,gBACPxyI,KAAKwyI,eAAgB,EACrBxyI,KAAKkI,KAAK8X,GAAMu3E,kBAAmBlnF,IAErCrQ,KAAKkI,KAAK8X,GAAM8G,MAAOzW,GACnBojF,GACFzzF,KAAKg6D,OACqC,QAA3CmhF,EAAqBn7I,KAAKuzI,mBAAgD,IAAvB4H,GAAyCA,EAAmBjpG,SAElH,OAAO7hC,CACT,GACC,CACDtG,IAAK,0BACL+H,MAAO,WACL,IAAIqN,EAAQnf,KAAKmf,MACbi8H,EAAgBj8H,EAAMmC,YAC1B,IAAKnC,EAAM+L,OAAQ,CACjB,IAAImwH,EACAlG,EAASn1I,KAAKuqI,UAAUiE,uBAAuBrvH,EAAMmC,aACrD2xH,EAASjzI,KAAKuqI,UAAUkE,kBAAkB0G,GAC1CmG,EAA8C,QAAhCD,EAAer7I,KAAKy1E,cAAqC,IAAjB4lE,OAA0B,EAASA,EAAa1lE,WAAWymB,cACrH,GAAIk/C,GAAcrI,EAAQ,CACxB,IAAI5+F,EAAQ4+F,EAAO9yH,SAAWngB,KAAKuqI,UAAUmC,cAAcl7F,QAAU8pG,EAAa,EAClFF,GAAiB/mG,CACnB,MACE+mG,GAAiB,CAErB,CACA,OAAOA,CACT,GACC,CACDrxI,IAAK,UACL+H,MAAO,WACL,IAAIypI,EAAuBC,EACvBr8H,EAAQnf,KAAKmf,MACbs8H,EAAmBz7I,KAAKuqI,UAAWuH,EAAc2J,EAAiB3J,YAAa9J,EAAcyT,EAAiBzT,YAC9G0T,IAAe5J,GAAe9J,GAAen/C,GAAO8yD,WAAWx8H,EAAO6oH,EAAYz2H,MAAQy2H,EAAY7nH,SAAW,KAAOhB,EAAM8G,YAAc9G,EAAMgB,SAAW,IAAwD,QAAjDo7H,EAAwBv7I,KAAKsyI,sBAAsD,IAA1BiJ,OAAmC,EAASA,EAAsBK,eAAmE,QAAjDJ,EAAwBx7I,KAAKsyI,sBAAsD,IAA1BkJ,GAAoCA,EAAsBK,cACxa,GAAKH,EAAL,CAGA,IAAIxJ,EAAQlyI,KAAK08F,aACbv9E,EAAM+L,SAAW/L,EAAMmC,cACzB4wH,EAAQlyI,KAAK08F,WAAWw1C,EAAM7oD,WAAa,KAE7C,IAAI8oD,EAAmBxmI,KAAKqV,IAAIkxH,EAAMzgI,IAAM0N,EAAMgB,UAAY,KAAQngB,KAAK6gC,QAAUmnG,GAAekK,EAAMzgI,KAAOu2H,EAAYz2H,MAAQy2H,EAAY7nH,SAC7IgyH,GACFnyI,KAAKsyI,eAAe7+C,aAPtB,CASF,IACE,CAAC,CACH1pF,IAAK,cACL+H,MAAO,SAAqB8a,GAC1B,OAAKA,GAA2B,UAAdA,GAAuC,UAAdA,EAGb,qBAAhBkvH,YAFLzrD,GAAI1yD,aAGf,GACC,CACD5zB,IAAK,eACL+H,MAAO,WACLg7E,GAAO9yD,SACP+hH,GAAS/hH,QACX,GACC,CACDjwB,IAAK,gBACL+H,MAAO,WACLg7E,GAAOhzD,UACPiiH,GAASjiH,SACX,KAEK63G,CACT,CAh4C0B,CAg4CxBxqI,KACF22E,GAAgB4zD,GAAK,UAAW,UAChC,IACMsK,aAAaC,QAAQ,OACvBvK,GAAIwK,eAEJxK,GAAIyK,eAER,CAAE,MAAO9rI,IACT,CCv5CA,IAAI+rI,GAAkC,WACpC,SAASC,EAAiBpN,EAAMv7G,GAC9B,IAAI64D,EAAQvsF,KACZikF,GAAgBjkF,KAAMq8I,GACtBv+D,GAAgB99E,KAAM,QAAS,MAC/B89E,GAAgB99E,KAAM,UAAW,MACjC89E,GAAgB99E,KAAM,gBAAgB,WACpC,IAAIs8I,EAAeC,EAAsBC,EAAgBC,EACrDpN,EAAc9iD,EAAM2iD,MAAO/vH,EAAQkwH,EAAYlwH,MAAOu9H,EAAerN,EAAYqN,aACjD,QAAnCJ,EAAgB/vD,EAAM/yD,eAAuC,IAAlB8iH,GAAsF,QAAjDC,EAAuBD,EAAclrI,cAA6C,IAAzBmrI,GAA2CA,EAAqBr0I,KAAK,YAAaiX,EAAMw9H,aAC7L,QAApCH,EAAiBjwD,EAAM/yD,eAAwC,IAAnBgjH,GAAyF,QAAnDC,EAAwBD,EAAeprI,cAA8C,IAA1BqrI,GAA4CA,EAAsBv0I,KAAK,aAAc01E,GAAeA,GAAe,CAAC,EAAGz+D,EAAMw9H,aAAc,CAAC,EAAG,CAC3R/iI,UAAWoG,GAAMq3E,aAEE,IAAjBqlD,GACFnwD,EAAMqwD,SAASz9H,EAAM3Z,IAEzB,IACAs4E,GAAgB99E,KAAM,YAAY,SAAS8B,GACzC,IAAIsP,EAASm7E,EAAM/yD,QAAQpoB,OACvByrI,EAAczrI,EAAO8N,MACzB,IAAI29H,GAAmC,WAApBA,EAAYC,IAA/B,CAEA,IAAIC,EAAW3rI,EAAO8N,MAAM89H,aAC5B5rI,EAAO8N,MAAQ69H,EACfF,EAAYI,QAAQn7I,GAChBA,IACFsP,EAAOX,OAAO3O,IAAMA,GAEtB,IAAIytC,EAAan+B,EAAOpQ,KAAKuuC,WACN,WAAnBA,EAAWutG,KACb1rI,EAAOpQ,KAAKk8I,aAAaH,EAAUxtG,GAErC,IAAI4tG,EAAY5wD,EAAM/yD,QAAQ9zB,YAAYwtB,WAAW7Q,cACrDjR,EAAO0kB,iBAAiBqnH,GACxB/rI,EAAO3K,KAAK,WAAW,WACrB2K,EAAOud,MACT,GAfQ,CAgBV,IACAmvD,GAAgB99E,KAAM,uBAAuB,SAAS8B,GACpD,IAAI46I,EAAenwD,EAAM2iD,MAAMwN,aACV,IAAjBA,GACFnwD,EAAMqwD,SAAS96I,EAEnB,IACA9B,KAAKkvI,MAAQD,EACbjvI,KAAKw5B,QAAU9F,EACf1zB,KAAKo9I,OACP,CAiCA,OAhCA/4D,GAAag4D,EAAkB,CAAC,CAC9BtyI,IAAK,QACL+H,MAAO,WACL,IAAIw9H,EAAetvI,KAAKkvI,MAAO/vH,EAAQmwH,EAAanwH,MAAOi3G,EAAckZ,EAAalZ,YAAasmB,EAAepN,EAAaoN,aAAc77G,EAASyuG,EAAazuG,OAC9J1hB,IAEA0hB,IAAU1hB,EAAMk+H,aAIjBX,GACFv9H,EAAM3a,aAAa,eAAgBk4I,GAEjCtmB,GACFj3G,EAAM3a,aAAa,cAAe4xH,GAEpCp2H,KAAKytC,eATHtuB,EAAMk+H,YAAY,OAUtB,GACC,CACDtzI,IAAK,cACL+H,MAAO,WACL,IAAIqN,EAAQnf,KAAKkvI,MAAM/vH,MACvBA,EAAMjf,iBAAiB,YAAaF,KAAKs9I,aAC3C,GACC,CACDvzI,IAAK,UACL+H,MAAO,WACL,IAAI+9H,EAAc0N,EACc,QAA/B1N,EAAe7vI,KAAKkvI,aAAoC,IAAjBW,GAAiF,QAA7C0N,EAAqB1N,EAAa1wH,aAA0C,IAAvBo+H,GAAyCA,EAAmBn9I,oBAAoB,YAAaJ,KAAKs9I,cACnOt9I,KAAKw5B,QAAU,IACjB,KAEK6iH,CACT,CAjFsC,GCIlCzrB,GAAY,CAAC,eACjB,SAAS4sB,GAAmBh1I,EAAMkrB,GAChC,IAAItiB,EAASsiB,EAAOtiB,OAChBs/B,EAAUt/B,EAAOkQ,YACjBpP,EAAU,CACZ4vB,UAAW4O,GAEb,OAAQgzC,GAAQl7E,IACd,IAAK,UACH0J,EAAQu/B,SAAWjpC,EACnB,MACF,IAAK,SACH,IAAI8Y,EAAc9Y,EAAK8Y,YAAam9G,EAAOh5C,GAAyBj9E,EAAMooH,IAC1E1qH,OAAOkmB,OAAOla,EAASusH,GACI,kBAAhBn9G,IACTpP,EAAQ4vB,UAAYxgB,GAEtB,MAGJ,OAAOpP,CACT,CACA,IAAIurI,GAA4B,SAASC,GACvCl5D,GAAUm5D,EAAYD,GACtB,IAAItxD,EAASrG,GAAa43D,GAC1B,SAASA,IACP,IAAIpxD,EACJtI,GAAgBjkF,KAAM29I,GACtB,IAAK,IAAIx8H,EAAOlhB,UAAUwC,OAAQ+F,EAAO,IAAI9H,MAAMygB,GAAOmsE,EAAO,EAAGA,EAAOnsE,EAAMmsE,IAC/E9kF,EAAK8kF,GAAQrtF,UAAUqtF,GAuBzB,OArBAf,EAAQH,EAAOxrF,KAAKb,MAAMqsF,EAAQ,CAACpsF,MAAM4H,OAAOY,IAChDs1E,GAAgB8H,GAAuB2G,GAAQ,SAAUt3D,IACzD6oD,GAAgB8H,GAAuB2G,GAAQ,MAAO,MACtDzO,GAAgB8H,GAAuB2G,GAAQ,kBAAmB,MAClEzO,GAAgB8H,GAAuB2G,GAAQ,YAAY,WACzD,IAAIqxD,EACJ,OAAmC,QAA3BA,EAAYrxD,EAAM4iC,WAA+B,IAAdyuB,OAAuB,EAASA,EAAUjoE,UACvF,IACAmI,GAAgB8H,GAAuB2G,GAAQ,qBAAqB,SAASyN,GAC3E,IAAI6jD,EACArpI,EAAOwlF,EAAKxlF,KACa,QAA5BqpI,EAAatxD,EAAM4iC,WAAgC,IAAf0uB,GAAiCA,EAAW1G,qBAAqB3iI,EACxG,IACAspE,GAAgB8H,GAAuB2G,GAAQ,oBAAoB,WACjE,IAAIrhE,EAASqhE,EAAMn7E,OAAO8Z,OACrBA,GAELqhE,EAAMn7E,OAAO3K,KAAK,WAAW,WAC3B8lF,EAAMn7E,OAAOqd,OACf,GACF,IACO89D,CACT,CAmMA,OAlMAlI,GAAas5D,EAAY,CAAC,CACxB5zI,IAAK,OACLioB,IAAK,WACH,OAAOhyB,KAAKmvH,GACd,GACC,CACDplH,IAAK,UACLioB,IAAK,WACH,IAAI8rH,EACJ,OAAmC,QAA3BA,EAAa99I,KAAKmvH,WAAgC,IAAf2uB,OAAwB,EAASA,EAAWr6H,OACzF,GACC,CACD1Z,IAAK,aACLioB,IAAK,WACH,IAAI+rH,EAAcC,EACdpxH,EAA6C,QAAhCmxH,EAAe/9I,KAAKoR,cAAqC,IAAjB2sI,GAAmF,QAA/CC,EAAsBD,EAAattI,cAA4C,IAAxButI,OAAjE,EAA2GA,EAAoBpxH,UAClN,QAASA,GAA2B,UAAdA,GAAuC,UAAdA,CACjD,GACC,CACD7iB,IAAK,mBACL+H,MAAO,WACL,IAAIy+E,EAASvwF,KACTyQ,EAASzQ,KAAKoR,OAAOX,OACrBumE,EAAYh3E,KAAKoR,OAAO+N,OAASnf,KAAKoR,OAAO8N,MAC7C++H,EAAUxtI,EAAO0+G,KAAO,CAAC,EAC7B,IAAK1+G,EAAO3O,KAAQ2O,EAAOytI,wBAAyBD,EAAQvuD,YAAaW,GAAI8tD,aAA7E,CAGIn+I,KAAKmvH,KACPnvH,KAAKmvH,IAAIhvH,UACX,IAAIk5C,EAAanzC,OAAOy3E,yBAAyB39E,KAAKoR,OAAQ,aACzDioC,IAAcA,EAAWne,WAC5Bl7B,KAAKoR,OAAOo/B,UAAY,SAAS1uC,EAAK0G,GACpC,OAAO,IAAIkc,SAAQ,SAASC,EAAS8Y,GACnC,IAAIrsB,EAASm/E,EAAOn/E,OAAQ+9G,EAAM5+B,EAAO4+B,IACzC,GAAIA,EAAK,CACP,IAAIivB,EAAsBC,EACtBnsI,EAAUsrI,GAAmBh1I,EAAM+nF,GACvCn/E,EAAOX,OAAO3O,IAAMA,EACpBqtH,EAAI3+E,UAAU1uC,EAAKoQ,GAASygB,MAAK,WAC/B,OAAOhO,GAAQ,EACjB,IAAG0O,MAAMoK,IACJvrB,EAAQu/B,UAA8D,QAAjD2sG,EAAuB7tD,EAAOn/E,OAAOX,cAA6C,IAAzB2tI,GAA0F,QAAtDC,EAAwBD,EAAqBjvB,WAA2C,IAA1BkvB,GAAoCA,EAAsBC,uBAC7O/tD,EAAOguD,kBAEX,MACE9gH,GAEJ,GACF,GAEF,IAqCM+gH,EArCFC,EAAcz+I,KAAKoR,OAAOo/B,UAoC9B,GAnCAxwC,KAAKoR,OAAOk6B,cAAe,EAC3B2yG,EAAQvB,aAAeuB,EAAQvB,cAAgBjsI,EAAOisI,aACvB,OAA3BuB,EAAQpL,qBAAsD,IAA3BoL,EAAQpL,iBAC7CoL,EAAQpL,eAAiB,GAC3B7yI,KAAKmvH,IAAM,IAAIuiB,GAAI9zD,GAAe,CAChCozC,WAAYhxH,KAAKgxH,WACjBnwF,OAAQpwB,EAAOowB,OACf1hB,MAAO63D,EACPl1C,UAAWrxB,EAAOqxB,UAClBhgC,IAAK2O,EAAO3O,KACXm8I,IACEj+I,KAAKgxH,YACR78F,GAAWC,qBAAqBp0B,KAAKoR,OAAQ,CAC3CtP,IAAK,CACHkwB,IAAK,WACH,IAAI4gG,EAAY8rB,EAChB,OAAqC,QAA7B9rB,EAAariC,EAAO4+B,WAAgC,IAAfyD,GAA2E,QAAzC8rB,EAAmB9rB,EAAWzzG,aAAwC,IAArBu/H,OAA3D,EAAkGA,EAAiBl5I,GAC1L,EACAy1B,cAAc,KAIhBj7B,KAAKgxH,aACPhxH,KAAK2+I,gBAAkB,IAAIvC,GAAgBx+D,GAAe,CACxD/8C,OAAQpwB,EAAOowB,OACf1hB,MAAO63D,GACNinE,GAAUj+I,MACbA,KAAKoR,OAAOwtI,oBAAsB,WAEhC,IADA,IAAIC,EACKnxD,EAAQztF,UAAUwC,OAAQ+F,EAAO,IAAI9H,MAAMgtF,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFnlF,EAAKmlF,GAAS1tF,UAAU0tF,GAE1B,OAA4D,QAApDkxD,EAAwBtuD,EAAOouD,uBAAuD,IAA1BE,OAAmC,EAASA,EAAsBD,oBAAoB7+I,MAAM8+I,EAAuBr2I,EACzL,GAEEiI,EAAOowB,OAEyB,QAAjC29G,EAAgBx+I,KAAKoR,cAAsC,IAAlBotI,GAAoCA,EAAclrH,SAAS,UAAU,WAC7G,IAAIu/F,EACJ,OAAsC,QAA9BA,EAActiC,EAAO4+B,WAAiC,IAAhB0D,OAAyB,EAASA,EAAYlgF,QAC9F,IAEF3yC,KAAK6I,GAAGxC,GAAmBo4I,GAC3Bz+I,KAAK6I,GAAGxC,IAA0B,kBAAmBrG,KAAK8+I,mBAC1D9+I,KAAK6I,GAAGxC,GAAgBrG,KAAKG,QAAQI,KAAKP,OAC1CA,KAAK++I,cACL/+I,KAAKg/I,gBAAgB5oD,GAAMC,MAC3Br2F,KAAKg/I,gBAAgB5oD,GAAMzuE,YAC3B3nB,KAAKg/I,gBAAgB5oD,GAAME,uBAC3Bt2F,KAAKg/I,gBAAgB5oD,GAAMG,eAC3Bv2F,KAAKg/I,gBAAgB5oD,GAAMI,YAC3Bx2F,KAAKg/I,gBAAgB5oD,GAAMK,sBAC3Bz2F,KAAKg/I,gBAAgB5oD,GAAMM,oBAC3B12F,KAAKg/I,gBAAgB5oD,GAAMQ,eAC3B52F,KAAKg/I,gBAAgB5oD,GAAMS,eAC3B72F,KAAKg/I,gBAAgB5oD,GAAMU,WAC3B92F,KAAKg/I,gBAAgB5oD,GAAMW,UAC3B/2F,KAAKg/I,gBAAgB5oD,GAAMa,iBAC3Bj3F,KAAKg/I,gBAAgB5oD,GAAMuB,eAC3B33F,KAAKg/I,gBAAgB5oD,GAAMc,KAC3Bl3F,KAAKg/I,gBAAgB5oD,GAAMe,aAC3Bn3F,KAAKg/I,gBAAgB5oD,GAAMoB,OAC3Bx3F,KAAKg/I,gBAAgB5oD,GAAMqB,qBAC3Bz3F,KAAKg/I,gBAAgB5oD,GAAMsB,kBAC3B13F,KAAKg/I,gBAAgB5oD,GAAMwB,kBAC3B53F,KAAKg/I,gBAAgB5oD,GAAMkB,oBAC3Bt3F,KAAKg/I,gBAAgB5oD,GAAMmB,mBAC3Bv3F,KAAKg/I,gBAAgBh/H,GAAM4uG,gBAC3B5uH,KAAKg/I,gBAAgBh/H,GAAM2uG,eAC3B3uH,KAAKg/I,gBAAgBh/H,GAAM6uG,mBAC3B7uH,KAAKg/I,gBAAgBh/H,GAAM8uG,mBAC3B9uH,KAAKg/I,gBAAgBh/H,GAAMgvG,aACvBv+G,EAAO3O,KACT9B,KAAKmvH,IAAIphG,KAAKtd,EAAO3O,IAAK,CACxBsyH,UAAU,IACT/gG,OAAM,SAASxyB,GAClB,GArGF,CAuGF,GACC,CACDkJ,IAAK,UACL+H,MAAO,WACL,IAAImtI,EACAj/I,KAAKmvH,MACPnvH,KAAKmvH,IAAIhvH,UACTH,KAAKmvH,IAAM,MAEsC,QAAlD8vB,EAAwBj/I,KAAK2+I,uBAAuD,IAA1BM,GAA4CA,EAAsB9+I,UAC7HH,KAAK2+I,gBAAkB,IACzB,GACC,CACD50I,IAAK,cACL+H,MAAO,WACL,IAAIw/E,EAAStxF,KACbA,KAAKmvH,IAAItmH,GAAGmX,GAAM8G,OAAO,SAASjR,GAC5By7E,EAAOlgF,QACTkgF,EAAOlgF,OAAOlJ,KAAK7B,GAAc,IAAIif,GAAOgsE,EAAOlgF,OAAQyE,GAE/D,GACF,GACC,CACD9L,IAAK,kBACL+H,MAAO,SAAyB8H,GAC9B,IAAIg4E,EAAS5xF,KACbA,KAAKmvH,IAAItmH,GAAG+Q,GAAW,SAAS/Y,GAC1B+wF,EAAOxgF,SACTwgF,EAAOxgF,OAAOlJ,KAAK,aAAc01E,GAAeA,GAAe,CAAC,EAAG/8E,GAAI,CAAC,EAAG,CACzE+Y,eAEEA,IAAcw8E,GAAMe,aAAevF,EAAOu9B,IAAIilB,aAChDxiD,EAAOstD,mBAAmBr+I,GAGhC,GACF,GACC,CACDkJ,IAAK,qBACL+H,MAAO,SAA4BjR,GACjC,IACE,IAAIs+I,EAAUvpE,KAAKxxC,MAAM1jC,MAAMqL,KAAKlL,EAAEO,KAAKS,SAASlB,KAAI,SAAS2d,GAC/D,OAAOnc,OAAOsvG,aAAanzF,EAC7B,IAAG3H,KAAK,IAAIjP,MAAM,GAAI,IACtB,IAAKy3I,EAAQ,YACX,OACFn/I,KAAKoR,OAAOlJ,KAAK,aAAc,CAC7B0R,UAAWoG,GAAM+uG,iBACjBh8G,KAAMosI,EAAQ,aAElB,CAAE,MAAOzjF,GACT,CACF,IACE,CAAC,CACH3xD,IAAK,aACLioB,IAAK,WACH,MAAO,KACT,GACC,CACDjoB,IAAK,cACL+H,MAAO,SAAqB8a,EAAWytE,GACrC,OAAOq3C,GAAI/zG,YAAY/Q,EAAWytE,EACpC,KAEKsjD,CACT,CAnOgC,CAmO9BxpH,IACF2pD,GAAgB2/D,GAAW,MAAO/L,IAClC5zD,GAAgB2/D,GAAW,QAASz9H,I,e5J1GlC,IACExY,KAAM,OACN43I,WAAY,CAACC,MAAK,IAACC,KAAI,IAACC,WAAUA,GAAAA,GAClCn+I,IAAAA,GACE,MAAO,CACL2L,GAAI,GACJ3L,KAAM,CAAC,EACP+M,KAAM,GACNc,OAAQ,GACRmC,OAAQ,KACRouI,WAAY,CACV,QAAS,QACT,QAAS,iBACT,QAAS,QAEXC,eAAgB,CACd,QAAS,aACT,QAAS,sBACT,QAAS,UAEX/yI,aAAc,GACd4C,WAAY,GACZC,UAAW,GACXQ,QAAQ,EACR2vI,SAAS,GACT5vI,MAAM,GAEV,EACArE,SAAU,KACLk0I,EAAAA,EAAAA,IAAS,CACVC,IAAK5xG,GAASA,EAAM6xG,OAAOD,IAC3BE,MAAO9xG,GAASA,EAAM6xG,OAAOC,MAC7B7yI,SAAU+gC,GAASA,EAAM6xG,OAAO5yI,YAGpC7B,MAAO,CACL,OAAU,CACRC,OAAAA,CAAQ00I,GACQ,QAAXA,EAAGv4I,OACJxH,KAAK+M,GAAK/M,KAAKggJ,OAAOC,MAAMlzI,GAC5B/M,KAAKkgJ,WAELlgJ,KAAK0M,aAAe1M,KAAKggJ,OAAOC,MAAMvzI,aACtC1M,KAAKsP,WAAatP,KAAKggJ,OAAOC,MAAM3wI,WACpCtP,KAAKuP,UAAYvP,KAAKggJ,OAAOC,MAAM1wI,UAEvC,EACA/D,WAAW,GAEbo0I,GAAAA,CAAIG,GACF//I,KAAKmO,KAAOynE,KAAKxxC,MAAMwxC,KAAKC,UAAUkqE,GACxC,GAEF9zI,QAAS,KACJk0I,EAAAA,EAAAA,IAAW,CACZC,cAAe,yBAIjBnwI,gBAAAA,CAAiB7D,GACfpM,KAAK+P,QAAU3D,EACfpM,KAAKqgJ,WACP,EAGA7xI,IAAAA,CAAK1M,GACHJ,OAAOsB,KAAKlB,EACd,EACAiM,UAAAA,CAAWgF,GACT,OAAOutI,IAAOvtI,GAAM8E,OAAO,aAC7B,EACA,kBAAM0oI,GACJvgJ,KAAKogJ,eAAc,GACnB,IACE,IAAI,KAACh/I,EAAI,KAAEglB,SAAco6H,EAAAA,GAAiB,CAACzzI,GAAI/M,KAAK+M,KACxC,KAARqZ,IACFpmB,KAAKoB,KAAOA,EACZpB,KAAKygJ,aACLzgJ,KAAK0gJ,cAET,CAAE,MAAO7/I,GACT,CAAE,QACAb,KAAKogJ,eAAc,EACrB,CACF,EACA,iBAAMM,GACJ,IACE,IAAI,KAACt/I,EAAI,KAAEglB,SAAco6H,EAAAA,GAAgB,CAACzzI,GAAI/M,KAAKoB,KAAKkO,aAC5C,KAAR8W,IACFpmB,KAAK2gJ,aAAev/I,EAExB,CAAE,MAAOP,GACT,CAAE,QACAb,KAAKogJ,eAAc,EACrB,CACF,EACA,eAAMC,GAEJ,IACE,IAAI,KAACO,EAAI,KAAEx6H,EAAI,MAACtW,SAAe0wI,EAAAA,GAAc,CAC3CzwI,QAAS/P,KAAK+P,QACd2vI,SAAU1/I,KAAK0/I,SACfpwI,WAAYtP,KAAKoB,KAAKkO,WACtBC,UAAWvP,KAAKoB,KAAKmO,YAEX,KAAR6W,IACFpmB,KAAKiP,OAAS2xI,EACd5gJ,KAAK8P,MAAMA,EAEf,CAAE,MAAOjP,GAET,CAEF,EACA,YAAMggJ,GACJ,IAAI,KAACD,EAAI,KAAEx6H,SAAco6H,EAAAA,GAAW,CAC9BzwI,QAAS,EACT2vI,SAAU,KAEhB1/I,KAAKmO,KAAKyyI,CAEZ,EACAp0I,MAAAA,GACExM,KAAK8gJ,QAAQ95I,KAAK,QACpB,EACAyF,UAAAA,GACEzM,KAAK8gJ,QAAQ95I,KAAK,CAChBQ,KAAM,WACNy4I,MAAO,CACL3wI,WAAYtP,KAAKoB,KAAKkO,WACtBC,UAAWvP,KAAKoB,KAAKmO,UACrB7C,aAAc,KAGpB,EACA+zI,UAAAA,GACE,MAAMhwI,EAAS,CACb,GAAM,aACNiwB,OAAO,EACPpV,OAAQ,GACRgB,UAAU,EACVwU,WAAW,EACX9T,MAAM,EAENE,oBAAqB,EACrB,IAAOltB,KAAKoB,KAAK8d,MACjB,aAAe,EACf,OAAUlf,KAAKoB,KAAK2/I,WACpB,QAAW,CAACtD,IACZ,QAAU,EACV,aAAgB,CACN,MAEV,OAAU,CACA,WAAa,EACb,aAAe,GAEzB,KAAO,EACP1iF,kBAAkB,GAEP,IAAIzhB,GAAO7oC,EAoB1B,EACAyvI,QAAAA,GAME,GALIlgJ,KAAKoR,QACPpR,KAAKoR,OAAO4vI,UAEdhhJ,KAAK+M,GAAK/M,KAAKggJ,OAAOC,MAAMlzI,GAC5B/M,KAAKugJ,eACDvgJ,KAAK8/I,OAAS9/I,KAAK8/I,MAAMr9I,OAAQ,CACnC,IAAIsiG,EAAkC,IAAzB/kG,KAAK8/I,MAAMr9I,OAAS,GAAU,EACvCg+D,EAAQ90D,KAAK8L,KAAKstF,EAAQ/kG,KAAK4/I,IAAIn9I,QACnCm9I,EAAM,GACV,IAAK,IAAIj8I,EAAI,EAAEA,EAAI88D,EAAM98D,IACvBi8I,EAAMA,EAAIh4I,OAAO5H,KAAK4/I,KAExBA,EAAIplE,OAGN,CACAx6E,KAAKihJ,WAAU,KACb79I,YAAW,KACTpD,KAAKqgJ,YACLrgJ,KAAK6gJ,QAAQ,GACZ,IAAK,GAGZ,GAEFK,aAAAA,GACMlhJ,KAAKoR,QACPpR,KAAKoR,OAAO4vI,SAEhB,G,W6JjWJ,MAAM10I,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,S","sources":["webpack://new-web/./node_modules/delegate/src/closest.js","webpack://new-web/./node_modules/delegate/src/delegate.js","webpack://new-web/./node_modules/downloadjs/download.js","webpack://new-web/./node_modules/eventemitter3/index.js","webpack://new-web/./src/components/NewPage.vue","webpack://new-web/./src/components/NewPage.vue?ccdf","webpack://new-web/./src/views/info/index.vue","webpack://new-web/./node_modules/xgplayer/es/utils/debug.js","webpack://new-web/./node_modules/xgplayer/es/utils/xgplayerTimeRange.js","webpack://new-web/./node_modules/xgplayer/es/utils/util.js","webpack://new-web/./node_modules/xgplayer/es/utils/sniffer.js","webpack://new-web/./node_modules/xgplayer/es/version.js","webpack://new-web/./node_modules/xgplayer/es/error.js","webpack://new-web/./node_modules/xgplayer/es/events.js","webpack://new-web/./node_modules/xgplayer/es/mediaProxy.js","webpack://new-web/./node_modules/xgplayer/es/utils/database.js","webpack://new-web/./node_modules/xgplayer/es/constant.js","webpack://new-web/./node_modules/xgplayer/es/plugin/hooksDescriptor.js","webpack://new-web/./node_modules/xgplayer/es/plugin/basePlugin.js","webpack://new-web/./node_modules/xgplayer/es/plugin/plugin.js","webpack://new-web/./node_modules/xgplayer/es/plugin/resizeObserver.js","webpack://new-web/./node_modules/xgplayer/es/plugin/pluginsManager.js","webpack://new-web/./node_modules/xgplayer/es/stateClassMap.js","webpack://new-web/./node_modules/xgplayer/es/defaultConfig.js","webpack://new-web/./node_modules/xgplayer/es/plugin/preset.js","webpack://new-web/./node_modules/xgplayer/es/lang/en.js","webpack://new-web/./node_modules/xgplayer/es/lang/i18n.js","webpack://new-web/./node_modules/xgplayer/es/state.js","webpack://new-web/./node_modules/xgplayer/es/instManager.js","webpack://new-web/./node_modules/xgplayer/es/player.js","webpack://new-web/./node_modules/xgplayer/es/plugins/controls/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/logger/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/replay.js","webpack://new-web/./node_modules/xgplayer/es/plugins/replay/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/poster/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/play.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/pause.js","webpack://new-web/./node_modules/xgplayer/es/plugins/start/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/enter/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/iconTools.js","webpack://new-web/./node_modules/xgplayer/es/plugins/miniScreen/miniScreenIcon.js","webpack://new-web/./node_modules/xgplayer/es/utils/draggabilly.js","webpack://new-web/./node_modules/xgplayer/es/plugins/miniScreen/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/pc/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/mobile/touch.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/seekicon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/mobile/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/keyboard/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/loading.js","webpack://new-web/./node_modules/xgplayer/es/plugins/loading/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progress/innerList.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progress/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/iconPlugin.js","webpack://new-web/./node_modules/xgplayer/es/plugins/play/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/back.js","webpack://new-web/./node_modules/xgplayer/es/plugins/fullscreen/backicon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/requestFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/exitFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/fullscreen/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/time/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/time/timesegments.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/volumeLarge.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/volumeSmall.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/volumeMuted.js","webpack://new-web/./node_modules/xgplayer/es/plugins/volume/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/rotate.js","webpack://new-web/./node_modules/xgplayer/es/plugins/rotate/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/pipIcon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/pipIconExit.js","webpack://new-web/./node_modules/xgplayer/es/plugins/pip/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/playNext.js","webpack://new-web/./node_modules/xgplayer/es/plugins/playNext/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/download.js","webpack://new-web/./node_modules/xgplayer/es/plugins/download/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/screenShot/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/optionList.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/optionsIcon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/definition/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/playbackRate/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/requestCssFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/exitCssFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/cssFullScreen/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/error/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/prompt/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progressPreview/dotsApi.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progressPreview/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/thumbnail.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progress/miniProgress.js","webpack://new-web/./node_modules/xgplayer/es/plugins/dynamicBg/index.js","webpack://new-web/./node_modules/xgplayer/es/lang/zh-cn.js","webpack://new-web/./node_modules/xgplayer/es/plugins/stats/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/gapJump/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/waitingTimeoutJump/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/testspeed/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/fpsDetect/index.js","webpack://new-web/./node_modules/xgplayer/es/presets/default.js","webpack://new-web/./node_modules/xgplayer/es/index.umd.js","webpack://new-web/./node_modules/xgplayer-hls/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/error.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/buffer.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/env.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/logger.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/utils.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/mse.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/event.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/streaming-helper.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/sei.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/gap.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/stats.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/logger.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/types.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/audio-sample.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/env.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/aac.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mpeg-ts/fixer.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/index.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/nalu.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/exp-golomb.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/avc.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/hevc.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/video-track.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/audio-track.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/video-sample.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/metadata-track.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mpeg-ts/index.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/byte-reader.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/bit-reader.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/mp4-parser.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/buffer-service/decrypt/index.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/fmp4-demuxer.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/buffer.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/mp4.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/logger.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/fmp4-remuxer.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/constants.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/buffer-service/transmuxer/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/buffer-service/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/config.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/types.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/error.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/is.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/helper.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/fetch.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/config.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/xhr.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/task.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/model.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/utils.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/master.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/media.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/utils.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/playlist/stream.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/playlist/index.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/bandwidth.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/segment-loader/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/plugin-extension.js","webpack://new-web/./node_modules/xgplayer-hls/es/plugin.js","webpack://new-web/./src/views/info/index.vue?dbd0"],"sourcesContent":["var DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n","var closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","<template>\r\n    <div class=\"pagination\" >\r\n      <!--  -->\r\n      <button\r\n        class=\"pagination-button\"\r\n        :disabled=\"currentPage <= 1\"\r\n        @click=\"goToPreviousTenPages\"\r\n      >\r\n        <van-icon name=\"arrow-left\" />\r\n      </button>\r\n  \r\n      <!--  -->\r\n      <div class=\"page-numbers\" :key=\"componentKey\">\r\n        <span \r\n          v-for=\"page in visiblePages\"\r\n          :key=\"page\"\r\n          :class=\"{ active: activePages[page] }\"\r\n          @click=\"goToPage(page)\"\r\n        >\r\n          {{ page }}\r\n        </span>\r\n      </div>\r\n  \r\n      <!--  -->\r\n      <button\r\n        class=\"pagination-button\"\r\n        :disabled=\"currentPage >= totalPages\"\r\n        @click=\"goToNextTenPages\"\r\n      >\r\n        <van-icon name=\"arrow\" />\r\n      </button>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    name: \"Pagination\",\r\n    props: {\r\n      totalPages: {\r\n        type: Number,\r\n        required: true,\r\n      },\r\n      currentPage: {\r\n        type: Number,\r\n        required: true,\r\n      },\r\n    },\r\n    data() {\r\n      return {\r\n        componentKey: 0,\r\n      };\r\n    },\r\n    emits: [\"page-change\"],\r\n    watch: {\r\n      //  currentPage \r\n      // currentPage(newVal) {\r\n      //   console.log('curennn,',newVal)\r\n      //   this.updateActivePages(newVal);\r\n      // },\r\n      //  visiblePages \r\n      visiblePages: {\r\n        handler(newVal) {\r\n          this.updateActivePages(this.currentPage);\r\n        },\r\n        immediate: true,\r\n      },\r\n    },\r\n    computed: {\r\n  //  (1-5, 6-10, 11-15 ...)\r\n  visiblePages() {\r\n      const startPage = Math.floor((this.currentPage - 1) / 5) * 5 + 1;\r\n      const endPage = Math.min(startPage + 4, this.totalPages);\r\n      return Array.from({ length: endPage - startPage + 1 }, (_, i) => startPage + i);\r\n    },\r\n  },\r\n  methods: {\r\n    //  activePages \r\n    updateActivePages(currentPage) {\r\n      this.activePages = {};\r\n      this.visiblePages.forEach((page) => {\r\n        this.activePages[page] = page === currentPage;\r\n      });\r\n    },\r\n\r\n    // \r\n    goToPage(page) {\r\n      if (page >= 1 && page <= this.totalPages) {\r\n        this.$emit(\"page-change\", page);\r\n      }\r\n    },\r\n\r\n    //  5 \r\n    goToPreviousTenPages() {\r\n      const newPage = Math.max(1, this.currentPage - 5);\r\n      this.$emit(\"page-change\", newPage);\r\n    },\r\n\r\n    //  5 \r\n    goToNextTenPages() {\r\n      const newPage = Math.min(this.totalPages, this.currentPage + 5);\r\n      // console.log(newPage,\"son next=?\")\r\n      this.$emit(\"page-change\", newPage);\r\n    }\r\n  }\r\n\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .pagination {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    gap: 10px;\r\n    padding: 10px;\r\n    width: 100%;\r\n  }\r\n  \r\n  .pagination-button {\r\n    padding: 10px 20px;\r\n    border: 1px solid #ccc;\r\n    background-color: #f9f9f9;\r\n    cursor: pointer;\r\n    border-radius: 4px;\r\n    transition: background-color 0.3s;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .pagination-button:disabled {\r\n    background-color: #e0e0e0;\r\n    cursor: not-allowed;\r\n  }\r\n  \r\n  .pagination-button:hover:not(:disabled) {\r\n    background-color: #ddd;\r\n  }\r\n  \r\n  .page-numbers {\r\n    display: flex;\r\n    gap: 15px;\r\n  }\r\n  \r\n  .page-numbers span {\r\n    padding: 10px 12px;\r\n    border: 1px solid #ccc;\r\n    cursor: pointer;\r\n    color: white;\r\n    border-radius: 4px;\r\n    transition: background-color 0.3s;\r\n  }\r\n  \r\n  .page-numbers span.active {\r\n    background-color: #007bff;\r\n    color: red;\r\n    border-color: #007bff;\r\n  }\r\n  \r\n  .page-numbers span:hover:not(.active) {\r\n    background-color: #f1f1f1;\r\n  }\r\n  \r\n  @media (max-width: 750px) {\r\n    .pagination {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        gap: 15px;\r\n        padding: 1px;\r\n        width: 100%;\r\n        margin-bottom: 12px;\r\n    }\r\n    .pagination-button {\r\n      padding: 5px 8px;\r\n      border-radius: 3px;\r\n    }\r\n    .page-numbers {\r\n      /* flex-wrap: wrap; */\r\n      justify-content: center;\r\n      padding: 10px 12px;\r\n      gap: 12px;\r\n      font-size: medium;\r\n    }\r\n    .page-numbers span {\r\n      padding: 5px 8px; \r\n    }\r\n  }\r\n  </style>\r\n  ","import { render } from \"./NewPage.vue?vue&type=template&id=3f5c49d6&scoped=true\"\nimport script from \"./NewPage.vue?vue&type=script&lang=js\"\nexport * from \"./NewPage.vue?vue&type=script&lang=js\"\n\nimport \"./NewPage.vue?vue&type=style&index=0&id=3f5c49d6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3f5c49d6\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"info-container\">\r\n    <div class=\"info-wrapper\">\r\n      <!-- <div class=\"ads pc-hide\" style=\"padding-top: 0;margin-top: 0px;\">\r\n        <div class=\"ads-item\" v-for=\"item in _ads.slice(0, 8)\">\r\n          <van-image\r\n            @click=\"goAd(item.link)\"\r\n            fit=\"cover\"\r\n            position=\"center\"\r\n            :lazy-load=\"true\"\r\n            :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div> -->\r\n      <div class=\"video-location h5-hide\">\r\n        <div class=\"line\"></div>\r\n        <span class=\"link\" @click=\"goHome\">HOME</span>\r\n        <span class=\"arrow\"></span>\r\n        <span class=\"link\" @click=\"goCategory\">{{classifyName}}</span>\r\n        <span class=\"arrow\"></span>\r\n        {{data.title}}\r\n      </div>\r\n      <div class=\"video-info\">\r\n        <div class=\"h5-video-location pc-hide\">\r\n          <div class=\"line\"></div>\r\n          <span class=\"link\" @click=\"goCategory\">{{classifyName}}</span>\r\n          <span class=\"arrow\"></span>\r\n          {{data.title}}\r\n        </div>\r\n        <div id=\"mse\"></div>\r\n        <div class=\"video-wrapper\">\r\n          <div class=\"video-img\" id=\"video-info\"></div>\r\n        </div>\r\n        <div class=\"video-name\">\r\n           <span v-if=\"language == 'ko-KR'\">\r\n            {{data.title}}\r\n          </span>\r\n          <span v-if=\"language == 'en-US'\">\r\n            {{data.titleUs}}\r\n          </span>\r\n          <span v-if=\"language == 'zh-CN'\">\r\n            {{data.titleCn}}\r\n          </span>\r\n        </div>\r\n        <div class=\"info\">\r\n          <div class=\"viewed\">\r\n            <img src=\"@/assets/imgs/view.png\" alt=\"\">\r\n            <span> : {{data.watchTimes}}</span>\r\n          </div>\r\n          <div class=\"time\">\r\n            <img src=\"@/assets/imgs/flag.png\" alt=\"\">\r\n            <span> : {{formatTime(data.createdAt)}}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"video-desc\" v-if=\"data.titleChinese\">\r\n          {{}}\r\n          <!-- data.titleChinese -->\r\n        </div>\r\n      </div>\r\n      <div class=\"ads\" v-if=\"_ads.slice(0, 8).length\">\r\n        <div class=\"ads-item\"  v-for=\"item in _ads.slice(0, 8)\">\r\n          <van-image\r\n            @click=\"goAd(item.link)\"\r\n            fit=\"cover\"\r\n            position=\"center\"\r\n            :lazy-load=\"true\"\r\n            :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n<!--      <Title class=\"page-title h5-hide\" :name=\"relatedMap[language]\" :more=\"false\"></Title>-->\r\n\r\n      <div class=\"info-h5\" v-for=\"idx in Math.floor(videos.length / 4)\" :key=\"idx\">\r\n        <div class=\"list\" >\r\n          <Card :classifyName=\"classifyName\" :classifyId=\"classifyId\" :specialId=\"specialId\" class=\"video-card\" \r\n          v-for=\"item in videos.slice((idx - 1) * 4, (idx - 1) * 4 + 4)\" :item=\"item\" :key=\"item.id\"></Card>\r\n        </div>\r\n        <div class=\"ads\" >\r\n          <div class=\"ads-item\"  \r\n          v-for=\"item in _ads.slice(8 + (idx - 1) * 4, 8 + (idx - 1) * 4 + 4)\">\r\n            <van-image\r\n                @click=\"goAd(item.link)\"\r\n                fit=\"cover\"\r\n                position=\"center\"\r\n                :lazy-load=\"true\"\r\n                :src=\"item.picUrl\"\r\n            >\r\n              <template v-slot:loading>\r\n                <van-loading type=\"spinner\" size=\"20\" />\r\n              </template>\r\n            </van-image>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <div class=\"info-pc\" v-for=\"idx in Math.floor(videos.length / 8)\" :key=\"idx\">\r\n        <div class=\"list\" >\r\n          <Card :classifyName=\"classifyName\" :classifyId=\"classifyId\" :specialId=\"specialId\" class=\"video-card\" \r\n          v-for=\"item in videos.slice((idx - 1) * 8, (idx - 1) * 8 + 8)\" :item=\"item\" :key=\"item.id\"></Card>\r\n        </div>\r\n        <div class=\"ads\" >\r\n          <div class=\"ads-item\"  \r\n          v-for=\"item in _ads.slice(8 + (idx - 1) * 8, 8 + (idx - 1) * 8 + 8)\">\r\n            <van-image\r\n                @click=\"goAd(item.link)\"\r\n                fit=\"cover\"\r\n                position=\"center\"\r\n                :lazy-load=\"true\"\r\n                :src=\"item.picUrl\"\r\n            >\r\n              <template v-slot:loading>\r\n                <van-loading type=\"spinner\" size=\"20\" />\r\n              </template>\r\n            </van-image>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- <div class=\"more\" @click=\"goCategory\">{{moreRelatedMap[language]}}</div> -->\r\n      <Pagination\r\n      :total-pages=\"total\"\r\n      :current-page=\"pageNum\"\r\n      @page-change=\"handlePageChange\"\r\n    />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import * as api from '@/api'\r\n  import moment from 'moment';\r\n  import Card from \"@/components/Card.vue\";\r\n  import Title from \"@/components/Title.vue\";\r\n  import {mapActions,mapState} from 'vuex';\r\n  import 'video.js/dist/video-js.css';\r\n  import VideoJs from 'video.js';\r\n  import Player from 'xgplayer';\r\n  import 'xgplayer/dist/index.min.css';\r\n  import HlsPlugin from 'xgplayer-hls'\r\n  import MobilePreset from 'xgplayer/es/presets/mobile'\r\n  import Pagination from \"@/components/NewPage.vue\";\r\n\r\n  export default {\r\n    name: \"Info\",\r\n    components: {Title,Card,Pagination},\r\n    data() {\r\n      return {\r\n        id: '',\r\n        data: {},\r\n        _ads: [],\r\n        videos: [],\r\n        player: null,\r\n        relatedMap: {\r\n          'ko-KR': '',\r\n          'en-US': 'Related videos',\r\n          'zh-CN': ''\r\n        },\r\n        moreRelatedMap: {\r\n          'ko-KR': '   ',\r\n          'en-US': 'More related videos',\r\n          'zh-CN': ''\r\n        },\r\n        classifyName: '',\r\n        classifyId: '',\r\n        specialId: '',\r\n        pageNum:1,\r\n        pageSize:24,\r\n        total:10\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState({\r\n        ads: state => state.common.ads,\r\n        menus: state => state.common.menus,\r\n        language: state => state.common.language,\r\n      }),\r\n    },\r\n    watch: {\r\n      '$route': {\r\n        handler(nv) {\r\n          if(nv.name == 'info') {\r\n            this.id = this.$route.query.id\r\n            this.initData();\r\n\r\n            this.classifyName = this.$route.query.classifyName\r\n            this.classifyId = this.$route.query.classifyId\r\n            this.specialId = this.$route.query.specialId\r\n          }\r\n        },\r\n        immediate: true\r\n      },\r\n      ads(nv) {\r\n        this._ads = JSON.parse(JSON.stringify(nv));\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapActions({\r\n        toggleLoading: 'common/toggleLoading',\r\n      }),\r\n\r\n            // \r\n      handlePageChange(newPage) {\r\n        this.pageNum = newPage;\r\n        this.getVideos()\r\n      },\r\n\r\n\r\n      goAd(url) {\r\n        window.open(url)\r\n      },\r\n      formatTime(time) {\r\n        return moment(time).format('YYYY-MM-DD')\r\n      },\r\n      async getVideoInfo() {\r\n        this.toggleLoading(true);\r\n        try {\r\n          let {data, code} = await api.getVideoInfo({id: this.id})\r\n          if (code == 200) {\r\n            this.data = data;\r\n            this.initPlayer()\r\n            this.getMenuInfo()\r\n          }\r\n        } catch (e) {\r\n        } finally {\r\n          this.toggleLoading(false);\r\n        }\r\n      },\r\n      async getMenuInfo() {\r\n        try {\r\n          let {data, code} = await api.getMenuInfo({id: this.data.classifyId})\r\n          if (code == 200) {\r\n            this.classifyInfo = data;\r\n          }\r\n        } catch (e) {\r\n        } finally {\r\n          this.toggleLoading(false);\r\n        }\r\n      },\r\n      async getVideos() {\r\n        // console.log('why this plus one?=>',this.data.specialId)\r\n        try {\r\n          let {rows, code,total} = await api.getVideos({\r\n            pageNum: this.pageNum,\r\n            pageSize: this.pageSize,\r\n            classifyId: this.data.classifyId,\r\n            specialId: this.data.specialId\r\n          })\r\n          if (code == 200) {\r\n            this.videos = rows\r\n            this.total=total\r\n          }\r\n        } catch (e) {\r\n\r\n        } finally {\r\n        }\r\n      },\r\n      async getAds() {\r\n        let {rows, code} = await api.getAds({\r\n              pageNum: 1,\r\n              pageSize: 50,\r\n            })\r\n        this._ads=rows\r\n        // print(rows)\r\n      },\r\n      goHome() {\r\n        this.$router.push('index')\r\n      },\r\n      goCategory() {\r\n        this.$router.push({\r\n          name: 'category',\r\n          query: {\r\n            classifyId: this.data.classifyId,\r\n            specialId: this.data.specialId,\r\n            classifyName: ''\r\n          }\r\n        })\r\n      },\r\n      initPlayer() {\r\n        const config = {\r\n          \"id\": \"video-info\",\r\n          fluid: true,\r\n          volume: 0.9,\r\n          autoplay: false,\r\n          videoInit: true,\r\n          loop: true,\r\n          // playbackRate: [0.5, 0.75, 1, 1.5, 2],\r\n          defaultPlaybackRate: 1,\r\n          \"url\": this.data.video,\r\n          \"playsinline\": true,\r\n          \"poster\": this.data.videoCover,\r\n          \"plugins\": [HlsPlugin],\r\n          \"isLive\": false,\r\n          \"playbackRate\": [\r\n                    null\r\n          ],\r\n          \"rotate\": {\r\n                    \"clockwise\": true,\r\n                    \"innerRotate\": true\r\n          },\r\n          \"pip\": true,\r\n          rotateFullscreen: true\r\n        }\r\n        let player = new Player(config)\r\n        // setTimeout(() => {\r\n        // let player = new Player(config)},0)\r\n        // document.getElementById('video-info').innerHTML = `<video id=\"video-js\" class=\"video-js\"></video>`\r\n        // setTimeout(() => {\r\n        //   this.player = VideoJs(document.getElementById('video-js'), {\r\n        //     controls: true,\r\n        //     muted: true,\r\n        //     fluid: true,\r\n        //     reload: \"auto\",\r\n        //     poster: this.data.videoCover,\r\n        //     sources: [\r\n        //       {\r\n        //         src: this.data.video,\r\n        //         type: 'application/x-mpegURL',\r\n        //       },\r\n        //     ],\r\n        //   }, function onPlayerReady() {\r\n        //   })\r\n        // }, 0)\r\n      },\r\n      initData() {\r\n        if (this.player) {\r\n          this.player.dispose()\r\n        }\r\n        this.id = this.$route.query.id\r\n        this.getVideoInfo()\r\n        if (this.menus && this.menus.length) {\r\n          let count = (this.menus.length + 1) * 24 + 1;\r\n          let times = Math.ceil(count / this.ads.length);\r\n          let ads = [];\r\n          for (let i = 0;i < times;i++) {\r\n            ads = ads.concat(this.ads);\r\n          }\r\n          ads.shift()\r\n          // this._ads = ads;\r\n          \r\n        }\r\n        this.$nextTick(() => {\r\n          setTimeout(() => {\r\n            this.getVideos(); //  1 \r\n            this.getAds();\r\n          }, 1000); // 1000  = 1 \r\n        });\r\n        \r\n      }\r\n    },\r\n    beforeUnmount() {\r\n      if (this.player) {\r\n        this.player.dispose()\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    .info-h5{\r\n      display: none!important;\r\n    }\r\n  .info-container{\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    .info-wrapper{\r\n      width: 100%;\r\n      padding-top: 23px;\r\n      .video-location{\r\n        background: #172231;\r\n        height: 48px;\r\n        @include clear();\r\n        box-shadow: 0px 10px 10px rgba(255,255,225,0.1) inset,\r\n        0px -10px 10px rgba(0,0,0,0.3) inset;\r\n        margin-bottom: 60px;\r\n        line-height: 48px;\r\n        font-size: 24px;\r\n        .line{\r\n          width: 8px;\r\n          height: 30px;\r\n          background: red;\r\n          margin-top: 9px;\r\n          float: left;\r\n          margin-left: 23px;\r\n          margin-right: 10px;\r\n        }\r\n        width: 100%;\r\n        color: #fff;\r\n        @include ellipsis;\r\n        .link{\r\n          transition: 0.3s ease;\r\n          &:hover{\r\n            color: $main-color;\r\n          }\r\n          cursor: pointer;\r\n        }\r\n        .arrow{\r\n          margin: 0 20px;\r\n        }\r\n      }\r\n      .video-info{\r\n        width: 100%;\r\n        margin-bottom: 110px;\r\n\r\n        .h5-video-location{\r\n          height: 50px;\r\n          line-height: 50px;\r\n          font-size: 18px;\r\n          color: #fff;\r\n          box-sizing: border-box;\r\n          @include ellipsis;\r\n          box-shadow: 0px 5px 5px rgba(255,255,225,0.1) inset,\r\n          0px -5px 5px rgba(0,0,0,0.3) inset;\r\n          background: #0e141d;\r\n          margin-bottom: 30px;\r\n          @include clear;\r\n          .line{\r\n            width: 5px;\r\n            height: 36px;\r\n            background: $main-color;\r\n            margin-top: 7px;\r\n            float: left;\r\n            margin-left: 7px;\r\n            margin-right: 10px;\r\n          }\r\n          .first{\r\n            color: $main-color;\r\n            margin-right: 10px;\r\n          }\r\n          @include ellipsis;\r\n          .link{\r\n            transition: 0.3s ease;\r\n            &:hover{\r\n              color: $main-color;\r\n            }\r\n            cursor: pointer;\r\n          }\r\n          .arrow{\r\n            margin: 0 10px;\r\n            position: relative;\r\n            top: -1px;\r\n          }\r\n        }\r\n        .video-wrapper{\r\n          box-sizing: border-box;\r\n          max-width: 75%;\r\n          margin: 0 auto;\r\n          background: #172231;\r\n        }\r\n        .video-img{\r\n          width: 100%;\r\n          background: #000;\r\n          .video-js{\r\n            width: 100%;\r\n            /*object-fit: cover;*/\r\n            /*object-position: center;*/\r\n          }\r\n        }\r\n        .info-h5{\r\n          width: 100%;\r\n          font-size: 12px;\r\n          color: #adadad;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          box-sizing: border-box;\r\n          padding: 10px;\r\n          .viewed{\r\n            display: flex;\r\n            align-items: center;\r\n            img{\r\n              margin-right: 5px;\r\n            }\r\n          }\r\n        }\r\n        .info{\r\n          width: 700px;\r\n          margin: 0 auto;\r\n          height: 54px;\r\n          box-sizing: border-box;\r\n          line-height: 54px;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          font-size: 30px;\r\n          color: #bababa;\r\n          img{\r\n            margin-right: 10px;\r\n            vertical-align: middle;\r\n          }\r\n          span{\r\n            vertical-align: middle;\r\n          }\r\n        }\r\n        .video-name{\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n          font-size: 30px;\r\n          color: #d0d0d0;\r\n          height: 48px;\r\n          line-height: 48px;\r\n          margin-top: 30px;\r\n          margin-bottom: 50px;\r\n          @include ellipsis;\r\n          box-sizing: border-box;\r\n          text-align: center;\r\n        }\r\n        .video-desc{\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n          padding: 0 150px 0 25px;\r\n          font-size: 24px;\r\n          color: #8b8b8b;\r\n        }\r\n      }\r\n      .list{\r\n        width: 100%;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-wrap: wrap;\r\n        flex-direction:row;\r\n        box-sizing: border-box;\r\n        padding-left: 20px;\r\n        padding-right: 20px;\r\n        .video-card{\r\n          margin-bottom: 13px;\r\n        }\r\n      }\r\n      .page-title{\r\n        margin-bottom: 11px;\r\n      }\r\n      .ads{\r\n        width: 100%;\r\n        padding: 23px 20px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-wrap: wrap;\r\n        box-sizing: border-box;\r\n        padding-top: 0px;\r\n        padding-bottom: 11px;\r\n        .ads-item{\r\n          width: calc((100% - 27px) / 4);\r\n          margin-bottom: 7px;\r\n          height: 125px;\r\n          @include border2;\r\n          box-sizing: border-box;\r\n          cursor: pointer;\r\n          border-radius: 2px;\r\n          :deep(.van-image){\r\n            width: 100%;\r\n            height: 100%;\r\n            .van-image__loading{\r\n              background: none;\r\n            }\r\n            .van-image__error{\r\n              background: none;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .more{\r\n        width: 788px;\r\n        height: 74px;\r\n        line-height: 74px;\r\n        font-size: 30px;\r\n        color: #fff;\r\n        cursor: pointer;\r\n        text-align: center;\r\n        background: #343945;\r\n        margin: 0 auto;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n  @media screen and (min-width: 1280px) and (max-width: 1600px) {\r\n    .info-h5{\r\n      display: none!important;\r\n    }\r\n    .info-pc{\r\n      display: block!important;\r\n    }\r\n    .info-container{\r\n      .info-wrapper{\r\n        .video-info{\r\n          .video-img{}\r\n          .video-desc{\r\n            padding: 0 25px 0 25px;\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n  @media screen and (min-width: 750px) and (max-width: 1280px) {\r\n    .info-h5{\r\n      display: none!important;\r\n    }\r\n    .info-pc{\r\n      display: block!important;\r\n    }\r\n    .info-container{\r\n      .info-wrapper{\r\n        width: 750px;\r\n        .video-info{\r\n          .video-img{}\r\n          .video-wrapper{\r\n            padding-left: 50px;\r\n            padding-right: 50px;\r\n          }\r\n          .info{\r\n            height: 50px;\r\n            line-height: 50px;\r\n            font-size: 24px;\r\n          }\r\n          .video-name{\r\n            font-size: 24px;\r\n          }\r\n          .video-desc{\r\n            font-size: 21px;\r\n            padding: 0 25px 0 25px;\r\n          }\r\n        }\r\n        .ads{\r\n          .ads-item{\r\n            height: 100px;\r\n          }\r\n        }\r\n        .more{\r\n          width: 750px;\r\n        }\r\n      }\r\n    }\r\n    .sidebar{\r\n      display: none;\r\n    }\r\n  }\r\n  @media screen and (max-width: 750px) {\r\n    .info-h5{\r\n      display: block!important;\r\n    }\r\n    .info-pc{\r\n      display: none!important;\r\n    }\r\n    .h5-hide{\r\n      display: none!important;\r\n    }\r\n    .pc-hide{\r\n      display: flex!important;\r\n    }\r\n    .info-container{\r\n      width: 100%;\r\n      .info-wrapper{\r\n        width: 100%;\r\n        box-sizing: border-box;\r\n        padding-left: 2px;\r\n        padding-right: 2px;\r\n        .ads{\r\n          padding-left: 14px;\r\n          padding-right: 14px;\r\n          .ads-item{\r\n            width: 100%;\r\n            height: 130px;\r\n            margin-bottom: 6px;\r\n            border: 1px solid #d7d7d8;\r\n            &:nth-child(1), &:nth-child(2), &:nth-child(3), &:nth-child(4), {\r\n              display: block;\r\n            }\r\n          }\r\n        }\r\n        .list{\r\n          margin-bottom: 25px;\r\n          .video-card{\r\n            width: 100%;\r\n            margin-bottom: 18px;\r\n          }\r\n        }\r\n        .more{\r\n          display: none;\r\n        }\r\n        .video-info{\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n          padding-bottom: 0px;\r\n          margin-bottom: 70px;\r\n          .pc-hide{\r\n            display: block!important;\r\n          }\r\n          .video-wrapper{\r\n            max-width: 100%;\r\n            padding: 0px;\r\n          }\r\n          .info-h5{\r\n            display: flex!important;\r\n          }\r\n          .info{\r\n            width: 100%;\r\n            font-size: 14px;\r\n            padding-left: 40px;\r\n            padding-right: 40px;\r\n            height: 40px;\r\n            line-height: 40px;\r\n            img{\r\n              height: 14px;\r\n            }\r\n          }\r\n          .video-img{\r\n            @include border;\r\n          }\r\n          .video-name{\r\n            width: 100%;\r\n            font-size: 16px;\r\n            color: #fff;\r\n            height: auto;\r\n            padding: 0 13px;\r\n            margin-top: 13px;\r\n            line-height: 24px;\r\n            margin-bottom: 20px;\r\n          }\r\n          .video-desc{\r\n            font-size: 14px;\r\n            color: #fff;\r\n            padding: 10px;\r\n            padding-top: 0px;\r\n            img{\r\n              height: 14px;\r\n            }\r\n          }\r\n        }\r\n\r\n      }\r\n      .sidebar{\r\n        display: none;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"scss\">\r\n  @media screen and (max-width: 750px) {\r\n    .xgplayer xg-icon svg{\r\n      width: 16px;\r\n    }\r\n  }\r\n\r\n</style>\r\n","const XG_DEBUG_OPEN = typeof window !== \"undefined\" && window.location && window.location.href.indexOf(\"xgplayerdebugger=1\") > -1;\nconst STYLE = {\n  info: \"color: #525252; background-color: #90ee90;\",\n  error: \"color: #525252; background-color: red;\",\n  warn: \"color: #525252; background-color: yellow; \"\n};\nconst XGTAG = \"%c[xgplayer]\";\nconst XG_DEBUG = {\n  config: {\n    debug: XG_DEBUG_OPEN ? 3 : 0\n  },\n  logInfo: function(message, ...optionalParams) {\n    this.config.debug >= 3 && console.log(XGTAG, STYLE.info, message, ...optionalParams);\n  },\n  logWarn: function(message, ...optionalParams) {\n    this.config.debug >= 1 && console.warn(XGTAG, STYLE.warn, message, ...optionalParams);\n  },\n  logError: function(message, ...optionalParams) {\n    if (this.config.debug < 1) {\n      return;\n    }\n    const _fun = this.config.debug >= 2 ? \"trace\" : \"error\";\n    console[_fun](XGTAG, STYLE.error, message, ...optionalParams);\n  }\n};\nfunction bindDebug(player) {\n  player.logInfo = XG_DEBUG.logInfo.bind(player);\n  player.logWarn = XG_DEBUG.logWarn.bind(player);\n  player.logError = XG_DEBUG.logError.bind(player);\n}\nexport { bindDebug, XG_DEBUG as default };\n","class XgplayerTimeRange {\n  constructor(bufferedList) {\n    this.bufferedList = bufferedList;\n  }\n  start(index) {\n    return this.bufferedList[index].start;\n  }\n  end(index) {\n    return this.bufferedList[index].end;\n  }\n  get length() {\n    return this.bufferedList.length;\n  }\n}\nexport { XgplayerTimeRange as default };\n","import XG_DEBUG from \"./debug.js\";\nimport XgplayerTimeRange from \"./xgplayerTimeRange.js\";\nconst util = {};\nutil.createDom = function(el = \"div\", tpl = \"\", attrs = {}, cname = \"\") {\n  const dom = document.createElement(el);\n  dom.className = cname;\n  dom.innerHTML = tpl;\n  Object.keys(attrs).forEach((item) => {\n    const key = item;\n    const value = attrs[item];\n    if (el === \"video\" || el === \"audio\" || el === \"live-video\") {\n      if (value) {\n        dom.setAttribute(key, value);\n      }\n    } else {\n      dom.setAttribute(key, value);\n    }\n  });\n  return dom;\n};\nutil.createDomFromHtml = function(html, attrs = {}, classname = \"\") {\n  try {\n    let doc = document.createElement(\"div\");\n    doc.innerHTML = html;\n    let dom = doc.children;\n    doc = null;\n    if (dom.length > 0) {\n      dom = dom[0];\n      classname && util.addClass(dom, classname);\n      if (attrs) {\n        Object.keys(attrs).forEach((key) => {\n          dom.setAttribute(key, attrs[key]);\n        });\n      }\n      return dom;\n    }\n    return null;\n  } catch (err) {\n    XG_DEBUG.logError(\"util.createDomFromHtml\", err);\n    return null;\n  }\n};\nutil.hasClass = function(el, className) {\n  if (!el || !className) {\n    return false;\n  }\n  try {\n    return Array.prototype.some.call(el.classList, (item) => item === className);\n  } catch (e) {\n    const orgClassName = el.className && typeof el.className === \"object\" ? el.getAttribute(\"class\") : el.className;\n    return orgClassName && !!orgClassName.match(new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"));\n  }\n};\nutil.addClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach((item) => {\n      item && el.classList.add(item);\n    });\n  } catch (e) {\n    if (!util.hasClass(el, className)) {\n      if (el.className && typeof el.className === \"object\") {\n        el.setAttribute(\"class\", el.getAttribute(\"class\") + \" \" + className);\n      } else {\n        el.className += \" \" + className;\n      }\n    }\n  }\n};\nutil.removeClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach((item) => {\n      item && el.classList.remove(item);\n    });\n  } catch (e) {\n    if (util.hasClass(el, className)) {\n      className.split(/\\s+/g).forEach((item) => {\n        const reg = new RegExp(\"(\\\\s|^)\" + item + \"(\\\\s|$)\");\n        if (el.className && typeof el.className === \"object\") {\n          el.setAttribute(\"class\", el.getAttribute(\"class\").replace(reg, \" \"));\n        } else {\n          el.className = el.className.replace(reg, \" \");\n        }\n      });\n    }\n  }\n};\nutil.toggleClass = function(el, className) {\n  if (!el) {\n    return;\n  }\n  className.split(/\\s+/g).forEach((item) => {\n    if (util.hasClass(el, item)) {\n      util.removeClass(el, item);\n    } else {\n      util.addClass(el, item);\n    }\n  });\n};\nutil.classNames = function() {\n  const classname = [];\n  for (let i = 0; i < arguments.length; i++) {\n    if (util.typeOf(arguments[i]) === \"String\") {\n      classname.push(arguments[i]);\n    } else if (util.typeOf(arguments[i]) === \"Object\") {\n      Object.keys(arguments[i]).map((key) => {\n        if (arguments[i][key]) {\n          classname.push(key);\n        }\n      });\n    }\n  }\n  return classname.join(\" \");\n};\nutil.findDom = function(el = document, sel) {\n  let dom;\n  try {\n    dom = el.querySelector(sel);\n  } catch (e) {\n    XG_DEBUG.logError(\"util.findDom\", e);\n    if (sel.indexOf(\"#\") === 0) {\n      dom = el.getElementById(sel.slice(1));\n    }\n  }\n  return dom;\n};\nutil.getCss = function(dom, key) {\n  return dom.currentStyle ? dom.currentStyle[key] : document.defaultView.getComputedStyle(dom, false)[key];\n};\nutil.padStart = function(str, length, pad) {\n  const charstr = String(pad);\n  const len = length >> 0;\n  let maxlen = Math.ceil(len / charstr.length);\n  const chars = [];\n  const r = String(str);\n  while (maxlen--) {\n    chars.push(charstr);\n  }\n  return chars.join(\"\").substring(0, len - r.length) + r;\n};\nutil.format = function(time) {\n  if (window.isNaN(time)) {\n    return \"\";\n  }\n  time = Math.round(time);\n  const hour = util.padStart(Math.floor(time / 3600), 2, 0);\n  const minute = util.padStart(Math.floor((time - hour * 3600) / 60), 2, 0);\n  const second = util.padStart(Math.floor(time - hour * 3600 - minute * 60), 2, 0);\n  return (hour === \"00\" ? [minute, second] : [hour, minute, second]).join(\":\");\n};\nutil.event = function(e) {\n  if (e.touches) {\n    const touch = e.touches[0] || e.changedTouches[0];\n    e.clientX = touch.clientX || 0;\n    e.clientY = touch.clientY || 0;\n    e.offsetX = touch.pageX - touch.target.offsetLeft;\n    e.offsetY = touch.pageY - touch.target.offsetTop;\n  }\n  e._target = e.target || e.srcElement;\n};\nutil.typeOf = function(obj) {\n  return Object.prototype.toString.call(obj).match(/([^\\s.*]+)(?=]$)/g)[0];\n};\nutil.deepCopy = function(dst, src) {\n  if (util.typeOf(src) === \"Object\" && util.typeOf(dst) === \"Object\") {\n    Object.keys(src).forEach((key) => {\n      if (util.typeOf(src[key]) === \"Object\" && !(src[key] instanceof Node)) {\n        if (dst[key] === void 0 || dst[key] === void 0) {\n          dst[key] = src[key];\n        } else {\n          util.deepCopy(dst[key], src[key]);\n        }\n      } else if (util.typeOf(src[key]) === \"Array\") {\n        dst[key] = util.typeOf(dst[key]) === \"Array\" ? dst[key].concat(src[key]) : src[key];\n      } else {\n        dst[key] = src[key];\n      }\n    });\n    return dst;\n  }\n};\nutil.deepMerge = function(dst, src) {\n  Object.keys(src).map((key) => {\n    if (util.typeOf(src[key]) === \"Array\" && util.typeOf(dst[key]) === \"Array\") {\n      if (util.typeOf(dst[key]) === \"Array\") {\n        dst[key].push(...src[key]);\n      }\n    } else if (util.typeOf(dst[key]) === util.typeOf(src[key]) && dst[key] !== null && util.typeOf(dst[key]) === \"Object\" && !(src[key] instanceof window.Node)) {\n      util.deepMerge(dst[key], src[key]);\n    } else {\n      src[key] !== null && (dst[key] = src[key]);\n    }\n  });\n  return dst;\n};\nutil.getBgImage = function(el) {\n  const url = (el.currentStyle || window.getComputedStyle(el, null)).backgroundImage;\n  if (!url || url === \"none\") {\n    return \"\";\n  }\n  const a = document.createElement(\"a\");\n  a.href = url.replace(/url\\(\"|\"\\)/g, \"\");\n  return a.href;\n};\nutil.copyDom = function(dom) {\n  if (dom && dom.nodeType === 1) {\n    const back = document.createElement(dom.tagName);\n    Array.prototype.forEach.call(dom.attributes, (node) => {\n      back.setAttribute(node.name, node.value);\n    });\n    if (dom.innerHTML) {\n      back.innerHTML = dom.innerHTML;\n    }\n    return back;\n  } else {\n    return \"\";\n  }\n};\nutil.setInterval = function(context, eventName, intervalFunc, frequency) {\n  if (!context._interval[eventName]) {\n    context._interval[eventName] = window.setInterval(intervalFunc.bind(context), frequency);\n  }\n};\nutil.clearInterval = function(context, eventName) {\n  clearInterval(context._interval[eventName]);\n  context._interval[eventName] = null;\n};\nutil.setTimeout = function(context, fun, time) {\n  if (!context._timers) {\n    context._timers = [];\n  }\n  const id = setTimeout(() => {\n    fun();\n    util.clearTimeout(context, id);\n  }, time);\n  context._timers.push(id);\n  return id;\n};\nutil.clearTimeout = function(context, id) {\n  const { _timers } = context;\n  if (util.typeOf(_timers) === \"Array\") {\n    for (let i = 0; i < _timers.length; i++) {\n      if (_timers[i] === id) {\n        _timers.splice(i, 1);\n        clearTimeout(id);\n        break;\n      }\n    }\n  } else {\n    clearTimeout(id);\n  }\n};\nutil.clearAllTimers = function(context) {\n  const { _timers } = context;\n  if (util.typeOf(_timers) === \"Array\") {\n    _timers.map((item) => {\n      clearTimeout(item);\n    });\n    context._timerIds = [];\n  }\n};\nutil.createImgBtn = function(name, imgUrl, width, height) {\n  const btn = util.createDom(`xg-${name}`, \"\", {}, `xgplayer-${name}-img`);\n  btn.style.backgroundImage = `url(\"${imgUrl}\")`;\n  if (width && height) {\n    let w, h, unit;\n    [\"px\", \"rem\", \"em\", \"pt\", \"dp\", \"vw\", \"vh\", \"vm\", \"%\"].every((item) => {\n      if (width.indexOf(item) > -1 && height.indexOf(item) > -1) {\n        w = parseFloat(width.slice(0, width.indexOf(item)).trim());\n        h = parseFloat(height.slice(0, height.indexOf(item)).trim());\n        unit = item;\n        return false;\n      } else {\n        return true;\n      }\n    });\n    btn.style.width = `${w}${unit}`;\n    btn.style.height = `${h}${unit}`;\n    btn.style.backgroundSize = `${w}${unit} ${h}${unit}`;\n    if (name === \"start\") {\n      btn.style.margin = `-${h / 2}${unit} auto auto -${w / 2}${unit}`;\n    } else {\n      btn.style.margin = \"auto 5px auto 5px\";\n    }\n  }\n  return btn;\n};\nutil.Hex2RGBA = function(hex, alpha) {\n  const rgb = [];\n  if (/^\\#[0-9A-F]{3}$/i.test(hex)) {\n    let sixHex = \"#\";\n    hex.replace(/[0-9A-F]/ig, function(kw) {\n      sixHex += kw + kw;\n    });\n    hex = sixHex;\n  }\n  if (/^#[0-9A-F]{6}$/i.test(hex)) {\n    hex.replace(/[0-9A-F]{2}/ig, function(kw) {\n      rgb.push(parseInt(kw, 16));\n    });\n    return `rgba(${rgb.join(\",\")}, ${alpha})`;\n  } else {\n    return \"rgba(255, 255, 255, 0.1)\";\n  }\n};\nutil.getFullScreenEl = function() {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n};\nutil.checkIsFunction = function(fun) {\n  return fun && typeof fun === \"function\";\n};\nutil.checkIsObject = function(obj) {\n  return obj !== null && typeof obj === \"object\";\n};\nutil.hide = function(dom) {\n  dom.style.display = \"none\";\n};\nutil.show = function(dom, display) {\n  dom.style.display = display || \"block\";\n};\nutil.isUndefined = function(val) {\n  if (typeof val === \"undefined\" || val === null) {\n    return true;\n  }\n};\nutil.isNotNull = function(val) {\n  return !(val === void 0 || val === null);\n};\nutil.setStyleFromCsstext = function(dom, text) {\n  if (!text) {\n    return;\n  }\n  if (util.typeOf(text) === \"String\") {\n    const styleArr = text.replace(/\\s+/g, \"\").split(\";\");\n    styleArr.map((item) => {\n      if (item) {\n        const arr = item.split(\":\");\n        if (arr.length > 1) {\n          dom.style[arr[0]] = arr[1];\n        }\n      }\n    });\n  } else {\n    Object.keys(text).map((key) => {\n      dom.style[key] = text[key];\n    });\n  }\n};\nfunction checkIsIn(key, list) {\n  for (let i = 0, len = list.length; i < len; i++) {\n    if (key.indexOf(list[i]) > -1) {\n      return true;\n    }\n  }\n  return false;\n}\nutil.filterStyleFromText = function(dom, list = [\"width\", \"height\", \"top\", \"left\", \"bottom\", \"right\", \"position\", \"z-index\", \"padding\", \"margin\", \"transform\"]) {\n  const _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  const styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  const ret = {};\n  const remain = {};\n  styleArr.map((item) => {\n    if (item) {\n      const arr = item.split(\":\");\n      if (arr.length > 1) {\n        if (checkIsIn(arr[0], list)) {\n          ret[arr[0]] = arr[1];\n        } else {\n          remain[arr[0]] = arr[1];\n        }\n      }\n    }\n  });\n  dom.setAttribute(\"style\", \"\");\n  Object.keys(remain).map((key) => {\n    dom.style[key] = remain[key];\n  });\n  return ret;\n};\nutil.getStyleFromCsstext = function(dom) {\n  const _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  const styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  const ret = {};\n  styleArr.map((item) => {\n    if (item) {\n      const arr = item.split(\":\");\n      if (arr.length > 1) {\n        ret[arr[0]] = arr[1];\n      }\n    }\n  });\n  return ret;\n};\nutil.preloadImg = (url, onload = () => {\n}, onerror = () => {\n}) => {\n  if (!url) {\n    return;\n  }\n  let img = new window.Image();\n  img.onload = (e) => {\n    img = null;\n    onload && onload(e);\n  };\n  img.onerror = (e) => {\n    img = null;\n    onerror && onerror(e);\n  };\n  img.src = url;\n};\nutil.stopPropagation = (e) => {\n  if (e) {\n    e.stopPropagation();\n  }\n};\nutil.scrollTop = function() {\n  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n};\nutil.scrollLeft = function() {\n  return window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n};\nutil.checkTouchSupport = function() {\n  return \"ontouchstart\" in window;\n};\nutil.getBuffered2 = (vbuffered, maxHoleDuration = 0.5) => {\n  const buffered = [];\n  for (let i = 0; i < vbuffered.length; i++) {\n    buffered.push({ start: vbuffered.start(i) < 0.5 ? 0 : vbuffered.start(i), end: vbuffered.end(i) });\n  }\n  buffered.sort(function(a, b) {\n    const diff = a.start - b.start;\n    if (diff) {\n      return diff;\n    } else {\n      return b.end - a.end;\n    }\n  });\n  let buffered2 = [];\n  if (maxHoleDuration) {\n    for (let i = 0; i < buffered.length; i++) {\n      const buf2len = buffered2.length;\n      if (buf2len) {\n        const buf2end = buffered2[buf2len - 1].end;\n        if (buffered[i].start - buf2end < maxHoleDuration) {\n          if (buffered[i].end > buf2end) {\n            buffered2[buf2len - 1].end = buffered[i].end;\n          }\n        } else {\n          buffered2.push(buffered[i]);\n        }\n      } else {\n        buffered2.push(buffered[i]);\n      }\n    }\n  } else {\n    buffered2 = buffered;\n  }\n  return new XgplayerTimeRange(buffered2);\n};\nutil.getEventPos = function(e, zoom = 1) {\n  if (e.touches && e.touches.length > 0) {\n    e = e.touches[0];\n  }\n  return {\n    x: e.x / zoom,\n    y: e.y / zoom,\n    clientX: e.clientX / zoom,\n    clientY: e.clientY / zoom,\n    offsetX: e.offsetX / zoom,\n    offsetY: e.offsetY / zoom,\n    pageX: e.pageX / zoom,\n    pageY: e.pageY / zoom\n  };\n};\nutil.requestAnimationFrame = function(callback) {\n  const _fun = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;\n  if (_fun) {\n    return _fun(callback);\n  }\n};\nutil.getHostFromUrl = function(url) {\n  if (util.typeOf(url) !== \"String\") {\n    return \"\";\n  }\n  const results = url.split(\"/\");\n  let domain = \"\";\n  if (results.length > 3 && results[2]) {\n    domain = results[2];\n  }\n  return domain;\n};\nutil.cancelAnimationFrame = function(frameId) {\n  const _fun = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.cancelRequestAnimationFrame;\n  _fun && _fun(frameId);\n};\nutil.isMSE = function(video) {\n  if (video.media) {\n    video = video.media;\n  }\n  if (!video || !(video instanceof HTMLMediaElement)) {\n    return false;\n  }\n  return /^blob/.test(video.currentSrc) || /^blob/.test(video.src);\n};\nutil.isBlob = function(url) {\n  return typeof url === \"string\" && /^blob/.test(url);\n};\nutil.generateSessionId = function(did = 0) {\n  let d = new Date().getTime();\n  try {\n    did = parseInt(did);\n  } catch (e) {\n    did = 0;\n  }\n  d += did;\n  if (window.performance && typeof window.performance.now === \"function\") {\n    d += parseInt(window.performance.now());\n  }\n  const uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n    const r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === \"x\" ? r : r & 3 | 8).toString(16);\n  });\n  return uuid;\n};\nutil.createEvent = function(eventName) {\n  let event;\n  if (typeof window.Event === \"function\") {\n    event = new Event(eventName);\n  } else {\n    event = document.createEvent(\"Event\");\n    event.initEvent(eventName, true, true);\n  }\n  return event;\n};\nutil.adjustTimeByDuration = function(time, duration, isEnded) {\n  if (!duration || !time) {\n    return time;\n  }\n  if (time > duration || isEnded && time < duration) {\n    return duration;\n  }\n  return time;\n};\nutil.createPositionBar = function(className, root) {\n  const dom = util.createDom(\n    \"xg-bar\",\n    \"\",\n    { \"data-index\": -1 },\n    className\n  );\n  root.appendChild(dom);\n  return dom;\n};\nutil.getTransformStyle = function(pos = { x: 0, y: 0, scale: 1, rotate: 0 }, transformValue = \"\") {\n  const styles = {\n    scale: `${pos.scale || 1}`,\n    translate: `${pos.x || 0}%, ${pos.y || 0}%`,\n    rotate: `${pos.rotate || 0}deg`\n  };\n  const stylesKeys = Object.keys(styles);\n  stylesKeys.forEach((key) => {\n    const reg = new RegExp(`${key}\\\\([^\\\\(]+\\\\)`, \"g\");\n    const fn = `${key}(${styles[key]})`;\n    if (reg.test(transformValue)) {\n      reg.lastIndex = -1;\n      transformValue = transformValue.replace(reg, fn);\n    } else {\n      transformValue += `${fn} `;\n    }\n  });\n  return transformValue;\n};\nutil.convertDeg = function(val) {\n  if (Math.abs(val) <= 1) {\n    return val * 360;\n  }\n  return val % 360;\n};\nutil.getIndexByTime = function(time, segments) {\n  const _len = segments.length;\n  let _index = -1;\n  if (_len < 1) {\n    return _index;\n  }\n  if (time <= segments[0].end || _len < 2) {\n    _index = 0;\n  } else if (time > segments[_len - 1].end) {\n    _index = _len - 1;\n  } else {\n    for (let i = 1; i < _len; i++) {\n      if (time > segments[i - 1].end && time <= segments[i].end) {\n        _index = i;\n        break;\n      }\n    }\n  }\n  return _index;\n};\nutil.getOffsetCurrentTime = function(currentTime, segments, index = -1) {\n  let _index = -1;\n  if (index >= 0 && index < segments.length) {\n    _index = index;\n  } else {\n    _index = util.getIndexByTime(currentTime, segments);\n  }\n  if (_index < 0) {\n    return -1;\n  }\n  const _len = segments.length;\n  const { start, end, cTime, offset } = segments[_index];\n  if (currentTime < start) {\n    return cTime;\n  } else if (currentTime >= start && currentTime <= end) {\n    return currentTime - offset;\n  } else if (currentTime > end && _index >= _len - 1) {\n    return end;\n  }\n  return -1;\n};\nutil.getCurrentTimeByOffset = function(offsetTime, segments) {\n  let _index = -1;\n  if (!segments || segments.length < 0) {\n    return offsetTime;\n  }\n  for (let i = 0; i < segments.length; i++) {\n    if (offsetTime <= segments[i].duration) {\n      _index = i;\n      break;\n    }\n  }\n  if (_index !== -1) {\n    const { start } = segments[_index];\n    if (_index - 1 < 0) {\n      return start + offsetTime;\n    } else {\n      return start + (offsetTime - segments[_index - 1].duration);\n    }\n  }\n  return offsetTime;\n};\nfunction isObject(value) {\n  const type = typeof value;\n  return value !== null && (type === \"object\" || type === \"function\");\n}\nfunction debounce(func, wait, options) {\n  let lastArgs, lastThis, maxWait, result, timerId, lastCallTime;\n  let lastInvokeTime = 0;\n  let leading = false;\n  let maxing = false;\n  let trailing = true;\n  const useRAF = !wait && wait !== 0 && typeof window.requestAnimationFrame === \"function\";\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  wait = +wait || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = \"maxWait\" in options;\n    maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  function invokeFunc(time) {\n    const args = lastArgs;\n    const thisArg = lastThis;\n    lastArgs = lastThis = void 0;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n  function startTimer(pendingFunc, wait2) {\n    if (useRAF) {\n      window.cancelAnimationFrame(timerId);\n      return window.requestAnimationFrame(pendingFunc);\n    }\n    return setTimeout(pendingFunc, wait2);\n  }\n  function cancelTimer(id) {\n    if (useRAF) {\n      return window.cancelAnimationFrame(id);\n    }\n    clearTimeout(id);\n  }\n  function leadingEdge(time) {\n    lastInvokeTime = time;\n    timerId = startTimer(timerExpired, wait);\n    return leading ? invokeFunc(time) : result;\n  }\n  function remainingWait(time) {\n    const timeSinceLastCall = time - lastCallTime;\n    const timeSinceLastInvoke = time - lastInvokeTime;\n    const timeWaiting = wait - timeSinceLastCall;\n    return maxing ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n  function shouldInvoke(time) {\n    const timeSinceLastCall = time - lastCallTime;\n    const timeSinceLastInvoke = time - lastInvokeTime;\n    return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n  function timerExpired() {\n    const time = Date.now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    timerId = startTimer(timerExpired, remainingWait(time));\n  }\n  function trailingEdge(time) {\n    timerId = void 0;\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = void 0;\n    return result;\n  }\n  function cancel() {\n    if (timerId !== void 0) {\n      cancelTimer(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = void 0;\n  }\n  function flush() {\n    return timerId === void 0 ? result : trailingEdge(Date.now());\n  }\n  function pending() {\n    return timerId !== void 0;\n  }\n  function debounced(...args) {\n    const time = Date.now();\n    const isInvoking = shouldInvoke(time);\n    lastArgs = args;\n    lastThis = this;\n    lastCallTime = time;\n    if (isInvoking) {\n      if (timerId === void 0) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        timerId = startTimer(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === void 0) {\n      timerId = startTimer(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  debounced.pending = pending;\n  return debounced;\n}\nfunction throttle(func, wait, options) {\n  let leading = true;\n  let trailing = true;\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  if (isObject(options)) {\n    leading = \"leading\" in options ? !!options.leading : leading;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    leading,\n    trailing,\n    maxWait: wait\n  });\n}\nfunction getLang() {\n  let lang = (document.documentElement.getAttribute(\"lang\") || navigator.language || \"zh-cn\").toLocaleLowerCase();\n  if (lang === \"zh-cn\") {\n    lang = \"zh\";\n  }\n  return lang;\n}\nfunction checkIsCurrentVideo(element, playerId, key) {\n  if (!element) {\n    return;\n  }\n  const pid = element.getAttribute(key);\n  if (pid && pid === playerId && (element.tagName === \"VIDEO\" || element.tagName === \"AUDIO\")) {\n    return true;\n  }\n  return false;\n}\nexport { checkIsCurrentVideo, debounce, util as default, getLang, throttle };\n","const VERSION_REG = {\n  android: /(Android)\\s([\\d.]+)/,\n  ios: /(Version)\\/([\\d.]+)/\n};\nconst H264_MIMETYPES = [\n  \"avc1.42E01E, mp4a.40.2\",\n  \"avc1.58A01E, mp4a.40.2\",\n  \"avc1.4D401E, mp4a.40.2\",\n  \"avc1.64001E, mp4a.40.2\",\n  \"avc1.42E01E\",\n  \"mp4v.20.8\",\n  \"avc1.42E01E, mp4a.40.2\",\n  \"avc1.58A01E, mp4a.40.2\",\n  \"avc1.4D401E, mp4a.40.2\",\n  \"avc1.64001E, mp4a.40.2\",\n  \"mp4v.20.8, mp4a.40.2\",\n  \"mp4v.20.240, mp4a.40.2\"\n];\nconst sniffer = {\n  get device() {\n    const r = sniffer.os;\n    return r.isPc ? \"pc\" : \"mobile\";\n  },\n  get browser() {\n    if (typeof navigator === \"undefined\") {\n      return \"\";\n    }\n    const ua = navigator.userAgent.toLowerCase();\n    const reg = {\n      ie: /rv:([\\d.]+)\\) like gecko/,\n      firefox: /firefox\\/([\\d.]+)/,\n      chrome: /chrome\\/([\\d.]+)/,\n      opera: /opera.([\\d.]+)/,\n      safari: /version\\/([\\d.]+).*safari/\n    };\n    return [].concat(Object.keys(reg).filter((key) => reg[key].test(ua)))[0];\n  },\n  get os() {\n    if (typeof navigator === \"undefined\") {\n      return {};\n    }\n    const ua = navigator.userAgent;\n    const isWindowsPhone = /(?:Windows Phone)/.test(ua);\n    const isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone;\n    const isAndroid = /(?:Android)/.test(ua);\n    const isFireFox = /(?:Firefox)/.test(ua);\n    const isIpad = /(?:iPad|PlayBook)/.test(ua) || navigator.platform === \"MacIntel\" && navigator.maxTouchPoints > 1;\n    const isTablet = isIpad || isAndroid && !/(?:Mobile)/.test(ua) || isFireFox && /(?:Tablet)/.test(ua);\n    const isPhone = /(?:iPhone)/.test(ua) && !isTablet;\n    const isPc = !isPhone && !isAndroid && !isSymbian && !isTablet;\n    return {\n      isTablet,\n      isPhone,\n      isIpad,\n      isIos: isPhone || isIpad,\n      isAndroid,\n      isPc,\n      isSymbian,\n      isWindowsPhone,\n      isFireFox\n    };\n  },\n  get osVersion() {\n    if (typeof navigator === \"undefined\") {\n      return 0;\n    }\n    const ua = navigator.userAgent;\n    let reg = \"\";\n    if (/(?:iPhone)|(?:iPad|PlayBook)/.test(ua)) {\n      reg = VERSION_REG.ios;\n    } else {\n      reg = VERSION_REG.android;\n    }\n    const _match = reg ? reg.exec(ua) : [];\n    if (_match && _match.length >= 3) {\n      const version = _match[2].split(\".\");\n      return version.length > 0 ? parseInt(version[0]) : 0;\n    }\n    return 0;\n  },\n  get isWeixin() {\n    if (typeof navigator === \"undefined\") {\n      return false;\n    }\n    const reg = /(micromessenger)\\/([\\d.]+)/;\n    const match = reg.exec(navigator.userAgent.toLocaleLowerCase());\n    if (match) {\n      return true;\n    }\n    return false;\n  },\n  isSupportMP4() {\n    const result = {\n      isSupport: false,\n      mime: \"\"\n    };\n    if (typeof document === \"undefined\") {\n      return result;\n    }\n    if (this.supportResult) {\n      return this.supportResult;\n    }\n    let a = document.createElement(\"video\");\n    if (typeof a.canPlayType === \"function\") {\n      H264_MIMETYPES.map((key) => {\n        if (a.canPlayType(`video/mp4; codecs=\"${key}\"`) === \"probably\") {\n          result.isSupport = true;\n          result.mime += `||${key}`;\n        }\n      });\n    }\n    this.supportResult = result;\n    a = null;\n    return result;\n  },\n  isMSESupport(mime = 'video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"') {\n    if (typeof MediaSource === \"undefined\" || !MediaSource)\n      return false;\n    try {\n      return MediaSource.isTypeSupported(mime);\n    } catch (error) {\n      this._logger.error(mime, error);\n      return false;\n    }\n  },\n  isHevcSupported() {\n    if (typeof MediaSource === \"undefined\" || !MediaSource.isTypeSupported) {\n      return false;\n    }\n    return MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.1.6.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.2.4.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.3.E.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.4.10.L120.90\"');\n  },\n  probeConfigSupported(info) {\n    const defaults = {\n      supported: false,\n      smooth: false,\n      powerEfficient: false\n    };\n    if (!info || typeof navigator === \"undefined\") {\n      return Promise.resolve(defaults);\n    }\n    if (navigator.mediaCapabilities && navigator.mediaCapabilities.decodingInfo) {\n      return navigator.mediaCapabilities.decodingInfo(info);\n    } else {\n      const videoConfig = info.video || {};\n      const audioConfig = info.audio || {};\n      try {\n        const videoSupported = MediaSource.isTypeSupported(\n          videoConfig.contentType\n        );\n        const audioSupported = MediaSource.isTypeSupported(\n          audioConfig.contentType\n        );\n        return Promise.resolve({\n          supported: videoSupported && audioSupported,\n          smooth: false,\n          powerEfficient: false\n        });\n      } catch (e) {\n        return Promise.resolve(defaults);\n      }\n    }\n  }\n};\nexport { sniffer as default };\n","var version = \"3.1.0-alpha.9\";\nexport { version as default };\n","import version from \"./version.js\";\nimport util from \"./utils/util.js\";\nconst ERROR_TYPE_MAP = {\n  1: \"media\",\n  2: \"media\",\n  3: \"media\",\n  4: \"media\",\n  5: \"media\",\n  6: \"media\"\n};\nconst ERROR_MAP = {\n  1: 5101,\n  2: 5102,\n  3: 5103,\n  4: 5104,\n  5: 5105,\n  6: 5106\n};\nclass Errors {\n  constructor(player, errorInfo = { errorType: \"\", errorCode: 0, errorMessage: \"\", originError: \"\", ext: {}, mediaError: null }) {\n    const ERROR_TYPES = player && player.i18n ? player.i18n.ERROR_TYPES : null;\n    if (player.media) {\n      const mediaError = errorInfo.mediaError ? errorInfo.mediaError : player.media.error || {};\n      const { duration, currentTime, ended, src, currentSrc } = player;\n      const { readyState, networkState } = player.media;\n      let _errc = errorInfo.errorCode || mediaError.code;\n      if (ERROR_MAP[_errc]) {\n        _errc = ERROR_MAP[_errc];\n      }\n      const r = {\n        playerVersion: version,\n        currentTime,\n        duration,\n        ended,\n        readyState,\n        networkState,\n        src: src || currentSrc,\n        errorType: errorInfo.errorType,\n        errorCode: _errc,\n        message: errorInfo.errorMessage || mediaError.message,\n        mediaError,\n        originError: errorInfo.originError ? errorInfo.originError.stack : \"\",\n        host: util.getHostFromUrl(src || currentSrc)\n      };\n      errorInfo.ext && Object.keys(errorInfo.ext).map((key) => {\n        r[key] = errorInfo.ext[key];\n      });\n      return r;\n    } else {\n      if (arguments.length > 1) {\n        const r = {\n          playerVersion: version,\n          domain: document.domain\n        };\n        const arr = [\"errorType\", \"currentTime\", \"duration\", \"networkState\", \"readyState\", \"src\", \"currentSrc\", \"ended\", \"errd\", \"errorCode\", \"mediaError\"];\n        for (let i = 0; i < arguments.length; i++) {\n          r[arr[i]] = arguments[i];\n        }\n        r.ex = ERROR_TYPES ? (ERROR_TYPES[arguments[0]] || {}).msg : \"\";\n        return r;\n      }\n    }\n  }\n}\nexport { ERROR_TYPE_MAP, Errors as default };\n","const PLAY = \"play\";\nconst PLAYING = \"playing\";\nconst ENDED = \"ended\";\nconst PAUSE = \"pause\";\nconst ERROR = \"error\";\nconst SEEKING = \"seeking\";\nconst SEEKED = \"seeked\";\nconst TIME_UPDATE = \"timeupdate\";\nconst WAITING = \"waiting\";\nconst CANPLAY = \"canplay\";\nconst CANPLAY_THROUGH = \"canplaythrough\";\nconst DURATION_CHANGE = \"durationchange\";\nconst VOLUME_CHANGE = \"volumechange\";\nconst LOADED_DATA = \"loadeddata\";\nconst LOADED_METADATA = \"loadedmetadata\";\nconst RATE_CHANGE = \"ratechange\";\nconst PROGRESS = \"progress\";\nconst LOAD_START = \"loadstart\";\nconst EMPTIED = \"emptied\";\nconst STALLED = \"stalled\";\nconst SUSPEND = \"suspend\";\nconst ABORT = \"abort\";\nconst BUFFER_CHANGE = \"bufferedChange\";\nconst PLAYER_FOCUS = \"focus\";\nconst PLAYER_BLUR = \"blur\";\nconst READY = \"ready\";\nconst URL_NULL = \"urlNull\";\nconst AUTOPLAY_STARTED = \"autoplay_started\";\nconst AUTOPLAY_PREVENTED = \"autoplay_was_prevented\";\nconst COMPLETE = \"complete\";\nconst REPLAY = \"replay\";\nconst DESTROY = \"destroy\";\nconst URL_CHANGE = \"urlchange\";\nconst DOWNLOAD_SPEED_CHANGE = \"download_speed_change\";\nconst LEAVE_PLAYER = \"leaveplayer\";\nconst ENTER_PLAYER = \"enterplayer\";\nconst LOADING = \"loading\";\nconst FULLSCREEN_CHANGE = \"fullscreen_change\";\nconst CSS_FULLSCREEN_CHANGE = \"cssFullscreen_change\";\nconst MINI_STATE_CHANGE = \"mini_state_change\";\nconst DEFINITION_CHANGE = \"definition_change\";\nconst BEFORE_DEFINITION_CHANGE = \"before_definition_change\";\nconst AFTER_DEFINITION_CHANGE = \"after_definition_change\";\nconst SEI_PARSED = \"SEI_PARSED\";\nconst RETRY = \"retry\";\nconst VIDEO_RESIZE = \"video_resize\";\nconst PIP_CHANGE = \"pip_change\";\nconst ROTATE = \"rotate\";\nconst SCREEN_SHOT = \"screenShot\";\nconst PLAYNEXT = \"playnext\";\nconst SHORTCUT = \"shortcut\";\nconst XGLOG = \"xglog\";\nconst USER_ACTION = \"user_action\";\nconst RESET = \"reset\";\nconst SOURCE_ERROR = \"source_error\";\nconst SOURCE_SUCCESS = \"source_success\";\nconst SWITCH_SUBTITLE = \"switch_subtitle\";\nconst VIDEO_EVENTS = [\n  \"play\",\n  \"playing\",\n  \"ended\",\n  \"pause\",\n  \"error\",\n  \"seeking\",\n  \"seeked\",\n  \"timeupdate\",\n  \"waiting\",\n  \"canplay\",\n  \"canplaythrough\",\n  \"durationchange\",\n  \"volumechange\",\n  \"loadeddata\",\n  \"loadedmetadata\",\n  \"ratechange\",\n  \"progress\",\n  \"loadstart\",\n  \"emptied\",\n  \"stalled\",\n  \"suspend\",\n  \"abort\",\n  \"lowdecode\"\n];\nconst STATS_EVENTS = {\n  STATS_INFO: \"stats_info\",\n  STATS_DOWNLOAD: \"stats_download\",\n  STATS_RESET: \"stats_reset\"\n};\nconst FPS_STUCK = \"fps_stuck\";\nexport { ABORT, AFTER_DEFINITION_CHANGE, AUTOPLAY_PREVENTED, AUTOPLAY_STARTED, BEFORE_DEFINITION_CHANGE, BUFFER_CHANGE, CANPLAY, CANPLAY_THROUGH, COMPLETE, CSS_FULLSCREEN_CHANGE, DEFINITION_CHANGE, DESTROY, DOWNLOAD_SPEED_CHANGE, DURATION_CHANGE, EMPTIED, ENDED, ENTER_PLAYER, ERROR, FPS_STUCK, FULLSCREEN_CHANGE, LEAVE_PLAYER, LOADED_DATA, LOADED_METADATA, LOADING, LOAD_START, MINI_STATE_CHANGE, PAUSE, PIP_CHANGE, PLAY, PLAYER_BLUR, PLAYER_FOCUS, PLAYING, PLAYNEXT, PROGRESS, RATE_CHANGE, READY, REPLAY, RESET, RETRY, ROTATE, SCREEN_SHOT, SEEKED, SEEKING, SEI_PARSED, SHORTCUT, SOURCE_ERROR, SOURCE_SUCCESS, STALLED, STATS_EVENTS, SUSPEND, SWITCH_SUBTITLE, TIME_UPDATE, URL_CHANGE, URL_NULL, USER_ACTION, VIDEO_EVENTS, VIDEO_RESIZE, VOLUME_CHANGE, WAITING, XGLOG };\n","import EventEmitter from \"eventemitter3\";\nimport util from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport Errors, { ERROR_TYPE_MAP } from \"./error.js\";\nimport { VIDEO_EVENTS, SOURCE_SUCCESS, SOURCE_ERROR, URL_CHANGE, WAITING } from \"./events.js\";\nfunction emitVideoEvent(eventKey, e) {\n  if (!this || !this.emit) {\n    return;\n  }\n  if (eventKey === \"error\") {\n    this.errorHandler(eventKey, e.error);\n  } else {\n    this.emit(eventKey, e);\n  }\n}\nfunction getVideoEventHandler(eventKey, player) {\n  return (e, _err) => {\n    const eData = {\n      player,\n      eventName: eventKey,\n      originalEvent: e,\n      detail: e.detail || {},\n      timeStamp: e.timeStamp,\n      currentTime: player.currentTime,\n      duration: player.duration,\n      paused: player.paused,\n      ended: player.ended,\n      isInternalOp: !!player._internalOp[e.type],\n      muted: player.muted,\n      volume: player.volume,\n      host: util.getHostFromUrl(player.currentSrc),\n      vtype: player.vtype\n    };\n    player.removeInnerOP(e.type);\n    if (eventKey === \"timeupdate\") {\n      player._currentTime = player.media && player.media.currentTime;\n    }\n    if (eventKey === \"ratechange\") {\n      const _rate = player.media ? player.media.playbackRate : 0;\n      if (_rate && player._rate === _rate) {\n        return;\n      }\n      player._rate = player.media && player.media.playbackRate;\n    }\n    if (eventKey === \"durationchange\") {\n      player._duration = player.media.duration;\n    }\n    if (eventKey === \"volumechange\") {\n      eData.isMutedChange = player._lastMuted !== player.muted;\n      player._lastMuted = player.muted;\n    }\n    if (eventKey === \"error\") {\n      eData.error = _err || player.video.error;\n    }\n    if (player.mediaEventMiddleware[eventKey]) {\n      const callback = emitVideoEvent.bind(player, eventKey, eData);\n      try {\n        player.mediaEventMiddleware[eventKey].call(player, eData, callback);\n      } catch (err) {\n        emitVideoEvent.call(player, eventKey, eData);\n        throw err;\n      }\n    } else {\n      emitVideoEvent.call(player, eventKey, eData);\n    }\n  };\n}\nclass MediaProxy extends EventEmitter {\n  constructor(options) {\n    super(options);\n    this._hasStart = false;\n    this._currentTime = 0;\n    this._duration = 0;\n    this._internalOp = {};\n    this._lastMuted = false;\n    this.vtype = \"MP4\";\n    this._rate = -1;\n    this.mediaConfig = Object.assign({}, {\n      controls: false,\n      autoplay: options.autoplay,\n      playsinline: options.playsinline,\n      \"x5-playsinline\": options.playsinline,\n      \"webkit-playsinline\": options.playsinline,\n      \"x5-video-player-fullscreen\": options[\"x5-video-player-fullscreen\"] || options.x5VideoPlayerFullscreen,\n      \"x5-video-orientation\": options[\"x5-video-orientation\"] || options.x5VideoOrientation,\n      airplay: options.airplay,\n      \"webkit-airplay\": options.airplay,\n      tabindex: options.tabindex | 0,\n      mediaType: options.mediaType || \"video\",\n      \"data-index\": -1\n    }, options.videoConfig, options.videoAttributes);\n    const playerType = options[\"x5-video-player-type\"] || options.x5VideoPlayerType;\n    if (sniffer.isWeixin && sniffer.os.isAndroid && playerType) {\n      this.mediaConfig[\"x5-video-player-type\"] = playerType;\n      delete this.mediaConfig.playsinline;\n      delete this.mediaConfig[\"webkit-playsinline\"];\n      delete this.mediaConfig[\"x5-playsinline\"];\n    }\n    if (options.loop) {\n      this.mediaConfig.loop = \"loop\";\n    }\n    if (options.autoplayMuted && !Object.prototype.hasOwnProperty.call(this.mediaConfig, \"muted\")) {\n      this.mediaConfig.muted = true;\n    }\n    this.media = util.createDom(this.mediaConfig.mediaType, \"\", this.mediaConfig, \"\");\n    if (options.defaultPlaybackRate) {\n      this.media.defaultPlaybackRate = this.media.playbackRate = options.defaultPlaybackRate;\n    }\n    if (util.typeOf(options.volume) === \"Number\") {\n      this.volume = options.volume;\n    }\n    if (options.autoplayMuted) {\n      this.media.muted = true;\n      this._lastMuted = true;\n    }\n    if (options.autoplay) {\n      this.media.autoplay = true;\n    }\n    this._interval = {};\n    this.mediaEventMiddleware = {};\n    this.attachVideoEvents();\n  }\n  setEventsMiddleware(middlewares) {\n    Object.keys(middlewares).map((key) => {\n      this.mediaEventMiddleware[key] = middlewares[key];\n    });\n  }\n  removeEventsMiddleware(middlewares) {\n    Object.keys(middlewares).map((key) => {\n      delete this.mediaEventMiddleware[key];\n    });\n  }\n  attachVideoEvents(media = this.media) {\n    if (!this._evHandlers) {\n      this._evHandlers = VIDEO_EVENTS.map((eventKey) => {\n        const funName = `on${eventKey.charAt(0).toUpperCase()}${eventKey.slice(1)}`;\n        if (typeof this[funName] === \"function\") {\n          this.on(eventKey, this[funName]);\n        }\n        return {\n          [eventKey]: getVideoEventHandler(eventKey, this)\n        };\n      });\n    }\n    this._evHandlers.forEach((item) => {\n      const eventKey = Object.keys(item)[0];\n      media.addEventListener(eventKey, item[eventKey], false);\n    });\n  }\n  detachVideoEvents(media = this.media) {\n    this._evHandlers.forEach((item) => {\n      const eventKey = Object.keys(item)[0];\n      media.removeEventListener(eventKey, item[eventKey], false);\n    });\n    this._evHandlers.forEach((item) => {\n      const eventKey = Object.keys(item)[0];\n      const funName = `on${eventKey.charAt(0).toUpperCase()}${eventKey.slice(1)}`;\n      if (typeof this[funName] === \"function\") {\n        this.off(eventKey, this[funName]);\n      }\n    });\n    this._evHandlers = null;\n  }\n  _attachSourceEvents(video, urls) {\n    video.removeAttribute(\"src\");\n    video.load();\n    urls.forEach((item, index) => {\n      this.media.appendChild(util.createDom(\"source\", \"\", {\n        src: `${item.src}`,\n        type: `${item.type || \"\"}`,\n        \"data-index\": index + 1\n      }));\n    });\n    const _c = video.children;\n    if (!_c) {\n      return;\n    }\n    this._videoSourceCount = _c.length;\n    this._videoSourceIndex = _c.length;\n    this._vLoadeddata = (e) => {\n      this.emit(SOURCE_SUCCESS, { src: e.target.currentSrc, host: util.getHostFromUrl(e.target.currentSrc) });\n    };\n    let _eHandler = null;\n    for (let i = 0; i < this._evHandlers.length; i++) {\n      if (Object.keys(this._evHandlers[i])[0] === \"error\") {\n        _eHandler = this._evHandlers[i];\n        break;\n      }\n    }\n    !this._sourceError && (this._sourceError = (e) => {\n      const _dIndex = parseInt(e.target.getAttribute(\"data-index\"), 10);\n      this._videoSourceIndex--;\n      if (this._videoSourceIndex === 0 || _dIndex >= this._videoSourceCount) {\n        const _err = { code: 4, message: \"sources_load_error\" };\n        _eHandler ? _eHandler.error(e, _err) : this.errorHandler(\"error\", _err);\n      }\n      const type = ERROR_TYPE_MAP[4];\n      this.emit(SOURCE_ERROR, new Errors(this, {\n        errorType: type,\n        errorCode: 4,\n        errorMessage: \"sources_load_error\",\n        mediaError: { code: 4, message: \"sources_load_error\" },\n        src: e.target.src\n      }));\n    });\n    for (let i = 0; i < _c.length; i++) {\n      _c[i].addEventListener(\"error\", this._sourceError);\n    }\n    video.addEventListener(\"loadeddata\", this._vLoadeddata);\n  }\n  _detachSourceEvents(video) {\n    const _c = video.children;\n    if (!_c || _c.length === 0 || !this._sourceError) {\n      return;\n    }\n    for (let i = 0; i < _c.length; i++) {\n      _c[i].removeEventListener(\"error\", this._sourceError);\n    }\n    while (_c.length > 0) {\n      video.removeChild(_c[0]);\n    }\n    this._vLoadeddata && video.removeEventListener(\"loadeddata\", this._vLoadeddata);\n  }\n  errorHandler(name, error = null) {\n    if (this.media && (this.media.error || error)) {\n      let _e = this.media.error || error;\n      const type = _e.code ? ERROR_TYPE_MAP[_e.code] : \"other\";\n      let message = _e.message;\n      if (!this.media.currentSrc) {\n        message = \"empty_src\";\n        _e = {\n          code: 6,\n          message\n        };\n      }\n      this.emit(name, new Errors(this, {\n        errorType: type,\n        errorCode: _e.code,\n        errorMessage: _e.message || \"\",\n        mediaError: _e\n      }));\n    }\n  }\n  destroy() {\n    if (this.media) {\n      if (this.media.pause) {\n        this.media.pause();\n        this.media.muted = true;\n      }\n      this.media.removeAttribute(\"src\");\n      this.media.load();\n    }\n    this._currentTime = 0;\n    this._duration = 0;\n    this.mediaConfig = null;\n    for (const k in this._interval) {\n      if (Object.prototype.hasOwnProperty.call(this._interval, k)) {\n        clearInterval(this._interval[k]);\n        this._interval[k] = null;\n      }\n    }\n    this.detachVideoEvents();\n    this.media = null;\n    this.mediaEventMiddleware = {};\n    this.removeAllListeners();\n  }\n  get video() {\n    return this.media;\n  }\n  set video(media) {\n    this.media = media;\n  }\n  play() {\n    const ret = this.media ? this.media.play() : null;\n    return ret;\n  }\n  pause() {\n    this.media && this.media.pause();\n  }\n  load() {\n    this.media && this.media.load();\n  }\n  canPlayType(type) {\n    return this.media ? this.media.canPlayType(type) : false;\n  }\n  getBufferedRange(buffered) {\n    const range = [0, 0];\n    if (!this.media) {\n      return range;\n    }\n    if (!buffered) {\n      buffered = this.media.buffered;\n    }\n    const currentTime = this.media.currentTime;\n    if (buffered) {\n      for (let i = 0, len = buffered.length; i < len; i++) {\n        range[0] = buffered.start(i);\n        range[1] = buffered.end(i);\n        if (range[0] <= currentTime && currentTime <= range[1]) {\n          break;\n        }\n      }\n    }\n    if (range[0] - currentTime <= 0 && currentTime - range[1] <= 0) {\n      return range;\n    } else {\n      return [0, 0];\n    }\n  }\n  set autoplay(isTrue) {\n    this.media && (this.media.autoplay = isTrue);\n  }\n  get autoplay() {\n    return this.media ? this.media.autoplay : false;\n  }\n  get buffered() {\n    return this.media ? this.media.buffered : null;\n  }\n  get buffered2() {\n    return this.media && this.media.buffered ? util.getBuffered2(this.media.buffered) : null;\n  }\n  get bufferedPoint() {\n    const ret = {\n      start: 0,\n      end: 0\n    };\n    if (!this.media) {\n      return ret;\n    }\n    const _buffered = this.media.buffered;\n    if (!_buffered || _buffered.length === 0) {\n      return ret;\n    }\n    for (let i = 0; i < _buffered.length; i++) {\n      if ((_buffered.start(i) <= this.currentTime || _buffered.start(i) < 0.1) && _buffered.end(i) >= this.currentTime) {\n        return {\n          start: _buffered.start(i),\n          end: _buffered.end(i)\n        };\n      }\n    }\n    return ret;\n  }\n  get crossOrigin() {\n    return this.media ? this.media.crossOrigin : \"\";\n  }\n  set crossOrigin(isTrue) {\n    this.media && (this.media.crossOrigin = isTrue);\n  }\n  get currentSrc() {\n    return this.media ? this.media.currentSrc : \"\";\n  }\n  set currentSrc(src) {\n    this.media && (this.media.currentSrc = src);\n  }\n  get currentTime() {\n    if (!this.media) {\n      return 0;\n    }\n    return this.media.currentTime !== void 0 ? this.media.currentTime : this._currentTime;\n  }\n  set currentTime(time) {\n    this.media && (this.media.currentTime = time);\n  }\n  get defaultMuted() {\n    return this.media ? this.media.defaultMuted : false;\n  }\n  set defaultMuted(isTrue) {\n    this.media && (this.media.defaultMuted = isTrue);\n  }\n  get duration() {\n    return this._duration;\n  }\n  get ended() {\n    return this.media ? this.media.ended : false;\n  }\n  get error() {\n    return this.media.error;\n  }\n  get errorNote() {\n    const err = this.media.error;\n    if (!err) {\n      return \"\";\n    }\n    const status = [\n      \"MEDIA_ERR_ABORTED\",\n      \"MEDIA_ERR_NETWORK\",\n      \"MEDIA_ERR_DECODE\",\n      \"MEDIA_ERR_SRC_NOT_SUPPORTED\"\n    ];\n    return status[this.media.error.code - 1];\n  }\n  get loop() {\n    return this.media ? this.media.loop : false;\n  }\n  set loop(isTrue) {\n    this.media && (this.media.loop = isTrue);\n  }\n  get muted() {\n    return this.media ? this.media.muted : false;\n  }\n  set muted(isTrue) {\n    if (!this.media || this.media.muted === isTrue) {\n      return;\n    }\n    this._lastMuted = this.media.muted;\n    this.media.muted = isTrue;\n  }\n  get networkState() {\n    return this.media.networkState;\n  }\n  get paused() {\n    return this.media ? this.media.paused : true;\n  }\n  get playbackRate() {\n    return this.media ? this.media.playbackRate : 0;\n  }\n  set playbackRate(rate) {\n    if (!this.media || rate === Infinity) {\n      return;\n    }\n    this.media.defaultPlaybackRate = rate;\n    this.media.playbackRate = rate;\n  }\n  get played() {\n    return this.media ? this.media.played : null;\n  }\n  get preload() {\n    return this.media ? this.media.preload : false;\n  }\n  set preload(isTrue) {\n    this.media && (this.media.preload = isTrue);\n  }\n  get readyState() {\n    return this.media.readyState;\n  }\n  get seekable() {\n    return this.media ? this.media.seekable : false;\n  }\n  get seeking() {\n    return this.media ? this.media.seeking : false;\n  }\n  get src() {\n    return this.media ? this.media.src : \"\";\n  }\n  set src(url) {\n    if (!this.media) {\n      return;\n    }\n    this.emit(URL_CHANGE, url);\n    this.emit(WAITING);\n    this._currentTime = 0;\n    this._duration = 0;\n    if (util.isMSE(this.media)) {\n      this.onWaiting();\n      return;\n    }\n    this._detachSourceEvents(this.media);\n    if (util.typeOf(url) === \"Array\") {\n      this._attachSourceEvents(this.media, url);\n    } else if (url) {\n      this.media.src = url;\n    } else {\n      this.media.removeAttribute(\"src\");\n    }\n    this.load();\n  }\n  get volume() {\n    return this.media ? this.media.volume : 0;\n  }\n  set volume(vol) {\n    if (vol === Infinity || !this.media) {\n      return;\n    }\n    this.media.volume = vol;\n  }\n  get aspectRatio() {\n    return this.media ? this.media.videoWidth / this.media.videoHeight : 0;\n  }\n  addInnerOP(event) {\n    this._internalOp[event] = true;\n  }\n  removeInnerOP(event) {\n    delete this._internalOp[event];\n  }\n  emit(event, data, ...args) {\n    super.emit(event, data, ...args);\n  }\n  on(event, callback, ...args) {\n    super.on(event, callback, ...args);\n  }\n  once(event, callback, ...args) {\n    super.once(event, callback, ...args);\n  }\n  off(event, callback, ...args) {\n    super.off(event, callback, ...args);\n  }\n  offAll() {\n    super.removeAllListeners();\n  }\n}\nexport { MediaProxy as default };\n","class INDEXDB {\n  constructor(mydb = { name: \"xgplayer\", version: 1, db: null, ojstore: { name: \"xg-m4a\", keypath: \"vid\" } }) {\n    this.indexedDB = window.indexedDB || window.webkitindexedDB;\n    this.IDBKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange;\n    this.myDB = mydb;\n  }\n  openDB(callback) {\n    const self = this;\n    const version = this.myDB.version || 1;\n    const request = self.indexedDB.open(self.myDB.name, version);\n    request.onerror = function(e) {\n    };\n    request.onsuccess = (e) => {\n      this.myDB.db = e.target.result;\n      callback.call(self);\n    };\n    request.onupgradeneeded = (e) => {\n      const db = e.target.result;\n      e.target.transaction;\n      if (!db.objectStoreNames.contains(self.myDB.ojstore.name)) {\n        db.createObjectStore(self.myDB.ojstore.name, { keyPath: self.myDB.ojstore.keypath });\n      }\n    };\n  }\n  deletedb() {\n    const self = this;\n    self.indexedDB.deleteDatabase(this.myDB.name);\n  }\n  closeDB() {\n    this.myDB.db.close();\n  }\n  addData(storename, data) {\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    let request;\n    for (let i = 0; i < data.length; i++) {\n      request = store.add(data[i]);\n      request.onerror = function() {\n      };\n      request.onsuccess = function() {\n      };\n    }\n  }\n  putData(storename, data) {\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    let request;\n    for (let i = 0; i < data.length; i++) {\n      request = store.put(data[i]);\n      request.onerror = function() {\n      };\n      request.onsuccess = function() {\n      };\n    }\n  }\n  getDataByKey(storename, key, callback) {\n    const self = this;\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    const request = store.get(key);\n    request.onerror = function() {\n      callback.call(self, null);\n    };\n    request.onsuccess = function(e) {\n      const result = e.target.result;\n      callback.call(self, result);\n    };\n  }\n  deleteData(storename, key) {\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    store.delete(key);\n  }\n  clearData(storename) {\n    const store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n    store.clear();\n  }\n}\nexport { INDEXDB as default };\n","const FULLSCREEN_EVENTS = [\"fullscreenchange\", \"webkitfullscreenchange\", \"mozfullscreenchange\", \"MSFullscreenChange\"];\nconst GET_FULLSCREEN_API = [\"requestFullscreen\", \"webkitRequestFullscreen\", \"mozRequestFullScreen\", \"msRequestFullscreen\"];\nconst EXIT_FULLSCREEN_API = [\"exitFullscreen\", \"webkitExitFullscreen\", \"mozCancelFullScreen\", \"msExitFullscreen\"];\nconst PLATER_ID = \"data-xgplayerid\";\nexport { EXIT_FULLSCREEN_API, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, PLATER_ID };\n","function callHandler(obj, handler, next, ...args) {\n  const ret = handler.call(obj, ...args);\n  if (!next || typeof next !== \"function\") {\n    return;\n  }\n  if (ret && ret.then) {\n    ret.then((...args2) => {\n      next.call(obj, ...args2);\n    });\n  } else {\n    next.call(obj, ...args);\n  }\n}\nfunction hook(hookName, handler, preset = { pre: null, next: null }) {\n  if (!this.__hooks) {\n    this.__hooks = {};\n  }\n  !this.__hooks[hookName] && (this.__hooks[hookName] = null);\n  return function() {\n    if (preset.pre) {\n      try {\n        preset.pre.call(this, ...arguments);\n      } catch (e) {\n        e.message = `[pluginName: ${this.pluginName}:${hookName}:pre error] >> ${e.message}`;\n        throw e;\n      }\n    }\n    if (this.__hooks && this.__hooks[hookName]) {\n      try {\n        const preRet = this.__hooks[hookName].call(this, this, ...arguments);\n        if (preRet) {\n          if (preRet.then) {\n            preRet.then((isContinue) => {\n              if (isContinue !== false) {\n                callHandler(this, handler, preset.next, ...arguments);\n              }\n            }).catch((e) => {\n              throw e;\n            });\n          } else {\n            callHandler(this, handler, preset.next, ...arguments);\n          }\n        } else if (preRet === void 0) {\n          callHandler(this, handler, preset.next, ...arguments);\n        }\n      } catch (e) {\n        e.message = `[pluginName: ${this.pluginName}:${hookName}] >> ${e.message}`;\n        throw e;\n      }\n    } else {\n      callHandler(this, handler, preset.next, ...arguments);\n    }\n  }.bind(this);\n}\nfunction useHooks(hookName, handler) {\n  const { __hooks } = this;\n  if (!__hooks) {\n    return;\n  }\n  if (!__hooks.hasOwnProperty(hookName)) {\n    console.warn(`has no supported hook which name [${hookName}]`);\n    return false;\n  }\n  __hooks && (__hooks[hookName] = handler);\n  return true;\n}\nfunction removeHooks(hookName, handler) {\n  const { __hooks } = this;\n  if (!__hooks) {\n    return;\n  }\n  delete __hooks[hookName];\n}\nfunction usePluginHooks(pluginName, ...args) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  const plugin = this.plugins[pluginName.toLowerCase()];\n  return plugin.useHooks && plugin.useHooks(...args);\n}\nfunction removePluginHooks(pluginName, ...args) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  const plugin = this.plugins[pluginName.toLowerCase()];\n  if (plugin) {\n    return plugin.removeHooks && plugin.removeHooks(...args);\n  }\n}\nfunction hooksDescriptor(instance, presetHooks = []) {\n  instance.__hooks = {};\n  presetHooks && presetHooks.map((item) => {\n    instance.__hooks[item] = null;\n  });\n  Object.defineProperty(instance, \"hooks\", {\n    get: () => {\n      return instance.__hooks && Object.keys(instance.__hooks).map((key) => {\n        if (instance.__hooks[key]) {\n          return key;\n        }\n      });\n    }\n  });\n}\nfunction delHooksDescriptor(instance) {\n  instance.__hooks = null;\n}\nfunction runHooks(obj, hookName, handler, ...args) {\n  if (obj.__hooks && obj.__hooks[hookName]) {\n    const ret = obj.__hooks[hookName].call(obj, obj, ...args);\n    if (ret && ret.then) {\n      ret.then((data) => {\n        return data === false ? null : handler.call(obj, obj, ...args);\n      }).catch((e) => {\n        console.warn(`[runHooks]${hookName} reject`, e.message);\n      });\n    } else if (ret !== false) {\n      return handler.call(obj, obj, ...args);\n    }\n  } else {\n    return handler.call(obj, obj, ...args);\n  }\n}\nexport { hooksDescriptor as default, delHooksDescriptor, hook, removeHooks, removePluginHooks, runHooks, useHooks, usePluginHooks };\n","import util from \"../utils/util.js\";\nexport { default as Util } from \"../utils/util.js\";\nimport XG_DEBUG from \"../utils/debug.js\";\nexport { default as XG_DEBUG } from \"../utils/debug.js\";\nimport hooksDescriptor, { hook, useHooks, removeHooks, delHooksDescriptor } from \"./hooksDescriptor.js\";\nfunction showErrorMsg(pluginName, msg) {\n  XG_DEBUG.logError(`[${pluginName}] event or callback cant be undefined or null when call ${msg}`);\n}\nclass BasePlugin {\n  static defineGetterOrSetter(Obj, map) {\n    for (const key in map) {\n      if (Object.prototype.hasOwnProperty.call(map, key)) {\n        Object.defineProperty(Obj, key, map[key]);\n      }\n    }\n  }\n  static get defaultConfig() {\n    return {};\n  }\n  static get pluginName() {\n    return \"pluginName\";\n  }\n  constructor(args) {\n    if (util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate(args);\n    }\n    hooksDescriptor(this);\n    this.__args = args;\n    this.__events = {};\n    this.__onceEvents = {};\n    this.config = args.config || {};\n    this.player = null;\n    this.playerConfig = {};\n    this.pluginName = \"\";\n    this.__init(args);\n  }\n  beforeCreate(args) {\n  }\n  afterCreate() {\n  }\n  beforePlayerInit() {\n  }\n  onPluginsReady() {\n  }\n  afterPlayerInit() {\n  }\n  destroy() {\n  }\n  __init(args) {\n    this.player = args.player;\n    this.playerConfig = args.player && args.player.config;\n    this.pluginName = args.pluginName ? args.pluginName.toLowerCase() : this.constructor.pluginName.toLowerCase();\n    this.logger = args.player && args.player.logger;\n  }\n  updateLang(lang) {\n    if (!lang) {\n      lang = this.lang;\n    }\n  }\n  get lang() {\n    return this.player.lang;\n  }\n  get i18n() {\n    return this.player.i18n;\n  }\n  get i18nKeys() {\n    return this.player.i18nKeys;\n  }\n  get domEventType() {\n    let _e = util.checkTouchSupport() ? \"touch\" : \"mouse\";\n    if (this.playerConfig && (this.playerConfig.domEventType === \"touch\" || this.playerConfig.domEventType === \"mouse\")) {\n      _e = this.playerConfig.domEventType;\n    }\n    return _e;\n  }\n  on(event, callback) {\n    if (!event || !callback || !this.player) {\n      showErrorMsg(this.pluginName, \"plugin.on(event, callback)\");\n      return;\n    }\n    if (typeof event === \"string\") {\n      this.__events[event] = callback;\n      this.player.on(event, callback);\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = callback;\n        this.player.on(item, callback);\n      });\n    }\n  }\n  once(event, callback) {\n    if (!event || !callback || !this.player) {\n      showErrorMsg(this.pluginName, \"plugin.once(event, callback)\");\n      return;\n    }\n    if (typeof event === \"string\") {\n      this.__onceEvents[event] = callback;\n      this.player.once(event, callback);\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__onceEvents[item] = callback;\n        this.player.once(event, callback);\n      });\n    }\n  }\n  off(event, callback) {\n    if (!event || !callback || !this.player) {\n      showErrorMsg(this.pluginName, \"plugin.off(event, callback)\");\n      return;\n    }\n    if (typeof event === \"string\") {\n      delete this.__events[event];\n      this.player.off(event, callback);\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        delete this.__events[event];\n        this.player.off(item, callback);\n      });\n    }\n  }\n  offAll() {\n    [\"__events\", \"__onceEvents\"].forEach((key) => {\n      Object.keys(this[key]).forEach((item) => {\n        this[key][item] && this.off(item, this[key][item]);\n        item && delete this[key][item];\n      });\n    });\n    this.__events = {};\n    this.__onceEvents = {};\n  }\n  emit(event, ...res) {\n    if (!this.player) {\n      return;\n    }\n    this.player.emit(event, ...res);\n  }\n  emitUserAction(event, action, params = {}) {\n    if (!this.player) {\n      return;\n    }\n    const nParams = {\n      ...params,\n      pluginName: this.pluginName\n    };\n    this.player.emitUserAction(event, action, nParams);\n  }\n  hook(hookName, handler, preset = { pre: null, next: null }) {\n    return hook.call(this, ...arguments);\n  }\n  useHooks(hookName, handler, ...args) {\n    return useHooks.call(this, ...arguments);\n  }\n  removeHooks(hookName, handler, ...args) {\n    return removeHooks.call(this, ...arguments);\n  }\n  registerPlugin(plugin, options = {}, name = \"\") {\n    if (!this.player) {\n      return;\n    }\n    name && (options.pluginName = name);\n    return this.player.registerPlugin({ plugin, options });\n  }\n  getPlugin(name) {\n    return this.player ? this.player.getPlugin(name) : null;\n  }\n  __destroy() {\n    const player = this.player;\n    const pluginName = this.pluginName;\n    this.offAll();\n    util.clearAllTimers(this);\n    if (util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n    [\"player\", \"playerConfig\", \"pluginName\", \"logger\", \"__args\", \"__hooks\"].map((item) => {\n      this[item] = null;\n    });\n    player.unRegisterPlugin(pluginName);\n    delHooksDescriptor(this);\n  }\n}\nexport { BasePlugin as default };\n","import BasePlugin from \"./basePlugin.js\";\nimport delegate from \"delegate\";\nimport XG_DEBUG from \"../utils/debug.js\";\nimport util from \"../utils/util.js\";\nconst ROOT_TYPES = {\n  CONTROLS: \"controls\",\n  ROOT: \"root\"\n};\nconst POSITIONS = {\n  ROOT: \"root\",\n  ROOT_LEFT: \"rootLeft\",\n  ROOT_RIGHT: \"rootRight\",\n  ROOT_TOP: \"rootTop\",\n  CONTROLS_LEFT: \"controlsLeft\",\n  CONTROLS_RIGTH: \"controlsRight\",\n  CONTROLS_RIGHT: \"controlsRight\",\n  CONTROLS_CENTER: \"controlsCenter\",\n  CONTROLS: \"controls\"\n};\nconst PLUGIN_STATE_CLASS = {\n  ICON_DISABLE: \"xg-icon-disable\",\n  ICON_HIDE: \"xg-icon-hide\"\n};\nfunction isUrl(str) {\n  if (!str) {\n    return false;\n  }\n  return str.indexOf && /^(?:http|data:|\\/)/.test(str);\n}\nfunction mergeIconClass(icon, classname) {\n  if (typeof icon === \"object\" && icon.class && typeof icon.class === \"string\") {\n    return `${classname} ${icon.class}`;\n  }\n  return classname;\n}\nfunction mergeIconAttr(icon, attr) {\n  if (typeof icon === \"object\" && icon.attr && typeof icon.attr === \"object\") {\n    Object.keys(icon.attr).map((key) => {\n      attr[key] = icon.attr[key];\n    });\n  }\n  return attr;\n}\nfunction createIcon(icon, key, classname = \"\", attr = {}, pluginName = \"\") {\n  let newIcon = null;\n  if (icon instanceof window.Element) {\n    util.addClass(icon, classname);\n    Object.keys(attr).map((key2) => {\n      icon.setAttribute(key2, attr[key2]);\n    });\n    return icon;\n  }\n  if (isUrl(icon) || isUrl(icon.url)) {\n    attr.src = isUrl(icon) ? icon : icon.url || \"\";\n    newIcon = util.createDom(icon.tag || \"img\", \"\", attr, `xg-img ${classname}`);\n    return newIcon;\n  }\n  if (typeof icon === \"function\") {\n    try {\n      newIcon = icon();\n      if (newIcon instanceof window.Element) {\n        util.addClass(newIcon, classname);\n        Object.keys(attr).map((key2) => {\n          newIcon.setAttribute(key2, attr[key2]);\n        });\n        return newIcon;\n      } else {\n        XG_DEBUG.logWarn(`warn>>icons.${key} in config of plugin named [${pluginName}] is a function mast return an Element Object`);\n      }\n      return null;\n    } catch (e) {\n      XG_DEBUG.logError(`Plugin named [${pluginName}]:createIcon`, e);\n      return null;\n    }\n  }\n  if (typeof icon === \"string\") {\n    return util.createDomFromHtml(icon, attr, classname);\n  }\n  XG_DEBUG.logWarn(`warn>>icons.${key} in config of plugin named [${pluginName}] is invalid`);\n  return null;\n}\nfunction registerIconsObj(iconsConfig, plugin) {\n  const _icons = plugin.config.icons || plugin.playerConfig.icons;\n  Object.keys(iconsConfig).map((key) => {\n    const orgIcon = iconsConfig[key];\n    let classname = orgIcon && orgIcon.class ? orgIcon.class : \"\";\n    let attr = orgIcon && orgIcon.attr ? orgIcon.attr : {};\n    let newIcon = null;\n    if (_icons && _icons[key]) {\n      classname = mergeIconClass(_icons[key], classname);\n      attr = mergeIconAttr(_icons[key], attr);\n      newIcon = createIcon(_icons[key], key, classname, attr, plugin.pluginName);\n    }\n    if (!newIcon && orgIcon) {\n      newIcon = createIcon(orgIcon.icon ? orgIcon.icon : orgIcon, attr, classname, {}, plugin.pluginName);\n    }\n    plugin.icons[key] = newIcon;\n  });\n}\nfunction registerTextObj(textConfig, plugin) {\n  Object.keys(textConfig).map((key) => {\n    Object.defineProperty(plugin.langText, key, {\n      get: () => {\n        const { lang, i18n } = plugin;\n        if (i18n[key]) {\n          return i18n[key];\n        } else {\n          return textConfig[key] ? textConfig[key][lang] || \"\" : \"\";\n        }\n      }\n    });\n  });\n}\nclass Plugin extends BasePlugin {\n  static insert(html, parent, index = 0) {\n    const len = parent.children.length;\n    const insertIdx = Number(index);\n    const isDomElement = html instanceof window.Node;\n    if (len) {\n      let i = 0;\n      let coordinate = null;\n      let mode = \"\";\n      for (; i < len; i++) {\n        coordinate = parent.children[i];\n        const curIdx = Number(coordinate.getAttribute(\"data-index\"));\n        if (curIdx >= insertIdx) {\n          mode = \"beforebegin\";\n          break;\n        } else if (curIdx < insertIdx) {\n          mode = \"afterend\";\n        }\n      }\n      if (isDomElement) {\n        if (mode === \"afterend\") {\n          parent.appendChild(html);\n        } else {\n          parent.insertBefore(html, coordinate);\n        }\n      } else {\n        coordinate.insertAdjacentHTML(mode, html);\n      }\n      return mode === \"afterend\" ? parent.children[parent.children.length - 1] : parent.children[i];\n    } else {\n      isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML(\"beforeend\", html);\n      return parent.children[parent.children.length - 1];\n    }\n  }\n  static get defaultConfig() {\n    return {};\n  }\n  static delegate(root, querySelector, eventType, callback, capture = false) {\n    const dels = [];\n    if (root instanceof window.Node && typeof callback === \"function\") {\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          const ret = delegate(root, querySelector, item, callback, capture);\n          ret.key = `${querySelector}_${item}`;\n          dels.push(ret);\n        });\n      } else {\n        const ret = delegate(root, querySelector, eventType, callback, capture);\n        ret.key = `${querySelector}_${eventType}`;\n        dels.push(ret);\n      }\n    }\n    return dels;\n  }\n  static get ROOT_TYPES() {\n    return ROOT_TYPES;\n  }\n  static get POSITIONS() {\n    return POSITIONS;\n  }\n  constructor(args = {}) {\n    super(args);\n    this.__delegates = [];\n  }\n  __init(args) {\n    super.__init(args);\n    if (!args.root) {\n      return;\n    }\n    const _parent = args.root;\n    let _el = null;\n    this.icons = {};\n    this.root = null;\n    this.parent = null;\n    const _orgicons = this.registerIcons() || {};\n    registerIconsObj(_orgicons, this);\n    this.langText = {};\n    const defaultTexConfig = this.registerLanguageTexts() || {};\n    registerTextObj(defaultTexConfig, this);\n    let renderStr = \"\";\n    try {\n      renderStr = this.render();\n    } catch (e) {\n      XG_DEBUG.logError(`Plugin:${this.pluginName}:render`, e);\n      throw new Error(`Plugin:${this.pluginName}:render:${e.message}`);\n    }\n    if (renderStr) {\n      _el = Plugin.insert(renderStr, _parent, args.index);\n      _el.setAttribute(\"data-index\", args.index);\n    } else if (args.tag) {\n      _el = util.createDom(args.tag, \"\", args.attr, args.name);\n      _el.setAttribute(\"data-index\", args.index);\n      _parent.appendChild(_el);\n    } else {\n      return;\n    }\n    this.root = _el;\n    this.parent = _parent;\n    const attr = this.config.attr || {};\n    const style = this.config.style || {};\n    this.setAttr(attr);\n    this.setStyle(style);\n    if (this.config.index) {\n      this.root.setAttribute(\"data-index\", this.config.index);\n    }\n    this.__registerChildren();\n  }\n  __registerChildren() {\n    if (!this.root) {\n      return;\n    }\n    this._children = [];\n    const children = this.children();\n    if (children && typeof children === \"object\") {\n      if (Object.keys(children).length > 0) {\n        Object.keys(children).map((item) => {\n          const name = item;\n          const _plugin = children[name];\n          const options = {\n            root: this.root\n          };\n          let config, Plugin2;\n          if (typeof _plugin === \"function\") {\n            config = this.config[name] || {};\n            Plugin2 = _plugin;\n          } else if (typeof _plugin === \"object\" && typeof _plugin.plugin === \"function\") {\n            config = _plugin.options ? util.deepCopy(this.config[name] || {}, _plugin.options) : this.config[name] || {};\n            Plugin2 = _plugin.plugin;\n          }\n          options.config = config;\n          config.index !== void 0 && (options.index = config.index);\n          config.root && (options.root = config.root);\n          this.registerPlugin(Plugin2, options, name);\n        });\n      }\n    }\n  }\n  updateLang(lang) {\n    if (!lang) {\n      lang = this.lang;\n    }\n    function checkChildren(node, callback) {\n      for (let i = 0; i < node.children.length; i++) {\n        if (node.children[i].children.length > 0) {\n          checkChildren(node.children[i], callback);\n        } else {\n          callback(node.children[i]);\n        }\n      }\n    }\n    const { root, i18n, langText } = this;\n    if (root) {\n      checkChildren(root, (node) => {\n        const langKey = node.getAttribute && node.getAttribute(\"lang-key\");\n        if (!langKey) {\n          return;\n        }\n        const langTextShow = i18n[langKey.toUpperCase()] || langText[langKey];\n        if (langTextShow) {\n          node.innerHTML = typeof langTextShow === \"function\" ? langTextShow(lang) : langTextShow;\n        }\n      });\n    }\n  }\n  get lang() {\n    return this.player.lang;\n  }\n  changeLangTextKey(dom, key = \"\") {\n    const i18n = this.i18n || {};\n    const langText = this.langText;\n    dom.setAttribute && dom.setAttribute(\"lang-key\", key);\n    const text = i18n[key] || langText[key] || \"\";\n    if (text) {\n      dom.innerHTML = text;\n    }\n  }\n  plugins() {\n    return this._children;\n  }\n  disable() {\n    this.config.disable = true;\n    util.addClass(this.find(\".xgplayer-icon\"), PLUGIN_STATE_CLASS.ICON_DISABLE);\n  }\n  enable() {\n    this.config.disable = false;\n    util.removeClass(this.find(\".xgplayer-icon\"), PLUGIN_STATE_CLASS.ICON_DISABLE);\n  }\n  children() {\n    return {};\n  }\n  registerPlugin(plugin, options = {}, name = \"\") {\n    options.root = options.root || this.root;\n    const _c = super.registerPlugin(plugin, options, name);\n    this._children.push(_c);\n    return _c;\n  }\n  registerIcons() {\n    return {};\n  }\n  registerLanguageTexts() {\n    return {};\n  }\n  find(qs) {\n    if (!this.root) {\n      return;\n    }\n    return this.root.querySelector(qs);\n  }\n  bind(querySelector, eventType, callback) {\n    if (arguments.length < 3 && typeof eventType === \"function\") {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.bindEL(item, eventType);\n        });\n      } else {\n        this.bindEL(querySelector, eventType);\n      }\n    } else {\n      const ret = Plugin.delegate.call(this, this.root, querySelector, eventType, callback);\n      this.__delegates = this.__delegates.concat(ret);\n    }\n  }\n  unbind(querySelector, eventType) {\n    if (arguments.length < 3 && typeof eventType === \"function\") {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.unbindEL(item, eventType);\n        });\n      } else {\n        this.unbindEL(querySelector, eventType);\n      }\n    } else {\n      const key = `${querySelector}_${eventType}`;\n      for (let i = 0; i < this.__delegates.length; i++) {\n        if (this.__delegates[i].key === key) {\n          this.__delegates[i].destroy();\n          this.__delegates.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }\n  setStyle(name, value) {\n    if (!this.root) {\n      return;\n    }\n    if (util.typeOf(name) === \"String\") {\n      return this.root.style[name] = value;\n    } else if (util.typeOf(name) === \"Object\") {\n      Object.keys(name).map((key) => {\n        this.root.style[key] = name[key];\n      });\n    }\n  }\n  setAttr(name, value) {\n    if (!this.root) {\n      return;\n    }\n    if (util.typeOf(name) === \"String\") {\n      return this.root.setAttribute(name, value);\n    } else if (util.typeOf(name) === \"Object\") {\n      Object.keys(name).map((key) => {\n        this.root.setAttribute(key, name[key]);\n      });\n    }\n  }\n  setHtml(htmlStr, callback) {\n    if (!this.root) {\n      return;\n    }\n    this.root.innerHTML = htmlStr;\n    if (typeof callback === \"function\") {\n      callback();\n    }\n  }\n  bindEL(event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return;\n    }\n    if (`on${event}` in this.root && typeof eventHandle === \"function\") {\n      this.root.addEventListener(event, eventHandle, isBubble);\n    }\n  }\n  unbindEL(event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return;\n    }\n    if (`on${event}` in this.root && typeof eventHandle === \"function\") {\n      this.root.removeEventListener(event, eventHandle, isBubble);\n    }\n  }\n  show(value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.style.display = value !== void 0 ? value : \"block\";\n    const cs = window.getComputedStyle(this.root, null);\n    const cssDisplayValue = cs.getPropertyValue(\"display\");\n    if (cssDisplayValue === \"none\") {\n      return this.root.style.display = \"block\";\n    }\n  }\n  hide() {\n    this.root && (this.root.style.display = \"none\");\n  }\n  appendChild(pdom, child) {\n    if (!this.root) {\n      return null;\n    }\n    if (arguments.length < 2 && arguments[0] instanceof window.Element) {\n      return this.root.appendChild(arguments[0]);\n    }\n    if (!child || !(child instanceof window.Element)) {\n      return null;\n    }\n    try {\n      if (typeof pdom === \"string\") {\n        return this.find(pdom).appendChild(child);\n      } else {\n        return pdom.appendChild(child);\n      }\n    } catch (err) {\n      XG_DEBUG.logError(\"Plugin:appendChild\", err);\n      return null;\n    }\n  }\n  render() {\n    return \"\";\n  }\n  destroy() {\n  }\n  __destroy() {\n    const { player } = this;\n    this.__delegates.map((item) => {\n      item.destroy();\n    });\n    this.__delegates = [];\n    if (this._children instanceof Array) {\n      this._children.map((item) => {\n        player.unRegisterPlugin(item.pluginName);\n      });\n      this._children = null;\n    }\n    if (this.root) {\n      if (this.root.hasOwnProperty(\"remove\")) {\n        this.root.remove();\n      } else if (this.root.parentNode) {\n        this.root.parentNode.removeChild(this.root);\n      }\n    }\n    super.__destroy();\n    this.icons = {};\n    [\"root\", \"parent\"].map((item) => {\n      this[item] = null;\n    });\n  }\n}\nexport { PLUGIN_STATE_CLASS, POSITIONS, ROOT_TYPES, Plugin as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { throttle } from \"../utils/util.js\";\nimport { PLATER_ID } from \"../constant.js\";\nclass ResizeObserver {\n  constructor() {\n    __publicField(this, \"__trigger\", (entries) => {\n      const t = new Date().getTime();\n      this.timeStamp = t;\n      for (let i = 0; i < entries.length; i++) {\n        this.__runHandler(entries[i].target);\n      }\n    });\n    this.__handlers = [];\n    this.timeStamp = 0;\n    this.observer = null;\n    if (!window.ResizeObserver) {\n      return;\n    }\n    try {\n      this.observer = new window.ResizeObserver(throttle(this.__trigger, 100, { trailing: true }));\n      this.timeStamp = new Date().getTime();\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  addObserver(target, handler) {\n    if (!this.observer) {\n      return;\n    }\n    this.observer && this.observer.observe(target);\n    const _pid = target.getAttribute(PLATER_ID);\n    const { __handlers } = this;\n    let index = -1;\n    for (let i = 0; i < __handlers.length; i++) {\n      if (__handlers[i] && target === __handlers[i].target) {\n        index = i;\n      }\n    }\n    if (index > -1) {\n      this.__handlers[index].handler = handler;\n    } else {\n      this.__handlers.push({\n        target,\n        handler,\n        playerId: _pid\n      });\n    }\n  }\n  unObserver(target) {\n    let i = -1;\n    this.__handlers.map((item, index) => {\n      if (target === item.target) {\n        i = index;\n      }\n    });\n    try {\n      this.observer && this.observer.unobserve(target);\n    } catch (e) {\n    }\n    this.observer && this.observer.unobserve(target);\n    i > -1 && this.__handlers.splice(i, 1);\n  }\n  destroyObserver() {\n    this.observer && this.observer.disconnect();\n    this.observer = null;\n    this.__handlers = null;\n  }\n  __runHandler(target) {\n    const { __handlers } = this;\n    for (let i = 0; i < __handlers.length; i++) {\n      if (__handlers[i] && target === __handlers[i].target) {\n        try {\n          __handlers[i].handler(target);\n        } catch (error) {\n          console.error(error);\n        }\n        return true;\n      }\n    }\n    return false;\n  }\n}\nlet resizeObserver = null;\nfunction addObserver(target, handler) {\n  if (!resizeObserver) {\n    resizeObserver = new ResizeObserver();\n  }\n  resizeObserver.addObserver(target, handler);\n  return resizeObserver;\n}\nfunction unObserver(target, handler) {\n  resizeObserver.unObserver(target, handler);\n}\nexport { addObserver, unObserver };\n","import { addObserver, unObserver } from \"./resizeObserver.js\";\nimport util from \"../utils/util.js\";\nconst pluginsManager = {\n  pluginGroup: {},\n  init(player) {\n    let cgid = player._pluginInfoId;\n    if (!cgid) {\n      cgid = util.generateSessionId();\n      player._pluginInfoId = cgid;\n    }\n    !player.config.closeResizeObserver && player.root && addObserver(player.root, () => {\n      player.resize();\n    });\n    this.pluginGroup[cgid] = {\n      _originalOptions: player.config || {},\n      _plugins: {}\n    };\n  },\n  formatPluginInfo(plugin, config) {\n    let PLUFGIN = null;\n    let options = null;\n    if (plugin.plugin && typeof plugin.plugin === \"function\") {\n      PLUFGIN = plugin.plugin;\n      options = plugin.options;\n    } else {\n      PLUFGIN = plugin;\n      options = {};\n    }\n    if (config) {\n      options.config = config || {};\n    }\n    return {\n      PLUFGIN,\n      options\n    };\n  },\n  checkPluginIfExits(pluginName, plugins) {\n    for (let i = 0; i < plugins.length; i++) {\n      if (pluginName.toLowerCase() === plugins[i].pluginName.toLowerCase()) {\n        return true;\n      }\n    }\n    return false;\n  },\n  getRootByConfig(pluginName, playerConfig) {\n    const keys = Object.keys(playerConfig);\n    let _pConfig = null;\n    for (let i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        _pConfig = playerConfig[keys[i]];\n        break;\n      }\n    }\n    if (util.typeOf(_pConfig) === \"Object\") {\n      return {\n        root: _pConfig.root,\n        position: _pConfig.position\n      };\n    }\n    return {};\n  },\n  lazyRegister(player, lazyPlugin) {\n    const timeout = lazyPlugin.timeout || 1500;\n    return Promise.race([\n      lazyPlugin.loader().then((plugin) => {\n        let result;\n        if (plugin && plugin.__esModule) {\n          result = plugin.default;\n        } else {\n          result = plugin;\n        }\n        this.register(player, result, plugin.options);\n      }),\n      new Promise((resolve, reject) => {\n        setTimeout(() => {\n          reject(new Error(\"timeout\"));\n        }, timeout);\n      })\n    ]);\n  },\n  register(player, plugin, options = {}) {\n    if (!player || !plugin || typeof plugin !== \"function\" || plugin.prototype === void 0) {\n      return;\n    }\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = {};\n    }\n    const plugins = this.pluginGroup[cgid]._plugins;\n    const originalOptions = this.pluginGroup[cgid]._originalOptions;\n    options.player = player;\n    const pluginName = options.pluginName || plugin.pluginName;\n    if (!pluginName) {\n      throw new Error(\"The property pluginName is necessary\");\n    }\n    if (plugin.isSupported && !plugin.isSupported(player.config.mediaType, player.config.codecType)) {\n      console.warn(`not supported plugin [${pluginName}]`);\n      return;\n    }\n    if (!options.config) {\n      options.config = {};\n    }\n    const keys = Object.keys(originalOptions);\n    for (let i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        const config = originalOptions[keys[i]];\n        if (util.typeOf(config) === \"Object\") {\n          options.config = Object.assign({}, options.config, originalOptions[keys[i]]);\n        } else if (util.typeOf(config) === \"Boolean\") {\n          options.config.disable = !config;\n        }\n        break;\n      }\n    }\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).forEach((key) => {\n        if (typeof options.config[key] === \"undefined\") {\n          options.config[key] = plugin.defaultConfig[key];\n        }\n      });\n    }\n    if (!options.root) {\n      options.root = player.root;\n    } else if (typeof options.root === \"string\") {\n      options.root = player[options.root];\n    }\n    options.index = options.config.index || 0;\n    try {\n      if (plugins[pluginName.toLowerCase()]) {\n        this.unRegister(cgid, pluginName.toLowerCase());\n        console.warn(`the is one plugin with same pluginName [${pluginName}] exist, destroy the old instance`);\n      }\n      const _instance = new plugin(options);\n      plugins[pluginName.toLowerCase()] = _instance;\n      plugins[pluginName.toLowerCase()].func = plugin;\n      if (_instance && typeof _instance.afterCreate === \"function\") {\n        _instance.afterCreate();\n      }\n      return _instance;\n    } catch (err) {\n      console.error(err);\n      throw err;\n    }\n  },\n  unRegister(cgid, name) {\n    if (cgid._pluginInfoId) {\n      cgid = cgid._pluginInfoId;\n    }\n    name = name.toLowerCase();\n    try {\n      const plugin = this.pluginGroup[cgid]._plugins[name];\n      if (plugin) {\n        plugin.pluginName && plugin.__destroy();\n        delete this.pluginGroup[cgid]._plugins[name];\n      }\n    } catch (e) {\n      console.error(`[unRegister:${name}] cgid:[${cgid}] error`, e);\n    }\n  },\n  deletePlugin(player, name) {\n    const cgid = player._pluginInfoId;\n    if (cgid && this.pluginGroup[cgid] && this.pluginGroup[cgid]._plugins) {\n      delete this.pluginGroup[cgid]._plugins[name];\n    }\n  },\n  getPlugins(player) {\n    const cgid = player._pluginInfoId;\n    return cgid && this.pluginGroup[cgid] ? this.pluginGroup[cgid]._plugins : {};\n  },\n  findPlugin(player, name) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return null;\n    }\n    const cName = name.toLowerCase();\n    return this.pluginGroup[cgid]._plugins[cName];\n  },\n  beforeInit(player) {\n    function retPromise(fun) {\n      if (!fun || !fun.then) {\n        return new Promise((resolve) => {\n          resolve();\n        });\n      } else {\n        return fun;\n      }\n    }\n    return new Promise((resolve) => {\n      if (!this.pluginGroup) {\n        return;\n      }\n      let prevTask;\n      if (player._loadingPlugins && player._loadingPlugins.length) {\n        prevTask = Promise.all(player._loadingPlugins);\n      } else {\n        prevTask = Promise.resolve();\n      }\n      return prevTask.then(() => {\n        const cgid = player._pluginInfoId;\n        if (!this.pluginGroup[cgid]) {\n          resolve();\n          return;\n        }\n        const plugins = this.pluginGroup[cgid]._plugins;\n        const pluginsRet = [];\n        Object.keys(plugins).forEach((pName) => {\n          if (plugins[pName] && plugins[pName].beforePlayerInit) {\n            try {\n              const ret = plugins[pName].beforePlayerInit();\n              pluginsRet.push(retPromise(ret));\n            } catch (e) {\n              pluginsRet.push(retPromise(null));\n              throw e;\n            }\n          }\n        });\n        Promise.all([...pluginsRet]).then(() => {\n          resolve();\n        }).catch((e) => {\n          console.error(e);\n          resolve();\n        });\n      });\n    });\n  },\n  afterInit(player) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    const plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach((pName) => {\n      if (plugins[pName] && plugins[pName].afterPlayerInit) {\n        plugins[pName].afterPlayerInit();\n      }\n    });\n  },\n  setLang(lang, player) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    const plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach((item) => {\n      if (plugins[item].updateLang) {\n        plugins[item].updateLang(lang);\n      } else {\n        try {\n          plugins[item].lang = lang;\n        } catch (error) {\n          console.warn(`${item} setLang`);\n        }\n      }\n    });\n  },\n  reRender(player) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    const _pList = [];\n    const plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach((pName) => {\n      if (pName !== \"controls\" && plugins[pName]) {\n        _pList.push({\n          plugin: plugins[pName].func,\n          options: plugins[pName].__args\n        });\n        this.unRegister(cgid, pName);\n      }\n    });\n    _pList.forEach((item) => {\n      this.register(player, item.plugin, item.options);\n    });\n  },\n  onPluginsReady(player) {\n    const cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    const plugins = this.pluginGroup[cgid]._plugins || {};\n    Object.keys(plugins).forEach((key) => {\n      if (plugins[key].onPluginsReady && typeof plugins[key].onPluginsReady === \"function\") {\n        plugins[key].onPluginsReady();\n      }\n    });\n  },\n  destroy(player) {\n    const cgid = player._pluginInfoId;\n    if (!this.pluginGroup[cgid]) {\n      return;\n    }\n    player.root && unObserver(player.root);\n    const plugins = this.pluginGroup[cgid]._plugins;\n    for (const item of Object.keys(plugins)) {\n      this.unRegister(cgid, item);\n    }\n    delete this.pluginGroup[cgid];\n    delete player._pluginInfoId;\n  }\n};\nexport { pluginsManager as default };\n","var STATE_CLASS = {\n  DEFAULT: \"xgplayer\",\n  DEFAULT_SKIN: \"xgplayer-skin-default\",\n  ENTER: \"xgplayer-is-enter\",\n  PAUSED: \"xgplayer-pause\",\n  PLAYING: \"xgplayer-playing\",\n  ENDED: \"xgplayer-ended\",\n  CANPLAY: \"xgplayer-canplay\",\n  LOADING: \"xgplayer-isloading\",\n  ERROR: \"xgplayer-is-error\",\n  REPLAY: \"xgplayer-replay\",\n  NO_START: \"xgplayer-nostart\",\n  ACTIVE: \"xgplayer-active\",\n  INACTIVE: \"xgplayer-inactive\",\n  FULLSCREEN: \"xgplayer-is-fullscreen\",\n  CSS_FULLSCREEN: \"xgplayer-is-cssfullscreen\",\n  ROTATE_FULLSCREEN: \"xgplayer-rotate-fullscreen\",\n  PARENT_ROTATE_FULLSCREEN: \"xgplayer-rotate-parent\",\n  PARENT_FULLSCREEN: \"xgplayer-fullscreen-parent\",\n  INNER_FULLSCREEN: \"xgplayer-fullscreen-inner\",\n  NO_CONTROLS: \"no-controls\",\n  FLEX_CONTROLS: \"flex-controls\",\n  CONTROLS_FOLLOW: \"controls-follow\",\n  CONTROLS_AUTOHIDE: \"controls-autohide\",\n  TOP_BAR_AUTOHIDE: \"top-bar-autohide\",\n  NOT_ALLOW_AUTOPLAY: \"not-allow-autoplay\",\n  SEEKING: \"seeking\",\n  PC: \"xgplayer-pc\",\n  BUILTIN_CLASS: \"xgplayer-built-in\",\n  MOBILE: \"xgplayer-mobile\",\n  MINI: \"xgplayer-mini\"\n};\nexport { STATE_CLASS as default };\n","import { getLang } from \"./utils/util.js\";\nfunction getDefaultConfig() {\n  return {\n    id: \"\",\n    el: null,\n    isNoRoot: false,\n    isCustomRoot: true,\n    url: \"\",\n    domEventType: \"default\",\n    nullUrlStart: false,\n    width: 600,\n    height: 337.5,\n    fluid: false,\n    fitVideoSize: \"fixed\",\n    videoFillMode: \"auto\",\n    volume: 0.6,\n    autoplay: false,\n    autoplayMuted: false,\n    loop: false,\n    isLive: false,\n    zoom: 1,\n    videoInit: true,\n    poster: \"\",\n    isMobileSimulateMode: false,\n    defaultPlaybackRate: 1,\n    execBeforePluginsCall: null,\n    allowSeekAfterEnded: true,\n    enableContextmenu: true,\n    closeVideoClick: false,\n    closeVideoDblclick: false,\n    closePlayerBlur: false,\n    closeDelayBlur: false,\n    leavePlayerTime: 3e3,\n    closePlayVideoFocus: false,\n    closePauseVideoFocus: false,\n    closeFocusVideoFocus: true,\n    closeControlsBlur: true,\n    topBarAutoHide: true,\n    videoAttributes: {},\n    startTime: 0,\n    seekedStatus: \"play\",\n    miniprogress: false,\n    disableSwipeHandler: () => {\n    },\n    enableSwipeHandler: () => {\n    },\n    preProcessUrl: null,\n    ignores: [],\n    whitelist: [],\n    inactive: 3e3,\n    lang: getLang(),\n    controls: true,\n    marginControls: false,\n    fullscreenTarget: null,\n    screenShot: false,\n    rotate: false,\n    pip: false,\n    download: false,\n    mini: false,\n    cssFullscreen: true,\n    keyShortcut: true,\n    presets: [],\n    plugins: [],\n    playbackRate: 1,\n    definition: { list: [] },\n    playsinline: true,\n    customDuration: 0,\n    timeOffset: 0,\n    icons: {},\n    i18n: [],\n    tabindex: 0,\n    thumbnail: null,\n    videoConfig: {},\n    isHideTips: false,\n    minWaitDelay: 200,\n    commonStyle: {\n      progressColor: \"\",\n      playedColor: \"\",\n      cachedColor: \"\",\n      sliderBtnStyle: {},\n      volumeColor: \"\"\n    }\n  };\n}\nexport { getDefaultConfig as default };\n","const usePreset = (player, Preset) => {\n  let presetInst;\n  if (Preset.preset && Preset.options) {\n    presetInst = new Preset.preset(Preset.options, player.config);\n  } else {\n    presetInst = new Preset({}, player.config);\n  }\n  const { plugins = [], ignores = [], icons = {}, i18n = [] } = presetInst;\n  if (!player.config.plugins) {\n    player.config.plugins = [];\n  }\n  if (!player.config.ignores) {\n    player.config.ignores = [];\n  }\n  player.config.plugins.push(...plugins);\n  player.config.ignores.push(...ignores);\n  Object.keys(icons).map((key) => {\n    if (!player.config.icons[key]) {\n      player.config.icons[key] = icons[key];\n    }\n  });\n  const _ci18n = player.config.i18n || [];\n  i18n.push(..._ci18n);\n  player.config.i18n = i18n;\n};\nexport { usePreset };\n","var EN = {\n  LANG: \"en\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"video download error\"\n      },\n      mse: {\n        code: 2,\n        msg: \"stream append error\"\n      },\n      parse: {\n        code: 3,\n        msg: \"parsing error\"\n      },\n      format: {\n        code: 4,\n        msg: \"wrong format\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"decoding error\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"grammatical errors\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"play timeout\"\n      },\n      other: {\n        code: 8,\n        msg: \"other errors\"\n      }\n    },\n    HAVE_NOTHING: \"There is no information on whether audio/video is ready\",\n    HAVE_METADATA: \"Audio/video metadata is ready \",\n    HAVE_CURRENT_DATA: \"Data about the current play location is available, but there is not enough data to play the next frame/millisecond\",\n    HAVE_FUTURE_DATA: \"Current and at least one frame of data is available\",\n    HAVE_ENOUGH_DATA: \"The available data is sufficient to start playing\",\n    NETWORK_EMPTY: \"Audio/video has not been initialized\",\n    NETWORK_IDLE: \"Audio/video is active and has been selected for resources, but no network is used\",\n    NETWORK_LOADING: \"The browser is downloading the data\",\n    NETWORK_NO_SOURCE: \"No audio/video source was found\",\n    MEDIA_ERR_ABORTED: \"The fetch process is aborted by the user\",\n    MEDIA_ERR_NETWORK: \"An error occurred while downloading\",\n    MEDIA_ERR_DECODE: \"An error occurred while decoding\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"Audio/video is not supported\",\n    REPLAY: \"Replay\",\n    ERROR: \"Network is offline\",\n    PLAY_TIPS: \"Play\",\n    PAUSE_TIPS: \"Pause\",\n    PLAYNEXT_TIPS: \"Play next\",\n    DOWNLOAD_TIPS: \"Download\",\n    ROTATE_TIPS: \"Rotate\",\n    RELOAD_TIPS: \"Reload\",\n    FULLSCREEN_TIPS: \"Fullscreen\",\n    EXITFULLSCREEN_TIPS: \"Exit fullscreen\",\n    CSSFULLSCREEN_TIPS: \"Cssfullscreen\",\n    EXITCSSFULLSCREEN_TIPS: \"Exit cssfullscreen\",\n    TEXTTRACK: \"Caption\",\n    PIP: \"PIP\",\n    SCREENSHOT: \"Screenshot\",\n    LIVE: \"LIVE\",\n    OFF: \"Off\",\n    OPEN: \"Open\",\n    MINI_DRAG: \"Click and hold to drag\",\n    MINISCREEN: \"Miniscreen\",\n    REFRESH_TIPS: \"Please Try\",\n    REFRESH: \"Refresh\",\n    FORWARD: \"forward\",\n    LIVE_TIP: \"Live\"\n  }\n};\nexport { EN as default };\n","import util from \"../utils/util.js\";\nimport EN from \"./en.js\";\nconst XGI18nLang = {\n  lang: {},\n  langKeys: [],\n  textKeys: []\n};\nfunction deepMerge(dst, src) {\n  Object.keys(src).forEach((key) => {\n    const _s = util.typeOf(src[key]);\n    const _t = util.typeOf(dst[key]);\n    if (_s === \"Array\") {\n      if (_t !== \"Array\") {\n        dst[key] = [];\n      }\n      dst[key].push(...src[key]);\n    } else if (_s === \"Object\") {\n      if (_t !== \"Object\") {\n        dst[key] = {};\n      }\n      deepMerge(dst[key], src[key]);\n    } else {\n      dst[key] = src[key];\n    }\n  });\n  return dst;\n}\nfunction updateKeys() {\n  Object.keys(XGI18nLang.lang.en).map((key) => {\n    XGI18nLang.textKeys[key] = key;\n  });\n}\nfunction extend(i18nTextList, i18nLangs) {\n  let ext = [];\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  if (util.typeOf(i18nTextList) !== \"Array\") {\n    ext = Object.keys(i18nTextList).map((lang2) => {\n      const keyLang = lang2 === \"zh\" ? \"zh-cn\" : lang2;\n      return {\n        LANG: keyLang,\n        TEXT: i18nTextList[lang2]\n      };\n    });\n  } else {\n    ext = i18nTextList;\n  }\n  const { lang } = i18nLangs;\n  ext.map((item) => {\n    if (item.LANG === \"zh\") {\n      item.LANG = \"zh-cn\";\n    }\n    if (!lang[item.LANG]) {\n      use(item, i18nLangs);\n    } else {\n      deepMerge(lang[item.LANG] || {}, item.TEXT || {});\n    }\n  });\n  updateKeys();\n}\nfunction use(langData, i18nLangs) {\n  let _clang = langData.LANG;\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  const texts = langData.TEXT || {};\n  if (_clang === \"zh\") {\n    _clang = \"zh-cn\";\n  }\n  if (!i18nLangs.lang[_clang]) {\n    i18nLangs.langKeys.push(_clang);\n    i18nLangs.lang[_clang] = texts;\n  } else {\n    deepMerge(i18nLangs.lang[_clang], texts);\n  }\n  updateKeys();\n}\nfunction init(id) {\n  const ret = {\n    lang: {},\n    langKeys: [],\n    textKeys: {},\n    pId: id\n  };\n  deepMerge(ret.lang, XGI18nLang.lang);\n  ret.langKeys.push(...XGI18nLang.langKeys);\n  deepMerge(ret.textKeys, XGI18nLang.textKeys);\n  return ret;\n}\nuse(EN);\nconst I18N = {\n  get textKeys() {\n    return XGI18nLang.textKeys;\n  },\n  get langKeys() {\n    return XGI18nLang.langKeys;\n  },\n  get lang() {\n    const ret = {};\n    XGI18nLang.langKeys.map((key) => {\n      ret[key] = XGI18nLang.lang[key];\n    });\n    if (XGI18nLang.lang[\"zh-cn\"]) {\n      ret.zh = XGI18nLang.lang[\"zh-cn\"] || {};\n    }\n    return ret;\n  },\n  extend,\n  use,\n  init\n};\nexport { I18N as default };\n","const STATES = {\n  INITIAL: 1,\n  READY: 2,\n  ATTACHING: 3,\n  ATTACHED: 4,\n  NOTALLOW: 5,\n  RUNNING: 6,\n  ENDED: 7,\n  DESTROYED: 8\n};\nconst STATE_ARRAY = [\n  \"ERROR\",\n  \"INITIAL\",\n  \"READY\",\n  \"ATTACHING\",\n  \"ATTACHED\",\n  \"NOTALLOW\",\n  \"RUNNING\",\n  \"ENDED\",\n  \"DESTROYED\"\n];\nexport { STATES, STATE_ARRAY };\n","import { EventEmitter } from \"eventemitter3\";\nconst store = {};\nlet instance = null;\nclass InstManager extends EventEmitter {\n  static getInstance() {\n    instance || (instance = new InstManager());\n    return instance;\n  }\n  add(player) {\n    if (!player) {\n      return;\n    }\n    store[player.playerId] = player;\n    if (Object.keys(store).length === 1) {\n      this.setActive(player.playerId, true);\n    }\n  }\n  remove(player) {\n    if (!player) {\n      return;\n    }\n    player.isUserActive;\n    delete store[player.playerId];\n  }\n  _iterate(fn, endEarly = false) {\n    for (const key in store) {\n      if (Object.prototype.hasOwnProperty.call(store, key)) {\n        const player = store[key];\n        if (endEarly) {\n          if (fn(player)) {\n            break;\n          }\n        } else {\n          fn(player);\n        }\n      }\n    }\n  }\n  forEach(fn) {\n    this._iterate(fn);\n  }\n  find(fn) {\n    let result = null;\n    this._iterate((player) => {\n      const flag = fn(player);\n      if (flag) {\n        result = player;\n      }\n      return flag;\n    }, true);\n    return result;\n  }\n  findAll(fn) {\n    const results = [];\n    this._iterate((player) => {\n      if (fn(player)) {\n        results.push(player);\n      }\n    });\n    return results;\n  }\n  setActive(playerId, isActive = true) {\n    if (!store[playerId]) {\n      return;\n    }\n    if (isActive) {\n      this.forEach((inst) => {\n        if (playerId === inst.playerId) {\n          inst.isUserActive = true;\n          inst.isInstNext = false;\n        } else {\n          inst.isUserActive = false;\n        }\n      });\n    } else {\n      store[playerId].isUserActive = isActive;\n    }\n    return playerId;\n  }\n  getActiveId() {\n    const keys = Object.keys(store);\n    for (let i = 0; i < keys.length; i++) {\n      const c = store[keys[i]];\n      if (c && c.isUserActive) {\n        return keys[i];\n      }\n    }\n    return null;\n  }\n  setNext(playerId, isNext = true) {\n    if (!store[playerId]) {\n      return;\n    }\n    if (isNext) {\n      this.forEach((inst) => {\n        if (playerId === inst.playerId) {\n          inst.isUserActive = false;\n          inst.isInstNext = true;\n        } else {\n          inst.isInstNext = false;\n        }\n      });\n    } else {\n      store[playerId].isInstNext = isNext;\n    }\n    return playerId;\n  }\n}\nfunction checkPlayerRoot(root) {\n  const keys = Object.keys(store);\n  for (let i = 0; i < keys.length; i++) {\n    const p = store[keys[i]];\n    if (p.root === root) {\n      return p;\n    }\n  }\n  return null;\n}\nexport { InstManager, checkPlayerRoot };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport MediaProxy from \"./mediaProxy.js\";\nimport util, { checkIsCurrentVideo } from \"./utils/util.js\";\nexport { default as Util } from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nexport { default as Sniffer } from \"./utils/sniffer.js\";\nimport INDEXDB from \"./utils/database.js\";\nimport Errors from \"./error.js\";\nexport { default as Errors } from \"./error.js\";\nimport { READY, ERROR, LOADED_DATA, PLAY, CANPLAY, URL_NULL, COMPLETE, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, SEEKED, DEFINITION_CHANGE, AFTER_DEFINITION_CHANGE, RESET, DESTROY, REPLAY, FULLSCREEN_CHANGE, CSS_FULLSCREEN_CHANGE, PLAYER_FOCUS, PLAYER_BLUR, USER_ACTION, LOADING, PLAYNEXT, VIDEO_RESIZE } from \"./events.js\";\nimport * as events from \"./events.js\";\nexport { events as Events };\nimport { PLATER_ID, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, EXIT_FULLSCREEN_API } from \"./constant.js\";\nimport { POSITIONS } from \"./plugin/plugin.js\";\nexport { default as Plugin } from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nexport { default as BasePlugin } from \"./plugin/basePlugin.js\";\nimport pluginsManager from \"./plugin/pluginsManager.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nexport { default as STATE_CLASS } from \"./stateClassMap.js\";\nimport getDefaultConfig from \"./defaultConfig.js\";\nimport { usePreset } from \"./plugin/preset.js\";\nimport hooksDescriptor, { runHooks, delHooksDescriptor, hook, useHooks, removeHooks, usePluginHooks, removePluginHooks } from \"./plugin/hooksDescriptor.js\";\nimport XG_DEBUG, { bindDebug } from \"./utils/debug.js\";\nimport I18N from \"./lang/i18n.js\";\nexport { default as I18N } from \"./lang/i18n.js\";\nimport version from \"./version.js\";\nimport { STATES, STATE_ARRAY } from \"./state.js\";\nimport { InstManager, checkPlayerRoot } from \"./instManager.js\";\nconst PlAYER_HOOKS = [\"play\", \"pause\", \"replay\", \"retry\"];\nlet REAL_TIME_SPEED = 0;\nlet AVG_SPEED = 0;\nlet instManager = null;\nconst _Player = class extends MediaProxy {\n  constructor(options) {\n    const config = util.deepMerge(getDefaultConfig(), options);\n    super(config);\n    __publicField(this, \"canPlayFunc\", () => {\n      if (!this.config) {\n        return;\n      }\n      const { autoplay, defaultPlaybackRate } = this.config;\n      XG_DEBUG.logInfo(\"player\", \"canPlayFunc, startTime\", this.__startTime);\n      if (this.__startTime > 0 && this.duration > 0) {\n        this.currentTime = this.__startTime > this.duration ? this.duration : this.__startTime;\n        this.__startTime = -1;\n      }\n      this.playbackRate = defaultPlaybackRate;\n      (autoplay || this._useAutoplay) && this.mediaPlay();\n      this.off(CANPLAY, this.canPlayFunc);\n      this.removeClass(STATE_CLASS.ENTER);\n    });\n    __publicField(this, \"onFullscreenChange\", (event, isFullScreen) => {\n      const delayResize = () => {\n        util.setTimeout(this, () => {\n          this.resize();\n        }, 100);\n      };\n      const fullEl = util.getFullScreenEl();\n      if (this._fullActionFrom) {\n        this._fullActionFrom = \"\";\n      } else {\n        this.emit(USER_ACTION, {\n          eventType: \"system\",\n          action: \"switch_fullscreen\",\n          pluginName: \"player\",\n          currentTime: this.currentTime,\n          duration: this.duration,\n          props: [{\n            prop: \"fullscreen\",\n            from: true,\n            to: false\n          }]\n        });\n      }\n      const isVideo = checkIsCurrentVideo(fullEl, this.playerId, PLATER_ID);\n      if (isFullScreen || fullEl && (fullEl === this._fullscreenEl || isVideo)) {\n        delayResize();\n        !this.config.closeFocusVideoFocus && this.media.focus();\n        this.fullscreen = true;\n        this.changeFullStyle(this.root, fullEl, STATE_CLASS.FULLSCREEN);\n        this.emit(FULLSCREEN_CHANGE, true, this._fullScreenOffset);\n        if (this.cssfullscreen) {\n          this.exitCssFullscreen();\n        }\n      } else if (this.fullscreen) {\n        delayResize();\n        const { _fullScreenOffset, config } = this;\n        if (config.needFullscreenScroll) {\n          window.scrollTo(_fullScreenOffset.left, _fullScreenOffset.top);\n          util.setTimeout(this, () => {\n            this.fullscreen = false;\n            this._fullScreenOffset = null;\n          }, 100);\n        } else {\n          !this.config.closeFocusVideoFocus && this.media.focus();\n          this.fullscreen = false;\n          this._fullScreenOffset = null;\n        }\n        if (!this.cssfullscreen) {\n          this.recoverFullStyle(this.root, this._fullscreenEl, STATE_CLASS.FULLSCREEN);\n        } else {\n          this.removeClass(STATE_CLASS.FULLSCREEN);\n        }\n        this._fullscreenEl = null;\n        this.emit(FULLSCREEN_CHANGE, false);\n      }\n    });\n    __publicField(this, \"_onWebkitbeginfullscreen\", (e) => {\n      this._fullscreenEl = this.media;\n      this.onFullscreenChange(e, true);\n    });\n    __publicField(this, \"_onWebkitendfullscreen\", (e) => {\n      this.onFullscreenChange(e, false);\n    });\n    hooksDescriptor(this, PlAYER_HOOKS);\n    this.config = config;\n    this._pluginInfoId = util.generateSessionId();\n    bindDebug(this);\n    const defaultPreset = this.constructor.defaultPreset;\n    const { presets } = this.config;\n    if (presets.length) {\n      const defaultIdx = presets.indexOf(\"default\");\n      if (defaultIdx >= 0 && defaultPreset) {\n        presets[defaultIdx] = defaultPreset;\n      }\n    } else if (defaultPreset) {\n      presets.push(defaultPreset);\n    }\n    this.userTimer = null;\n    this.waitTimer = null;\n    this.handleSource = true;\n    this._state = STATES.INITIAL;\n    this.isError = false;\n    this._hasStart = false;\n    this.isSeeking = false;\n    this.isCanplay = false;\n    this._useAutoplay = false;\n    this.__startTime = -1;\n    this.rotateDeg = 0;\n    this.isActive = false;\n    this.fullscreen = false;\n    this.cssfullscreen = false;\n    this.isRotateFullscreen = false;\n    this._fullscreenEl = null;\n    this.timeSegments = [];\n    this._cssfullscreenEl = null;\n    this.curDefinition = null;\n    this._orgCss = \"\";\n    this._fullScreenOffset = null;\n    this._videoHeight = 0;\n    this._videoWidth = 0;\n    this.videoPos = {\n      pi: 1,\n      scale: 0,\n      rotate: -1,\n      x: 0,\n      y: 0,\n      h: -1,\n      w: -1,\n      vy: 0,\n      vx: 0\n    };\n    this.sizeInfo = {\n      width: 0,\n      height: 0,\n      left: 0,\n      top: 0\n    };\n    this._accPlayed = {\n      t: 0,\n      acc: 0,\n      loopAcc: 0\n    };\n    this._offsetInfo = {\n      currentTime: -1,\n      duration: 0\n    };\n    this.innerContainer = null;\n    this.topBar = null;\n    this.root = null;\n    this.__i18n = I18N.init(this._pluginInfoId);\n    if (sniffer.os.isAndroid && sniffer.osVersion > 0 && sniffer.osVersion < 6) {\n      this.config.autoplay = false;\n    }\n    this.database = new INDEXDB();\n    this.isUserActive = false;\n    this._onceSeekCanplay = null;\n    this._isPauseBeforeSeek = 0;\n    this.innerStates = {\n      isActiveLocked: false\n    };\n    this.instManager = instManager;\n    this._initMedia();\n    const { isNoRoot } = this.config;\n    const rootInit = !isNoRoot && this._initDOM();\n    if (!isNoRoot && !rootInit) {\n      console.error(\n        new Error(\n          `can't find the dom which id is ${this.config.id} or this.config.el does not exist`\n        )\n      );\n      return;\n    }\n    pluginsManager.init(this);\n    const { definition = {}, url } = this.config;\n    if (!url && definition.list && definition.list.length > 0) {\n      let defaultDefinitionObj = definition.list.find(\n        (e) => e.definition && e.definition === definition.defaultDefinition\n      );\n      if (!defaultDefinitionObj) {\n        definition.defaultDefinition = definition.list[0].definition;\n        defaultDefinitionObj = definition.list[0];\n      }\n      this.config.url = defaultDefinitionObj.url;\n      this.curDefinition = defaultDefinitionObj;\n    }\n    this._bindEvents();\n    this._registerPresets();\n    this._registerPlugins();\n    pluginsManager.onPluginsReady(this);\n    this.getInitDefinition();\n    this.setState(STATES.READY);\n    util.setTimeout(this, () => {\n      this.emit(READY);\n    }, 0);\n    this.onReady && this.onReady();\n    if (this.config.videoInit || this.config.autoplay) {\n      if (!this.hasStart || this.state < STATES.ATTACHED) {\n        this.start();\n      }\n    }\n  }\n  static set debugger(value) {\n    XG_DEBUG.config.debug = value;\n  }\n  static get version() {\n    return version;\n  }\n  static get debugger() {\n    return XG_DEBUG.config.debug;\n  }\n  static set instManager(value) {\n    instManager = value;\n  }\n  static get instManager() {\n    return instManager;\n  }\n  static getCurrentUserActivePlayerId() {\n    return instManager == null ? void 0 : instManager.getActiveId();\n  }\n  static setCurrentUserActive(playerId, isActive) {\n    instManager == null ? void 0 : instManager.setActive(playerId, isActive);\n  }\n  _initMedia() {\n    const XgVideoProxy = this.constructor.XgVideoProxy;\n    if (XgVideoProxy && this.mediaConfig.mediaType === XgVideoProxy.mediaType) {\n      const el = this.innerContainer || this.root;\n      this.detachVideoEvents(this.media);\n      const _nVideo = new XgVideoProxy(el, this.config, this.mediaConfig);\n      this.attachVideoEvents(_nVideo);\n      this.media = _nVideo;\n    }\n    this.media.setAttribute(PLATER_ID, this.playerId);\n  }\n  _initDOM() {\n    const { id, el, isCustomRoot, controls, autoplay, isMobileSimulateMode } = this.config;\n    this.root = id ? document.getElementById(id) : null;\n    if (!this.root) {\n      if (el && el.nodeType === 1) {\n        this.root = el;\n      } else if (isCustomRoot) {\n        this.emit(\n          ERROR,\n          new Errors(\"use\", this.config.vid, {\n            line: 32,\n            handle: \"Constructor\",\n            msg: \"container id can't be empty\"\n          })\n        );\n        console.error(\"this.confg.id or this.config.el can't be empty\");\n        return false;\n      } else {\n        this.root = util.createDom(\"div\", \"\", { id, class: STATE_CLASS.BUILTIN_CLASS });\n      }\n    }\n    const ret = checkPlayerRoot(this.root);\n    if (ret) {\n      XG_DEBUG.logWarn(\n        \"The is an Player instance already exists in this.root, destroy it and reinitialize\"\n      );\n      ret.destroy();\n    }\n    this.root.setAttribute(PLATER_ID, this.playerId);\n    instManager == null ? void 0 : instManager.add(this);\n    this._initBaseDoms();\n    const device = isMobileSimulateMode === \"mobile\" ? \"mobile\" : sniffer.device;\n    this.addClass(\n      `${STATE_CLASS.DEFAULT} ${STATE_CLASS.INACTIVE} xgplayer-${device} ${controls ? \"\" : STATE_CLASS.NO_CONTROLS}`\n    );\n    if (autoplay) {\n      this.addClass(STATE_CLASS.ENTER);\n    } else {\n      this.addClass(STATE_CLASS.NO_START);\n    }\n    if (this.config.fluid) {\n      let { width: width2, height: height2 } = this.config;\n      if (typeof width2 !== \"number\" || typeof height2 !== \"number\") {\n        width2 = 600;\n        height2 = 337.5;\n      }\n      const style = {\n        width: \"100%\",\n        height: \"0\",\n        \"max-width\": \"100%\",\n        \"padding-top\": `${height2 * 100 / width2}%`\n      };\n      Object.keys(style).forEach((key) => {\n        this.root.style[key] = style[key];\n      });\n    } else {\n      [\"width\", \"height\"].forEach((key) => {\n        if (this.config[key]) {\n          if (typeof this.config[key] !== \"number\") {\n            this.root.style[key] = this.config[key];\n          } else {\n            this.root.style[key] = `${this.config[key]}px`;\n          }\n        }\n      });\n    }\n    const { width, height, left, top } = this.root.getBoundingClientRect();\n    this.sizeInfo.width = width;\n    this.sizeInfo.height = height;\n    this.sizeInfo.left = left;\n    this.sizeInfo.top = top;\n    return true;\n  }\n  _initBaseDoms() {\n    this.topBar = null;\n    this.leftBar = null;\n    this.rightBar = null;\n    if (this.config.marginControls) {\n      this.innerContainer = util.createDom(\n        \"xg-video-container\",\n        \"\",\n        { \"data-index\": -1 },\n        \"xg-video-container\"\n      );\n      this.root.appendChild(this.innerContainer);\n    }\n  }\n  _bindEvents() {\n    [\"focus\", \"blur\"].forEach((item) => {\n      this.on(item, this[\"on\" + item.charAt(0).toUpperCase() + item.slice(1)]);\n    });\n    FULLSCREEN_EVENTS.forEach((item) => {\n      document && document.addEventListener(item, this.onFullscreenChange);\n    });\n    if (sniffer.os.isIos) {\n      this.media.addEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n      this.media.addEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n    }\n    this.once(LOADED_DATA, this.resize);\n    this.playFunc = () => {\n      if (!this.config.closeFocusVideoFocus) {\n        this.media.focus();\n      }\n    };\n    this.once(PLAY, this.playFunc);\n  }\n  _unbindEvents() {\n    this.root && this.root.removeEventListener(\"mousemove\", this.mousemoveFunc);\n    FULLSCREEN_EVENTS.forEach((item) => {\n      document.removeEventListener(item, this.onFullscreenChange);\n    });\n    this.playFunc && this.off(PLAY, this.playFunc);\n    this.off(CANPLAY, this.canPlayFunc);\n    this.media.removeEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n    this.media.removeEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n  }\n  _clearUserTimer() {\n    if (!this.userTimer) {\n      return;\n    }\n    util.clearTimeout(this, this.userTimer);\n    this.userTimer = null;\n  }\n  _startInit(url) {\n    if (!this.media) {\n      return;\n    }\n    if (!url || url === \"\" || util.typeOf(url) === \"Array\" && url.length === 0) {\n      url = \"\";\n      this.emit(URL_NULL);\n      XG_DEBUG.logWarn(\n        \"config.url is null, please get url and run player._startInit(url)\"\n      );\n      if (this.config.nullUrlStart) {\n        return;\n      }\n    }\n    if (this.handleSource) {\n      this._detachSourceEvents(this.media);\n      if (util.typeOf(url) === \"Array\" && url.length > 0) {\n        this._attachSourceEvents(this.media, url);\n      } else if (!this.media.src || this.media.src !== url) {\n        this.media.src = url;\n      } else if (!url) {\n        this.media.removeAttribute(\"src\");\n      }\n    }\n    if (util.typeOf(this.config.volume) === \"Number\") {\n      this.volume = this.config.volume;\n    }\n    const _root = this.innerContainer ? this.innerContainer : this.root;\n    if (_root && this.media instanceof window.Element && !_root.contains(this.media)) {\n      _root.insertBefore(this.media, _root.firstChild);\n    }\n    const { readyState } = this.media;\n    XG_DEBUG.logInfo(\"_startInit readyState\", readyState);\n    if (this.config.autoplay) {\n      !util.isMSE(this.media) && this.load();\n      (sniffer.os.isIpad || sniffer.os.isPhone) && this.mediaPlay();\n    }\n    const { startTime } = this.config;\n    this.__startTime = startTime > 0 ? startTime : -1;\n    this.config.startTime = 0;\n    if (readyState >= 2 && this.duration > 0) {\n      this.canPlayFunc();\n    } else {\n      this.on(CANPLAY, this.canPlayFunc);\n    }\n    if (!this.hasStart || this.state < STATES.ATTACHED) {\n      pluginsManager.afterInit(this);\n    }\n    this.hasStart = true;\n    this.setState(STATES.ATTACHED);\n    util.setTimeout(this, () => {\n      this.emit(COMPLETE);\n    }, 0);\n  }\n  _registerPlugins(isInit = true) {\n    this._loadingPlugins = [];\n    const ignores = this.config.ignores || [];\n    const plugins = this.config.plugins || [];\n    const i18n = this.config.i18n || [];\n    isInit && I18N.extend(i18n, this.__i18n);\n    const ignoresStr = ignores.join(\"||\").toLowerCase().split(\"||\");\n    const cuPlugins = this.plugins;\n    plugins.forEach((plugin) => {\n      try {\n        const pluginName = plugin.plugin ? plugin.plugin.pluginName : plugin.pluginName;\n        if (pluginName && ignoresStr.indexOf(pluginName.toLowerCase()) > -1) {\n          return null;\n        }\n        if (!isInit && cuPlugins[pluginName.toLowerCase()]) {\n          return;\n        }\n        if (plugin.lazy && plugin.loader) {\n          const loadingPlugin = pluginsManager.lazyRegister(this, plugin);\n          if (plugin.forceBeforeInit) {\n            loadingPlugin.then(() => {\n              this._loadingPlugins.splice(\n                this._loadingPlugins.indexOf(loadingPlugin),\n                1\n              );\n            }).catch((e) => {\n              XG_DEBUG.logError(\"_registerPlugins:loadingPlugin\", e);\n              this._loadingPlugins.splice(\n                this._loadingPlugins.indexOf(loadingPlugin),\n                1\n              );\n            });\n            this._loadingPlugins.push(loadingPlugin);\n          }\n          return;\n        }\n        return this.registerPlugin(plugin);\n      } catch (err) {\n        XG_DEBUG.logError(\"_registerPlugins:\", err);\n      }\n    });\n  }\n  _registerPresets() {\n    this.config.presets.forEach((preset) => {\n      usePreset(this, preset);\n    });\n  }\n  _getRootByPosition(position) {\n    let _root = null;\n    switch (position) {\n      case POSITIONS.ROOT_RIGHT:\n        if (!this.rightBar) {\n          this.rightBar = util.createPositionBar(\"xg-right-bar\", this.root);\n        }\n        _root = this.rightBar;\n        break;\n      case POSITIONS.ROOT_LEFT:\n        if (!this.leftBar) {\n          this.leftBar = util.createPositionBar(\"xg-left-bar\", this.root);\n        }\n        _root = this.leftBar;\n        break;\n      case POSITIONS.ROOT_TOP:\n        if (!this.topBar) {\n          this.topBar = util.createPositionBar(\"xg-top-bar\", this.root);\n          if (this.config.topBarAutoHide) {\n            util.addClass(this.topBar, STATE_CLASS.TOP_BAR_AUTOHIDE);\n          }\n        }\n        _root = this.topBar;\n        break;\n      default:\n        _root = this.innerContainer || this.root;\n        break;\n    }\n    return _root;\n  }\n  registerPlugin(plugin, config) {\n    const _retPlugin = pluginsManager.formatPluginInfo(plugin, config);\n    const { PLUFGIN, options } = _retPlugin;\n    const { plugins } = this.config;\n    const exits = pluginsManager.checkPluginIfExits(PLUFGIN.pluginName, plugins);\n    !exits && plugins.push(PLUFGIN);\n    const _pConfig = pluginsManager.getRootByConfig(PLUFGIN.pluginName, this.config);\n    _pConfig.root && (options.root = _pConfig.root);\n    _pConfig.position && (options.position = _pConfig.position);\n    const position = options.position ? options.position : options.config && options.config.position || PLUFGIN.defaultConfig && PLUFGIN.defaultConfig.position;\n    if (!options.root && typeof position === \"string\" && position.indexOf(\"controls\") > -1) {\n      return this.controls && this.controls.registerPlugin(PLUFGIN, options, PLUFGIN.pluginName);\n    }\n    if (!options.root) {\n      options.root = PLUFGIN.pluginName === \"controls\" ? this.root : this._getRootByPosition(position);\n    }\n    return pluginsManager.register(this, PLUFGIN, options);\n  }\n  deregister(plugin) {\n    if (typeof plugin === \"string\") {\n      pluginsManager.unRegister(this, plugin);\n    } else if (plugin instanceof BasePlugin) {\n      pluginsManager.unRegister(this, plugin.pluginName);\n    }\n  }\n  unRegisterPlugin(plugin, removedFromConfig = false) {\n    this.deregister(plugin);\n    if (removedFromConfig) {\n      this.removePluginFromConfig(plugin);\n    }\n  }\n  removePluginFromConfig(plugin) {\n    let pluginName;\n    if (typeof plugin === \"string\") {\n      pluginName = plugin;\n    } else if (plugin instanceof BasePlugin) {\n      pluginName = plugin.pluginName;\n    }\n    if (!pluginName) {\n      return;\n    }\n    for (let i = this.config.plugins.length - 1; i > -1; i--) {\n      const plugin2 = this.config.plugins[i];\n      if (plugin2.pluginName.toLowerCase() === pluginName.toLowerCase()) {\n        this.config.plugins.splice(i, 1);\n        break;\n      }\n    }\n  }\n  get plugins() {\n    return pluginsManager.getPlugins(this);\n  }\n  getPlugin(pluginName) {\n    const plugin = pluginsManager.findPlugin(this, pluginName);\n    return plugin && plugin.pluginName ? plugin : null;\n  }\n  addClass(className) {\n    if (!this.root) {\n      return;\n    }\n    if (!util.hasClass(this.root, className)) {\n      util.addClass(this.root, className);\n    }\n  }\n  removeClass(className) {\n    if (!this.root) {\n      return;\n    }\n    util.removeClass(this.root, className);\n  }\n  hasClass(className) {\n    if (!this.root) {\n      return;\n    }\n    return util.hasClass(this.root, className);\n  }\n  setAttribute(key, value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.setAttribute(key, value);\n  }\n  removeAttribute(key, value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.removeAttribute(key, value);\n  }\n  start(url) {\n    if (this.state > STATES.ATTACHING) {\n      return;\n    }\n    if (!url && !this.config.url) {\n      this.getInitDefinition();\n    }\n    this.hasStart = true;\n    this.setState(STATES.ATTACHING);\n    this._registerPlugins(false);\n    return pluginsManager.beforeInit(this).then(() => {\n      if (!this.config) {\n        return;\n      }\n      if (!url) {\n        url = this.url || this.config.url;\n      }\n      const _furl = this._preProcessUrl(url);\n      const ret = this._startInit(_furl.url);\n      return ret;\n    }).catch((e) => {\n      e.fileName = \"player\";\n      e.lineNumber = \"236\";\n      XG_DEBUG.logError(\"start:beforeInit:\", e);\n      throw e;\n    });\n  }\n  switchURL(url, options) {\n    let _src = url;\n    if (util.typeOf(url) === \"Object\") {\n      _src = url.url;\n    }\n    _src = this._preProcessUrl(_src).url;\n    const curTime = this.currentTime;\n    this.__startTime = curTime;\n    const isPaused = this.paused && !this.isError;\n    this.src = _src;\n    return new Promise((resolve, reject) => {\n      const _error = (e) => {\n        this.off(\"timeupdate\", _canplay);\n        this.off(\"canplay\", _canplay);\n        reject(e);\n      };\n      const _canplay = () => {\n        if (this.duration > 0 && this.__startTime > 0) {\n          this.currentTime = this.__startTime;\n          this.__startTime = -1;\n        }\n        if (isPaused) {\n          this.pause();\n        }\n        this.off(\"error\", _error);\n        resolve(true);\n      };\n      this.once(\"error\", _error);\n      if (!_src) {\n        this.errorHandler(\"error\", { code: 6, message: \"empty_src\" });\n        return;\n      }\n      if (sniffer.os.isAndroid) {\n        this.once(\"timeupdate\", _canplay);\n      } else {\n        this.once(\"canplay\", _canplay);\n      }\n      this.play();\n    });\n  }\n  videoPlay() {\n    this.mediaPlay();\n  }\n  mediaPlay() {\n    if (!this.hasStart && this.state < STATES.ATTACHED) {\n      this.removeClass(STATE_CLASS.NO_START);\n      this.addClass(STATE_CLASS.ENTER);\n      this.start();\n      this._useAutoplay = true;\n      return;\n    }\n    if (this.state < STATES.RUNNING) {\n      this.removeClass(STATE_CLASS.NO_START);\n      !this.isCanplay && this.addClass(STATE_CLASS.ENTER);\n    }\n    const playPromise = super.play();\n    if (playPromise !== void 0 && playPromise && playPromise.then) {\n      playPromise.then(() => {\n        this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n        this.addClass(STATE_CLASS.PLAYING);\n        if (this.state < STATES.RUNNING) {\n          XG_DEBUG.logInfo(\">>>>playPromise.then\");\n          this.setState(STATES.RUNNING);\n          this.emit(AUTOPLAY_STARTED);\n        }\n      }).catch((e) => {\n        XG_DEBUG.logWarn(\">>>>playPromise.catch\", e.name);\n        if (this.media && this.media.error) {\n          this.onError();\n          this.removeClass(STATE_CLASS.ENTER);\n          return;\n        }\n        if (e.name === \"NotAllowedError\") {\n          this._errorTimer = util.setTimeout(\n            this,\n            () => {\n              this._errorTimer = null;\n              this.emit(AUTOPLAY_PREVENTED);\n              this.addClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n              this.removeClass(STATE_CLASS.ENTER);\n              this.pause();\n              this.setState(STATES.NOTALLOW);\n            },\n            0\n          );\n        }\n      });\n    } else {\n      XG_DEBUG.logWarn(\"video.play not return promise\");\n      if (this.state < STATES.RUNNING) {\n        this.setState(STATES.RUNNING);\n        this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n        this.removeClass(STATE_CLASS.NO_START);\n        this.removeClass(STATE_CLASS.ENTER);\n        this.addClass(STATE_CLASS.PLAYING);\n        this.emit(AUTOPLAY_STARTED);\n      }\n    }\n    return playPromise;\n  }\n  mediaPause() {\n    super.pause();\n  }\n  videoPause() {\n    super.pause();\n  }\n  play() {\n    this.removeClass(STATE_CLASS.PAUSED);\n    return runHooks(this, \"play\", () => {\n      return this.mediaPlay();\n    });\n  }\n  pause() {\n    runHooks(this, \"pause\", () => {\n      super.pause();\n    });\n  }\n  seek(time, status) {\n    if (!this.media || Number.isNaN(Number(time)) || !this.hasStart) {\n      return;\n    }\n    const { isSeekedPlay, seekedStatus } = this.config;\n    const _status = status || (isSeekedPlay ? \"play\" : seekedStatus);\n    time = time < 0 ? 0 : time > this.duration ? parseInt(this.duration, 10) : time;\n    !this._isPauseBeforeSeek && (this._isPauseBeforeSeek = this.paused ? 2 : 1);\n    this._onceSeekCanplay && this.off(SEEKED, this._onceSeekCanplay);\n    this._onceSeekCanplay = () => {\n      this.removeClass(STATE_CLASS.ENTER);\n      this.isSeeking = false;\n      switch (_status) {\n        case \"play\":\n          this.play();\n          break;\n        case \"pause\":\n          this.pause();\n          break;\n        default:\n          this._isPauseBeforeSeek > 1 || this.paused ? this.pause() : this.play();\n      }\n      this._isPauseBeforeSeek = 0;\n      this._onceSeekCanplay = null;\n    };\n    this.once(SEEKED, this._onceSeekCanplay);\n    if (this.state < STATES.RUNNING) {\n      this.removeClass(STATE_CLASS.NO_START);\n      this.currentTime = time;\n      this.play();\n    } else {\n      this.currentTime = time;\n    }\n  }\n  getInitDefinition() {\n    const { definition, url } = this.config;\n    if (!url && definition && definition.list && definition.list.length > 0 && definition.defaultDefinition) {\n      definition.list.map((item) => {\n        if (item.definition === definition.defaultDefinition) {\n          this.config.url = item.url;\n          this.curDefinition = item;\n        }\n      });\n    }\n  }\n  changeDefinition(to, from) {\n    const { definition } = this.config;\n    if (Array.isArray(definition == null ? void 0 : definition.list)) {\n      definition.list.forEach((item) => {\n        if ((to == null ? void 0 : to.definition) === item.definition) {\n          this.curDefinition = item;\n        }\n      });\n    }\n    if ((to == null ? void 0 : to.bitrate) && typeof to.bitrate !== \"number\") {\n      to.bitrate = parseInt(to.bitrate, 10) || 0;\n    }\n    this.emit(DEFINITION_CHANGE, { from, to });\n    if (!this.hasStart) {\n      this.config.url = to.url;\n      return;\n    }\n    const ret = this.switchURL(to.url, {\n      seamless: definition.seamless !== false && typeof MediaSource !== \"undefined\" && typeof MediaSource.isTypeSupported === \"function\",\n      ...to\n    });\n    if (ret && ret.then) {\n      ret.then(() => {\n        this.emit(AFTER_DEFINITION_CHANGE, { from, to });\n      });\n    } else {\n      this.emit(AFTER_DEFINITION_CHANGE, { from, to });\n    }\n  }\n  reload() {\n    this.load();\n    this.reloadFunc = function() {\n      this.play();\n    };\n    this.once(LOADED_DATA, this.reloadFunc);\n  }\n  resetState() {\n    const {\n      NOT_ALLOW_AUTOPLAY,\n      PLAYING,\n      NO_START,\n      PAUSED,\n      REPLAY: REPLAY2,\n      ENTER,\n      ENDED,\n      ERROR: ERROR2,\n      LOADING: LOADING2\n    } = STATE_CLASS;\n    const clsList = [\n      NOT_ALLOW_AUTOPLAY,\n      PLAYING,\n      NO_START,\n      PAUSED,\n      REPLAY2,\n      ENTER,\n      ENDED,\n      ERROR2,\n      LOADING2\n    ];\n    this.hasStart = false;\n    this.isError = false;\n    this._useAutoplay = false;\n    this.mediaPause();\n    this._accPlayed.acc = 0;\n    this._accPlayed.t = 0;\n    this._accPlayed.loopAcc = 0;\n    clsList.forEach((cls) => {\n      this.removeClass(cls);\n    });\n    this.addClass(STATE_CLASS.NO_START);\n    this.emit(RESET);\n  }\n  reset(unregisterPlugins = [], isResetConfig) {\n    this.resetState();\n    const { plugins } = this;\n    if (!plugins) {\n      return;\n    }\n    unregisterPlugins.map((pn) => {\n      this.deregister(pn);\n    });\n    if (isResetConfig) {\n      const de = getDefaultConfig();\n      Object.keys(this.config).keys((k) => {\n        if (this.config[k] !== \"undefined\" && (k === \"plugins\" || k === \"presets\" || k === \"el\" || k === \"id\")) {\n          this.config[k] = de[k];\n        }\n      });\n    }\n  }\n  destroy() {\n    const { innerContainer, root, media } = this;\n    if (!media) {\n      return;\n    }\n    this.hasStart = false;\n    this._useAutoplay = false;\n    root && root.removeAttribute(PLATER_ID);\n    this.updateAcc(\"destroy\");\n    this._unbindEvents();\n    this._detachSourceEvents(this.media);\n    util.clearAllTimers(this);\n    this.emit(DESTROY);\n    instManager == null ? void 0 : instManager.remove(this);\n    pluginsManager.destroy(this);\n    delHooksDescriptor(this);\n    super.destroy();\n    if (this.fullscreen && this._fullscreenEl === root) {\n      this.exitFullscreen();\n    }\n    if (innerContainer) {\n      const _c = innerContainer.children;\n      for (let i = 0; i < _c.length; i++) {\n        innerContainer.removeChild(_c[i]);\n      }\n    }\n    root && !innerContainer && media instanceof window.Node && root.contains(media) && root.removeChild(media);\n    [\"topBar\", \"leftBar\", \"rightBar\", \"innerContainer\"].map((item) => {\n      this[item] && root.removeChild(this[item]);\n      this[item] = null;\n    });\n    const cList = root ? root.className.split(\" \") : [];\n    const isBuildIn = root && util.hasClass(root, STATE_CLASS.BUILTIN_CLASS);\n    if (cList.length > 0) {\n      root.className = cList.filter((name) => name.indexOf(\"xgplayer\") < 0).join(\" \");\n    } else {\n      root && (root.className = \"\");\n    }\n    this.removeAttribute(\"data-xgfill\");\n    [\n      \"isSeeking\",\n      \"isCanplay\",\n      \"isActive\",\n      \"cssfullscreen\",\n      \"fullscreen\"\n    ].forEach((key) => {\n      this[key] = false;\n    });\n    isBuildIn && this.root.parentNode && this.root.parentNode.removeChild(this.root);\n  }\n  replay() {\n    this.removeClass(STATE_CLASS.ENDED);\n    this.currentTime = 0;\n    this.isSeeking = false;\n    runHooks(this, \"replay\", () => {\n      this.once(SEEKED, () => {\n        const playPromise = this.mediaPlay();\n        if (playPromise && playPromise.catch) {\n          playPromise.catch((err) => {\n            console.log(err);\n          });\n        }\n      });\n      this.emit(REPLAY);\n      this.onPlay();\n    });\n  }\n  retry() {\n    this.removeClass(STATE_CLASS.ERROR);\n    this.addClass(STATE_CLASS.LOADING);\n    runHooks(this, \"retry\", () => {\n      const cur = this.currentTime;\n      const { url } = this.config;\n      const _srcRet = !util.isMSE(this.media) ? this._preProcessUrl(url) : { url };\n      this.src = _srcRet.url;\n      !this.config.isLive && (this.currentTime = cur);\n      this.once(CANPLAY, () => {\n        this.mediaPlay();\n      });\n    });\n  }\n  changeFullStyle(root, el, rootClass, pClassName) {\n    if (!root) {\n      return;\n    }\n    if (!pClassName) {\n      pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n    }\n    if (!this._orgCss) {\n      this._orgCss = util.filterStyleFromText(root);\n    }\n    util.addClass(root, rootClass);\n    if (el && el !== root && !this._orgPCss) {\n      this._orgPCss = util.filterStyleFromText(el);\n      util.addClass(el, pClassName);\n      el.setAttribute(PLATER_ID, this.playerId);\n    }\n  }\n  recoverFullStyle(root, el, rootClass, pClassName) {\n    if (!pClassName) {\n      pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n    }\n    if (this._orgCss) {\n      util.setStyleFromCsstext(root, this._orgCss);\n      this._orgCss = \"\";\n    }\n    util.removeClass(root, rootClass);\n    if (el && el !== root && this._orgPCss) {\n      util.setStyleFromCsstext(el, this._orgPCss);\n      this._orgPCss = \"\";\n      util.removeClass(el, pClassName);\n      el.removeAttribute(PLATER_ID);\n    }\n  }\n  getFullscreen(el = this.config.fullscreenTarget) {\n    const { root, media } = this;\n    if (!el) {\n      el = root;\n    }\n    this._fullScreenOffset = {\n      top: util.scrollTop(),\n      left: util.scrollLeft()\n    };\n    this._fullscreenEl = el;\n    this._fullActionFrom = \"get\";\n    const fullEl = util.getFullScreenEl();\n    if (fullEl === this._fullscreenEl) {\n      this.onFullscreenChange();\n      return Promise.resolve();\n    }\n    try {\n      for (let i = 0; i < GET_FULLSCREEN_API.length; i++) {\n        const key = GET_FULLSCREEN_API[i];\n        if (el[key]) {\n          const ret = key === \"webkitRequestFullscreen\" ? el.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT) : el[key]();\n          if (ret && ret.then) {\n            return ret;\n          } else {\n            return Promise.resolve();\n          }\n        }\n      }\n      if (media.fullscreenEnabled || media.webkitSupportsFullscreen) {\n        media.webkitEnterFullscreen();\n        return Promise.resolve();\n      }\n      return Promise.reject(new Error(\"call getFullscreen fail\"));\n    } catch (err) {\n      return Promise.reject(new Error(\"call getFullscreen fail\"));\n    }\n  }\n  exitFullscreen(el) {\n    if (this.isRotateFullscreen) {\n      this.exitRotateFullscreen();\n    }\n    if (!this._fullscreenEl && !util.getFullScreenEl()) {\n      return;\n    }\n    const { root, media } = this;\n    this._fullActionFrom = \"exit\";\n    try {\n      for (let i = 0; i < EXIT_FULLSCREEN_API.length; i++) {\n        const key = EXIT_FULLSCREEN_API[i];\n        if (document[key]) {\n          const ret = document[key]();\n          if (ret && ret.then) {\n            return ret;\n          } else {\n            return Promise.resolve();\n          }\n        }\n      }\n      if (media && media.webkitSupportsFullscreen) {\n        media.webkitExitFullScreen();\n        return Promise.resolve();\n      }\n      return Promise.reject(new Error(\"call exitFullscreen fail\"));\n    } catch (err) {\n      return Promise.reject(new Error(\"call exitFullscreen fail\"));\n    }\n  }\n  getCssFullscreen(el = this.config.fullscreenTarget) {\n    if (this.isRotateFullscreen) {\n      this.exitRotateFullscreen();\n    } else if (this.fullscreen) {\n      this.exitFullscreen();\n    }\n    const _class = el ? `${STATE_CLASS.INNER_FULLSCREEN} ${STATE_CLASS.CSS_FULLSCREEN}` : STATE_CLASS.CSS_FULLSCREEN;\n    this.changeFullStyle(this.root, el, _class);\n    const { fullscreen = {} } = this.config;\n    const useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n    if (useCssFullscreen) {\n      this.fullscreen = true;\n      this.emit(FULLSCREEN_CHANGE, true);\n    }\n    this._cssfullscreenEl = el;\n    this.cssfullscreen = true;\n    this.emit(CSS_FULLSCREEN_CHANGE, true);\n  }\n  exitCssFullscreen() {\n    const _class = this._cssfullscreenEl ? `${STATE_CLASS.INNER_FULLSCREEN} ${STATE_CLASS.CSS_FULLSCREEN}` : STATE_CLASS.CSS_FULLSCREEN;\n    if (!this.fullscreen) {\n      this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n    } else {\n      const { fullscreen = {} } = this.config;\n      const useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n      if (useCssFullscreen) {\n        this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n        this.fullscreen = false;\n        this.emit(FULLSCREEN_CHANGE, false);\n      } else {\n        this.removeClass(_class);\n      }\n    }\n    this._cssfullscreenEl = null;\n    this.cssfullscreen = false;\n    this.emit(CSS_FULLSCREEN_CHANGE, false);\n  }\n  getRotateFullscreen(el = this.config.fullscreenTarget) {\n    if (this.cssfullscreen) {\n      this.exitCssFullscreen(el);\n    }\n    const _class = el ? `${STATE_CLASS.INNER_FULLSCREEN} ${STATE_CLASS.ROTATE_FULLSCREEN}` : STATE_CLASS.ROTATE_FULLSCREEN;\n    this._fullscreenEl = el || this.root;\n    this.changeFullStyle(\n      this.root,\n      el,\n      _class,\n      STATE_CLASS.PARENT_ROTATE_FULLSCREEN\n    );\n    this.isRotateFullscreen = true;\n    this.fullscreen = true;\n    this.setRotateDeg(90);\n    this._rootStyle = this.root.getAttribute(\"style\");\n    this.root.style.width = `${window.innerHeight}px`;\n    this.emit(FULLSCREEN_CHANGE, true);\n  }\n  exitRotateFullscreen(el) {\n    const _class = this._fullscreenEl !== this.root ? `${STATE_CLASS.INNER_FULLSCREEN} ${STATE_CLASS.ROTATE_FULLSCREEN}` : STATE_CLASS.ROTATE_FULLSCREEN;\n    this.recoverFullStyle(\n      this.root,\n      this._fullscreenEl,\n      _class,\n      STATE_CLASS.PARENT_ROTATE_FULLSCREEN\n    );\n    this.isRotateFullscreen = false;\n    this.fullscreen = false;\n    this.setRotateDeg(0);\n    this.emit(FULLSCREEN_CHANGE, false);\n    if (this._rootStyle) {\n      this.root.style.style = this._rootStyle;\n      this._rootStyle = false;\n    }\n  }\n  setRotateDeg(deg) {\n    if (window.orientation === 90 || window.orientation === -90) {\n      this.rotateDeg = 0;\n    } else {\n      this.rotateDeg = deg;\n    }\n  }\n  focus(data = {\n    autoHide: !this.config.closeDelayBlur,\n    delay: this.config.inactive\n  }) {\n    if (this.isActive) {\n      this.onFocus(data);\n      return;\n    }\n    this.emit(PLAYER_FOCUS, {\n      paused: this.paused,\n      ended: this.ended,\n      ...data\n    });\n  }\n  blur(data = { ignorePaused: false }) {\n    if (!this.isActive) {\n      this.onBlur(data);\n      return;\n    }\n    this._clearUserTimer();\n    this.emit(PLAYER_BLUR, {\n      paused: this.paused,\n      ended: this.ended,\n      ...data\n    });\n  }\n  onFocus(data = { autoHide: true, delay: 3e3 }) {\n    const { innerStates } = this;\n    this.isActive = true;\n    this.removeClass(STATE_CLASS.INACTIVE);\n    this._clearUserTimer();\n    if (data.isLock !== void 0) {\n      innerStates.isActiveLocked = data.isLock;\n    }\n    if (data.autoHide === false || data.isLock === true || innerStates.isActiveLocked) {\n      this._clearUserTimer();\n      return;\n    }\n    const time = data && data.delay ? data.delay : this.config.inactive;\n    this.userTimer = util.setTimeout(this, () => {\n      this.userTimer = null;\n      this.blur();\n    }, time);\n  }\n  onBlur({ ignorePaused = false } = {}) {\n    if (this.innerStates.isActiveLocked) {\n      return;\n    }\n    const { closePauseVideoFocus } = this.config;\n    this.isActive = false;\n    if (ignorePaused || closePauseVideoFocus || !this.paused && !this.ended) {\n      this.addClass(STATE_CLASS.INACTIVE);\n    }\n  }\n  onEmptied() {\n    this.updateAcc(\"emptied\");\n  }\n  onCanplay() {\n    this.removeClass(STATE_CLASS.ENTER);\n    this.removeClass(STATE_CLASS.ERROR);\n    this.removeClass(STATE_CLASS.LOADING);\n    this.isCanplay = true;\n    this.waitTimer && util.clearTimeout(this, this.waitTimer);\n  }\n  onDurationchange() {\n    if (this.__startTime > 0 && this.duration > 0) {\n      this.currentTime = this.__startTime;\n      this.__startTime = -1;\n    }\n  }\n  onLoadeddata() {\n    this.isError = false;\n    this.isSeeking = false;\n  }\n  onLoadstart() {\n    this.removeClass(STATE_CLASS.ERROR);\n    this.isCanplay = false;\n  }\n  onPlay() {\n    if (this.state === STATES.ENDED) {\n      this.setState(STATES.RUNNING);\n    }\n    this.removeClass(STATE_CLASS.PAUSED);\n    this.ended && this.removeClass(STATE_CLASS.ENDED);\n    !this.config.closePlayVideoFocus && this.focus();\n  }\n  onPause() {\n    this.addClass(STATE_CLASS.PAUSED);\n    this.updateAcc(\"pause\");\n    if (!this.config.closePauseVideoFocus) {\n      this._clearUserTimer();\n      this.focus();\n    }\n  }\n  onEnded() {\n    this.updateAcc(\"ended\");\n    this.addClass(STATE_CLASS.ENDED);\n    this.setState(STATES.ENDED);\n  }\n  onError() {\n    this.isError = true;\n    this.updateAcc(\"error\");\n    this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n    this.removeClass(STATE_CLASS.NO_START);\n    this.removeClass(STATE_CLASS.ENTER);\n    this.removeClass(STATE_CLASS.LOADING);\n    this.addClass(STATE_CLASS.ERROR);\n  }\n  onSeeking() {\n    if (!this.isSeeking) {\n      this.updateAcc(\"seeking\");\n    }\n    this.isSeeking = true;\n    this.addClass(STATE_CLASS.SEEKING);\n  }\n  onSeeked() {\n    this.isSeeking = false;\n    if (this.waitTimer) {\n      util.clearTimeout(this, this.waitTimer);\n    }\n    this.removeClass(STATE_CLASS.LOADING);\n    this.removeClass(STATE_CLASS.SEEKING);\n  }\n  onWaiting() {\n    if (this.waitTimer) {\n      util.clearTimeout(this, this.waitTimer);\n    }\n    this.updateAcc(\"waiting\");\n    this.waitTimer = util.setTimeout(this, () => {\n      this.addClass(STATE_CLASS.LOADING);\n      this.emit(LOADING);\n      util.clearTimeout(this, this.waitTimer);\n      this.waitTimer = null;\n    }, this.config.minWaitDelay);\n  }\n  onPlaying() {\n    this.isError = false;\n    const { NO_START, PAUSED, ENDED, ERROR: ERROR2, REPLAY: REPLAY2, LOADING: LOADING2 } = STATE_CLASS;\n    const clsList = [NO_START, PAUSED, ENDED, ERROR2, REPLAY2, LOADING2];\n    clsList.forEach((cls) => {\n      this.removeClass(cls);\n    });\n    if (!this._accPlayed.t && !this.paused && !this.ended) {\n      this._accPlayed.t = new Date().getTime();\n    }\n  }\n  onTimeupdate() {\n    !this._videoHeight && this.media.videoHeight && this.resize();\n    if ((this.waitTimer || this.hasClass(STATE_CLASS.LOADING)) && this.media.readyState > 2) {\n      this.removeClass(STATE_CLASS.LOADING);\n      util.clearTimeout(this, this.waitTimer);\n      this.waitTimer = null;\n    }\n    if (!this.paused && this.state < STATES.RUNNING && this.duration) {\n      this.setState(STATES.RUNNING);\n      this.emit(AUTOPLAY_STARTED);\n    }\n    if (!this._accPlayed.t && !this.paused && !this.ended) {\n      this._accPlayed.t = new Date().getTime();\n    }\n  }\n  onVolumechange() {\n    util.typeOf(this.config.volume) === \"Number\" && (this.config.volume = this.volume);\n  }\n  onRatechange() {\n    this.config.defaultPlaybackRate = this.playbackRate;\n  }\n  emitUserAction(event, action, params) {\n    if (!this.media || !action || !event) {\n      return;\n    }\n    const eventType = util.typeOf(event) === \"String\" ? event : event.type || \"\";\n    if (params.props && util.typeOf(params.props) !== \"Array\") {\n      params.props = [params.props];\n    }\n    this.emit(USER_ACTION, {\n      eventType,\n      action,\n      currentTime: this.currentTime,\n      duration: this.duration,\n      ended: this.ended,\n      event,\n      ...params\n    });\n  }\n  updateAcc(endType) {\n    if (this._accPlayed.t) {\n      const _at = new Date().getTime() - this._accPlayed.t;\n      this._accPlayed.acc += _at;\n      this._accPlayed.t = 0;\n      if (endType === \"ended\" || this.ended) {\n        this._accPlayed.loopAcc = this._accPlayed.acc;\n      }\n    }\n  }\n  checkBuffer(time) {\n    const buffered = this.media.buffered;\n    if (!buffered || buffered.length === 0 || !this.duration) {\n      return true;\n    }\n    const currentTime = time || this.media.currentTime || 0.2;\n    const len = buffered.length;\n    for (let i = 0; i < len; i++) {\n      if (buffered.start(i) <= currentTime && buffered.end(i) > currentTime) {\n        return true;\n      }\n    }\n    return false;\n  }\n  resizePosition() {\n    const { vy, vx, h, w } = this.videoPos;\n    let rotate = this.videoPos.rotate;\n    if (rotate < 0 && h < 0 && w < 0) {\n      return;\n    }\n    let _pi = this.videoPos._pi;\n    if (!_pi && this.media.videoHeight) {\n      _pi = this.media.videoWidth / this.media.videoHeight * 100;\n    }\n    if (!_pi) {\n      return;\n    }\n    this.videoPos.pi = _pi;\n    rotate = rotate < 0 ? 0 : rotate;\n    const _pos = {\n      rotate\n    };\n    let offsetY = 0;\n    let offsetX = 0;\n    let scale = 1;\n    const _t = Math.abs(rotate / 90);\n    const { root, innerContainer } = this;\n    const width = root.offsetWidth;\n    const height = innerContainer ? innerContainer.offsetHeight : root.offsetHeight;\n    let rHeight = height;\n    let rWidth = width;\n    if (_t % 2 === 0) {\n      scale = h > 0 ? 100 / h : w > 0 ? 100 / w : 1;\n      _pos.scale = scale;\n      offsetY = vy > 0 ? (100 - h) / 2 - vy : 0;\n      _pos.y = _t === 2 ? 0 - offsetY : offsetY;\n      offsetX = vx > 0 ? (100 - w) / 2 - vx : 0;\n      _pos.x = _t === 2 ? 0 - offsetX : offsetX;\n      this.media.style.width = `${rWidth}px`;\n      this.media.style.height = `${rHeight}px`;\n    } else if (_t % 2 === 1) {\n      rWidth = height;\n      rHeight = width;\n      const offset = height - width;\n      offsetX = -offset / 2 / rWidth * 100;\n      _pos.x = _t === 3 ? offsetX + vy / 2 : offsetX - vy / 2;\n      offsetY = offset / 2 / rHeight * 100;\n      _pos.y = _t === 3 ? offsetY + vx / 2 : offsetY - vx / 2;\n      _pos.scale = scale;\n      this.media.style.width = `${rWidth}px`;\n      this.media.style.height = `${rHeight}px`;\n    }\n    const formStyle = util.getTransformStyle(_pos, this.media.style.transform || this.media.style.webkitTransform);\n    this.media.style.transform = formStyle;\n    this.media.style.webkitTransform = formStyle;\n  }\n  position(pos = { h: 0, y: 0, x: 0, w: 0 }) {\n    if (!this.media || !pos || !pos.h) {\n      return;\n    }\n    const { videoPos } = this;\n    videoPos.h = pos.h * 100 || 0;\n    videoPos.w = pos.w * 100 || 0;\n    videoPos.vx = pos.x * 100 || 0;\n    videoPos.vy = pos.y * 100 || 0;\n    this.resizePosition();\n  }\n  setConfig(config) {\n    if (!config) {\n      return;\n    }\n    Object.keys(config).map((key) => {\n      if (key !== \"plugins\") {\n        this.config[key] = config[key];\n        const plugin = this.plugins[key.toLowerCase()];\n        if (plugin && util.typeOf(plugin.setConfig) === \"Function\") {\n          plugin.setConfig(config[key]);\n        }\n      }\n    });\n  }\n  playNext(config) {\n    this.resetState();\n    this.setConfig(config);\n    this._currentTime = 0;\n    this._duration = 0;\n    runHooks(this, \"playnext\", () => {\n      this.start();\n      this.emit(PLAYNEXT, config);\n    });\n  }\n  resize() {\n    if (!this.media || !this.root) {\n      return;\n    }\n    const containerSize = this.root.getBoundingClientRect();\n    this.sizeInfo.width = containerSize.width;\n    this.sizeInfo.height = containerSize.height;\n    this.sizeInfo.left = containerSize.left;\n    this.sizeInfo.top = containerSize.top;\n    const { videoWidth, videoHeight } = this.media;\n    const { fitVideoSize, videoFillMode } = this.config;\n    if (videoFillMode === \"fill\" || videoFillMode === \"cover\" || videoFillMode === \"contain\") {\n      this.setAttribute(\"data-xgfill\", videoFillMode);\n    }\n    if (!videoHeight || !videoWidth) {\n      return;\n    }\n    this._videoHeight = videoHeight;\n    this._videoWidth = videoWidth;\n    const controlsHeight = this.controls && this.innerContainer ? this.controls.root.getBoundingClientRect().height : 0;\n    const width = containerSize.width;\n    const height = containerSize.height - controlsHeight;\n    const videoFit = parseInt(videoWidth / videoHeight * 1e3, 10);\n    const fit = parseInt(width / height * 1e3, 10);\n    let rWidth = width;\n    let rHeight = height;\n    const _style = {};\n    if (fitVideoSize === \"auto\" && fit > videoFit || fitVideoSize === \"fixWidth\") {\n      rHeight = width / videoFit * 1e3;\n      if (this.config.fluid) {\n        _style.paddingTop = `${rHeight * 100 / rWidth}%`;\n      } else {\n        _style.height = `${rHeight + controlsHeight}px`;\n      }\n    } else if (fitVideoSize === \"auto\" && fit < videoFit || fitVideoSize === \"fixHeight\") {\n      rWidth = videoFit * height / 1e3;\n      _style.width = `${rWidth}px`;\n    }\n    if (!this.fullscreen && !this.cssfullscreen) {\n      Object.keys(_style).forEach((key) => {\n        this.root.style[key] = _style[key];\n      });\n    }\n    if (videoFillMode === \"fillHeight\" && fit < videoFit || videoFillMode === \"fillWidth\" && fit > videoFit) {\n      this.setAttribute(\"data-xgfill\", \"cover\");\n    }\n    const data = {\n      videoScale: videoFit,\n      vWidth: rWidth,\n      vHeight: rHeight,\n      cWidth: rWidth,\n      cHeight: rHeight + controlsHeight\n    };\n    this.resizePosition();\n    this.emit(VIDEO_RESIZE, data);\n  }\n  updateObjectPosition(left = 0, top = 0) {\n    if (this.media.updateObjectPosition) {\n      this.media.updateObjectPosition(left, top);\n      return;\n    }\n    this.media.style.objectPosition = `${left * 100}% ${top * 100}%`;\n  }\n  setState(newState) {\n    XG_DEBUG.logInfo(\n      \"setState\",\n      `state from:${STATE_ARRAY[this.state]} to:${STATE_ARRAY[newState]}`\n    );\n    this._state = newState;\n  }\n  _preProcessUrl(url, ext) {\n    const { preProcessUrl } = this.config;\n    return !util.isBlob(url) && typeof preProcessUrl === \"function\" ? preProcessUrl(url, ext) : { url };\n  }\n  get state() {\n    return this._state;\n  }\n  get isFullscreen() {\n    return this.fullscreen;\n  }\n  get isCssfullScreen() {\n    return this.cssfullscreen;\n  }\n  get hasStart() {\n    return this._hasStart;\n  }\n  set hasStart(bool) {\n    if (typeof bool === \"boolean\") {\n      this._hasStart = bool;\n      if (bool === false) {\n        this.setState(STATES.READY);\n      }\n      this.emit(\"hasstart\");\n    }\n  }\n  get isPlaying() {\n    return this._state === STATES.RUNNING || this._state === STATES.ENDED;\n  }\n  set isPlaying(value) {\n    if (value) {\n      this.setState(STATES.RUNNING);\n    } else {\n      this._state >= STATES.RUNNING && this.setState(STATES.ATTACHED);\n    }\n  }\n  set definitionList(list) {\n    const { definition } = this.config;\n    let curDef = null;\n    let targetDef = null;\n    definition.list = list;\n    this.emit(\"resourceReady\", list);\n    list.forEach((item) => {\n      var _a;\n      if (((_a = this.curDefinition) == null ? void 0 : _a.definition) === item.definition) {\n        curDef = item;\n      }\n      if (definition.defaultDefinition === item.definition) {\n        targetDef = item;\n      }\n    });\n    if (!targetDef && list.length > 0) {\n      targetDef = list[0];\n    }\n    curDef ? this.changeDefinition(curDef) : targetDef && this.changeDefinition(targetDef);\n  }\n  get definitionList() {\n    if (!this.config || !this.config.definition) {\n      return [];\n    }\n    return this.config.definition.list || [];\n  }\n  get videoFrameInfo() {\n    const ret = {\n      total: 0,\n      dropped: 0,\n      corrupted: 0,\n      droppedRate: 0,\n      droppedDuration: 0\n    };\n    if (!this.media || !this.media.getVideoPlaybackQuality) {\n      return ret;\n    }\n    const _quality = this.media.getVideoPlaybackQuality();\n    ret.dropped = _quality.droppedVideoFrames || 0;\n    ret.total = _quality.totalVideoFrames || 0;\n    ret.corrupted = _quality.corruptedVideoFrames || 0;\n    if (ret.total > 0) {\n      ret.droppedRate = ret.dropped / ret.total * 100;\n      ret.droppedDuration = parseInt(\n        this.cumulateTime / ret.total * ret.dropped,\n        0\n      );\n    }\n    return ret;\n  }\n  get controls() {\n    return this.plugins.controls;\n  }\n  set lang(lang) {\n    const result = I18N.langKeys.filter((key) => key === lang);\n    if (result.length === 0 && lang !== \"zh\") {\n      console.error(\n        `Sorry, set lang fail, because the language [${lang}] is not supported now, list of all supported languages is [${I18N.langKeys.join()}] `\n      );\n      return;\n    }\n    this.config.lang = lang;\n    pluginsManager.setLang(lang, this);\n  }\n  get lang() {\n    return this.config.lang;\n  }\n  get i18n() {\n    let _l = this.config.lang;\n    if (_l === \"zh\") {\n      _l = \"zh-cn\";\n    }\n    return this.__i18n.lang[_l] || this.__i18n.lang.en;\n  }\n  get i18nKeys() {\n    return this.__i18n.textKeys || {};\n  }\n  get version() {\n    return version;\n  }\n  get playerId() {\n    return this._pluginInfoId;\n  }\n  set url(url) {\n    this.__url = url;\n  }\n  get url() {\n    return this.__url || this.config.url;\n  }\n  set poster(posterUrl) {\n    this.plugins.poster && this.plugins.poster.update(posterUrl);\n  }\n  get poster() {\n    return this.plugins.poster ? this.plugins.poster.config.poster : this.config.poster;\n  }\n  get readyState() {\n    return super.readyState;\n  }\n  get error() {\n    const key = super.error;\n    return this.i18n[key] || key;\n  }\n  get networkState() {\n    return super.networkState;\n  }\n  get fullscreenChanging() {\n    return !(this._fullScreenOffset === null);\n  }\n  get cumulateTime() {\n    const { acc, t } = this._accPlayed;\n    return t ? new Date().getTime() - t + acc : acc;\n  }\n  get zoom() {\n    return this.config.zoom;\n  }\n  set zoom(value) {\n    this.config.zoom = value;\n  }\n  set videoRotateDeg(val) {\n    val = util.convertDeg(val);\n    if (val % 90 !== 0 || val === this.videoPos.rotate) {\n      return;\n    }\n    this.videoPos.rotate = val;\n    this.resizePosition();\n  }\n  get videoRotateDeg() {\n    return this.videoPos.rotate;\n  }\n  set avgSpeed(val) {\n    AVG_SPEED = val;\n  }\n  get avgSpeed() {\n    return AVG_SPEED;\n  }\n  set realTimeSpeed(val) {\n    REAL_TIME_SPEED = val;\n  }\n  get realTimeSpeed() {\n    return REAL_TIME_SPEED;\n  }\n  get offsetCurrentTime() {\n    return this._offsetInfo.currentTime || 0;\n  }\n  set offsetCurrentTime(val) {\n    this._offsetInfo.currentTime = val;\n  }\n  get offsetDuration() {\n    return this._offsetInfo.duration || 0;\n  }\n  set offsetDuration(val) {\n    this._offsetInfo.duration = val || 0;\n  }\n  hook(hookName, handler, preset = { pre: null, next: null }) {\n    return hook.call(this, ...arguments);\n  }\n  useHooks(hookName, handler) {\n    return useHooks.call(this, ...arguments);\n  }\n  removeHooks(hookName, handler) {\n    return removeHooks.call(this, ...arguments);\n  }\n  usePluginHooks(pluginName, hookName, handler, ...args) {\n    return usePluginHooks.call(this, ...arguments);\n  }\n  removePluginHooks(pluginName, hookName, handler, ...args) {\n    return removePluginHooks.call(this, ...arguments);\n  }\n  setUserActive(isActive, isMuted) {\n    if (typeof isMuted === \"boolean\" && isMuted !== this.muted) {\n      this.addInnerOP(\"volumechange\");\n      if (util.typeOf(isMuted) === Boolean) {\n        this.muted = isMuted;\n      }\n    }\n    instManager == null ? void 0 : instManager.setActive(this.playerId, isActive);\n  }\n  static isHevcSupported() {\n    return sniffer.isHevcSupported();\n  }\n  static probeConfigSupported(info) {\n    return sniffer.probeConfigSupported(info);\n  }\n  static install(name, descriptor) {\n    if (!_Player.plugins) {\n      _Player.plugins = {};\n    }\n    if (!_Player.plugins[name]) {\n      _Player.plugins[name] = descriptor;\n    }\n  }\n  static use(name, descriptor) {\n    if (!_Player.plugins) {\n      _Player.plugins = {};\n    }\n    _Player.plugins[name] = descriptor;\n  }\n};\nlet Player = _Player;\n__publicField(Player, \"defaultPreset\", null);\n__publicField(Player, \"XgVideoProxy\", null);\nPlayer.instManager = InstManager.getInstance();\nexport { Player as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nclass Controls extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onMouseEnter\", (e) => {\n      const { player, playerConfig } = this;\n      playerConfig.closeControlsBlur && player.focus({ autoHide: false });\n    });\n    __publicField(this, \"onMouseLeave\", (e) => {\n      const { player } = this;\n      player.focus();\n    });\n  }\n  static get pluginName() {\n    return \"controls\";\n  }\n  static get defaultConfig() {\n    return {\n      disable: false,\n      autoHide: true,\n      mode: \"\",\n      initShow: false\n    };\n  }\n  beforeCreate(args) {\n    if (!args.config.mode && sniffer.device === \"mobile\") {\n      args.config.mode = \"flex\";\n    }\n    if (args.player.config.marginControls) {\n      args.config.autoHide = false;\n    }\n  }\n  afterCreate() {\n    const { disable, height, mode } = this.config;\n    if (disable) {\n      return;\n    }\n    mode === \"flex\" && this.player.addClass(STATE_CLASS.FLEX_CONTROLS);\n    const style = {\n      height: `${height}px`\n    };\n    Object.keys(style).map((key) => {\n      this.root.style[key] = style[key];\n    });\n    this.left = this.find(\"xg-left-grid\");\n    this.center = this.find(\"xg-center-grid\");\n    this.right = this.find(\"xg-right-grid\");\n    this.innerRoot = this.find(\"xg-inner-controls\");\n    this.on(MINI_STATE_CHANGE, (isMini) => {\n      isMini ? util.addClass(this.root, \"mini-controls\") : util.removeClass(this.root, \"mini-controls\");\n    });\n    const { isMobileSimulateMode } = this.playerConfig;\n    if (sniffer.device !== \"mobile\" && isMobileSimulateMode !== \"mobile\") {\n      this.bind(\"mouseenter\", this.onMouseEnter);\n      this.bind(\"mouseleave\", this.onMouseLeave);\n    }\n  }\n  focus() {\n    this.player.focus({ autoHide: false });\n  }\n  focusAwhile() {\n    this.player.focus({ autoHide: true });\n  }\n  blur() {\n    this.player.blur({ ignorePaused: true });\n  }\n  recoverAutoHide() {\n    this.config.autoHide && util.addClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n  }\n  pauseAutoHide() {\n    util.removeClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n  }\n  show(value) {\n    this.root.style.display = \"\";\n    this.player.focus();\n  }\n  hide() {\n    this.root.style.display = \"none\";\n  }\n  get mode() {\n    return this.config.mode;\n  }\n  registerPlugin(plugin, options = {}, name) {\n    if (!this.root) {\n      return;\n    }\n    const defaultConfig = plugin.defaultConfig || {};\n    if (!options.root) {\n      const position = options.position ? options.position : options.config && options.config.position ? options.config.position : defaultConfig.position;\n      switch (position) {\n        case POSITIONS.CONTROLS_LEFT:\n          options.root = this.left;\n          break;\n        case POSITIONS.CONTROLS_RIGHT:\n          options.root = this.right;\n          break;\n        case POSITIONS.CONTROLS_CENTER:\n          options.root = this.center;\n          break;\n        case POSITIONS.CONTROLS:\n          options.root = this.root;\n          break;\n        default:\n          options.root = this.left;\n      }\n      return super.registerPlugin(plugin, options, name);\n    }\n  }\n  destroy() {\n    if (sniffer.device !== \"mobile\") {\n      this.unbind(\"mouseenter\", this.onMouseEnter);\n      this.unbind(\"mouseleave\", this.onMouseLeave);\n    }\n  }\n  render() {\n    const { mode, autoHide, initShow, disable } = this.config;\n    if (disable) {\n      return;\n    }\n    const className = util.classNames(\n      { \"xgplayer-controls\": true },\n      { \"flex-controls\": mode === \"flex\" },\n      { \"bottom-controls\": mode === \"bottom\" },\n      { [STATE_CLASS.CONTROLS_AUTOHIDE]: autoHide },\n      { \"xgplayer-controls-initshow\": initShow || !autoHide }\n    );\n    return `<xg-controls class=\"${className}\" unselectable=\"on\">\n    <xg-inner-controls class=\"xg-inner-controls xg-pos\">\n      <xg-left-grid class=\"xg-left-grid\">\n      </xg-left-grid>\n      <xg-center-grid class=\"xg-center-grid\"></xg-center-grid>\n      <xg-right-grid class=\"xg-right-grid\">\n      </xg-right-grid>\n    </xg-inner-controls>\n    </xg-controls>`;\n  }\n}\nexport { Controls as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { LOAD_START, LOADED_DATA, SEEKING, SEEKED, DESTROY, URL_CHANGE, PLAYING, CANPLAY, WAITING, ERROR, RESET, AUTOPLAY_STARTED, TIME_UPDATE, XGLOG } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction now() {\n  return new Date().getTime();\n}\nconst LOG_TYPES = {\n  LOAD_START: \"loadstart\",\n  LOADED_DATA: \"loadeddata\",\n  FIRST_FRAME: \"firstFrame\",\n  WAIT_START: \"waitingStart\",\n  WAIT_END: \"waitingEnd\",\n  SEEK_START: \"seekStart\",\n  SEEK_END: \"seekEnd\"\n};\nclass XGLogger extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_onTimeupdate\", () => {\n      this._state.isTimeUpdate = true;\n      if (this._state.autoplayStart) {\n        XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} _onTimeupdate`);\n        this._sendFF(\"onTimeupdate\");\n      }\n    });\n    __publicField(this, \"_onAutoplayStart\", () => {\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} _onAutoplayStart`);\n      this._state.autoplayStart = true;\n      this.vt && this._sendFF(\"onAutoplayStart\");\n    });\n    __publicField(this, \"_onReset\", () => {\n      this._state = {\n        autoplayStart: false,\n        isFFLoading: false,\n        isTimeUpdate: false,\n        isFFSend: false,\n        isLs: false\n      };\n      this.vt = 0;\n      this.pt = 0;\n      this.fvt = 0;\n      this.newPointTime = now();\n      this.loadedCostTime = 0;\n      this.startCostTime = 0;\n      this._isSeeking = false;\n      this.seekingStart = 0;\n      this.waitingStart = 0;\n      this.fixedWaitingStart = 0;\n      this._isWaiting = false;\n      this._waitTimer && util.clearTimeout(this, this._waitTimer);\n      this._waittTimer && util.clearTimeout(this, this._waittTimer);\n      this._waitTimer = null;\n      this._waittTimer = null;\n      this._waitType = 0;\n    });\n    __publicField(this, \"_onSeeking\", () => {\n      if (this.seekingStart) {\n        return;\n      }\n      this.suspendWaitingStatus(\"seek\");\n      this.seekingStart = now();\n      this.emitLog(LOG_TYPES.SEEK_START, { start: now() });\n    });\n    __publicField(this, \"_onSeeked\", () => {\n      this.suspendSeekingStatus(\"seeked\");\n    });\n    __publicField(this, \"_onWaitingLoadStart\", () => {\n      if (this._isWaiting || this.vt) {\n        return;\n      }\n      this._isWaiting = true;\n      this.waitingStart = now();\n      this.fixedWaitingStart = now();\n      this._waitType = 1;\n      this.emitLog(LOG_TYPES.WAIT_START, { fixedStart: this.fixedWaitingStart, start: this.waitingStart, type: 1, endType: \"loadstart\" });\n    });\n    __publicField(this, \"_onWaiting\", () => {\n      if (this._isWaiting || !this.vt) {\n        return;\n      }\n      this._isWaiting = true;\n      if (!this.vt) {\n        this._waitType = 1;\n      } else if (this.seekingStart) {\n        this._waitType = 2;\n      } else {\n        this._waitType = 0;\n      }\n      this.fixedWaitingStart = now();\n      this._waitTimer = util.setTimeout(this, () => {\n        if (this._isWaiting) {\n          this.waitingStart = now();\n          util.clearTimeout(this, this._waitTimer);\n          this._waitTimer = null;\n          this._startWaitTimeout();\n          this.emitLog(LOG_TYPES.WAIT_START, { fixedStart: this.fixedWaitingStart, start: this.waitingStart, type: this._waitType, endType: this._waitType === 2 ? \"seek\" : \"playing\" });\n        }\n      }, 200);\n    });\n    __publicField(this, \"_onError\", () => {\n      this.suspendSeekingStatus(\"error\");\n      this.suspendWaitingStatus(\"error\");\n    });\n    __publicField(this, \"_onPlaying\", () => {\n      this._isWaiting && this.suspendWaitingStatus(\"playing\");\n    });\n  }\n  static get pluginName() {\n    return \"xgLogger\";\n  }\n  static get defaultConfig() {\n    return {\n      waitTimeout: 1e4\n    };\n  }\n  afterCreate() {\n    this._onReset();\n    this._waitType = \"firstFrame\";\n    this._initOnceEvents();\n    this.newPointTime = now();\n    this.loadedCostTime = 0;\n    this.startCostTime = 0;\n    this.on(LOAD_START, () => {\n      const { _state } = this;\n      const { autoplayStart, isFFSend } = _state;\n      this.startCostTime = now() - this.newPointTime;\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} LOAD_START`, `autoplayStart:${autoplayStart} isFFSend:${isFFSend} startCostTime:${this.startCostTime} newPointTime${this.newPointTime}`);\n      if (isFFSend) {\n        return;\n      }\n      !_state.isLs && this.emitLog(LOG_TYPES.LOAD_START, {});\n      _state.isLs = true;\n      _state.isTimeUpdate = false;\n      _state.isFFLoading = true;\n      this.pt = now();\n      this.vt = 0;\n      this.fvt = 0;\n      this._initOnceEvents();\n      this._onWaitingLoadStart();\n    });\n    this.on(LOADED_DATA, () => {\n      this.vt = now();\n      this.fvt = this.vt - this.pt;\n      this.loadedCostTime = this.vt - this.newPointTime;\n      const { isTimeUpdate, isFFSend, autoplayStart } = this._state;\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} LOADED_DATA`, `fvt:${this.fvt} isTimeUpdate:${this._state.isTimeUpdate} loadedCostTime:${this.loadedCostTime}`);\n      if (isTimeUpdate || autoplayStart) {\n        this._sendFF(\"loadedData\");\n      }\n      if (!isFFSend) {\n        this.emitLog(LOG_TYPES.LOADED_DATA, {});\n      }\n      this.suspendWaitingStatus(\"loadeddata\");\n    });\n    this.on(SEEKING, this._onSeeking);\n    this.on(SEEKED, this._onSeeked);\n    this.on(DESTROY, () => {\n      this.endState(\"destroy\");\n    });\n    this.on(URL_CHANGE, () => {\n      this.endState(\"urlChange\");\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} URL_CHANGE`);\n      this._state.isFFSend && this._onReset();\n    });\n    this.on([PLAYING, CANPLAY], this._onPlaying);\n    this.on(WAITING, this._onWaiting);\n    this.on(ERROR, this._onError);\n    this.on(RESET, () => {\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} RESET`);\n      this.endState(\"reset\");\n      this._initOnceEvents();\n      this._onReset();\n    });\n  }\n  _initOnceEvents() {\n    this.off(AUTOPLAY_STARTED, this._onAutoplayStart);\n    this.off(TIME_UPDATE, this._onTimeupdate);\n    this.once(AUTOPLAY_STARTED, this._onAutoplayStart);\n    this.once(TIME_UPDATE, this._onTimeupdate);\n  }\n  _sendFF(endType) {\n    this.s = now();\n    const { isFFLoading, isFFSend } = this._state;\n    XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} _sendFF`, `${endType} fvt:${this.fvt} isFFLoading:${isFFLoading} !isFFSend:${!isFFSend}`);\n    if (this.vt > 0 && isFFLoading && !isFFSend) {\n      XG_DEBUG.logInfo(`[xgLogger]${this.player.playerId} emitLog_firstFrame`, endType);\n      this._state.isFFLoading = false;\n      this._state.isFFSend = true;\n      this.emitLog(LOG_TYPES.FIRST_FRAME, { fvt: this.fvt, costTime: this.fvt, vt: this.vt, startCostTime: this.startCostTime, loadedCostTime: this.loadedCostTime });\n    }\n  }\n  _startWaitTimeout() {\n    if (this._waittTimer) {\n      util.clearTimeout(this, this._waittTimer);\n    }\n    this._waittTimer = util.setTimeout(this, () => {\n      this.suspendWaitingStatus(\"timeout\");\n      util.clearTimeout(this, this._waittTimer);\n      this._waittTimer = null;\n    }, this.config.waitTimeout);\n  }\n  endState(endType) {\n    this.suspendWaitingStatus(endType);\n    this.suspendSeekingStatus(endType);\n  }\n  suspendSeekingStatus(endType) {\n    if (!this.seekingStart) {\n      return;\n    }\n    const _now = now();\n    const _cost = _now - this.seekingStart;\n    this.seekingStart = 0;\n    this.emitLog(LOG_TYPES.SEEK_END, { end: _now, costTime: _cost, endType });\n  }\n  suspendWaitingStatus(endType) {\n    if (this._waitTimer) {\n      util.clearTimeout(this, this._waitTimer);\n      this._waitTimer = null;\n    }\n    if (this._waittTimer) {\n      util.clearTimeout(this, this._waittTimer);\n      this._waittTimer = null;\n    }\n    this._isWaiting = false;\n    if (!this.waitingStart) {\n      return;\n    }\n    const _now = now();\n    const _cost = _now - this.waitingStart;\n    const _fixedCost = _now - this.fixedWaitingStart;\n    const { waitTimeout } = this.config;\n    this._isWaiting = false;\n    this.waitingStart = 0;\n    this.fixedWaitingStart = 0;\n    this.emitLog(LOG_TYPES.WAIT_END, {\n      fixedCostTime: _fixedCost > waitTimeout ? waitTimeout : _fixedCost,\n      costTime: _cost > waitTimeout ? waitTimeout : _cost,\n      type: endType === \"loadeddata\" ? 1 : this._waitType,\n      endType: this._waitType === 2 ? \"seek\" : endType\n    });\n  }\n  emitLog(eventType, data) {\n    const { player } = this;\n    this.emit(XGLOG, {\n      t: now(),\n      host: util.getHostFromUrl(player.currentSrc),\n      vtype: player.vtype,\n      eventType,\n      currentTime: this.player.currentTime,\n      readyState: player.video.readyState,\n      networkState: player.video.networkState,\n      ...data\n    });\n  }\n}\nexport { LOG_TYPES, XGLogger as default };\n","function ReplaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"xgplayer-replay-svg\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 78 78\" width=\"78\" height=\"78\">\\n  <path fill=\"#fff\" transform=\"translate(20, 20)\" d=\"M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ReplaySvg as default };\n","import util from \"../../utils/util.js\";\nimport { ENDED, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport ReplaySvg from \"../assets/replay.js\";\nclass Replay extends Plugin {\n  static get pluginName() {\n    return \"replay\";\n  }\n  static get defaultConfig() {\n    return {\n      disable: false\n    };\n  }\n  registerIcons() {\n    return {\n      replay: ReplaySvg\n    };\n  }\n  afterCreate() {\n    Plugin.insert(this.icons.replay, this.root, 0);\n    this.__handleReplay = this.hook(\"replayClick\", () => {\n      this.player.replay();\n    }, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this.bind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n    this.on(ENDED, () => {\n      if (!this.playerConfig.loop) {\n        util.addClass(this.player.root, \"replay\");\n      }\n      if (this.config.disable) {\n        return;\n      }\n      this.show();\n      const path = this.root.querySelector(\"path\");\n      if (path) {\n        const transform = window.getComputedStyle(path).getPropertyValue(\"transform\");\n        if (typeof transform === \"string\" && transform.indexOf(\"none\") > -1) {\n          return null;\n        } else {\n          path.setAttribute(\"transform\", transform);\n        }\n      }\n    });\n    this.on(PLAY, () => {\n      this.hide();\n    });\n  }\n  handleReplay(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.player.replay();\n    util.removeClass(this.player.root, \"replay\");\n  }\n  show(value) {\n    if (this.config.disable) {\n      return;\n    }\n    this.root.style.display = \"flex\";\n  }\n  enable() {\n    this.config.disable = false;\n  }\n  disable() {\n    this.config.disable = true;\n    this.hide();\n  }\n  destroy() {\n    this.unbind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n  }\n  render() {\n    return `<xg-replay class=\"xgplayer-replay\">\n      <xg-replay-txt class=\"xgplayer-replay-txt\" lang-key=\"${this.i18nKeys.REPLAY}\">${this.i18n.REPLAY}</xg-replay-txt>\n    </xg-replay>`;\n  }\n}\nexport { Replay as default };\n","import util from \"../../utils/util.js\";\nimport { ENDED, TIME_UPDATE, URL_CHANGE, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass Poster extends Plugin {\n  static get pluginName() {\n    return \"poster\";\n  }\n  static get defaultConfig() {\n    return {\n      isEndedShow: true,\n      hideCanplay: false,\n      notHidden: false,\n      poster: \"\",\n      fillMode: \"fixWidth\"\n    };\n  }\n  set isEndedShow(value) {\n    this.config.isEndedShow = value;\n  }\n  get isEndedShow() {\n    return this.config.isEndedShow;\n  }\n  hide() {\n    util.addClass(this.root, \"hide\");\n  }\n  show(value) {\n    util.removeClass(this.root, \"hide\");\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.poster === \"string\") {\n      args.config.poster = args.player.config.poster;\n    }\n  }\n  afterCreate() {\n    this.on(ENDED, () => {\n      if (this.isEndedShow) {\n        util.removeClass(this.root, \"hide\");\n      }\n    });\n    if (this.config.hideCanplay) {\n      this.once(TIME_UPDATE, () => {\n        this.onTimeUpdate();\n      });\n      this.on(URL_CHANGE, () => {\n        util.removeClass(this.root, \"hide\");\n        util.addClass(this.root, \"xg-showplay\");\n        this.once(TIME_UPDATE, () => {\n          this.onTimeUpdate();\n        });\n      });\n    } else {\n      this.on(PLAY, () => {\n        util.addClass(this.root, \"hide\");\n      });\n    }\n  }\n  onTimeUpdate() {\n    if (!this.player.currentTime) {\n      this.once(TIME_UPDATE, () => {\n        this.onTimeUpdate();\n      });\n    } else {\n      util.removeClass(this.root, \"xg-showplay\");\n    }\n  }\n  update(poster) {\n    if (!poster) {\n      return;\n    }\n    this.config.poster = poster;\n    this.root.style.backgroundImage = `url(${poster})`;\n  }\n  getBgSize(mode) {\n    let _bg = \"\";\n    switch (mode) {\n      case \"cover\":\n        _bg = \"cover\";\n        break;\n      case \"contain\":\n        _bg = \"contain\";\n        break;\n      case \"fixHeight\":\n        _bg = \"auto 100%\";\n        break;\n      default:\n        _bg = \"\";\n    }\n    return _bg ? `background-size: ${_bg};` : \"\";\n  }\n  render() {\n    const { poster, hideCanplay, fillMode, notHidden } = this.config;\n    const _bg = this.getBgSize(fillMode);\n    const style = poster ? `background-image:url(${poster});${_bg}` : _bg;\n    const className = notHidden ? \"xg-not-hidden\" : hideCanplay ? \"xg-showplay\" : \"\";\n    return `<xg-poster class=\"xgplayer-poster ${className}\" style=\"${style}\">\n    </xg-poster>`;\n  }\n}\nexport { Poster as default };\n","function PlaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"play\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PlaySvg as default };\n","function PauseSvg() {\n  return new DOMParser().parseFromString('<svg class=\"pause\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PauseSvg as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { READY, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, PLAY, PAUSE, RESET } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nconst AnimateMap = {};\nfunction addAnimate(key, seconds, callback = { start: null, end: null }) {\n  if (AnimateMap[key]) {\n    window.clearTimeout(AnimateMap[key].id);\n  }\n  AnimateMap[key] = {};\n  callback.start && callback.start();\n  AnimateMap[key].id = window.setTimeout(() => {\n    callback.end && callback.end();\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  }, seconds);\n  return AnimateMap[key].id;\n}\nfunction clearAnimation(id) {\n  if (id) {\n    window.clearTimeout(id);\n    return;\n  }\n  Object.keys(AnimateMap).map((key) => {\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  });\n}\nclass Start extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onPlayerReset\", () => {\n      this.autoPlayStart = false;\n      const className = this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      this.setAttr(\"data-state\", \"play\");\n      util.removeClass(this.root, className);\n      this.show();\n    });\n    __publicField(this, \"onAutoplayStart\", () => {\n      if (this.autoPlayStart) {\n        return;\n      }\n      const className = this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      util.addClass(this.root, className);\n      this.autoPlayStart = true;\n      this.onPlayPause(\"play\");\n    });\n    this.autoPlayStart = false;\n  }\n  static get pluginName() {\n    return \"start\";\n  }\n  static get defaultConfig() {\n    return {\n      isShowPause: false,\n      isShowEnd: false,\n      disableAnimate: false,\n      mode: \"hide\"\n    };\n  }\n  afterCreate() {\n    const { player, playerConfig } = this;\n    this.initIcons();\n    this.once(READY, () => {\n      if (playerConfig) {\n        if (playerConfig.lang && playerConfig.lang === \"en\") {\n          util.addClass(player.root, \"lang-is-en\");\n        } else if (playerConfig.lang === \"jp\") {\n          util.addClass(player.root, \"lang-is-jp\");\n        }\n      }\n    });\n    this.on(AUTOPLAY_STARTED, this.onAutoplayStart);\n    if (!playerConfig.autoplay) {\n      this.show();\n    }\n    this.on(AUTOPLAY_PREVENTED, () => {\n      const className = this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      this.setAttr(\"data-state\", \"play\");\n      util.removeClass(this.root, className);\n      this.show();\n    });\n    this.on(PLAY, () => {\n      this.onPlayPause(\"play\");\n    });\n    this.on(PAUSE, () => {\n      this.onPlayPause(\"pause\");\n    });\n    this.on(RESET, () => {\n      this.onPlayerReset();\n    });\n    this.clickHandler = this.hook(\"startClick\", this.switchPausePlay, {\n      pre: (e) => {\n        e.cancelable && e.preventDefault();\n        e.stopPropagation();\n        const { paused } = this.player;\n        this.emitUserAction(e, \"switch_play_pause\", { props: \"paused\", from: paused, to: !paused });\n      }\n    });\n    this.bind([\"click\", \"touchend\"], this.clickHandler);\n  }\n  registerIcons() {\n    return {\n      startPlay: { icon: PlaySvg, class: \"xg-icon-play\" },\n      startPause: { icon: PauseSvg, class: \"xg-icon-pause\" }\n    };\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\"xg-start-inner\", icons.startPlay);\n    this.appendChild(\"xg-start-inner\", icons.startPause);\n  }\n  hide() {\n    util.addClass(this.root, \"hide\");\n  }\n  show(value) {\n    util.removeClass(this.root, \"hide\");\n  }\n  focusHide() {\n    util.addClass(this.root, \"focus-hide\");\n  }\n  recover() {\n    util.removeClass(this.root, \"focus-hide\");\n  }\n  switchStatus(isAnimate) {\n    if (isAnimate) {\n      this.setAttr(\"data-state\", !this.player.paused ? \"play\" : \"pause\");\n    } else {\n      this.setAttr(\"data-state\", this.player.paused ? \"play\" : \"pause\");\n    }\n  }\n  animate(endShow) {\n    this._animateId = addAnimate(\"pauseplay\", 400, {\n      start: () => {\n        util.addClass(this.root, \"interact\");\n        this.show();\n        this.switchStatus(true);\n      },\n      end: () => {\n        util.removeClass(this.root, \"interact\");\n        !endShow && this.hide();\n        this._animateId = null;\n      }\n    });\n  }\n  endAnimate() {\n    util.removeClass(this.root, \"interact\");\n    clearAnimation(this._animateId);\n    this._animateId = null;\n  }\n  switchPausePlay(e) {\n    const { player } = this;\n    e.cancelable && e.preventDefault();\n    e.stopPropagation();\n    if (player.state < STATES.READY) {\n      return;\n    }\n    const paused = this.player.paused;\n    if (!paused && player.state === STATES.RUNNING) {\n      player.pause();\n    } else {\n      player.play();\n    }\n  }\n  onPlayPause(status) {\n    const { config, player } = this;\n    if (!player || player.state < STATES.RUNNING || !this.autoPlayStart) {\n      return;\n    }\n    if (config.mode === \"show\") {\n      this.switchStatus();\n      this.show();\n      return;\n    }\n    if (config.mode === \"auto\") {\n      this.switchStatus();\n      return;\n    }\n    if (config.isShowPause && player.paused && !player.ended || config.isShowEnd && player.ended) {\n      this.switchStatus();\n      this.show();\n      this.endAnimate();\n      return;\n    }\n    if (config.disableAnimate) {\n      this.switchStatus();\n      this.hide();\n      return;\n    }\n    if (status === \"play\") {\n      this.autoPlayStart ? this.animate() : this.hide();\n    } else {\n      if (!this.autoPlayStart || player.ended) {\n        return;\n      }\n      this.animate();\n    }\n  }\n  destroy() {\n    this.unbind([\"click\", \"touchend\"], this.clickHandler);\n    clearAnimation(this._animateId);\n  }\n  render() {\n    const className = this.playerConfig.autoplay ? this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\" : \"\";\n    return `\n    <xg-start class=\"xgplayer-start ${className}\">\n    <xg-start-inner></xg-start-inner>\n    </xg-start>`;\n  }\n}\nexport { Start as default };\n","import util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass Enter extends Plugin {\n  static get pluginName() {\n    return \"enter\";\n  }\n  static get defaultConfig() {\n    return {\n      innerHtml: \"\",\n      logo: \"\"\n    };\n  }\n  render() {\n    const { innerHtml } = this.config;\n    const root = util.createDom(\"xg-enter\", \"\", {}, \"xgplayer-enter\");\n    if (innerHtml && innerHtml instanceof window.HTMLElement) {\n      root.appendChild(innerHtml);\n    } else if (innerHtml && typeof innerHtml === \"string\") {\n      root.innerHTML = innerHtml;\n    } else {\n      let barStr = \"\";\n      for (let i = 1; i <= 12; i++) {\n        barStr += `<div class=\"xgplayer-enter-bar${i}\"></div>`;\n      }\n      root.innerHTML = `<div class=\"xgplayer-enter-spinner\">${barStr}</div>`;\n    }\n    return root;\n  }\n}\nexport { Enter as default };\n","function xgIconTips(plugin, textKey, isShow) {\n  try {\n    return ` <div class=\"xg-tips ${isShow ? \"hide\" : \" \"}\" lang-key=\"${plugin.i18nKeys[textKey]}\">\n    ${plugin.i18n[textKey]}\n    </div>`;\n  } catch (e) {\n    return '<div class=\"xg-tips hide\"></div>';\n  }\n}\nexport { xgIconTips };\n","import \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nclass MiniScreenIcon extends Plugin {\n  static get pluginName() {\n    return \"miniscreenIcon\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 10\n    };\n  }\n  afterCreate() {\n    this.getMini = this.getMini.bind(this);\n    this.exitMini = this.exitMini.bind(this);\n    this.bind(\"click\", this.getMini);\n  }\n  getMini() {\n    this.config.onClick && this.config.onClick();\n  }\n  exitMini() {\n    this.config.onClick && this.config.onClick();\n  }\n  destroy() {\n    this.unbind([\"click\", \"touchend\"], this.getMini);\n  }\n  render() {\n    const langKey = \"MINISCREEN\";\n    return `\n      <xg-icon class=\"xgplayer-miniicon\">\n      <div class=\"xgplayer-icon btn-text\"><span class=\"icon-text\" lang-key=\"${this.i18nKeys[langKey]}\">${this.i18n[langKey]}</span></div>\n      </xg-icon>`;\n  }\n}\nexport { MiniScreenIcon as default };\n","import EventEmitter from \"eventemitter3\";\nfunction getStyleSize(value) {\n  const num = parseFloat(value);\n  const isValid = value.indexOf(\"%\") === -1 && !Number.isNaN(num);\n  return isValid && num;\n}\nconst measurements = [\n  \"paddingLeft\",\n  \"paddingRight\",\n  \"paddingTop\",\n  \"paddingBottom\",\n  \"marginLeft\",\n  \"marginRight\",\n  \"marginTop\",\n  \"marginBottom\",\n  \"borderLeftWidth\",\n  \"borderRightWidth\",\n  \"borderTopWidth\",\n  \"borderBottomWidth\"\n];\nconst measurementsLength = measurements.length;\nfunction getZeroSize() {\n  const size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for (let i = 0; i < measurementsLength; i++) {\n    const measurement = measurements[i];\n    size[measurement] = 0;\n  }\n  return size;\n}\nfunction getStyle(elem) {\n  const style = window.getComputedStyle(elem);\n  return style;\n}\nfunction getSize(elem) {\n  if (typeof elem === \"string\") {\n    elem = document.querySelector(elem);\n  }\n  if (!elem || typeof elem !== \"object\" || !elem.nodeType) {\n    return;\n  }\n  const style = getStyle(elem);\n  if (style.display === \"none\") {\n    return getZeroSize();\n  }\n  const size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n  const isBorderBox = size.isBorderBox = style.boxSizing === \"border-box\";\n  for (let i = 0; i < measurementsLength; i++) {\n    const measurement = measurements[i];\n    const value = style[measurement];\n    const num = parseFloat(value);\n    size[measurement] = !Number.isNaN(num) ? num : 0;\n  }\n  const paddingWidth = size.paddingLeft + size.paddingRight;\n  const paddingHeight = size.paddingTop + size.paddingBottom;\n  const marginWidth = size.marginLeft + size.marginRight;\n  const marginHeight = size.marginTop + size.marginBottom;\n  const borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  const borderHeight = size.borderTopWidth + size.borderBottomWidth;\n  const isBorderBoxSizeOuter = isBorderBox;\n  const styleWidth = getStyleSize(style.width);\n  if (styleWidth !== false) {\n    size.width = styleWidth + (isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth);\n  }\n  const styleHeight = getStyleSize(style.height);\n  if (styleHeight !== false) {\n    size.height = styleHeight + (isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight);\n  }\n  size.innerWidth = size.width - (paddingWidth + borderWidth);\n  size.innerHeight = size.height - (paddingHeight + borderHeight);\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n  return size;\n}\nfunction getTouch(touches, dentifier) {\n  for (let i = 0; i < touches.length; i++) {\n    const touch = touches[i];\n    if (touch.identifier === dentifier) {\n      return touch;\n    }\n  }\n}\nconst EVENTS = {\n  START: \"dragStart\",\n  MOVE: \"dragMove\",\n  ENDED: \"dragEnded\"\n};\nconst POST_START_EVENTS = {\n  mousedown: [\"mousemove\", \"mouseup\"],\n  touchstart: [\"touchmove\", \"touchend\", \"touchcancel\"],\n  pointerdown: [\"pointermove\", \"pointerup\", \"pointercancel\"]\n};\nclass Draggabilly extends EventEmitter {\n  constructor(root, options = {}) {\n    super();\n    this.isEnabled = true;\n    this.isDragging = false;\n    this.isDown = false;\n    this.position = {};\n    this.downPoint = {};\n    this.dragPoint = { x: 0, y: 0 };\n    this.startPos = { x: 0, y: 0 };\n    this._root = root instanceof Element ? root : document.querySelector(root);\n    this._handlerDom = options.handle instanceof Element ? options.handle : document.querySelector(options.handle);\n    if (!this._root || !this._handlerDom) {\n      return;\n    }\n    this._bindStartEvent();\n  }\n  _bindStartEvent() {\n    if (\"ontouchstart\" in window) {\n      this._startKey = \"touchstart\";\n    } else {\n      this._startKey = \"mousedown\";\n    }\n    this[`on${this._startKey}`] = this[`on${this._startKey}`].bind(this);\n    this._handlerDom.addEventListener(this._startKey, this[`on${this._startKey}`]);\n    POST_START_EVENTS[this._startKey].map((key) => {\n      this[`on${key}`] = this[`on${key}`].bind(this);\n    });\n  }\n  _unbindStartEvent() {\n    this._handlerDom.removeEventListener(this._startKey, this[`on${this._startKey}`]);\n  }\n  _bindPostStartEvents(event) {\n    if (!event) {\n      return;\n    }\n    const events = POST_START_EVENTS[this._startKey];\n    events.map((eventName) => {\n      window.addEventListener(eventName, this[`on${eventName}`]);\n    });\n    this._boundPointerEvents = events;\n  }\n  _unbindPostStartEvents() {\n    if (!this._boundPointerEvents) {\n      return;\n    }\n    this._boundPointerEvents.map((eventName) => {\n      window.removeEventListener(eventName, this[`on${eventName}`]);\n    });\n    delete this._boundPointerEvents;\n  }\n  enable() {\n    this.isEnabled = true;\n  }\n  disable() {\n    this.isEnabled = false;\n    if (this.isDragging) {\n      this.onUp();\n    }\n  }\n  onDocUp(e) {\n    this.onUp();\n  }\n  animate() {\n    if (!this.isDragging) {\n      return;\n    }\n    this.positionDrag();\n    window.requestAnimationFrame(() => {\n      this.animate();\n    });\n  }\n  positionDrag() {\n    const transform = `translate3d(${this.dragPoint.x}px, ${this.dragPoint.y}px, 0)`;\n    this._root.style.transform = transform;\n    this._root.style.webKitTransform = transform;\n  }\n  setLeftTop() {\n    this._root.style.left = this.position.x + \"px\";\n    this._root.style.top = this.position.y + \"px\";\n  }\n  onmousedown(e) {\n    this.dragStart(e, e);\n  }\n  onmousemove(e) {\n    this.dragMove(e, e);\n  }\n  onmouseup(e) {\n    this.dragEnd(e, e);\n  }\n  ontouchstart(e) {\n    const touch = e.changedTouches[0];\n    this.dragStart(e, touch);\n    this.touchIdentifier = touch.pointerId !== void 0 ? touch.pointerId : touch.identifier;\n    e.preventDefault();\n  }\n  ontouchmove(e) {\n    const touch = getTouch(e.changedTouches, this.touchIdentifier);\n    if (touch) {\n      this.dragMove(e, touch);\n    }\n  }\n  ontouchend(e) {\n    const touch = getTouch(e.changedTouches, this.touchIdentifier);\n    if (touch) {\n      this.dragEnd(e, touch);\n    }\n    e.preventDefault();\n  }\n  ontouchcancel(e) {\n    const touch = getTouch(e.changedTouches, this.touchIdentifier);\n    if (touch) {\n      this.dragCancel(e, touch);\n    }\n  }\n  dragStart(e, pointer) {\n    if (!this._root || this.isDown || !this.isEnabled) {\n      return;\n    }\n    this.downPoint = pointer;\n    this.dragPoint.x = 0;\n    this.dragPoint.y = 0;\n    this._getPosition();\n    const size = getSize(this._root);\n    this.startPos.x = this.position.x;\n    this.startPos.y = this.position.y;\n    this.startPos.maxY = window.innerHeight - size.height;\n    this.startPos.maxX = window.innerWidth - size.width;\n    this.setLeftTop();\n    this.isDown = true;\n    this._bindPostStartEvents(e);\n  }\n  dragRealStart(e, pointer) {\n    this.isDragging = true;\n    this.animate();\n    this.emit(EVENTS.START, this.startPos);\n  }\n  dragEnd(e, pointer) {\n    if (!this._root) {\n      return;\n    }\n    this._unbindPostStartEvents();\n    if (this.isDragging) {\n      this._root.style.transform = \"\";\n      this.setLeftTop();\n      this.emit(EVENTS.ENDED);\n    }\n    this.presetInfo();\n  }\n  _dragPointerMove(e, pointer) {\n    const moveVector = {\n      x: pointer.pageX - this.downPoint.pageX,\n      y: pointer.pageY - this.downPoint.pageY\n    };\n    if (!this.isDragging && this.hasDragStarted(moveVector)) {\n      this.dragRealStart(e, pointer);\n    }\n    return moveVector;\n  }\n  dragMove(e, pointer) {\n    e = e || window.event;\n    if (!this.isDown) {\n      return;\n    }\n    const { x, y } = this.startPos;\n    const moveVector = this._dragPointerMove(e, pointer);\n    let dragX = moveVector.x;\n    let dragY = moveVector.y;\n    dragX = this.checkContain(\"x\", dragX, x);\n    dragY = this.checkContain(\"y\", dragY, y);\n    this.position.x = x + dragX;\n    this.position.y = y + dragY;\n    this.dragPoint.x = dragX;\n    this.dragPoint.y = dragY;\n    this.emit(EVENTS.MOVE, this.position);\n  }\n  dragCancel(e, pointer) {\n    this.dragEnd(e, pointer);\n  }\n  presetInfo() {\n    this.isDragging = false;\n    this.startPos = {\n      x: 0,\n      y: 0\n    };\n    this.dragPoint = {\n      x: 0,\n      y: 0\n    };\n    this.isDown = false;\n  }\n  destroy() {\n    this._unbindStartEvent();\n    this._unbindPostStartEvents();\n    if (this.isDragging) {\n      this.dragEnd();\n    }\n    this.removeAllListeners();\n    this._handlerDom = null;\n  }\n  hasDragStarted(moveVector) {\n    return Math.abs(moveVector.x) > 3 || Math.abs(moveVector.y) > 3;\n  }\n  checkContain(axis, drag, grid) {\n    if (drag + grid < 0) {\n      return 0 - grid;\n    }\n    if (axis === \"x\" && drag + grid > this.startPos.maxX) {\n      return this.startPos.maxX - grid;\n    }\n    if (axis === \"y\" && drag + grid > this.startPos.maxY) {\n      return this.startPos.maxY - grid;\n    }\n    return drag;\n  }\n  _getPosition() {\n    const style = window.getComputedStyle(this._root);\n    const x = this._getPositionCoord(style.left, \"width\");\n    const y = this._getPositionCoord(style.top, \"height\");\n    this.position.x = Number.isNaN(x) ? 0 : x;\n    this.position.y = Number.isNaN(y) ? 0 : y;\n    this._addTransformPosition(style);\n  }\n  _addTransformPosition(style) {\n    const transform = style.transform;\n    if (transform.indexOf(\"matrix\") !== 0) {\n      return;\n    }\n    const matrixValues = transform.split(\",\");\n    const xIndex = transform.indexOf(\"matrix3d\") === 0 ? 12 : 4;\n    const translateX = parseInt(matrixValues[xIndex], 10);\n    const translateY = parseInt(matrixValues[xIndex + 1], 10);\n    this.position.x += translateX;\n    this.position.y += translateY;\n  }\n  _getPositionCoord(styleSide, measure) {\n    if (styleSide.indexOf(\"%\") !== -1) {\n      const parentSize = getSize(this._root.parentNode);\n      return !parentSize ? 0 : parseFloat(styleSide) / 100 * parentSize[measure];\n    }\n    return parseInt(styleSide, 10);\n  }\n}\nexport { Draggabilly as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { PAUSE, PLAY, MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nimport MiniScreenIcon from \"./miniScreenIcon.js\";\nexport { default as MiniScreenIcon } from \"./miniScreenIcon.js\";\nimport Draggabilly from \"../../utils/draggabilly.js\";\nclass MiniScreen extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onCancelClick\", (e) => {\n      this.exitMini();\n      this.isClose = true;\n    });\n    __publicField(this, \"onCenterClick\", (e) => {\n      const { player } = this;\n      player.paused ? player.play() : player.pause();\n    });\n    __publicField(this, \"onScroll\", (e) => {\n      if (!window.scrollY && window.scrollY !== 0 || Math.abs(window.scrollY - this.pos.scrollY) < 50) {\n        return;\n      }\n      let scrollHeight = parseInt(util.getCss(this.player.root, \"height\"));\n      scrollHeight += this.config.scrollTop;\n      this.pos.scrollY = window.scrollY;\n      if (window.scrollY > scrollHeight + 5) {\n        !this.isMini && !this.isClose && this.getMini();\n      } else if (window.scrollY <= scrollHeight) {\n        this.isMini && this.exitMini();\n        this.isClose = false;\n      }\n    });\n    this.isMini = false;\n    this.isClose = false;\n    const { config } = this;\n    this.pos = {\n      left: config.left < 0 ? window.innerWidth - config.width - 20 : config.left,\n      top: config.top < 0 ? window.innerHeight - config.height - 20 : config.top,\n      height: this.config.height,\n      width: this.config.width,\n      scrollY: window.scrollY || 0\n    };\n    this.lastStyle = null;\n  }\n  static get pluginName() {\n    return \"miniscreen\";\n  }\n  static get defaultConfig() {\n    return {\n      index: 10,\n      disable: false,\n      width: 320,\n      height: 180,\n      left: -1,\n      top: -1,\n      isShowIcon: false,\n      isScrollSwitch: false,\n      scrollTop: 0,\n      disableDrag: false\n    };\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.mini === \"boolean\") {\n      args.config.isShowIcon = args.player.config.mini;\n    }\n  }\n  afterCreate() {\n    this.initIcons();\n    this.on(PAUSE, () => {\n      this.setAttr(\"data-state\", \"pause\");\n    });\n    this.on(PLAY, () => {\n      this.setAttr(\"data-state\", \"play\");\n    });\n  }\n  onPluginsReady() {\n    const { player, config } = this;\n    if (config.disable) {\n      return;\n    }\n    if (this.config.isShowIcon) {\n      const options = {\n        config: {\n          onClick: () => {\n            this.getMini();\n          }\n        }\n      };\n      player.controls.registerPlugin(MiniScreenIcon, options, MiniScreenIcon.pluginName);\n    }\n    const eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n    this.bind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n    this.bind(\".play-icon\", eventName, this.onCenterClick);\n    if (!this.config.disableDrag) {\n      this._draggabilly = new Draggabilly(this.player.root, {\n        handle: this.root\n      });\n    }\n    if (this.config.isScrollSwitch) {\n      window.addEventListener(\"scroll\", this.onScroll);\n    }\n  }\n  registerIcons() {\n    return {\n      play: { icon: PlaySvg, class: \"xg-icon-play\" },\n      pause: { icon: PauseSvg, class: \"xg-icon-pause\" }\n    };\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".play-icon\", icons.play);\n    this.appendChild(\".play-icon\", icons.pause);\n  }\n  getMini() {\n    if (this.isMini) {\n      return;\n    }\n    const { player, playerConfig } = this;\n    const target = this.config.target || this.player.root;\n    this.lastStyle = {};\n    util.addClass(player.root, \"xgplayer-mini\");\n    [\"width\", \"height\", \"top\", \"left\"].map((key) => {\n      this.lastStyle[key] = target.style[key];\n      target.style[key] = `${this.pos[key]}px`;\n    });\n    if (playerConfig.fluid) {\n      target.style[\"padding-top\"] = \"\";\n    }\n    this.emit(MINI_STATE_CHANGE, true);\n    player.isMini = this.isMini = true;\n  }\n  exitMini() {\n    if (!this.isMini) {\n      return false;\n    }\n    const { player, playerConfig } = this;\n    const target = this.config.target || this.player.root;\n    util.removeClass(player.root, \"xgplayer-mini\");\n    if (this.lastStyle) {\n      Object.keys(this.lastStyle).map((key) => {\n        target.style[key] = this.lastStyle[key];\n      });\n    }\n    this.lastStyle = null;\n    if (playerConfig.fluid) {\n      player.root.style.width = \"100%\";\n      player.root.style.height = \"0\";\n      player.root.style[\"padding-top\"] = `${playerConfig.height * 100 / playerConfig.width}%`;\n    }\n    this.emit(MINI_STATE_CHANGE, false);\n    this.isMini = player.isMini = false;\n  }\n  destroy() {\n    window.removeEventListener(\"scroll\", this.onScroll);\n    const eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n    this.unbind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n    this.unbind(\".play-icon\", eventName, this.onCenterClick);\n    this._draggabilly && this._draggabilly.destroy();\n    this._draggabilly = null;\n    this.exitMini();\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `\n      <xg-mini-layer class=\"xg-mini-layer\">\n      <xg-mini-header class=\"xgplayer-mini-header\">\n      ${xgIconTips(this, \"MINI_DRAG\", this.playerConfig.isHideTips)}\n      </xg-mini-header>\n      <div class=\"mini-cancel-btn\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n          <path fill=\"#fff\" fill-rule=\"evenodd\" d=\"M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z\"></path>\n        </svg>\n      </div>\n      <div class=\"play-icon\">\n      </div>\n      </xg-mini-layer>`;\n  }\n}\nexport { MiniScreen as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { ENTER_PLAYER, LEAVE_PLAYER } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nconst MOUSE_EVENTS = {\n  mouseenter: \"onMouseEnter\",\n  mouseleave: \"onMouseLeave\",\n  mousemove: \"onMouseMove\"\n};\nconst HOOKS = [\"videoClick\", \"videoDbClick\"];\nclass PCPlugin extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onMouseMove\", (e) => {\n      const { player, playerConfig } = this;\n      if (!player.isActive) {\n        player.focus({ autoHide: !playerConfig.closeDelayBlur });\n        !playerConfig.closeFocusVideoFocus && player.media.focus();\n      }\n    });\n    __publicField(this, \"onMouseEnter\", (e) => {\n      const { playerConfig, player } = this;\n      !playerConfig.closeFocusVideoFocus && player.media.focus();\n      if (playerConfig.closeDelayBlur) {\n        player.focus({ autoHide: false });\n      } else {\n        player.focus();\n      }\n      this.emit(ENTER_PLAYER);\n    });\n    __publicField(this, \"onMouseLeave\", (e) => {\n      const { closePlayerBlur, leavePlayerTime, closeDelayBlur } = this.playerConfig;\n      if (!closePlayerBlur && !closeDelayBlur) {\n        if (leavePlayerTime) {\n          this.player.focus({ autoHide: true, delay: leavePlayerTime });\n        } else {\n          this.player.blur({ ignorePaused: true });\n        }\n      }\n      this.emit(LEAVE_PLAYER);\n    });\n    __publicField(this, \"onVideoClick\", (e) => {\n      const { player, playerConfig } = this;\n      if (e.target && playerConfig.closeVideoClick) {\n        return;\n      }\n      if (e.target === player.root || e.target === player.media || e.target === player.innerContainer || e.target === player.media.__canvas) {\n        e.preventDefault();\n        if (!playerConfig.closeVideoStopPropagation) {\n          e.stopPropagation();\n        }\n        this._clickCount++;\n        if (this.clickTimer) {\n          clearTimeout(this.clickTimer);\n          this.clickTimer = null;\n        }\n        this.clickTimer = setTimeout(() => {\n          if (!this._clickCount) {\n            return;\n          }\n          this._clickCount--;\n          runHooks(this, HOOKS[0], (plugin, data) => {\n            this.switchPlayPause(data.e);\n          }, { e, paused: player.paused });\n          clearTimeout(this.clickTimer);\n          this.clickTimer = null;\n        }, 300);\n      }\n    });\n    __publicField(this, \"onVideoDblClick\", (e) => {\n      const { player, playerConfig } = this;\n      if (playerConfig.closeVideoDblclick || !e.target || e.target !== player.media && e.target !== player.media.__canvas) {\n        return;\n      }\n      if (!playerConfig.closeVideoClick && this._clickCount < 2) {\n        this._clickCount = 0;\n        return;\n      }\n      this._clickCount = 0;\n      if (this.clickTimer) {\n        clearTimeout(this.clickTimer);\n        this.clickTimer = null;\n      }\n      e.preventDefault();\n      e.stopPropagation();\n      runHooks(this, HOOKS[1], (plugin, data) => {\n        this.emitUserAction(data.e, \"switch_fullscreen\", { props: \"fullscreen\", from: player.fullscreen, to: !player.fullscreen });\n        player.fullscreen ? player.exitFullscreen() : player.getFullscreen();\n      }, { e, fullscreen: player.fullscreen });\n    });\n  }\n  static get pluginName() {\n    return \"pc\";\n  }\n  static get defaultConfig() {\n    return {};\n  }\n  afterCreate() {\n    this._clickCount = 0;\n    HOOKS.map((item) => {\n      this.__hooks[item] = null;\n    });\n    const { isMobileSimulateMode } = this.playerConfig;\n    if (isMobileSimulateMode === \"mobile\" || sniffer.device === \"mobile\" && !sniffer.os.isIpad) {\n      return;\n    }\n    this.initEvents();\n  }\n  initEvents() {\n    const { media, root } = this.player;\n    const { enableContextmenu } = this.playerConfig;\n    root && root.addEventListener(\"click\", this.onVideoClick, false);\n    root && root.addEventListener(\"dblclick\", this.onVideoDblClick, false);\n    Object.keys(MOUSE_EVENTS).map((item) => {\n      root.addEventListener(item, this[MOUSE_EVENTS[item]], false);\n    });\n    !enableContextmenu && media && media.addEventListener(\"contextmenu\", this.onContextmenu, false);\n  }\n  switchPlayPause(e) {\n    const { player } = this;\n    this.emitUserAction(e, \"switch_play_pause\", { props: \"paused\", from: player.paused, to: !player.paused });\n    if (!player.ended) {\n      player.paused ? player.play() : player.pause();\n    } else {\n      player.duration !== Infinity && player.duration > 0 && player.replay();\n    }\n  }\n  onContextmenu(e) {\n    e = e || window.event;\n    if (e.preventDefault) {\n      e.preventDefault();\n    }\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    } else {\n      e.returnValue = false;\n      e.cancelBubble = true;\n    }\n  }\n  destroy() {\n    const { video, root } = this.player;\n    this.clickTimer && clearTimeout(this.clickTimer);\n    root.removeEventListener(\"click\", this.onVideoClick, false);\n    root.removeEventListener(\"dblclick\", this.onVideoDblClick, false);\n    video.removeEventListener(\"contextmenu\", this.onContextmenu, false);\n    Object.keys(MOUSE_EVENTS).map((item) => {\n      root.removeEventListener(item, this[MOUSE_EVENTS[item]], false);\n    });\n  }\n}\nexport { PCPlugin as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nconst EVENTS = {\n  PRESS: \"press\",\n  PRESS_END: \"pressend\",\n  DOUBlE_CLICK: \"doubleclick\",\n  CLICK: \"click\",\n  TOUCH_MOVE: \"touchmove\",\n  TOUCH_START: \"touchstart\",\n  TOUCH_END: \"touchend\"\n};\nconst TOUCHS = {\n  start: \"touchstart\",\n  end: \"touchend\",\n  move: \"touchmove\",\n  cancel: \"touchcancel\"\n};\nconst MOUSES = {\n  start: \"mousedown\",\n  end: \"mouseup\",\n  move: \"mousemove\",\n  cancel: \"mouseleave\"\n};\nfunction getTouch(touches) {\n  if (touches && touches.length > 0) {\n    return touches[touches.length - 1];\n  } else {\n    return null;\n  }\n}\nfunction getDefaultConfig() {\n  return {\n    pressDelay: 600,\n    dbClickDelay: 200,\n    disablePress: false,\n    disableDbClick: false,\n    miniStep: 2,\n    needPreventDefault: true\n  };\n}\nclass Touche {\n  constructor(dom, config = { eventType: \"touch\" }) {\n    __publicField(this, \"onTouchStart\", (e) => {\n      const { _pos, root } = this;\n      const touch = getTouch(e.touches);\n      _pos.x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.y = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.start = true;\n      this.__setPress(e);\n      root.addEventListener(this.events.end, this.onTouchEnd);\n      root.addEventListener(this.events.cancel, this.onTouchCancel);\n      root.addEventListener(this.events.move, this.onTouchMove);\n      this.trigger(EVENTS.TOUCH_START, e);\n    });\n    __publicField(this, \"onTouchCancel\", (e) => {\n      this.onTouchEnd(e);\n    });\n    __publicField(this, \"onTouchEnd\", (e) => {\n      const { _pos, root } = this;\n      this.__clearPress();\n      root.removeEventListener(this.events.cancel, this.onTouchCancel);\n      root.removeEventListener(this.events.end, this.onTouchEnd);\n      root.removeEventListener(this.events.move, this.onTouchMove);\n      e.moving = _pos.moving;\n      e.press = _pos.press;\n      _pos.press && this.trigger(EVENTS.PRESS_END, e);\n      this.trigger(EVENTS.TOUCH_END, e);\n      !_pos.press && !_pos.moving && this.__setDb(e);\n      _pos.press = false;\n      _pos.start = false;\n      _pos.moving = false;\n    });\n    __publicField(this, \"onTouchMove\", (e) => {\n      const { _pos, config } = this;\n      const touch = getTouch(e.touches);\n      const x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      const y = touch ? parseInt(touch.pageY, 10) : e.pageX;\n      const diffx = x - _pos.x;\n      const diffy = y - _pos.y;\n      if (Math.abs(diffy) < config.miniStep && Math.abs(diffx) < config.miniStep) {\n        return;\n      }\n      this.__clearPress();\n      _pos.press && this.trigger(EVENTS.PRESS_END, e);\n      _pos.press = false;\n      _pos.moving = true;\n      this.trigger(EVENTS.TOUCH_MOVE, e);\n    });\n    this._pos = {\n      moving: false,\n      start: false,\n      x: 0,\n      y: 0\n    };\n    this.config = getDefaultConfig();\n    Object.keys(config).map((key) => {\n      this.config[key] = config[key];\n    });\n    this.root = dom;\n    this.events = config.eventType === \"mouse\" ? MOUSES : TOUCHS;\n    this.pressIntrvalId = null;\n    this.dbIntrvalId = null;\n    this.__handlers = {};\n    this._initEvent();\n  }\n  _initEvent() {\n    this.root.addEventListener(this.events.start, this.onTouchStart);\n  }\n  __setPress(e) {\n    const { config } = this;\n    if (this.pressIntrvalId) {\n      this.__clearPress();\n    }\n    this.pressIntrvalId = setTimeout(() => {\n      this.trigger(EVENTS.PRESS, e);\n      this._pos.press = true;\n      this.__clearPress();\n    }, config.pressDelay);\n  }\n  __clearPress() {\n    window.clearTimeout(this.pressIntrvalId);\n    this.pressIntrvalId = null;\n  }\n  __setDb(e) {\n    const { config } = this;\n    if (this.dbIntrvalId) {\n      this.__clearDb();\n      this.trigger(EVENTS.DOUBlE_CLICK, e);\n      return;\n    }\n    this.dbIntrvalId = setTimeout(() => {\n      this.__clearDb();\n      if (!this._pos.start && !this._pos.press && !this._pos.moving) {\n        this.trigger(EVENTS.CLICK, e);\n      }\n    }, config.dbClickDelay);\n  }\n  __clearDb() {\n    clearTimeout(this.dbIntrvalId);\n    this.dbIntrvalId = null;\n  }\n  on(event, handler) {\n    if (!this.__handlers[event]) {\n      this.__handlers[event] = [];\n    }\n    this.__handlers[event].push(handler);\n  }\n  off(event, handler) {\n    if (!this.__handlers[event]) {\n      return;\n    }\n    const handlers = this.__handlers[event];\n    let index = -1;\n    for (let i = 0; i < handlers.length; i++) {\n      if (handlers[i] === handler) {\n        index = i;\n        break;\n      }\n    }\n    if (index >= 0) {\n      this.__handlers[event].splice(index, 1);\n    }\n  }\n  trigger(event, e) {\n    if (!this.__handlers[event]) {\n      return;\n    }\n    this.__handlers[event].map((handler) => {\n      try {\n        handler(e);\n      } catch (error) {\n        console.error(`trigger>>:${event}`, error);\n      }\n    });\n  }\n  destroy() {\n    const map = {\n      touchend: \"onTouchEnd\",\n      touchmove: \"onTouchMove\",\n      touchstart: \"onTouchStart\"\n    };\n    Object.keys(map).forEach((key) => {\n      this.root.removeEventListener(key, this[map[key]]);\n    });\n  }\n}\nexport { Touche as default };\n","function SeekTipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"9\" viewBox=\"0 0 8 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\\n  xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n  <path opacity=\"0.54\"\\n    d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\"\\n    fill=\"white\" />\\n  <path transform=\"translate(5 0)\" d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\" fill=\"white\"/>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { SeekTipIcon as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, CANPLAY, ENDED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport Touche from \"./touch.js\";\nimport SeekTipIcon from \"../assets/seekicon.js\";\nconst ACTIONS = {\n  AUTO: \"auto\",\n  SEEKING: \"seeking\",\n  PLAYBACK: \"playbackrate\",\n  LIGHT: \"\"\n};\nconst HOOKS = [\"videoClick\", \"videoDbClick\"];\nclass MobilePlugin extends Plugin {\n  constructor(options) {\n    super(options);\n    __publicField(this, \"onTouchStart\", (e) => {\n      const { player, config, pos, playerConfig } = this;\n      const touche = this.getTouche(e);\n      if (touche && !config.disableGesture && this.duration > 0 && !player.ended) {\n        pos.isStart = true;\n        this.timer && clearTimeout(this.timer);\n        util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n        this.find(\".xg-dur\").innerHTML = util.format(this.duration);\n        const rect = this.root.getBoundingClientRect();\n        if (player.rotateDeg === 90) {\n          pos.top = rect.left;\n          pos.left = rect.top;\n          pos.width = rect.height;\n          pos.height = rect.width;\n        } else {\n          pos.top = rect.top;\n          pos.left = rect.left;\n          pos.width = rect.width;\n          pos.height = rect.height;\n        }\n        const _x = parseInt(touche.pageX - pos.left, 10);\n        const _y = parseInt(touche.pageY - pos.top, 10);\n        pos.x = player.rotateDeg === 90 ? _y : _x;\n        pos.y = player.rotateDeg === 90 ? _x : _y;\n        pos.scopeL = config.scopeL * pos.width;\n        pos.scopeR = (1 - config.scopeR) * pos.width;\n        pos.scopeM1 = pos.width * (1 - config.scopeM) / 2;\n        pos.scopeM2 = pos.width - pos.scopeM1;\n      }\n    });\n    __publicField(this, \"onTouchMove\", (e) => {\n      const touche = this.getTouche(e);\n      const { pos, config, player } = this;\n      if (!touche || config.disableGesture || !this.duration || !pos.isStart) {\n        return;\n      }\n      const { miniMoveStep, hideControlsActive } = config;\n      const _x = parseInt(touche.pageX - pos.left, 10);\n      const _y = parseInt(touche.pageY - pos.top, 10);\n      const x = player.rotateDeg === 90 ? _y : _x;\n      const y = player.rotateDeg === 90 ? _x : _y;\n      if (Math.abs(x - pos.x) > miniMoveStep || Math.abs(y - pos.y) > miniMoveStep) {\n        const diffx = x - pos.x;\n        const diffy = y - pos.y;\n        let scope = pos.scope;\n        if (scope === -1) {\n          scope = this.checkScope(x, y, diffx, diffy, pos);\n          if (scope === 0) {\n            !hideControlsActive ? player.focus({ autoHide: false }) : player.blur();\n            !pos.time && (pos.time = parseInt(player.currentTime * 1e3, 10) + this.timeOffset * 1e3);\n          }\n          pos.scope = scope;\n        }\n        if (scope === -1 || scope > 0 && !config.gestureY || scope === 0 && !config.gestureX) {\n          return;\n        }\n        e.cancelable && e.preventDefault();\n        this.executeMove(diffx, diffy, scope, pos.width, pos.height);\n        pos.x = x;\n        pos.y = y;\n      }\n    });\n    __publicField(this, \"onTouchEnd\", (e) => {\n      const { player, pos, playerConfig } = this;\n      setTimeout(() => {\n        player.getPlugin(\"progress\") && player.getPlugin(\"progress\").resetSeekState();\n      }, 10);\n      if (!pos.isStart) {\n        return;\n      }\n      if (pos.scope > -1) {\n        e.cancelable && e.preventDefault();\n      }\n      const { disableGesture, gestureX } = this.config;\n      if (!disableGesture && gestureX) {\n        this.endLastMove(pos.scope);\n      } else {\n        pos.time = 0;\n      }\n      pos.scope = -1;\n      this.resetPos();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      this.changeAction(ACTIONS.AUTO);\n    });\n    __publicField(this, \"onRootTouchMove\", (e) => {\n      if (this.config.disableGesture || !this.config.gestureX) {\n        return;\n      }\n      if (this.checkIsRootTarget(e)) {\n        e.stopPropagation();\n        if (!this.pos.isStart) {\n          this.onTouchStart(e);\n        } else {\n          this.onTouchMove(e);\n        }\n      }\n    });\n    __publicField(this, \"onRootTouchEnd\", (e) => {\n      if (this.pos.isStart && this.checkIsRootTarget(e)) {\n        e.stopPropagation();\n        this.onTouchEnd(e);\n      }\n    });\n    this.pos = {\n      isStart: false,\n      x: 0,\n      y: 0,\n      time: 0,\n      volume: 0,\n      rate: 1,\n      light: 0,\n      width: 0,\n      height: 0,\n      scopeL: 0,\n      scopeR: 0,\n      scopeM1: 0,\n      scopeM2: 0,\n      scope: -1\n    };\n    this.timer = null;\n  }\n  static get pluginName() {\n    return \"mobile\";\n  }\n  static get defaultConfig() {\n    return {\n      index: 0,\n      disableGesture: false,\n      gestureX: true,\n      gestureY: true,\n      gradient: \"normal\",\n      isTouchingSeek: false,\n      miniMoveStep: 5,\n      miniYPer: 5,\n      scopeL: 0.25,\n      scopeR: 0.25,\n      scopeM: 0.9,\n      pressRate: 2,\n      darkness: true,\n      maxDarkness: 0.8,\n      disableActive: false,\n      disableTimeProgress: false,\n      hideControlsActive: false,\n      hideControlsEnd: false,\n      moveDuration: 60 * 6 * 1e3,\n      closedbClick: false,\n      disablePress: true,\n      disableSeekIcon: false,\n      focusVideoClick: false\n    };\n  }\n  get duration() {\n    return this.playerConfig.customDuration || this.player.duration;\n  }\n  get timeOffset() {\n    return this.playerConfig.timeOffset || 0;\n  }\n  registerIcons() {\n    return {\n      seekTipIcon: { icon: SeekTipIcon, class: \"xg-seek-pre\" }\n    };\n  }\n  afterCreate() {\n    HOOKS.map((item) => {\n      this.__hooks[item] = null;\n    });\n    const { playerConfig, config, player } = this;\n    if (playerConfig.closeVideoDblclick === true) {\n      config.closedbClick = true;\n    }\n    this.resetPos();\n    if (!util.isUndefined(playerConfig.disableGesture)) {\n      config.disableGesture = !!playerConfig.disableGesture;\n    }\n    this.appendChild(\".xg-seek-icon\", this.icons.seekTipIcon);\n    this.xgMask = util.createDom(\"xg-mask\", \"\", {}, \"xgmask\");\n    player.root.appendChild(this.xgMask);\n    this.initCustomStyle();\n    this.registerThumbnail();\n    const eventType = this.domEventType === \"mouse\" ? \"mouse\" : \"touch\";\n    this.touch = new Touche(this.root, { eventType, needPreventDefault: !this.config.disableGesture });\n    this.root.addEventListener(\"contextmenu\", (e) => {\n      e.preventDefault();\n    });\n    player.root.addEventListener(\"touchmove\", this.onRootTouchMove, true);\n    player.root.addEventListener(\"touchend\", this.onRootTouchEnd, true);\n    this.on(DURATION_CHANGE, () => {\n      const { player: player2, config: config2 } = this;\n      if (player2.duration * 1e3 < config2.moveDuration) {\n        config2.moveDuration = player2.duration * 1e3;\n      }\n    });\n    this.on([CANPLAY, ENDED], () => {\n      const { time, isStart } = this.pos;\n      if (!isStart && time > 0) {\n        this.pos.time = 0;\n      }\n    });\n    const eventsMap = {\n      touchstart: \"onTouchStart\",\n      touchmove: \"onTouchMove\",\n      touchend: \"onTouchEnd\",\n      press: \"onPress\",\n      pressend: \"onPressEnd\",\n      click: \"onClick\",\n      doubleclick: \"onDbClick\"\n    };\n    Object.keys(eventsMap).map((key) => {\n      this.touch.on(key, (e) => {\n        this[eventsMap[key]](e);\n      });\n    });\n    if (!config.disableActive) {\n      const progressPlugin = player.plugins.progress;\n      if (progressPlugin) {\n        progressPlugin.addCallBack(\"dragmove\", (data) => {\n          this.activeSeekNote(data.currentTime, data.forward);\n        });\n        [\"dragend\", \"click\"].forEach((key) => {\n          progressPlugin.addCallBack(key, () => {\n            this.changeAction(ACTIONS.AUTO);\n          });\n        });\n      }\n    }\n  }\n  registerThumbnail() {\n    const { player } = this;\n    const { thumbnail } = player.plugins;\n    if (thumbnail && thumbnail.usable) {\n      this.thumbnail = thumbnail.createThumbnail(null, \"mobile-thumbnail\");\n      const timePreview = this.find(\".time-preview\");\n      timePreview.insertBefore(this.thumbnail, timePreview.children[0]);\n    }\n  }\n  initCustomStyle() {\n    const { commonStyle } = this.playerConfig || {};\n    const { playedColor, progressColor, timePreviewStyle, curTimeColor, durationColor } = commonStyle;\n    if (playedColor) {\n      this.find(\".xg-curbar\").style.backgroundColor = playedColor;\n    }\n    if (progressColor) {\n      this.find(\".xg-bar\").style.backgroundColor = progressColor;\n    }\n    if (timePreviewStyle) {\n      const previewDom = this.find(\".time-preview\");\n      Object.keys(timePreviewStyle).forEach((key) => {\n        previewDom.style[key] = timePreviewStyle[key];\n      });\n    }\n    const curColor = curTimeColor || playedColor;\n    const durColor = durationColor;\n    curColor && (this.find(\".xg-cur\").style.color = curColor);\n    durColor && (this.find(\".xg-dur\").style.color = durColor);\n    this.config.disableTimeProgress && util.addClass(this.find(\".xg-timebar\"), \"hide\");\n  }\n  resetPos(time = 0) {\n    if (this.pos) {\n      this.pos.isStart = false;\n      this.pos.scope = -1;\n      [\"x\", \"y\", \"width\", \"height\", \"scopeL\", \"scopeR\", \"scopeM1\", \"scopeM2\"].map((item) => {\n        this.pos[item] = 0;\n      });\n    } else {\n      this.pos = {\n        isStart: false,\n        x: 0,\n        y: 0,\n        volume: 0,\n        rate: 1,\n        light: 0,\n        width: 0,\n        height: 0,\n        scopeL: 0,\n        scopeR: 0,\n        scopeM1: 0,\n        scopeM2: 0,\n        scope: -1,\n        time: 0\n      };\n    }\n  }\n  changeAction(action) {\n    const { player, root } = this;\n    root.setAttribute(\"data-xg-action\", action);\n    const startPlugin = player.plugins.start;\n    startPlugin && startPlugin.recover();\n  }\n  getTouche(e) {\n    const rotateDeg = this.player.rotateDeg;\n    const touche = e.touches && e.touches.length > 0 ? e.touches[e.touches.length - 1] : e;\n    return rotateDeg === 0 ? {\n      pageX: touche.pageX,\n      pageY: touche.pageY\n    } : {\n      pageX: touche.pageX,\n      pageY: touche.pageY\n    };\n  }\n  checkScope(x, y, diffx, diffy, pos) {\n    const { width } = pos;\n    let scope = -1;\n    if (x < 0 || x > width) {\n      return scope;\n    }\n    const mold = diffy === 0 ? Math.abs(diffx) : Math.abs(diffx / diffy);\n    if (Math.abs(diffx) > 0 && mold >= 1.73 && x > pos.scopeM1 && x < pos.scopeM2) {\n      scope = 0;\n    } else if (Math.abs(diffx) === 0 || mold <= 0.57) {\n      scope = x < pos.scopeL ? 1 : x > pos.scopeR ? 2 : 3;\n    }\n    return scope;\n  }\n  executeMove(diffx, diffy, scope, width, height) {\n    switch (scope) {\n      case 0:\n        this.updateTime(diffx / width * this.config.scopeM);\n        break;\n      case 1:\n        this.updateBrightness(diffy / height);\n        break;\n      case 2:\n        if (!sniffer.os.isIos) {\n          this.updateVolume(diffy / height);\n        }\n        break;\n    }\n  }\n  endLastMove(lastScope) {\n    const { pos, player, config } = this;\n    const time = (pos.time - this.timeOffset) / 1e3;\n    switch (lastScope) {\n      case 0:\n        player.seek(Number(time).toFixed(1));\n        config.hideControlsEnd ? player.blur() : player.focus();\n        this.timer = setTimeout(() => {\n          this.pos.time = 0;\n        }, 500);\n        break;\n    }\n    this.changeAction(ACTIONS.AUTO);\n  }\n  checkIsRootTarget(e) {\n    const plugins = this.player.plugins || {};\n    if (plugins.progress && plugins.progress.root.contains(e.target)) {\n      return false;\n    }\n    return plugins.start && plugins.start.root.contains(e.target) || plugins.controls && plugins.controls.root.contains(e.target);\n  }\n  sendUseAction(event) {\n    const { paused } = this.player;\n    this.emitUserAction(event, \"switch_play_pause\", {\n      prop: \"paused\",\n      from: paused,\n      to: !paused\n    });\n  }\n  clickHandler(e) {\n    const { player, config, playerConfig } = this;\n    if (player.state < STATES.RUNNING) {\n      if (!playerConfig.closeVideoClick) {\n        this.sendUseAction(util.createEvent(\"click\"));\n        player.play();\n      }\n      return;\n    }\n    if (!config.closedbClick || playerConfig.closeVideoClick) {\n      player.isActive ? player.blur() : player.focus();\n    } else if (!playerConfig.closeVideoClick) {\n      if (player.isActive || config.focusVideoClick) {\n        this.sendUseAction(util.createEvent(\"click\"));\n        this.switchPlayPause();\n      }\n      player.focus();\n    }\n  }\n  dbClickHandler(e) {\n    const { config, player } = this;\n    if (!config.closedbClick && player.state >= STATES.RUNNING) {\n      this.sendUseAction(util.createEvent(\"dblclick\"));\n      this.switchPlayPause();\n    }\n  }\n  onClick(e) {\n    const { player } = this;\n    runHooks(this, HOOKS[0], (plugin, data) => {\n      this.clickHandler(data.e);\n    }, { e, paused: player.paused });\n  }\n  onDbClick(e) {\n    const { player } = this;\n    runHooks(this, HOOKS[1], (plugin, data) => {\n      this.dbClickHandler(data.e);\n    }, { e, paused: player.paused });\n  }\n  onPress(e) {\n    const { pos, config, player } = this;\n    if (config.disablePress) {\n      return;\n    }\n    pos.rate = this.player.playbackRate;\n    this.emitUserAction(\"press\", \"change_rate\", {\n      prop: \"playbackRate\",\n      from: player.playbackRate,\n      to: config.pressRate\n    });\n    player.playbackRate = config.pressRate;\n    this.changeAction(ACTIONS.PLAYBACK);\n  }\n  onPressEnd(e) {\n    const { pos, config, player } = this;\n    if (config.disablePress) {\n      return;\n    }\n    this.emitUserAction(\"pressend\", \"change_rate\", { prop: \"playbackRate\", from: player.playbackRate, to: pos.rate });\n    player.playbackRate = pos.rate;\n    pos.rate = 1;\n    this.changeAction(ACTIONS.AUTO);\n  }\n  updateTime(percent) {\n    const { player, config } = this;\n    const { duration } = this.player;\n    percent = Number(percent.toFixed(4));\n    let time = parseInt(percent * config.moveDuration, 10) + this.timeOffset;\n    time += this.pos.time;\n    time = time < 0 ? 0 : time > duration * 1e3 ? duration * 1e3 - 200 : time;\n    player.getPlugin(\"time\") && player.getPlugin(\"time\").updateTime(time / 1e3);\n    player.getPlugin(\"progress\") && player.getPlugin(\"progress\").updatePercent(time / 1e3 / this.duration, true);\n    this.activeSeekNote(time / 1e3, percent > 0);\n    if (config.isTouchingSeek) {\n      player.seek(Number((time - this.timeOffset) / 1e3).toFixed(1));\n    }\n    this.pos.time = time;\n  }\n  updateVolume(percent) {\n    if (this.player.rotateDeg) {\n      percent = -percent;\n    }\n    const { player, pos } = this;\n    percent = parseInt(percent * 100, 10);\n    pos.volume += percent;\n    if (Math.abs(pos.volume) < 10) {\n      return;\n    }\n    let volume = parseInt(player.volume * 10, 10) - parseInt(pos.volume / 10, 10);\n    volume = volume > 10 ? 10 : volume < 1 ? 0 : volume;\n    player.volume = volume / 10;\n    pos.volume = 0;\n  }\n  updateBrightness(percent) {\n    if (this.player.rotateDeg) {\n      percent = -percent;\n    }\n    const { pos, config, xgMask } = this;\n    let light = pos.light + 0.8 * percent;\n    light = light > config.maxDarkness ? config.maxDarkness : light < 0 ? 0 : light;\n    if (xgMask) {\n      xgMask.style.backgroundColor = `rgba(0,0,0,${light})`;\n    }\n    pos.light = light;\n  }\n  activeSeekNote(time, isForward = true) {\n    const { player, config } = this;\n    const isLive = !(this.duration !== Infinity && this.duration > 0);\n    if (!time || typeof time !== \"number\" || isLive || config.disableActive) {\n      return;\n    }\n    if (time < 0) {\n      time = 0;\n    } else if (time > player.duration) {\n      time = player.duration - 0.2;\n    }\n    this.changeAction(ACTIONS.SEEKING);\n    const startPlugin = player.plugins.start;\n    startPlugin && startPlugin.focusHide();\n    this.find(\".xg-dur\").innerHTML = util.format(this.duration);\n    this.find(\".xg-cur\").innerHTML = util.format(time);\n    this.find(\".xg-curbar\").style.width = `${time / this.duration * 100}%`;\n    if (isForward) {\n      util.removeClass(this.find(\".xg-seek-show\"), \"xg-back\");\n    } else {\n      util.addClass(this.find(\".xg-seek-show\"), \"xg-back\");\n    }\n    this.updateThumbnails(time);\n  }\n  updateThumbnails(time) {\n    const { player } = this;\n    const { thumbnail } = player.plugins;\n    if (thumbnail && thumbnail.usable) {\n      this.thumbnail && thumbnail.update(this.thumbnail, time, 160, 90);\n    }\n  }\n  switchPlayPause() {\n    const { player } = this;\n    if (player.state < STATES.ATTACHED) {\n      return false;\n    } else if (!player.ended) {\n      if (player.paused) {\n        player.play();\n      } else {\n        player.pause();\n      }\n    }\n  }\n  disableGesture() {\n    this.config.disableGesture = false;\n  }\n  enableGesture() {\n    this.config.disableGesture = true;\n  }\n  destroy() {\n    const { player } = this;\n    this.timer && clearTimeout(this.timer);\n    this.thumbnail = null;\n    player.root.removeChild(this.xgMask);\n    this.xgMask = null;\n    this.touch && this.touch.destroy();\n    this.touch = null;\n    player.root.removeEventListener(\"touchmove\", this.onRootTouchMove, true);\n    player.root.removeEventListener(\"touchend\", this.onRootTouchEnd, true);\n  }\n  render() {\n    const className = this.config.gradient !== \"normal\" ? `gradient ${this.config.gradient}` : \"gradient\";\n    return `\n     <xg-trigger class=\"trigger\">\n     <div class=\"${className}\"></div>\n        <div class=\"time-preview\">\n            <div class=\"xg-seek-show ${this.config.disableSeekIcon ? \" hide-seek-icon\" : \"\"}\">\n              <i class=\"xg-seek-icon\"></i>\n              <span class=\"xg-cur\">00:00</span>\n              <span class=\"xg-separator\">/</span>\n              <span class=\"xg-dur\">00:00</span>\n            </div>\n              <div class=\"xg-bar xg-timebar\">\n                <div class=\"xg-curbar\"></div>\n              </div>\n        </div>\n        <div class=\"xg-playbackrate xg-top-note\">\n            <span><i>${this.config.pressRate}X</i>${this.i18n.FORWARD}</span>\n        </div>\n     </xg-trigger>\n    `;\n  }\n}\nexport { MobilePlugin as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { SHORTCUT } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nfunction preventDefault(e) {\n  e.preventDefault();\n  e.returnValue = false;\n}\nfunction isDisableTag(el) {\n  const tagName = el.tagName;\n  if (tagName === \"INPUT\" || tagName === \"TEXTAREA\" || el.isContentEditable) {\n    return true;\n  }\n  return false;\n}\nclass Keyboard extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onBodyKeyDown\", (event) => {\n      if (!this.player) {\n        return;\n      }\n      const e = event || window.event;\n      const keyCode = e.keyCode;\n      const { _keyState, player } = this;\n      const { disable, disableBodyTrigger, isIgnoreUserActive } = this.config;\n      if (disable || disableBodyTrigger || !(player.isUserActive || isIgnoreUserActive) || isDisableTag(e.target) || !this.checkIsVisible() || e.metaKey || e.altKey || e.ctrlKey) {\n        _keyState.isBodyKeyDown = false;\n        return;\n      }\n      if (!event.repeat && !_keyState.isKeyDown) {\n        if ((e.target === document.body || this.config.isGlobalTrigger && !isDisableTag(e.target)) && this.checkCode(keyCode, true)) {\n          _keyState.isBodyKeyDown = true;\n        }\n        document.addEventListener(\"keyup\", this.onBodyKeyUp);\n      }\n      _keyState.isBodyKeyDown && this.handleKeyDown(e);\n    });\n    __publicField(this, \"onBodyKeyUp\", (event) => {\n      if (!this.player) {\n        return;\n      }\n      document.removeEventListener(\"keyup\", this.onBodyKeyUp);\n      this.handleKeyUp(event);\n    });\n    __publicField(this, \"onKeydown\", (event) => {\n      if (!this.player) {\n        return;\n      }\n      const e = event || window.event;\n      const { _keyState } = this;\n      if (!e.repeat) {\n        if (this.config.disable || this.config.disableRootTrigger || e.metaKey || e.altKey || e.ctrlKey) {\n          return;\n        }\n        if (e && (e.keyCode === 37 || this.checkCode(e.keyCode)) && (e.target === this.player.root || e.target === this.player.video || e.target === this.player.controls.el)) {\n          _keyState.isKeyDown = true;\n        }\n        this.player.root.addEventListener(\"keyup\", this.onKeyup);\n      }\n      if (!_keyState.isKeyDown) {\n        return;\n      }\n      this.handleKeyDown(e);\n    });\n    __publicField(this, \"onKeyup\", (event) => {\n      if (!this.player) {\n        return;\n      }\n      this.player.root.removeEventListener(\"keyup\", this.onKeyup);\n      this.handleKeyUp(event);\n    });\n  }\n  static get pluginName() {\n    return \"keyboard\";\n  }\n  static get defaultConfig() {\n    return {\n      seekStep: 10,\n      checkVisible: false,\n      disableBodyTrigger: false,\n      disableRootTrigger: false,\n      isGlobalTrigger: true,\n      keyCodeMap: {},\n      disable: false,\n      playbackRate: 2,\n      isIgnoreUserActive: true\n    };\n  }\n  mergekeyCodeMap() {\n    const extendkeyCodeMap = this.config.keyCodeMap;\n    if (extendkeyCodeMap) {\n      Object.keys(extendkeyCodeMap).map((key) => {\n        if (!this.keyCodeMap[key]) {\n          this.keyCodeMap[key] = extendkeyCodeMap[key];\n        } else {\n          [\"keyCode\", \"action\", \"disable\", \"pressAction\", \"disablePress\", \"isBodyTarget\"].map((key1) => {\n            extendkeyCodeMap[key][key1] && (this.keyCodeMap[key][key1] = extendkeyCodeMap[key][key1]);\n          });\n        }\n      });\n    }\n  }\n  afterCreate() {\n    this.config.disable = !this.playerConfig.keyShortcut;\n    const seekStep = typeof this.config.seekStep === \"function\" ? this.config.seekStep(this.player) : this.config.seekStep;\n    if (!(!seekStep || typeof seekStep !== \"number\")) {\n      this.seekStep = seekStep;\n    }\n    this.keyCodeMap = {\n      space: {\n        keyCode: 32,\n        action: \"playPause\",\n        disable: false,\n        disablePress: false,\n        noBodyTarget: false\n      },\n      up: {\n        keyCode: 38,\n        action: \"upVolume\",\n        disable: false,\n        disablePress: false,\n        noBodyTarget: true\n      },\n      down: {\n        keyCode: 40,\n        action: \"downVolume\",\n        disable: false,\n        disablePress: false,\n        noBodyTarget: true\n      },\n      left: {\n        keyCode: 37,\n        action: \"seekBack\",\n        disablePress: false,\n        disable: false\n      },\n      right: {\n        keyCode: 39,\n        action: \"seek\",\n        pressAction: \"changePlaybackRate\",\n        disablePress: false,\n        disable: false\n      },\n      esc: {\n        keyCode: 27,\n        action: \"exitFullscreen\",\n        disablePress: true,\n        disable: false\n      }\n    };\n    this.mergekeyCodeMap();\n    this._keyState = {\n      isKeyDown: false,\n      isBodyKeyDown: false,\n      isPress: false,\n      tt: 0,\n      playbackRate: 0\n    };\n    this.player.root.addEventListener(\"keydown\", this.onKeydown);\n    document.addEventListener(\"keydown\", this.onBodyKeyDown);\n  }\n  setConfig(newConfig) {\n    Object.keys(newConfig).forEach((key) => {\n      this.config[key] = newConfig[key];\n    });\n  }\n  checkIsVisible() {\n    if (!this.config.checkVisible) {\n      return true;\n    }\n    const rec = this.player.root.getBoundingClientRect();\n    const { height, top, bottom } = rec;\n    const h = window.innerHeight;\n    if (top < 0 && top < 0 - height * 0.9 || bottom > 0 && bottom - h > height * 0.9) {\n      return false;\n    }\n    return true;\n  }\n  checkCode(code, isBodyTarget) {\n    let flag = false;\n    Object.keys(this.keyCodeMap).map((key) => {\n      if (this.keyCodeMap[key] && code === this.keyCodeMap[key].keyCode && !this.keyCodeMap[key].disable) {\n        flag = !isBodyTarget || isBodyTarget && !this.keyCodeMap[key].noBodyTarget;\n      }\n    });\n    return flag;\n  }\n  downVolume(event) {\n    const { player } = this;\n    if (player.volume <= 0) {\n      return;\n    }\n    const val = parseFloat((player.volume - 0.1).toFixed(1));\n    const props = {\n      volume: {\n        from: player.volume,\n        to: val\n      }\n    };\n    this.emitUserAction(event, \"change_volume\", { props });\n    if (val >= 0) {\n      player.volume = val;\n    } else {\n      player.volume = 0;\n    }\n  }\n  upVolume(event) {\n    const { player } = this;\n    if (player.volume >= 1) {\n      return;\n    }\n    const val = parseFloat((player.volume + 0.1).toFixed(1));\n    const props = {\n      volume: {\n        from: player.volume,\n        to: val\n      }\n    };\n    this.emitUserAction(event, \"change_volume\", { props });\n    if (val <= 1) {\n      player.volume = val;\n    } else {\n      player.volume = 1;\n    }\n  }\n  seek(event) {\n    const { currentTime, offsetCurrentTime, duration, offsetDuration, timeSegments } = this.player;\n    let _time = offsetCurrentTime > -1 ? offsetCurrentTime : currentTime;\n    const _duration = offsetDuration || duration;\n    const _step = event.repeat && this.seekStep >= 4 ? parseInt(this.seekStep / 2, 10) : this.seekStep;\n    if (_time + _step <= _duration) {\n      _time = _time + _step;\n    } else {\n      _time = _duration;\n    }\n    const _seekTime = util.getCurrentTimeByOffset(_time, timeSegments);\n    const props = {\n      currentTime: {\n        from: currentTime,\n        to: _seekTime\n      }\n    };\n    this.emitUserAction(event, \"seek\", { props });\n    this.player.currentTime = _seekTime;\n  }\n  seekBack(event) {\n    const { currentTime, offsetCurrentTime, timeSegments } = this.player;\n    const _step = event.repeat ? parseInt(this.seekStep / 2, 10) : this.seekStep;\n    const _time = offsetCurrentTime > -1 ? offsetCurrentTime : currentTime;\n    let _seekTime = _time - _step;\n    if (_seekTime < 0) {\n      _seekTime = 0;\n    }\n    _seekTime = util.getCurrentTimeByOffset(_seekTime, timeSegments);\n    const props = {\n      currentTime: {\n        from: currentTime,\n        to: _seekTime\n      }\n    };\n    this.emitUserAction(event, \"seek\", { props });\n    this.player.currentTime = _seekTime;\n  }\n  changePlaybackRate(event) {\n    const { _keyState, config, player } = this;\n    if (_keyState.playbackRate === 0) {\n      _keyState.playbackRate = player.playbackRate;\n      player.playbackRate = config.playbackRate;\n    }\n  }\n  playPause(event) {\n    const { player } = this;\n    if (!player) {\n      return;\n    }\n    this.emitUserAction(event, \"switch_play_pause\");\n    if (player.paused) {\n      player.play();\n    } else {\n      player.pause();\n    }\n  }\n  exitFullscreen(event) {\n    const { player } = this;\n    const { fullscreen, cssfullscreen } = player;\n    if (fullscreen) {\n      this.emitUserAction(\"keyup\", \"switch_fullscreen\", {\n        prop: \"fullscreen\",\n        from: fullscreen,\n        to: !fullscreen\n      });\n      player.exitFullscreen();\n    }\n    if (cssfullscreen) {\n      this.emitUserAction(\"keyup\", \"switch_css_fullscreen\", {\n        prop: \"cssfullscreen\",\n        from: cssfullscreen,\n        to: !cssfullscreen\n      });\n      player.exitCssFullscreen();\n    }\n  }\n  handleKeyDown(e) {\n    const { _keyState } = this;\n    if (e.repeat) {\n      _keyState.isPress = true;\n      const _t = Date.now();\n      if (_t - _keyState.tt < 200) {\n        return;\n      }\n      _keyState.tt = _t;\n    }\n    this.handleKeyCode(e.keyCode, e, _keyState.isPress);\n  }\n  handleKeyUp(e) {\n    const { _keyState } = this;\n    if (_keyState.playbackRate > 0) {\n      this.player.playbackRate = _keyState.playbackRate;\n      _keyState.playbackRate = 0;\n    }\n    _keyState.isKeyDown = false;\n    _keyState.isPress = false;\n    _keyState.tt = 0;\n  }\n  handleKeyCode(curKeyCode, event, isPress) {\n    const arr = Object.keys(this.keyCodeMap);\n    for (let i = 0; i < arr.length; i++) {\n      const { action, keyCode, disable, pressAction, disablePress } = this.keyCodeMap[arr[i]];\n      if (keyCode === curKeyCode) {\n        if (!disable && !(isPress && disablePress)) {\n          const _action = !isPress ? action : pressAction || action;\n          if (typeof _action === \"function\") {\n            action(event, this.player, isPress);\n          } else if (typeof _action === \"string\") {\n            if (typeof this[_action] === \"function\") {\n              this[_action](event, this.player, isPress);\n            }\n          }\n          this.emit(SHORTCUT, {\n            key: arr[i],\n            target: event.target,\n            isPress,\n            ...this.keyCodeMap[arr[i]]\n          });\n        }\n        preventDefault(event);\n        event.stopPropagation();\n        break;\n      }\n    }\n  }\n  destroy() {\n    this.player.root.removeEventListener(\"keydown\", this.onKeydown);\n    document.removeEventListener(\"keydown\", this.onBodyKeyDown);\n    this.player.root.removeEventListener(\"keyup\", this.onKeyup);\n    document.removeEventListener(\"keyup\", this.onBodyKeyUp);\n  }\n  disable() {\n    this.config.disable = true;\n  }\n  enable() {\n    this.config.disable = false;\n  }\n}\nexport { Keyboard as default };\n","function loadingIcon() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\" viewBox=\"-5 -5 110 110\">\\n  <path d=\"M100,50A50,50,0,1,1,50,0\" stroke-width=\"5\" stroke=\"#ddd\" stroke-dasharray=\"236\" fill=\"none\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { loadingIcon as default };\n","import Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport loadingIcon from \"../assets/loading.js\";\nclass Loading extends Plugin {\n  static get pluginName() {\n    return \"loading\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.ROOT\n    };\n  }\n  registerIcons() {\n    return {\n      loadingIcon\n    };\n  }\n  afterCreate() {\n    this.appendChild(\"xg-loading-inner\", this.icons.loadingIcon);\n  }\n  render() {\n    return `\n    <xg-loading class=\"xgplayer-loading\">\n      <xg-loading-inner></xg-loading-inner>\n    </xg-loading>`;\n  }\n}\nexport { Loading as default };\n","import util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nconst TPL = [\n  { tag: \"xg-cache\", className: \"xgplayer-progress-cache\", styleKey: \"cachedColor\" },\n  { tag: \"xg-played\", className: \"xgplayer-progress-played\", styleKey: \"playedColor\" }\n];\nclass InnerList {\n  constructor(args) {\n    this.fragments = args.fragments || [];\n    if (this.fragments.length === 0) {\n      this.fragments.push({ percent: 1 });\n    }\n    this._callBack = args.actionCallback;\n    this.fragConfig = {\n      fragFocusClass: args.fragFocusClass || \"inner-focus-point\",\n      fragAutoFocus: !!args.fragAutoFocus,\n      fragClass: args.fragClass || \"\"\n    };\n    this.style = args.style || {\n      playedColor: \"\",\n      cachedColor: \"\",\n      progressColor: \"\"\n    };\n    this.duration = 0;\n    this.cachedIndex = 0;\n    this.playedIndex = 0;\n    this.focusIndex = -1;\n  }\n  updateDuration(duration) {\n    this.duration = duration;\n    let start = 0;\n    const { fragments } = this;\n    this.fragments = fragments.map((item) => {\n      item.start = parseInt(start, 10);\n      item.end = parseInt(start + item.percent * this.duration, 10);\n      item.duration = parseInt(item.percent * this.duration, 10);\n      start += item.percent * this.duration;\n      return item;\n    });\n  }\n  updateProgress(type = \"played\", data = { newIndex: 0, curIndex: 0, millisecond: 0 }) {\n    const { progressList, fragments } = this;\n    if (progressList.length < 1) {\n      return;\n    }\n    const { newIndex, curIndex, millisecond } = data;\n    if (newIndex !== curIndex) {\n      progressList.map((item, index) => {\n        if (index < newIndex) {\n          item[type].style.width = \"100%\";\n        } else if (index > newIndex) {\n          item[type].style.width = 0;\n        }\n      });\n    }\n    const curPFrag = fragments[newIndex];\n    const per = millisecond === 0 ? 0 : (millisecond - curPFrag.start) / curPFrag.duration;\n    progressList[newIndex][type].style.width = per < 0 ? 0 : `${per * 100}%`;\n  }\n  updateFocus(data) {\n    if (!this.fragConfig.fragAutoFocus || this.fragments.length < 2) {\n      return;\n    }\n    if (!data) {\n      if (this.focusIndex > -1) {\n        this.unHightLight(this.focusIndex);\n        const _data = {\n          index: -1,\n          preIndex: this.focusIndex,\n          fragment: null\n        };\n        this._callBack && this._callBack(_data);\n        this.focusIndex = -1;\n      }\n      return;\n    }\n    const newPIndex = this.findIndex(data.currentTime * 1e3, this.focusIndex);\n    if (newPIndex >= 0 && newPIndex !== this.focusIndex) {\n      this.focusIndex > -1 && this.unHightLight(this.focusIndex);\n      this.setHightLight(newPIndex);\n      const _data = {\n        index: newPIndex,\n        preIndex: this.focusIndex,\n        fragment: this.fragments[this.focusIndex]\n      };\n      this.focusIndex = newPIndex;\n      this._callBack && this._callBack(_data);\n    }\n  }\n  update(data = { cached: 0, played: 0 }, duration) {\n    if (!this.duration || parseInt(duration * 1e3, 10) !== this.duration) {\n      if (!duration && duration !== 0) {\n        return;\n      }\n      this.updateDuration(parseInt(duration * 1e3, 10));\n    }\n    const { playedIndex, cachedIndex } = this;\n    if (util.typeOf(data.played) !== \"Undefined\") {\n      const newPIndex = this.findIndex(data.played * 1e3, playedIndex);\n      if (newPIndex < 0) {\n        return;\n      }\n      this.updateProgress(\"played\", {\n        newIndex: newPIndex,\n        curIndex: playedIndex,\n        millisecond: parseInt(data.played * 1e3, 10)\n      });\n      this.playedIndex = newPIndex;\n    }\n    if (util.typeOf(data.cached) !== \"Undefined\") {\n      const newCIndex = this.findIndex(data.cached * 1e3, cachedIndex);\n      if (newCIndex < 0) {\n        return;\n      }\n      this.updateProgress(\"cached\", {\n        newIndex: newCIndex,\n        curIndex: cachedIndex,\n        millisecond: parseInt(data.cached * 1e3, 10)\n      });\n      this.cachedIndex = newCIndex;\n    }\n  }\n  findIndex(time, curIndex) {\n    const { fragments } = this;\n    if (!fragments || fragments.length === 0) {\n      return -1;\n    }\n    if (fragments.length === 1) {\n      return 0;\n    }\n    if (curIndex > -1 && curIndex < fragments.length && time > fragments[curIndex].start && time < fragments[curIndex].end) {\n      return curIndex;\n    }\n    if (time > fragments[fragments.length - 1].start) {\n      return fragments.length - 1;\n    }\n    for (let i = 0; i < fragments.length; i++) {\n      if (time > fragments[i].start && time <= fragments[i].end) {\n        curIndex = i;\n        break;\n      }\n    }\n    return curIndex;\n  }\n  findHightLight() {\n    const children = this.root.children;\n    for (let i = 0; i < children.length; i++) {\n      if (util.hasClass(children[i], this.fragConfig.fragFocusClass)) {\n        return {\n          dom: children[i],\n          pos: children[i].getBoundingClientRect()\n        };\n      }\n    }\n  }\n  findFragment(index) {\n    const children = this.root.children;\n    if (index < 0 || index >= children.length) {\n      return null;\n    }\n    return {\n      dom: children[index],\n      pos: children[index].getBoundingClientRect()\n    };\n  }\n  unHightLight() {\n    const children = this.root.children;\n    for (let i = 0; i < children.length; i++) {\n      util.removeClass(children[i], this.fragConfig.fragFocusClass);\n    }\n  }\n  setHightLight(index) {\n    const children = this.root.children;\n    if (index < children.length) {\n      util.addClass(children[index], this.fragConfig.fragFocusClass);\n      return {\n        dom: children[index],\n        pos: children[index].getBoundingClientRect()\n      };\n    }\n  }\n  destroy() {\n    this.progressList = null;\n    this.fragments = null;\n    this.root.innerHTML = \"\";\n  }\n  reset(newOptions) {\n    Object.keys(this.fragConfig).forEach((key) => {\n      if (newOptions[key] !== void 0) {\n        this.fragConfig[key] = newOptions[key];\n      }\n    });\n    if (newOptions.fragments) {\n      this.fragments = newOptions.fragments.length === 0 ? [{ percent: 1 }] : newOptions.fragments;\n      this.updateDuration(this.duration);\n      this.playedIndex = 0;\n      this.cachedIndex = 0;\n      if (this.root) {\n        const _c = this.root.children;\n        while (_c.length > 0) {\n          this.root.removeChild(_c[0]);\n        }\n      }\n      this.render();\n    }\n  }\n  render() {\n    const { progressColor } = this.style;\n    if (!this.root) {\n      this.root = util.createDom(\"xg-inners\", \"\", {}, \"progress-list\");\n    }\n    if (this.fragments) {\n      const { fragClass, fragFocusClass } = this.fragConfig;\n      this.progressList = this.fragments.map((item) => {\n        const inner = util.createDom(\"xg-inner\", \"\", {\n          style: progressColor ? `background:${progressColor}; flex: ${item.percent}` : `flex: ${item.percent}`\n        }, `${item.isFocus ? fragFocusClass : \"\"} xgplayer-progress-inner ${fragClass}`);\n        this.root.appendChild(inner);\n        TPL.forEach((item2) => {\n          inner.appendChild(util.createDom(item2.tag, \"\", {\n            style: item2.styleKey ? `background: ${this.style[item2.styleKey]}; width:0;` : \"width:0;\"\n          }, item2.className));\n        });\n        return {\n          cached: inner.children[0],\n          played: inner.children[1]\n        };\n      });\n    }\n    return this.root;\n  }\n}\nexport { InnerList as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, TIME_UPDATE, SEEKED, PROGRESS, ENDED, EMPTIED, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport InnerList from \"./innerList.js\";\nconst FRAGMENT_FOCUS_CLASS = {\n  POINT: \"inner-focus-point\",\n  HIGHLIGHT: \"inner-focus-highlight\"\n};\nclass Progress extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onMoveOnly\", (e, data) => {\n      const { pos, config, player } = this;\n      let ret = data;\n      if (e) {\n        util.event(e);\n        const _ePos = util.getEventPos(e, player.zoom);\n        const x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n        if (pos.moving && Math.abs(pos.x - x) < config.miniMoveStep) {\n          return;\n        }\n        pos.moving = true;\n        pos.x = x;\n        ret = this.computeTime(e, x);\n      }\n      this.triggerCallbacks(\"dragmove\", ret, e);\n      this._updateInnerFocus(ret);\n    });\n    __publicField(this, \"onBodyClick\", (e) => {\n      if (!this.pos.isLocked) {\n        return;\n      }\n      this.pos.isLocked = false;\n      e.preventDefault();\n      e.stopPropagation();\n    });\n    __publicField(this, \"_mouseDownHandler\", (event, data) => {\n      this._state.time = data.currentTime;\n      this.updateWidth(data.currentTime, data.seekTime, data.percent, 0);\n      this._updateInnerFocus(data);\n    });\n    __publicField(this, \"_mouseUpHandler\", (e, data) => {\n      const { pos } = this;\n      pos.moving && this.updateWidth(data.currentTime, data.seekTime, data.percent, 2);\n    });\n    __publicField(this, \"_mouseMoveHandler\", (e, data) => {\n      const { _state, pos, config, player } = this;\n      if (_state.time < data.currentTime) {\n        data.forward = true;\n      } else {\n        data.forward = false;\n      }\n      _state.time = data.currentTime;\n      if (pos.isDown && !pos.moving) {\n        pos.moving = true;\n        config.isPauseMoving && player.pause();\n        this.triggerCallbacks(\"dragstart\", data, e);\n        this.emitUserAction(\"drag\", \"dragstart\", data);\n      }\n      this.updateWidth(data.currentTime, data.seekTime, data.percent, 1);\n      this.triggerCallbacks(\"dragmove\", data, e);\n      this._updateInnerFocus(data);\n    });\n    __publicField(this, \"onMouseDown\", (e) => {\n      const { _state, player, pos, config, playerConfig } = this;\n      const _ePos = util.getEventPos(e, player.zoom);\n      const x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      if (player.isMini || config.closeMoveSeek || !playerConfig.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      if (!player.duration && !player.isPlaying) {\n        player.play();\n        return;\n      }\n      e.stopPropagation();\n      this.focus();\n      util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n      util.checkIsFunction(config.onMoveStart) && config.onMoveStart();\n      util.event(e);\n      pos.x = x;\n      pos.isDown = true;\n      pos.moving = false;\n      _state.prePlayTime = player.currentTime;\n      player.focus({ autoHide: false });\n      this.isProgressMoving = true;\n      util.addClass(this.progressBtn, \"active\");\n      const ret = this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      this._mouseDownHandlerHook(e, ret);\n      const eventType = e.type;\n      if (eventType === \"touchstart\") {\n        this.root.addEventListener(\"touchmove\", this.onMouseMove);\n        this.root.addEventListener(\"touchend\", this.onMouseUp);\n        this.root.addEventListener(\"touchcancel\", this.onMouseUp);\n      } else {\n        this.unbind(\"mousemove\", this.onMoveOnly);\n        document.addEventListener(\"mousemove\", this.onMouseMove, false);\n        document.addEventListener(\"mouseup\", this.onMouseUp, false);\n      }\n      return true;\n    });\n    __publicField(this, \"onMouseUp\", (e) => {\n      const { player, config, pos, playerConfig, _state } = this;\n      e.stopPropagation();\n      e.preventDefault();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      util.checkIsFunction(config.onMoveEnd) && config.onMoveEnd();\n      util.event(e);\n      util.removeClass(this.progressBtn, \"active\");\n      const ret = this.computeTime(e, pos.x);\n      ret.prePlayTime = _state.prePlayTime;\n      if (pos.moving) {\n        this.triggerCallbacks(\"dragend\", ret, e);\n        this.emitUserAction(\"drag\", \"dragend\", ret);\n      } else {\n        this.triggerCallbacks(\"click\", ret, e);\n        this.emitUserAction(\"click\", \"click\", ret);\n      }\n      this._mouseUpHandlerHook(e, ret);\n      pos.moving = false;\n      pos.isDown = false;\n      pos.x = 0;\n      pos.y = 0;\n      pos.isLocked = true;\n      _state.prePlayTime = 0;\n      _state.time = 0;\n      const eventType = e.type;\n      if (eventType === \"touchend\" || eventType === \"touchcancel\") {\n        this.root.removeEventListener(\"touchmove\", this.onMouseMove);\n        this.root.removeEventListener(\"touchend\", this.onMouseUp);\n        this.root.removeEventListener(\"touchcancel\", this.onMouseUp);\n        this.blur();\n      } else {\n        document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n        document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n        if (!pos.isEnter) {\n          this.onMouseLeave(e);\n        } else {\n          playerConfig.isMobileSimulateMode !== \"mobile\" && this.bind(\"mousemove\", this.onMoveOnly);\n        }\n      }\n      util.setTimeout(this, () => {\n        this.resetSeekState();\n      }, 10);\n      player.focus();\n    });\n    __publicField(this, \"onMouseMove\", (e) => {\n      const { _state, pos, player, config } = this;\n      if (util.checkTouchSupport()) {\n        e.preventDefault();\n      }\n      util.event(e);\n      const _ePos = util.getEventPos(e, player.zoom);\n      const x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      const diff = Math.abs(pos.x - x);\n      if (pos.moving && diff < config.miniMoveStep || !pos.moving && diff < config.miniStartStep) {\n        return;\n      }\n      pos.x = x;\n      const ret = this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      this._mouseMoveHandlerHook(e, ret);\n    });\n    __publicField(this, \"onMouseOut\", (e) => {\n      this.triggerCallbacks(\"mouseout\", null, e);\n    });\n    __publicField(this, \"onMouseOver\", (e) => {\n      this.triggerCallbacks(\"mouseover\", null, e);\n    });\n    __publicField(this, \"onMouseEnter\", (e) => {\n      const { player, pos } = this;\n      if (pos.isDown || pos.isEnter || player.isMini || !player.config.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      pos.isEnter = true;\n      this.bind(\"mousemove\", this.onMoveOnly);\n      this.bind(\"mouseleave\", this.onMouseLeave);\n      util.event(e);\n      const _ePos = util.getEventPos(e, player.zoom);\n      const x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      const ret = this.computeTime(e, x);\n      this.triggerCallbacks(\"mouseenter\", ret, e);\n      this.focus();\n    });\n    __publicField(this, \"onMouseLeave\", (e) => {\n      this.triggerCallbacks(\"mouseleave\", null, e);\n      this.unlock();\n      this._updateInnerFocus(null);\n    });\n    __publicField(this, \"onVideoResize\", () => {\n      const { x, isDown, isEnter } = this.pos;\n      if (isEnter && !isDown) {\n        const ret = this.computeTime(null, x);\n        this.onMoveOnly(null, ret);\n      }\n    });\n    this.useable = false;\n    this.isProgressMoving = false;\n    this.__dragCallBacks = [];\n    this._state = {\n      now: -1,\n      direc: 0,\n      time: 0,\n      prePlayTime: -1\n    };\n    this._disableBlur = false;\n  }\n  static get pluginName() {\n    return \"progress\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_CENTER,\n      index: 0,\n      disable: false,\n      isDragingSeek: true,\n      closeMoveSeek: false,\n      isPauseMoving: false,\n      isCloseClickSeek: false,\n      fragments: [{ percent: 1 }],\n      fragFocusClass: FRAGMENT_FOCUS_CLASS.POINT,\n      fragClass: \"\",\n      fragAutoFocus: false,\n      miniMoveStep: 5,\n      miniStartStep: 2,\n      onMoveStart: () => {\n      },\n      onMoveEnd: () => {\n      },\n      endedDiff: 0.2\n    };\n  }\n  static get FRAGMENT_FOCUS_CLASS() {\n    return FRAGMENT_FOCUS_CLASS;\n  }\n  get offsetDuration() {\n    return this.playerConfig.customDuration || this.player.offsetDuration || this.player.duration;\n  }\n  get duration() {\n    return this.playerConfig.customDuration || this.player.duration;\n  }\n  get timeOffset() {\n    return this.playerConfig.timeOffset || 0;\n  }\n  get currentTime() {\n    const { offsetCurrentTime, currentTime } = this.player;\n    return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime + this.timeOffset;\n  }\n  changeState(useable = true) {\n    this.useable = useable;\n  }\n  show(value) {\n    this.root && (this.root.style.display = \"flex\");\n  }\n  _initInner(fragments = [], config = {}) {\n    if (!fragments || fragments.length === 0) {\n      fragments = [{ percent: 1 }];\n    }\n    const _c = {\n      fragments,\n      ...config,\n      actionCallback: (data) => {\n        this.emitUserAction(\"fragment_focus\", \"fragment_focus\", data);\n      }\n    };\n    if (!this.innerList) {\n      this.innerList = new InnerList(_c);\n      this.outer.insertBefore(this.innerList.render(), this.outer.children[0]);\n      [\"findHightLight\", \"unHightLight\", \"setHightLight\", \"findFragment\"].map((item) => {\n        this[item] = this.innerList[item].bind(this.innerList);\n      });\n    } else {\n      this.innerList.reset(_c);\n    }\n  }\n  _updateInnerFocus(data) {\n    this.innerList && this.innerList.updateFocus(data);\n  }\n  afterCreate() {\n    if (this.config.disable || this.playerConfig.isLive) {\n      return;\n    }\n    this.pos = {\n      x: 0,\n      y: 0,\n      moving: false,\n      isDown: false,\n      isEnter: false,\n      isLocked: false\n    };\n    this.outer = this.find(\"xg-outer\");\n    const { fragFocusClass, fragAutoFocus, fragClass } = this.config;\n    this._initInner(this.config.fragments, { fragFocusClass, fragAutoFocus, fragClass, style: this.playerConfig.commonStyle || {} });\n    if (sniffer.device === \"mobile\") {\n      this.config.isDragingSeek = false;\n      this.isMobile = true;\n    }\n    this.progressBtn = this.find(\".xgplayer-progress-btn\");\n    this.on(DURATION_CHANGE, () => {\n      this.onMouseLeave();\n    });\n    this.on(TIME_UPDATE, () => {\n      this.onTimeupdate();\n    });\n    this.on(SEEKED, () => {\n      this.onTimeupdate();\n      this.onCacheUpdate();\n    });\n    this.on(PROGRESS, () => {\n      this.onCacheUpdate();\n    });\n    this.on(ENDED, () => {\n      this.onCacheUpdate(true);\n      this.onTimeupdate(true);\n      this._state.now = 0;\n    });\n    this.on(EMPTIED, () => {\n      this.onReset();\n    });\n    this.on(VIDEO_RESIZE, () => {\n      this.onVideoResize();\n    });\n    this.bindDomEvents();\n    this.initCustomStyle();\n  }\n  setConfig(config) {\n    let frags = null;\n    Object.keys(config).forEach((key) => {\n      this.config[key] = config[key];\n      if (key === \"fragments\") {\n        frags = config[key];\n      }\n    });\n    if (frags) {\n      this._initInner(frags, config);\n    }\n  }\n  initCustomStyle() {\n    const { commonStyle } = this.playerConfig || {};\n    const { sliderBtnStyle } = commonStyle;\n    const { progressBtn } = this;\n    if (sliderBtnStyle) {\n      if (typeof sliderBtnStyle === \"string\") {\n        progressBtn.style.boxShadow = sliderBtnStyle;\n      } else if (typeof sliderBtnStyle === \"object\") {\n        Object.keys(sliderBtnStyle).map((key) => {\n          progressBtn.style[key] = sliderBtnStyle[key];\n        });\n      }\n    }\n  }\n  triggerCallbacks(type, data, event) {\n    if (this.__dragCallBacks.length > 0) {\n      this.__dragCallBacks.map((item) => {\n        if (item && item.handler && item.type === type) {\n          try {\n            item.handler(data, event);\n          } catch (error) {\n            console.error(`[XGPLAYER][triggerCallbacks] ${item} error`, error);\n          }\n        }\n      });\n    }\n  }\n  addCallBack(type, handle) {\n    if (handle && typeof handle === \"function\") {\n      this.__dragCallBacks.push({ type, handler: handle });\n    }\n  }\n  removeCallBack(type, event) {\n    const { __dragCallBacks } = this;\n    let _index = -1;\n    __dragCallBacks.map((item, index) => {\n      if (item && item.type === type && item.handler === event) {\n        _index = index;\n      }\n    });\n    if (_index > -1) {\n      __dragCallBacks.splice(_index, 1);\n    }\n  }\n  unlock() {\n    const { player, pos } = this;\n    pos.isEnter = false;\n    pos.isLocked = false;\n    if (player.isMini) {\n      return;\n    }\n    this.unbind(\"mousemove\", this.onMoveOnly);\n    if (pos.isDown) {\n      this.unbind(\"mouseleave\", this.onMouseLeave);\n      return;\n    }\n    this.blur();\n  }\n  bindDomEvents() {\n    const { controls, config } = this.player;\n    this._mouseDownHandlerHook = this.hook(\"dragstart\", this._mouseDownHandler);\n    this._mouseUpHandlerHook = this.hook(\"dragend\", this._mouseUpHandler);\n    this._mouseMoveHandlerHook = this.hook(\"drag\", this._mouseMoveHandler);\n    if (this.domEventType === \"touch\" || this.domEventType === \"compatible\") {\n      this.root.addEventListener(\"touchstart\", this.onMouseDown);\n      if (controls) {\n        controls.root && controls.root.addEventListener(\"touchmove\", util.stopPropagation);\n        controls.center && controls.center.addEventListener(\"touchend\", util.stopPropagation);\n      }\n    }\n    if (this.domEventType === \"mouse\" || this.domEventType === \"compatible\") {\n      this.bind(\"mousedown\", this.onMouseDown);\n      config.isMobileSimulateMode !== \"mobile\" && this.bind(\"mouseenter\", this.onMouseEnter);\n      this.bind(\"mouseover\", this.onMouseOver);\n      this.bind(\"mouseout\", this.onMouseOut);\n      this.player.root.addEventListener(\"click\", this.onBodyClick, true);\n    }\n  }\n  focus() {\n    this.player.controls.pauseAutoHide();\n    util.addClass(this.root, \"active\");\n  }\n  blur() {\n    if (this._disableBlur) {\n      return;\n    }\n    this.player.controls.recoverAutoHide();\n    util.removeClass(this.root, \"active\");\n  }\n  disableBlur() {\n    this._disableBlur = true;\n  }\n  enableBlur() {\n    this._disableBlur = false;\n  }\n  updateWidth(currentTime, seekTime, percent, type) {\n    const { config, player } = this;\n    if (config.isCloseClickSeek && type === 0) {\n      return;\n    }\n    const realTime = seekTime = seekTime >= player.duration ? player.duration - config.endedDiff : Number(seekTime).toFixed(1);\n    this.updatePercent(percent);\n    this.updateTime(currentTime);\n    if (type === 1 && (!config.isDragingSeek || player.config.mediaType === \"audio\")) {\n      return;\n    }\n    this._state.now = realTime;\n    this._state.direc = realTime > player.currentTime ? 0 : 1;\n    player.seek(realTime);\n  }\n  computeTime(e, x) {\n    const { player } = this;\n    const { width, height, top, left } = this.root.getBoundingClientRect();\n    let rWidth, rLeft;\n    const clientX = x;\n    if (player.rotateDeg === 90) {\n      rWidth = height;\n      rLeft = top;\n    } else {\n      rWidth = width;\n      rLeft = left;\n    }\n    let offset = clientX - rLeft;\n    offset = offset > rWidth ? rWidth : offset < 0 ? 0 : offset;\n    let percent = offset / rWidth;\n    percent = percent < 0 ? 0 : percent > 1 ? 1 : percent;\n    const currentTime = parseInt(percent * this.offsetDuration * 1e3, 10) / 1e3;\n    const seekTime = util.getCurrentTimeByOffset(currentTime, player.timeSegments);\n    return {\n      percent,\n      currentTime,\n      seekTime,\n      offset,\n      width: rWidth,\n      left: rLeft,\n      e\n    };\n  }\n  updateTime(time) {\n    const { player, duration } = this;\n    if (time > duration) {\n      time = duration;\n    } else if (time < 0) {\n      time = 0;\n    }\n    const timeIcon = player.plugins.time;\n    if (timeIcon) {\n      timeIcon.updateTime(time);\n    }\n  }\n  resetSeekState() {\n    this.isProgressMoving = false;\n    const timeIcon = this.player.plugins.time;\n    timeIcon && timeIcon.resetActive();\n  }\n  updatePercent(percent, notSeek) {\n    this.isProgressMoving = true;\n    if (this.config.disable) {\n      return;\n    }\n    percent = percent > 1 ? 1 : percent < 0 ? 0 : percent;\n    this.progressBtn.style.left = `${percent * 100}%`;\n    this.innerList.update({ played: percent * this.offsetDuration }, this.offsetDuration);\n    const { miniprogress } = this.player.plugins;\n    miniprogress && miniprogress.update({ played: percent * this.offsetDuration }, this.offsetDuration);\n  }\n  onTimeupdate(isEnded) {\n    const { player, _state, offsetDuration } = this;\n    if (player.isSeeking && player.media.seeking || this.isProgressMoving || !player.hasStart) {\n      return;\n    }\n    if (_state.now > -1) {\n      const abs = parseInt(_state.now * 1e3, 10) - parseInt(player.currentTime * 1e3, 10);\n      if (_state.direc === 0 && abs > 300 || _state.direc === 1 && abs > -300) {\n        _state.now = -1;\n        return;\n      } else {\n        _state.now = -1;\n      }\n    }\n    let time = this.currentTime;\n    time = util.adjustTimeByDuration(time, offsetDuration, isEnded);\n    this.innerList.update({ played: time }, offsetDuration);\n    this.progressBtn.style.left = `${time / offsetDuration * 100}%`;\n  }\n  onCacheUpdate(isEnded) {\n    const { player, duration } = this;\n    if (!player) {\n      return;\n    }\n    let _end = player.bufferedPoint.end;\n    _end = util.adjustTimeByDuration(_end, duration, isEnded);\n    this.innerList.update({ cached: _end }, duration);\n  }\n  onReset() {\n    this.innerList.update({ played: 0, cached: 0 }, 0);\n    this.progressBtn.style.left = \"0%\";\n  }\n  destroy() {\n    const { player } = this;\n    const { controls } = player;\n    this.thumbnailPlugin = null;\n    this.innerList.destroy();\n    this.innerList = null;\n    const { domEventType } = this;\n    if (domEventType === \"touch\" || domEventType === \"compatible\") {\n      this.root.removeEventListener(\"touchstart\", this.onMouseDown);\n      this.root.removeEventListener(\"touchmove\", this.onMouseMove);\n      this.root.removeEventListener(\"touchend\", this.onMouseUp);\n      this.root.removeEventListener(\"touchcancel\", this.onMouseUp);\n      if (controls) {\n        controls.root && controls.root.removeEventListener(\"touchmove\", util.stopPropagation);\n        controls.center && controls.center.removeEventListener(\"touchend\", util.stopPropagation);\n      }\n    }\n    if (domEventType === \"mouse\" || domEventType === \"compatible\") {\n      this.unbind(\"mousedown\", this.onMouseDown);\n      this.unbind(\"mouseenter\", this.onMouseEnter);\n      this.unbind(\"mousemove\", this.onMoveOnly);\n      this.unbind(\"mouseleave\", this.onMouseLeave);\n      document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n      document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n      player.root.removeEventListener(\"click\", this.onBodyClick, true);\n    }\n  }\n  render() {\n    if (this.config.disable || this.playerConfig.isLive) {\n      return;\n    }\n    const controlsMode = this.player.controls ? this.player.controls.config.mode : \"\";\n    const className = controlsMode === \"bottom\" ? \"xgplayer-progress-bottom\" : \"\";\n    return `\n    <xg-progress class=\"xgplayer-progress ${className}\">\n      <xg-outer class=\"xgplayer-progress-outer\">\n        <xg-progress-btn class=\"xgplayer-progress-btn\"></xg-progress-btn>\n      </xg-outer>\n    </xg-progress>\n    `;\n  }\n}\nexport { Progress as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass Icon extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_onMouseenter\", (e) => {\n      this.emit(\"icon_mouseenter\", {\n        pluginName: this.pluginName\n      });\n    });\n    __publicField(this, \"_onMouseLeave\", (e) => {\n      this.emit(\"icon_mouseleave\", {\n        pluginName: this.pluginName\n      });\n    });\n  }\n  afterCreate() {\n    this.bind(\"mouseenter\", this._onMouseenter);\n    this.bind(\"mouseleave\", this._onMouseLeave);\n    if (this.config.disable) {\n      this.disable();\n    }\n  }\n  destroy() {\n    this.unbind(\"mouseenter\", this._onMouseenter);\n    this.unbind(\"mouseleave\", this._onMouseLeave);\n  }\n}\nexport { Icon as default };\n","import \"../../utils/util.js\";\nimport { PAUSE, ERROR, EMPTIED, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nclass Play extends Icon {\n  static get pluginName() {\n    return \"play\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 0,\n      disable: false\n    };\n  }\n  afterCreate() {\n    super.afterCreate();\n    const { player, config } = this;\n    if (config.disable) {\n      return;\n    }\n    this.initIcons();\n    this.btnClick = this.btnClick.bind(this);\n    this.bind([\"touchend\", \"click\"], this.btnClick);\n    this.on([PAUSE, ERROR, EMPTIED], () => {\n      this.animate(player.paused);\n    });\n    this.on(PLAY, () => {\n      this.animate(player.paused);\n    });\n    this.animate(true);\n  }\n  registerIcons() {\n    return {\n      play: { icon: PlaySvg, class: \"xg-icon-play\" },\n      pause: { icon: PauseSvg, class: \"xg-icon-pause\" }\n    };\n  }\n  btnClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    const { player } = this;\n    this.emitUserAction(e, \"switch_play_pause\", { prop: \"paused\", from: player.paused, to: !player.paused });\n    if (player.ended) {\n      player.replay();\n    } else if (player.paused) {\n      player.play();\n      this.animate(false);\n    } else {\n      player.pause();\n      this.animate(true);\n    }\n    return false;\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".xgplayer-icon\", icons.play);\n    this.appendChild(\".xgplayer-icon\", icons.pause);\n  }\n  animate(paused) {\n    if (!this.player) {\n      return;\n    }\n    const { i18nKeys } = this;\n    const tipDom = this.find(\".xg-tips\");\n    if (paused) {\n      this.setAttr(\"data-state\", \"pause\");\n      tipDom && this.changeLangTextKey(tipDom, i18nKeys.PLAY_TIPS);\n    } else {\n      this.setAttr(\"data-state\", \"play\");\n      tipDom && this.changeLangTextKey(tipDom, i18nKeys.PAUSE_TIPS);\n    }\n  }\n  destroy() {\n    super.destroy();\n    this.unbind([\"touchend\", \"click\"], this.btnClick);\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-play\">\n    <div class=\"xgplayer-icon\">\n    </div>\n    ${xgIconTips(this, \"PLAY_TIPS\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { Play as default };\n","function BackSVG() {\n  return new DOMParser().parseFromString('<svg width=\"32px\" height=\"40px\" viewBox=\"0 0 32 32\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <path d=\"M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z\" fill=\"#FFFFFF\"></path>\\n    </g>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { BackSVG as default };\n","import util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport BackSVG from \"../assets/back.js\";\nclass TopBackIcon extends Plugin {\n  static get pluginName() {\n    return \"topbackicon\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.ROOT_TOP,\n      index: 0\n    };\n  }\n  afterCreate() {\n    this.initIcons();\n    this.onClick = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      this.config.onClick(e);\n    };\n    this.bind([\"click\", \"touchend\"], this.onClick);\n  }\n  registerIcons() {\n    return {\n      screenBack: { icon: BackSVG, class: \"xg-fullscreen-back\" }\n    };\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(this.root, icons.screenBack);\n  }\n  show() {\n    util.addClass(this.root, \"show\");\n  }\n  hide() {\n    util.removeClass(this.root, \"show\");\n  }\n  render() {\n    return `<xg-icon class=\"xgplayer-back\">\n    </xg-icon>`;\n  }\n}\nexport { TopBackIcon as default };\n","function FullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { FullScreenSvg as default };\n","function ExitFullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitFullScreenSvg as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport TopBackIcon from \"./backicon.js\";\nimport FullScreenSvg from \"../assets/requestFull.js\";\nimport ExitFullScreenSvg from \"../assets/exitFull.js\";\nclass Fullscreen extends Icon {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_onOrientationChange\", (e) => {\n      if (this.player.fullscreen && this.config.rotateFullscreen) {\n        if (window.orientation === 90 || window.orientation === -90) {\n          this.player.setRotateDeg(0);\n        } else {\n          this.player.setRotateDeg(90);\n        }\n      }\n    });\n  }\n  static get pluginName() {\n    return \"fullscreen\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 0,\n      useCssFullscreen: false,\n      rotateFullscreen: false,\n      useScreenOrientation: false,\n      lockOrientationType: \"landscape\",\n      switchCallback: null,\n      target: null,\n      disable: false,\n      needBackIcon: false\n    };\n  }\n  afterCreate() {\n    super.afterCreate();\n    const { config, playerConfig } = this;\n    if (config.disable) {\n      return;\n    }\n    if (config.target) {\n      this.playerConfig.fullscreenTarget = this.config.target;\n    }\n    const fullEl = util.getFullScreenEl();\n    if (playerConfig.fullscreenTarget === fullEl) {\n      this.player.getFullscreen().catch((e) => {\n      });\n    }\n    this.initIcons();\n    this.handleFullscreen = this.hook(\"fullscreenChange\", this.toggleFullScreen, {\n      pre: (e) => {\n        const { fullscreen } = this.player;\n        this.emitUserAction(e, \"switch_fullscreen\", {\n          prop: \"fullscreen\",\n          from: fullscreen,\n          to: !fullscreen\n        });\n      }\n    });\n    this.bind(\".xgplayer-fullscreen\", [\"touchend\", \"click\"], this.handleFullscreen);\n    this.on(FULLSCREEN_CHANGE, (isFullScreen) => {\n      const tipsDom = this.find(\".xg-tips\");\n      tipsDom && this.changeLangTextKey(tipsDom, isFullScreen ? this.i18nKeys.EXITFULLSCREEN_TIPS : this.i18nKeys.FULLSCREEN_TIPS);\n      this.animate(isFullScreen);\n    });\n    if (this.config.needBackIcon) {\n      this.topBackIcon = this.player.registerPlugin({\n        plugin: TopBackIcon,\n        options: {\n          config: {\n            onClick: (e) => {\n              this.handleFullscreen(e);\n            }\n          }\n        }\n      });\n    }\n    if (sniffer.device === \"mobile\") {\n      window.addEventListener(\"orientationchange\", this._onOrientationChange);\n    }\n  }\n  registerIcons() {\n    return {\n      fullscreen: { icon: FullScreenSvg, class: \"xg-get-fullscreen\" },\n      exitFullscreen: { icon: ExitFullScreenSvg, class: \"xg-exit-fullscreen\" }\n    };\n  }\n  destroy() {\n    super.destroy();\n    this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.handleFullscreen);\n    if (sniffer.device === \"mobile\") {\n      window.removeEventListener(\"orientationchange\", this._onOrientationChange);\n    }\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".xgplayer-icon\", icons.fullscreen);\n    this.appendChild(\".xgplayer-icon\", icons.exitFullscreen);\n  }\n  toggleFullScreen(e) {\n    if (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    const { player, config } = this;\n    const useCssFullscreen = config.useCssFullscreen === true || typeof config.useCssFullscreen === \"function\" && config.useCssFullscreen();\n    if (useCssFullscreen) {\n      if (player.fullscreen) {\n        player.exitCssFullscreen();\n      } else {\n        player.getCssFullscreen();\n      }\n      this.animate(player.fullscreen);\n    } else if (config.rotateFullscreen) {\n      if (player.fullscreen) {\n        player.exitRotateFullscreen();\n      } else {\n        player.getRotateFullscreen();\n      }\n      this.animate(player.fullscreen);\n    } else if (config.switchCallback && typeof config.switchCallback === \"function\") {\n      config.switchCallback(player.fullscreen);\n    } else {\n      if (player.fullscreen) {\n        player.exitFullscreen();\n        if (config.useScreenOrientation) {\n          this.unlockScreen();\n        }\n      } else {\n        player.getFullscreen().catch((e2) => {\n        });\n        if (config.useScreenOrientation && player.aspectRatio > 1) {\n          this.lockScreen(config.lockOrientationType);\n        }\n      }\n    }\n  }\n  animate(isFullScreen) {\n    isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n    if (this.topBackIcon) {\n      if (isFullScreen) {\n        this.topBackIcon.show();\n        this.hide();\n      } else {\n        this.topBackIcon.hide();\n        this.show();\n      }\n    }\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    const langKey = \"FULLSCREEN_TIPS\";\n    return `<xg-icon class=\"xgplayer-fullscreen\">\n    <div class=\"xgplayer-icon\">\n    </div>\n    ${xgIconTips(this, langKey, this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n  lockScreen(orientation) {\n    try {\n      screen.orientation.lock(orientation).catch((e) => {\n      });\n    } catch (e) {\n    }\n  }\n  unlockScreen() {\n    try {\n      screen.orientation.unlock().catch((e) => {\n      });\n    } catch (e) {\n    }\n  }\n}\nexport { Fullscreen as default };\n","import util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, SEEKED, TIME_UPDATE, ENDED, EMPTIED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nclass Time extends Plugin {\n  static get pluginName() {\n    return \"time\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 2,\n      disable: false\n    };\n  }\n  constructor(args) {\n    super(args);\n    this.isActiving = false;\n  }\n  get duration() {\n    const { offsetDuration, duration } = this.player;\n    return this.playerConfig.customDuration || offsetDuration || duration;\n  }\n  get currentTime() {\n    const { offsetCurrentTime, currentTime } = this.player;\n    return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime;\n  }\n  get timeOffset() {\n    return this.playerConfig.timeOffset || 0;\n  }\n  afterCreate() {\n    const constrolsMode = this.player.controls.config.mode;\n    this.mode = constrolsMode === \"flex\" ? \"flex\" : \"normal\";\n    if (this.config.disable) {\n      return;\n    }\n    if (this.mode === \"flex\") {\n      this.createCenterTime();\n      this.root.style.display = \"none\";\n    }\n    this.durationDom = this.find(\".time-duration\");\n    this.timeDom = this.find(\".time-current\");\n    this.on([DURATION_CHANGE, SEEKED, TIME_UPDATE], (e) => {\n      if (e.eventName === \"durationchange\") {\n        this.isActiving = false;\n      }\n      this.onTimeUpdate();\n    });\n    this.on(ENDED, () => {\n      this.onTimeUpdate(true);\n    });\n    this.on(EMPTIED, () => {\n      this.onReset();\n    });\n  }\n  show(value) {\n    if (this.mode === \"flex\") {\n      this.centerCurDom && (this.centerCurDom.style.display = \"block\");\n      this.centerDurDom && (this.centerDurDom.style.display = \"block\");\n      return;\n    }\n    this.root.style.display = \"block\";\n  }\n  hide() {\n    if (this.mode === \"flex\") {\n      this.centerCurDom && (this.centerCurDom.style.display = \"none\");\n      this.centerDurDom && (this.centerDurDom.style.display = \"none\");\n      return;\n    }\n    this.root.style.display = \"none\";\n  }\n  onTimeUpdate(isEnded) {\n    const { player, config, duration } = this;\n    if (config.disable || this.isActiving || !player.hasStart) {\n      return;\n    }\n    let current = this.currentTime + this.timeOffset;\n    current = util.adjustTimeByDuration(current, duration, isEnded);\n    if (this.mode === \"flex\") {\n      this.centerCurDom.innerHTML = this.minWidthTime(util.format(current));\n      if (duration !== Infinity && duration > 0) {\n        this.centerDurDom.innerHTML = util.format(duration);\n      }\n    } else {\n      this.timeDom.innerHTML = this.minWidthTime(util.format(current));\n      if (duration !== Infinity && duration > 0) {\n        this.durationDom.innerHTML = util.format(duration);\n      }\n    }\n  }\n  onReset() {\n    if (this.mode === \"flex\") {\n      this.centerCurDom.innerHTML = this.minWidthTime(util.format(0));\n      this.centerDurDom.innerHTML = util.format(0);\n    } else {\n      this.timeDom.innerHTML = this.minWidthTime(util.format(0));\n      this.durationDom.innerHTML = util.format(0);\n    }\n  }\n  createCenterTime() {\n    const { player } = this;\n    if (!player.controls || !player.controls.center) {\n      return;\n    }\n    const center = player.controls.center;\n    this.centerCurDom = util.createDom(\n      \"xg-icon\",\n      \"00:00\",\n      {},\n      \"xgplayer-time xg-time-left\"\n    );\n    this.centerDurDom = util.createDom(\n      \"xg-icon\",\n      \"00:00\",\n      {},\n      \"xgplayer-time xg-time-right\"\n    );\n    center.children.length > 0 ? center.insertBefore(this.centerCurDom, center.children[0]) : center.appendChild(this.centerCurDom);\n    center.appendChild(this.centerDurDom);\n  }\n  afterPlayerInit() {\n    const { config } = this;\n    if (this.duration === Infinity || this.playerConfig.isLive) {\n      util.hide(this.durationDom);\n      util.hide(this.timeDom);\n      util.hide(this.find(\".time-separator\"));\n      util.show(this.find(\".time-live-tag\"));\n    } else {\n      util.hide(this.find(\".time-live-tag\"));\n    }\n    if (config.hide) {\n      this.hide();\n      return;\n    }\n    this.show();\n  }\n  changeLiveState(isLive) {\n    if (isLive) {\n      util.hide(this.durationDom);\n      util.hide(this.timeDom);\n      util.hide(this.find(\".time-separator\"));\n      util.show(this.find(\".time-live-tag\"));\n    } else {\n      util.hide(this.find(\".time-live-tag\"));\n      util.show(this.find(\".time-separator\"));\n      util.show(this.durationDom);\n      util.show(this.timeDom);\n    }\n  }\n  updateTime(time) {\n    this.isActiving = true;\n    if (!time && time !== 0 || time > this.duration) {\n      return;\n    }\n    if (this.mode === \"flex\") {\n      this.centerCurDom.innerHTML = this.minWidthTime(util.format(time));\n      return;\n    }\n    this.timeDom.innerHTML = this.minWidthTime(util.format(time));\n  }\n  minWidthTime(timeStr) {\n    return timeStr.split(\":\").map((value) => `<span class=\"time-min-width\">${value}</span>`).join(\":\");\n  }\n  resetActive() {\n    const { player } = this;\n    const updateState = () => {\n      this.isActiving = false;\n    };\n    this.off(SEEKED, updateState);\n    if (player.isSeeking && player.media.seeking) {\n      this.once(SEEKED, updateState);\n    } else {\n      this.isActiving = false;\n    }\n  }\n  destroy() {\n    const { center } = this.player.controls;\n    this.centerCurDom && center.removeChild(this.centerCurDom);\n    this.centerCurDom = null;\n    this.centerDurDom && center.removeChild(this.centerDurDom);\n    this.centerDurDom = null;\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-time\">\n    <span class=\"time-current\">00:00</span>\n    <span class=\"time-separator\">/</span>\n    <span class=\"time-duration\">00:00</span>\n    <span class=\"time-live-tag\">${this.i18n.LIVE_TIP}</span>\n    </xg-icon>`;\n  }\n}\nexport { Time as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, LOADED_DATA, TIME_UPDATE, SEEKING, PLAY } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nclass TimeSegmentsControls extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_onDurationChange\", () => {\n      this.updateSegments();\n      const { currentTime, timeSegments } = this.player;\n      if (!this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      const index = util.getIndexByTime(currentTime, timeSegments);\n      const time = util.getOffsetCurrentTime(currentTime, timeSegments, index);\n      this.player.offsetCurrentTime = time;\n      this.changeIndex(index, timeSegments);\n    });\n    __publicField(this, \"_onLoadedData\", () => {\n      const { timeSegments } = this.player;\n      if (!this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      const time = util.getOffsetCurrentTime(0, timeSegments);\n      this.player.offsetCurrentTime = time;\n      this.changeIndex(0, timeSegments);\n      if (this.curPos.start > 0) {\n        this.player.currentTime = this.curPos.start;\n      }\n    });\n    __publicField(this, \"_onTimeupdate\", () => {\n      const { currentTime, timeSegments } = this.player;\n      if (!this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      const _len = timeSegments.length;\n      this.lastCurrentTime = currentTime;\n      const index = util.getIndexByTime(currentTime, timeSegments);\n      if (index !== this.curIndex) {\n        this.changeIndex(index, timeSegments);\n      }\n      const curTime = util.getOffsetCurrentTime(currentTime, timeSegments, index);\n      this.player.offsetCurrentTime = curTime;\n      if (!this.curPos) {\n        return;\n      }\n      const { start, end } = this.curPos;\n      if (currentTime < start) {\n        this.player.currentTime = start;\n      } else if (currentTime > end && index >= _len - 1) {\n        this.player.pause();\n      }\n    });\n    __publicField(this, \"_onSeeking\", () => {\n      const { currentTime, timeSegments } = this.player;\n      if (!this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      if (currentTime < timeSegments[0].start) {\n        this.player.currentTime = timeSegments[0].start;\n      } else if (currentTime > timeSegments[timeSegments.length - 1].end) {\n        this.player.currentTime = timeSegments[timeSegments.length - 1].end;\n      } else {\n        const _index = util.getIndexByTime(currentTime, timeSegments);\n        if (_index >= 0) {\n          const _seekTime = this.getSeekTime(currentTime, this.lastCurrentTime, _index, timeSegments);\n          if (_seekTime >= 0) {\n            this.player.currentTime = _seekTime;\n          }\n        }\n      }\n    });\n    __publicField(this, \"_onPlay\", () => {\n      const { currentTime, timeSegments } = this.player;\n      if (this._checkIfEnabled(timeSegments) && currentTime >= timeSegments[timeSegments.length - 1].end) {\n        this.player.currentTime = timeSegments[0].start;\n      }\n    });\n  }\n  static get pluginName() {\n    return \"TimeSegmentsControls\";\n  }\n  static get defaultConfig() {\n    return {\n      disable: true,\n      segments: []\n    };\n  }\n  afterCreate() {\n    this.curIndex = -1;\n    this.curPos = null;\n    this.lastCurrentTime = 0;\n    this.updateSegments();\n    this.on(DURATION_CHANGE, this._onDurationChange);\n    this.on(LOADED_DATA, this._onLoadedData);\n    this.on(TIME_UPDATE, this._onTimeupdate);\n    this.on(SEEKING, this._onSeeking);\n    this.on(PLAY, this._onPlay);\n  }\n  setConfig(newConfig) {\n    if (!newConfig) {\n      return;\n    }\n    const keys = Object.keys(newConfig);\n    if (keys.length < 1) {\n      return;\n    }\n    keys.forEach((key) => {\n      this.config[key] = newConfig[key];\n    });\n    this.updateSegments();\n  }\n  updateSegments() {\n    const { disable, segments } = this.config;\n    const { player } = this;\n    if (disable || !segments || segments.length === 0) {\n      player.timeSegments = [];\n      player.offsetDuration = 0;\n      player.offsetCurrentTime = -1;\n    } else {\n      const _segs = this.formatTimeSegments(segments, player.duration);\n      player.timeSegments = _segs;\n      player.offsetDuration = _segs.length > 0 ? _segs[_segs.length - 1].duration : 0;\n    }\n  }\n  formatTimeSegments(timeSegments, duration) {\n    const ret = [];\n    if (!timeSegments) {\n      return [];\n    }\n    timeSegments.sort((a, b) => {\n      return a.start - b.start;\n    });\n    timeSegments.forEach((item, index) => {\n      const _item = {};\n      _item.start = item.start < 0 ? 0 : item.start;\n      _item.end = duration > 0 && item.end > duration ? duration : item.end;\n      if (duration > 0 && _item.start > duration) {\n        return;\n      }\n      ret.push(_item);\n      const _segDuration = _item.end - _item.start;\n      if (index === 0) {\n        _item.offset = item.start;\n        _item.cTime = 0;\n        _item.segDuration = _segDuration;\n        _item.duration = _segDuration;\n      } else {\n        const last = ret[index - 1];\n        _item.offset = last.offset + (_item.start - last.end);\n        _item.cTime = last.duration + last.cTime;\n        _item.segDuration = _segDuration;\n        _item.duration = last.duration + _segDuration;\n      }\n    });\n    return ret;\n  }\n  getSeekTime(currentTime, lastCurrentTime, index, timeSegments) {\n    let _time = -1;\n    const { start, end } = timeSegments[index];\n    if (currentTime >= start && currentTime <= end) {\n      return _time;\n    }\n    const diff = currentTime - lastCurrentTime;\n    if (diff < 0) {\n      if (currentTime < start) {\n        const diff2 = lastCurrentTime > start ? lastCurrentTime - start : 0;\n        _time = index - 1 >= 0 ? timeSegments[index - 1].end + diff + diff2 : 0;\n        return _time;\n      }\n    }\n    return -1;\n  }\n  _checkIfEnabled(segments) {\n    return !(!segments || segments.length < 1);\n  }\n  changeIndex(index, timeSegments) {\n    this.curIndex = index;\n    if (index >= 0 && timeSegments.length > 0) {\n      this.curPos = timeSegments[index];\n    } else {\n      this.curPos = null;\n    }\n  }\n}\nexport { TimeSegmentsControls as default };\n","function volumeLargeSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeLargeSvg as default };\n","function volumeSmallSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeSmallSvg as default };\n","function volumeMutedSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeMutedSvg as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VOLUME_CHANGE, LOADED_DATA } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport volumeLargeSvg from \"../assets/volumeLarge.js\";\nimport volumeSmallSvg from \"../assets/volumeSmall.js\";\nimport volumeMutedSvg from \"../assets/volumeMuted.js\";\nclass Volume extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onBarMousedown\", (e) => {\n      const { player } = this;\n      const bar = this.find(\".xgplayer-bar\");\n      util.event(e);\n      const barRect = bar.getBoundingClientRect();\n      const pos = util.getEventPos(e, player.zoom);\n      const height = barRect.height - (pos.clientY - barRect.top);\n      pos.h = height;\n      pos.barH = barRect.height;\n      this.pos = pos;\n      if (height < -2) {\n        return;\n      }\n      this.updateVolumePos(height, e);\n      document.addEventListener(\"mouseup\", this.onBarMouseUp);\n      this._d.isStart = true;\n      return false;\n    });\n    __publicField(this, \"onBarMouseMove\", (e) => {\n      const { _d } = this;\n      if (!_d.isStart) {\n        return;\n      }\n      const { pos, player } = this;\n      e.preventDefault();\n      e.stopPropagation();\n      util.event(e);\n      const _ePos = util.getEventPos(e, player.zoom);\n      _d.isMoving = true;\n      const w = pos.h - _ePos.clientY + pos.clientY;\n      if (w > pos.barH) {\n        return;\n      }\n      this.updateVolumePos(w, e);\n    });\n    __publicField(this, \"onBarMouseUp\", (e) => {\n      util.event(e);\n      document.removeEventListener(\"mouseup\", this.onBarMouseUp);\n      const { _d } = this;\n      _d.isStart = false;\n      _d.isMoving = false;\n    });\n    __publicField(this, \"onMouseenter\", (e) => {\n      this._d.isActive = true;\n      this.focus();\n      this.emit(\"icon_mouseenter\", {\n        pluginName: this.pluginName\n      });\n    });\n    __publicField(this, \"onMouseleave\", (e) => {\n      this._d.isActive = false;\n      this.unFocus(100, false, e);\n      this.emit(\"icon_mouseleave\", {\n        pluginName: this.pluginName\n      });\n    });\n    __publicField(this, \"onVolumeChange\", (e) => {\n      if (!this.player) {\n        return;\n      }\n      const { muted, volume } = this.player;\n      if (!this._d.isMoving) {\n        this.find(\".xgplayer-drag\").style.height = muted || volume === 0 ? \"4px\" : `${volume * 100}%`;\n        if (this.config.showValueLabel) {\n          this.updateVolumeValue();\n        }\n      }\n      this.animate(muted, volume);\n    });\n  }\n  static get pluginName() {\n    return \"volume\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 1,\n      disable: false,\n      showValueLabel: false,\n      default: 0.6,\n      miniVolume: 0.2\n    };\n  }\n  registerIcons() {\n    return {\n      volumeSmall: { icon: volumeSmallSvg, class: \"xg-volume-small\" },\n      volumeLarge: { icon: volumeLargeSvg, class: \"xg-volume\" },\n      volumeMuted: { icon: volumeMutedSvg, class: \"xg-volume-mute\" }\n    };\n  }\n  afterCreate() {\n    this._timerId = null;\n    this._d = {\n      isStart: false,\n      isMoving: false,\n      isActive: false\n    };\n    if (this.config.disable) {\n      return;\n    }\n    this.initIcons();\n    const { commonStyle, volume } = this.playerConfig;\n    if (commonStyle.volumeColor) {\n      this.find(\".xgplayer-drag\").style.backgroundColor = commonStyle.volumeColor;\n    }\n    this.changeMutedHandler = this.hook(\"mutedChange\", (e) => {\n      this.changeMuted(e);\n    }, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this._onMouseenterHandler = this.hook(\"mouseenter\", this.onMouseenter);\n    this._onMouseleaveHandler = this.hook(\"mouseleave\", this.onMouseleave);\n    if (!(sniffer.device === \"mobile\") && this.playerConfig.isMobileSimulateMode !== \"mobile\") {\n      this.bind(\"mouseenter\", this._onMouseenterHandler);\n      this.bind([\"blur\", \"mouseleave\"], this._onMouseleaveHandler);\n      this.bind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n      this.bind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n      this.bind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n    }\n    this.bind(\".xgplayer-icon\", [\"touchend\", \"click\"], this.changeMutedHandler);\n    this.on(VOLUME_CHANGE, this.onVolumeChange);\n    this.once(LOADED_DATA, this.onVolumeChange);\n    if (util.typeOf(volume) !== \"Number\") {\n      this.player.volume = this.config.default;\n    }\n    this.onVolumeChange();\n  }\n  updateVolumePos(height, event) {\n    const { player } = this;\n    const drag = this.find(\".xgplayer-drag\");\n    const bar = this.find(\".xgplayer-bar\");\n    if (!bar || !drag) {\n      return;\n    }\n    const now = parseInt(height / bar.getBoundingClientRect().height * 1e3, 10);\n    drag.style.height = `${height}px`;\n    const to = Math.max(Math.min(now / 1e3, 1), 0);\n    const props = {\n      volume: {\n        from: player.volume,\n        to\n      }\n    };\n    if (player.muted) {\n      props.muted = {\n        from: true,\n        to: false\n      };\n    }\n    this.emitUserAction(event, \"change_volume\", { muted: player.muted, volume: player.volume, props });\n    player.volume = Math.max(Math.min(now / 1e3, 1), 0);\n    player.muted && (player.muted = false);\n    if (this.config.showValueLabel) {\n      this.updateVolumeValue();\n    }\n  }\n  updateVolumeValue() {\n    const { volume, muted } = this.player;\n    const $labelValue = this.find(\".xgplayer-value-label\");\n    const vol = Math.max(Math.min(volume, 1), 0);\n    $labelValue.innerText = muted ? 0 : Math.ceil(vol * 100);\n  }\n  focus() {\n    const { player } = this;\n    player.focus({ autoHide: false });\n    if (this._timerId) {\n      util.clearTimeout(this, this._timerId);\n      this._timerId = null;\n    }\n    util.addClass(this.root, \"slide-show\");\n  }\n  unFocus(delay = 100, isForce = true, e) {\n    const { _d, player } = this;\n    if (_d.isActive) {\n      return;\n    }\n    if (this._timerId) {\n      util.clearTimeout(this, this._timerId);\n      this._timerId = null;\n    }\n    this._timerId = util.setTimeout(this, () => {\n      if (!_d.isActive) {\n        isForce ? player.blur() : player.focus();\n        util.removeClass(this.root, \"slide-show\");\n        _d.isStart && this.onBarMouseUp(e);\n      }\n      this._timerId = null;\n    }, delay);\n  }\n  changeMuted(e) {\n    e && e.stopPropagation();\n    const { player, _d } = this;\n    _d.isStart && this.onBarMouseUp(e);\n    this.emitUserAction(e, \"change_muted\", {\n      muted: player.muted,\n      volume: player.volume,\n      props: {\n        muted: {\n          from: player.muted,\n          to: !player.muted\n        }\n      }\n    });\n    if (player.volume > 0) {\n      player.muted = !player.muted;\n    }\n    if (player.volume < 0.01) {\n      player.volume = this.config.miniVolume;\n    }\n  }\n  animate(muted, volume) {\n    if (muted || volume === 0) {\n      this.setAttr(\"data-state\", \"mute\");\n    } else if (volume < 0.5 && this.icons.volumeSmall) {\n      this.setAttr(\"data-state\", \"small\");\n    } else {\n      this.setAttr(\"data-state\", \"normal\");\n    }\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".xgplayer-icon\", icons.volumeSmall);\n    this.appendChild(\".xgplayer-icon\", icons.volumeLarge);\n    this.appendChild(\".xgplayer-icon\", icons.volumeMuted);\n  }\n  destroy() {\n    if (this._timerId) {\n      util.clearTimeout(this, this._timerId);\n      this._timerId = null;\n    }\n    this.unbind(\"mouseenter\", this.onMouseenter);\n    this.unbind([\"blur\", \"mouseleave\"], this.onMouseleave);\n    this.unbind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n    this.unbind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n    this.unbind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n    document.removeEventListener(\"mouseup\", this.onBarMouseUp);\n    this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.changeMutedHandler);\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    const volume = this.config.default || this.player.volume;\n    const isShowVolumeValue = this.config.showValueLabel;\n    return `\n    <xg-icon class=\"xgplayer-volume\" data-state=\"normal\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      <xg-slider class=\"xgplayer-slider\">\n        ${isShowVolumeValue ? `<div class=\"xgplayer-value-label\">${volume * 100}</div>` : \"\"}\n        <div class=\"xgplayer-bar\">\n          <xg-drag class=\"xgplayer-drag\" style=\"height: ${volume * 100}%\"></xg-drag>\n        </div>\n      </xg-slider>\n    </xg-icon>`;\n  }\n}\nexport { Volume as default };\n","function RotateSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"-4 -6 40 40\" fill=\"none\">\\n  <g clip-path=\"url(#clip0)\">\\n    <path transform=\"scale(1.5 1.5)\" d=\"M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z\" fill=\"white\"/>\\n    <path transform=\"scale(1.5 1.5)\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z\" fill=\"white\"/>\\n  </g>\\n  <defs>\\n    <clipPath id=\"clip0\">\\n      <rect width=\"40\" height=\"40\" fill=\"white\"/>\\n    </clipPath>\\n  </defs>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { RotateSvg as default };\n","import util from \"../../utils/util.js\";\nimport { VIDEO_RESIZE, ROTATE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport RotateSvg from \"../assets/rotate.js\";\nclass Rotate extends Icon {\n  static get pluginName() {\n    return \"rotate\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 6,\n      innerRotate: true,\n      clockwise: false,\n      rotateDeg: 0,\n      disable: false\n    };\n  }\n  constructor(args) {\n    super(args);\n    this.rotateDeg = this.config.rotateDeg || 0;\n  }\n  afterCreate() {\n    if (this.config.disable) {\n      return;\n    }\n    super.afterCreate();\n    this.appendChild(\".xgplayer-icon\", this.icons.rotate);\n    this.onBtnClick = this.onBtnClick.bind(this);\n    this.bind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n    this.on(VIDEO_RESIZE, () => {\n      if (this.rotateDeg && this.config.innerRotate) {\n        util.setTimeout(this, () => {\n          this.updateRotateDeg(this.rotateDeg, this.config.innerRotate);\n        }, 100);\n      }\n    });\n    const root = this.player.root;\n    this.rootWidth = root.style.width || root.offsetWidth || root.clientWidth;\n    this.rootHeight = root.style.height || root.offsetHeight || root.clientHeight;\n    if (this.rotateDeg) {\n      this.updateRotateDeg(this.rotateDeg, this.config.innerRotate);\n    }\n  }\n  destroy() {\n    super.destroy();\n    this.unbind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n  }\n  onBtnClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.emitUserAction(e, \"rotate\");\n    this.rotate(this.config.clockwise, this.config.innerRotate, 1);\n  }\n  updateRotateDeg(rotateDeg, innerRotate) {\n    if (!rotateDeg) {\n      rotateDeg = 0;\n    }\n    if (innerRotate) {\n      this.player.videoRotateDeg = rotateDeg;\n      return;\n    }\n    const { player, rootWidth, rootHeight } = this;\n    const { root, innerContainer } = player;\n    const video = player.media;\n    const width = root.offsetWidth;\n    const height = innerContainer && innerRotate ? innerContainer.offsetHeight : root.offsetHeight;\n    let rWidth = rootWidth;\n    let rHeight = rootHeight;\n    let x = 0;\n    let y = 0;\n    if (rotateDeg === 0.75 || rotateDeg === 0.25) {\n      rWidth = `${height}px`;\n      rHeight = `${width}px`;\n      x = -(height - width) / 2;\n      y = -(width - height) / 2;\n    }\n    const _transform = `translate(${x}px,${y}px) rotate(${rotateDeg}turn)`;\n    const _styles = {\n      transformOrigin: \"center center\",\n      transform: _transform,\n      webKitTransform: _transform,\n      height: rHeight,\n      width: rWidth\n    };\n    const _target = innerRotate ? video : root;\n    const poster = innerRotate ? player.getPlugin(\"poster\") : null;\n    Object.keys(_styles).map((key) => {\n      _target.style[key] = _styles[key];\n      poster && poster.root && (poster.root.style[key] = _styles[key]);\n    });\n  }\n  rotate(clockwise = false, innerRotate = true, times = 1) {\n    const player = this.player;\n    if (!this.rotateDeg) {\n      this.rotateDeg = 0;\n    }\n    const factor = clockwise ? 1 : -1;\n    this.rotateDeg = (this.rotateDeg + 1 + factor * 0.25 * times) % 1;\n    this.updateRotateDeg(this.rotateDeg, innerRotate);\n    player.emit(ROTATE, this.rotateDeg * 360);\n  }\n  registerIcons() {\n    return {\n      rotate: RotateSvg\n    };\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `\n    <xg-icon class=\"xgplayer-rotate\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      ${xgIconTips(this, \"ROTATE_TIPS\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { Rotate as default };\n","function PipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIcon as default };\n","function PipIconExit() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIconExit as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { COMPLETE, PIP_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport PipIcon from \"../assets/pipIcon.js\";\nimport PipIconExit from \"../assets/pipIconExit.js\";\nconst PresentationMode = {\n  PIP: \"picture-in-picture\",\n  INLINE: \"inline\",\n  FULLSCREEN: \"fullscreen\"\n};\nclass PIP extends Icon {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"switchPIP\", (e) => {\n      if (!this.isPIPAvailable()) {\n        return false;\n      }\n      e.stopPropagation && e.stopPropagation();\n      if (this.isPip) {\n        this.exitPIP();\n        this.emitUserAction(e, \"change_pip\", { props: \"pip\", from: true, to: false });\n        this.setAttr(\"data-state\", \"normal\");\n      } else if (this.player.media.readyState === 4) {\n        this.requestPIP();\n        this.emitUserAction(e, \"change_pip\", { props: \"pip\", from: false, to: true });\n        this.setAttr(\"data-state\", \"pip\");\n      }\n    });\n  }\n  static get pluginName() {\n    return \"pip\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 6,\n      showIcon: false,\n      preferDocument: false,\n      width: void 0,\n      height: void 0,\n      docPiPNode: void 0,\n      docPiPStyle: void 0\n    };\n  }\n  static checkWebkitSetPresentationMode(video) {\n    return typeof video.webkitSetPresentationMode === \"function\";\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.pip === \"boolean\") {\n      args.config.showIcon = args.player.config.pip;\n    }\n  }\n  afterCreate() {\n    if (!this.isPIPAvailable()) {\n      return;\n    }\n    super.afterCreate();\n    this.pMode = PresentationMode.INLINE;\n    this.initPipEvents();\n    if (this.config.showIcon) {\n      this.initIcons();\n    }\n    this.once(COMPLETE, () => {\n      if (this.config.showIcon) {\n        util.removeClass(this.find(\".xgplayer-icon\"), \"xg-icon-disable\");\n        this.bind(\"click\", this.switchPIP);\n      }\n    });\n  }\n  registerIcons() {\n    return {\n      pipIcon: { icon: PipIcon, class: \"xg-get-pip\" },\n      pipIconExit: { icon: PipIconExit, class: \"xg-exit-pip\" }\n    };\n  }\n  initIcons() {\n    const { icons } = this;\n    this.appendChild(\".xgplayer-icon\", icons.pipIcon);\n    this.appendChild(\".xgplayer-icon\", icons.pipIconExit);\n  }\n  initPipEvents() {\n    const { player } = this;\n    this.leavePIPCallback = () => {\n      const paused = player.paused;\n      util.setTimeout(this, () => {\n        !paused && player.mediaPlay();\n      }, 0);\n      !paused && player.mediaPlay();\n      this.setAttr(\"data-state\", \"normal\");\n      this.pipWindow = null;\n      player.emit(PIP_CHANGE, false);\n    };\n    this.enterPIPCallback = (e) => {\n      player.emit(PIP_CHANGE, true);\n      if (e == null ? void 0 : e.pictureInPictureWindow) {\n        this.pipWindow = e.pictureInPictureWindow;\n      }\n      this.setAttr(\"data-state\", \"pip\");\n    };\n    this.onWebkitpresentationmodechanged = (e) => {\n      const mode = player.media.webkitPresentationMode;\n      if (this.pMode === PresentationMode.FULLSCREEN && mode !== PresentationMode.FULLSCREEN) {\n        player.onFullscreenChange(null, false);\n      }\n      this.pMode = mode;\n      if (mode === PresentationMode.PIP) {\n        this.enterPIPCallback(e);\n      } else if (mode === PresentationMode.INLINE) {\n        this.leavePIPCallback(e);\n      }\n    };\n    if (player.media) {\n      player.media.addEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n      player.media.addEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n      PIP.checkWebkitSetPresentationMode(player.media) && player.media.addEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n    }\n  }\n  copyStyleIntoPiPWindow(pipWin) {\n    const textContent = [...document.styleSheets].map((style2) => {\n      try {\n        return [...style2.cssRules].map((rule) => rule.cssText).join(\"\");\n      } catch (e) {\n        const link = document.createElement(\"link\");\n        link.rel = \"stylesheet\";\n        link.type = style2.type;\n        link.media = style2.media;\n        link.href = style2.href;\n        pipWin.document.head.appendChild(link);\n      }\n      return \"\";\n    }).filter(Boolean).join(\"\\n\");\n    const style = document.createElement(\"style\");\n    style.textContent = textContent;\n    pipWin.document.head.appendChild(style);\n  }\n  requestPIP() {\n    const { player, playerConfig, config } = this;\n    if (!this.isPIPAvailable() || this.isPip) {\n      return;\n    }\n    try {\n      const { poster } = playerConfig;\n      if (poster) {\n        player.media.poster = util.typeOf(poster) === \"String\" ? poster : poster.poster;\n      }\n      if (config.preferDocument && this.isDocPIPAvailable()) {\n        const pipOptions = {};\n        if (config.width && config.height) {\n          pipOptions.width = config.width;\n          pipOptions.height = config.height;\n        } else {\n          const playerRect = player.root.getBoundingClientRect();\n          pipOptions.width = playerRect.width;\n          pipOptions.height = playerRect.height;\n        }\n        documentPictureInPicture.requestWindow(pipOptions).then((pipWin) => {\n          const { docPiPNode, docPiPStyle } = config;\n          this.enterPIPCallback();\n          const pipRoot = docPiPNode || player.root;\n          const parentNode = pipRoot.parentElement;\n          const previousSibling = pipRoot.previousSibling;\n          const nextSibling = pipRoot.nextSibling;\n          this.copyStyleIntoPiPWindow(pipWin);\n          const styles = document.createElement(\"style\");\n          styles.append(\"body{padding:0; margin:0;}\");\n          if (docPiPStyle) {\n            let cssContent = \"\";\n            if (typeof docPiPStyle === \"string\") {\n              cssContent = docPiPStyle;\n            } else if (typeof docPiPStyle === \"function\") {\n              cssContent = docPiPStyle.call(config);\n            }\n            if (cssContent) {\n              styles.append(cssContent);\n            }\n          } else if (pipRoot === player.root) {\n            styles.append(`\n              .xgplayer{width: 100%!important; height: 100%!important;}\n            `);\n          }\n          pipWin.document.head.append(styles);\n          pipWin.document.body.append(pipRoot);\n          pipWin.addEventListener(\"pagehide\", (event) => {\n            if (parentNode) {\n              if (nextSibling) {\n                parentNode.insertBefore(pipRoot, nextSibling);\n              } else if (previousSibling) {\n                parentNode.insertBefore(pipRoot, previousSibling.nextSibling);\n              } else {\n                parentNode.appendChild(pipRoot);\n              }\n            } else {\n            }\n            this.leavePIPCallback();\n          }, { once: true });\n        });\n      } else if (PIP.checkWebkitSetPresentationMode(player.media)) {\n        player.media.webkitSetPresentationMode(\"picture-in-picture\");\n      } else {\n        player.media.requestPictureInPicture();\n      }\n      return true;\n    } catch (reason) {\n      console.error(\"requestPiP\", reason);\n      return false;\n    }\n  }\n  exitPIP() {\n    const { player } = this;\n    try {\n      if (this.isPIPAvailable() && this.isPip) {\n        if (this.isDocPIPAvailable() && (documentPictureInPicture == null ? void 0 : documentPictureInPicture.window)) {\n          documentPictureInPicture.window.close();\n        } else if (PIP.checkWebkitSetPresentationMode(player.media)) {\n          player.media.webkitSetPresentationMode(\"inline\");\n        } else {\n          document.exitPictureInPicture();\n        }\n      }\n      return true;\n    } catch (reason) {\n      console.error(\"exitPIP\", reason);\n      return false;\n    }\n  }\n  get isPip() {\n    const { player } = this;\n    return !!(this.isDocPIPAvailable() && (documentPictureInPicture == null ? void 0 : documentPictureInPicture.window)) || document.pictureInPictureElement && document.pictureInPictureElement === player.media || player.media.webkitPresentationMode === PresentationMode.PIP;\n  }\n  isPIPAvailable() {\n    const video = this.player.media;\n    const _isEnabled = util.typeOf(document.pictureInPictureEnabled) === \"Boolean\" ? document.pictureInPictureEnabled : true;\n    return _isEnabled && (util.typeOf(video.disablePictureInPicture) === \"Boolean\" && !video.disablePictureInPicture || video.webkitSupportsPresentationMode && util.typeOf(video.webkitSetPresentationMode) === \"Function\") || this.isDocPIPAvailable();\n  }\n  isDocPIPAvailable() {\n    return \"documentPictureInPicture\" in window && /^(https|file)/.test(location.protocol);\n  }\n  destroy() {\n    super.destroy();\n    const { player } = this;\n    player.media.removeEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n    player.media.removeEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n    PIP.checkWebkitSetPresentationMode(player.media) && player.media.removeEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n    this.exitPIP();\n    this.unbind(\"click\", this.btnClick);\n  }\n  render() {\n    if (!this.config.showIcon || !this.isPIPAvailable()) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-pip\">\n      <div class=\"xgplayer-icon xg-icon-disable\">\n      </div>\n      ${xgIconTips(this, \"PIP\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { PIP as default };\n","function Next() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"40\" viewBox=\"10 0 24 40\">\\n  <path transform=\"scale(0.038 0.028)\" d=\"M800 380v768h-128v-352l-320 320v-704l320 320v-352z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { Next as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { PLAYNEXT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Next from \"../assets/playNext.js\";\nclass PlayNextIcon extends Plugin {\n  constructor(options) {\n    super(options);\n    __publicField(this, \"playNext\", (e) => {\n      const { player } = this;\n      e.preventDefault();\n      e.stopPropagation();\n      if (this.idx + 1 < this.config.urlList.length) {\n        this.idx++;\n        this.nextHandler(this.config.urlList[this.idx], this.idx);\n        player.emit(PLAYNEXT, this.idx + 1);\n      } else {\n        this.nextHandler();\n        player.emit(PLAYNEXT);\n      }\n    });\n    this.idx = -1;\n  }\n  static get pluginName() {\n    return \"playNext\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 1,\n      url: null,\n      urlList: []\n    };\n  }\n  afterCreate() {\n    if (!this.config.urlList || this.config.urlList.length === 0) {\n      return;\n    }\n    this.appendChild(\".xgplayer-icon\", this.icons.playNext);\n    this.initEvents();\n  }\n  registerIcons() {\n    return {\n      playNext: Next\n    };\n  }\n  initEvents() {\n    this.nextHandler = this.hook(\"nextClick\", this.changeSrc);\n    const event = sniffer.device === \"mobile\" ? \"touchend\" : \"click\";\n    this.bind(event, this.playNext);\n    this.show();\n  }\n  changeSrc(url) {\n    const { player } = this;\n    if (!url) {\n      return;\n    }\n    player.pause();\n    player.currentTime = 0;\n    if (player.switchURL) {\n      player.switchURL(url);\n    } else {\n      player.src = url;\n    }\n    player.config.url = url;\n    player.play();\n  }\n  destroy() {\n    this.unbind([\"touchend\", \"click\"], this.playNext);\n  }\n  render() {\n    if (!this.config.urlList || this.config.urlList.length === 0) {\n      return;\n    }\n    return `\n     <xg-icon class=\"xgplayer-playnext\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      ${xgIconTips(this, \"PLAYNEXT_TIPS\", this.playerConfig.isHideTips)}\n     </xg-icon>\n    `;\n  }\n}\nexport { PlayNextIcon as default };\n","function DownloadSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\\n  <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n    <g transform=\"translate(-488.000000, -340.000000)\" fill=\"#FFFFFF\">\\n      <g id=\"Group-2\">\\n        <g id=\"volme_big-copy\" transform=\"translate(488.000000, 340.000000)\">\\n          <rect id=\"Rectangle-18\" x=\"11\" y=\"4\" width=\"2\" height=\"12\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" x=\"3\" y=\"18\" width=\"18\" height=\"2\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" transform=\"translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) \" x=\"1.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect><rect id=\"Rectangle-2-Copy-3\" transform=\"translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) \" x=\"17.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect>\\n          <path d=\"M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z\" id=\"Combined-Shape\" transform=\"translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) \"></path>\\n        </g>\\n      </g>\\n    </g>\\n  </g>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { DownloadSvg as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport downloadUtil from \"downloadjs\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport DownloadSvg from \"../assets/download.js\";\nclass Download extends Icon {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"download\", (e) => {\n      if (this.isLock) {\n        return;\n      }\n      this.emitUserAction(e, \"download\");\n      const { url } = this.playerConfig;\n      let dUrl = \"\";\n      if (util.typeOf(url) === \"String\") {\n        dUrl = url;\n      } else if (util.typeOf(url) === \"Array\" && url.length > 0) {\n        dUrl = url[0].src;\n      }\n      const newUrl = this.getAbsoluteURL(dUrl);\n      downloadUtil(newUrl);\n      this.isLock = true;\n      this.timer = window.setTimeout(() => {\n        this.isLock = false;\n        window.clearTimeout(this.timer);\n        this.timer = null;\n      }, 300);\n    });\n    this.timer = null;\n    this.isLock = false;\n  }\n  static get pluginName() {\n    return \"download\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 3,\n      disable: true\n    };\n  }\n  afterCreate() {\n    super.afterCreate();\n    if (this.config.disable) {\n      return;\n    }\n    this.appendChild(\".xgplayer-icon\", this.icons.download);\n    this._handler = this.hook(\"click\", this.download, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this.bind([\"click\", \"touchend\"], this._handler);\n  }\n  registerIcons() {\n    return {\n      download: DownloadSvg\n    };\n  }\n  getAbsoluteURL(url) {\n    if (!url.match(/^https?:\\/\\//)) {\n      const div = document.createElement(\"div\");\n      div.innerHTML = `<a href=\"${url}\">x</a>`;\n      url = div.firstChild.href;\n    }\n    return url;\n  }\n  destroy() {\n    super.destroy();\n    this.unbind([\"click\", \"touchend\"], this.download);\n    window.clearTimeout(this.timer);\n    this.timer = null;\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-download\">\n   <div class=\"xgplayer-icon\">\n   </div>\n   ${xgIconTips(this, \"DOWNLOAD_TIPS\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { Download as default };\n","import \"../../utils/util.js\";\nimport { VIDEO_RESIZE, SCREEN_SHOT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport Icon from \"../common/iconPlugin.js\";\nclass ScreenShot extends Icon {\n  static get pluginName() {\n    return \"screenShot\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 5,\n      quality: 0.92,\n      type: \"image/png\",\n      format: \".png\",\n      width: 600,\n      height: 337,\n      saveImg: true,\n      fitVideo: true,\n      disable: false,\n      name: \"screenshot\"\n    };\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.screenShot === \"boolean\") {\n      args.config.disable = !args.player.config.screenShot;\n    }\n  }\n  afterCreate() {\n    super.afterCreate();\n    this.appendChild(\".xgplayer-icon\", this.icons.screenshotIcon);\n    const { config } = this;\n    this.initSize = (data) => {\n      if (config.fitVideo) {\n        config.width = data.vWidth;\n        config.height = data.vHeight;\n      }\n    };\n    this.once(VIDEO_RESIZE, this.initSize);\n  }\n  onPluginsReady() {\n    this.show();\n    this.onClickBtn = this.onClickBtn.bind(this);\n    this.bind([\"click\", \"touchend\"], this.onClickBtn);\n  }\n  saveScreenShot(data, filename) {\n    const saveLink = document.createElement(\"a\");\n    saveLink.href = data;\n    saveLink.download = filename;\n    const event = document.createEvent(\"MouseEvents\");\n    event.initMouseEvent(\"click\", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n    saveLink.dispatchEvent(event);\n  }\n  createCanvas(width, height) {\n    const canvas = document.createElement(\"canvas\");\n    const canvasCtx = canvas.getContext(\"2d\");\n    this.canvasCtx = canvasCtx;\n    this.canvas = canvas;\n    canvas.width = width || this.config.width;\n    canvas.height = height || this.config.height;\n    canvasCtx.imageSmoothingEnabled = true;\n    if (canvasCtx.imageSmoothingEnabled) {\n      canvasCtx.imageSmoothingQuality = \"high\";\n    }\n  }\n  onClickBtn(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.emitUserAction(e, \"shot\");\n    const { config } = this;\n    this.shot(config.width, config.height).then((data) => {\n      this.emit(SCREEN_SHOT, data);\n      if (config.saveImg) {\n        this.saveScreenShot(data, config.name + config.format);\n      }\n    });\n  }\n  shot(width, height, option = { quality: 0.92, type: \"image/png\" }) {\n    const { config, player } = this;\n    const quality = option.quality || config.quality;\n    const type = option.type || config.type;\n    return new Promise((resolve, reject) => {\n      let canvas = null;\n      let canvasCtx;\n      if (player.media.canvas) {\n        canvas = player.media.canvas;\n      } else {\n        if (!this.canvas) {\n          this.createCanvas(width, height);\n        } else {\n          this.canvas.width = width || config.width;\n          this.canvas.height = height || config.height;\n        }\n        canvas = this.canvas;\n        canvasCtx = this.canvasCtx;\n        const mediaRatio = player.media.videoWidth / player.media.videoHeight;\n        const canvasRatio = canvas.width / canvas.height;\n        const sx = 0, sy = 0, sw = player.media.videoWidth, sh = player.media.videoHeight;\n        let dx, dy, dw, dh;\n        if (mediaRatio > canvasRatio) {\n          dw = canvas.width;\n          dh = canvas.width / mediaRatio;\n          dx = 0;\n          dy = Math.round((canvas.height - dh) / 2);\n        } else if (mediaRatio === canvasRatio) {\n          dw = canvas.width;\n          dh = canvas.height;\n          dx = 0;\n          dy = 0;\n        } else if (mediaRatio < canvasRatio) {\n          dw = canvas.height * mediaRatio;\n          dh = canvas.height;\n          dx = Math.round((canvas.width - dw) / 2);\n          dy = 0;\n        }\n        canvasCtx.drawImage(player.media, sx, sy, sw, sh, dx, dy, dw, dh);\n      }\n      let src = canvas.toDataURL(type, quality).replace(type, \"image/octet-stream\");\n      src = src.replace(/^data:image\\/[^;]+/, \"data:application/octet-stream\");\n      resolve(src);\n    });\n  }\n  registerIcons() {\n    return {\n      screenshotIcon: null\n    };\n  }\n  destroy() {\n    super.destroy();\n    this.unbind([\"click\", \"touchend\"], this.onClickBtn);\n    this.off(VIDEO_RESIZE, this.initSize);\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    const className = this.icons.screenshotIcon ? \"xgplayer-icon\" : \"xgplayer-icon btn-text\";\n    const langKey = \"SCREENSHOT\";\n    return `\n      <xg-icon class=\"xgplayer-shot\">\n      <div class=\"${className}\">\n      ${this.icons.screenshotIcon ? \"\" : `<span lang-key=\"${this.i18nKeys[langKey]}\">${this.i18n[langKey]}</span>`}\n      </div>\n    </xg-icon>`;\n  }\n}\nexport { ScreenShot as default };\n","import util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass OptionList {\n  constructor(args) {\n    this.config = args.config;\n    this.parent = args.root;\n    this.root = util.createDom(\"ul\", \"\", {}, `xg-options-list xg-list-slide-scroll ${this.config.className}`);\n    args.root.appendChild(this.root);\n    const { maxHeight } = this.config;\n    if (maxHeight) {\n      this.setStyle({ maxHeight });\n    }\n    this.onItemClick = this.onItemClick.bind(this);\n    this.renderItemList();\n    const eventName = sniffer.device === \"mobile\" ? \"touchend\" : \"click\";\n    this._delegates = Plugin.delegate.call(this, this.root, \"li\", eventName, this.onItemClick);\n  }\n  renderItemList(data) {\n    const { config, root } = this;\n    if (data) {\n      config.data = data;\n    } else {\n      data = config.data;\n    }\n    if (config.style) {\n      Object.keys(config.style).map((key) => {\n        root.style[key] = config[key];\n      });\n    }\n    if (data.length > 0) {\n      this.attrKeys = Object.keys(data[0]);\n    }\n    this.root.innerHTML = \"\";\n    data.map((item, index) => {\n      const className = item.selected ? \"option-item selected\" : \"option-item\";\n      item[\"data-index\"] = index;\n      this.root.appendChild(util.createDom(\"li\", `<span>${item.showText}</span>`, item, className));\n    });\n  }\n  onItemClick(e) {\n    if (!e.delegateTarget) {\n      e.delegateTarget = e.target;\n    }\n    const target = e.delegateTarget;\n    if (target && util.hasClass(target, \"selected\")) {\n      return false;\n    }\n    const changeCallback = typeof this.config.onItemClick === \"function\" ? this.config.onItemClick : null;\n    const curSelected = this.root.querySelector(\".selected\");\n    util.addClass(target, \"selected\");\n    curSelected && util.removeClass(curSelected, \"selected\");\n    changeCallback(e, {\n      from: curSelected ? this.getAttrObj(curSelected, this.attrKeys) : null,\n      to: this.getAttrObj(target, this.attrKeys)\n    });\n  }\n  getAttrObj(dom, keys) {\n    if (!dom || !keys) {\n      return {};\n    }\n    const obj = {};\n    keys.map((key) => {\n      obj[key] = dom.getAttribute(key);\n    });\n    const index = dom.getAttribute(\"data-index\");\n    if (index) {\n      obj.index = Number(index);\n    }\n    return obj;\n  }\n  show() {\n    util.removeClass(this.root, \"hide\");\n    util.addClass(this.root, \"active\");\n  }\n  hide() {\n    util.removeClass(this.root, \"active\");\n    util.addClass(this.root, \"hide\");\n  }\n  setStyle(style) {\n    Object.keys(style).forEach((key) => {\n      this.root.style[key] = style[key];\n    });\n  }\n  destroy() {\n    if (this._delegates) {\n      this._delegates.map((item) => {\n        item.destroy && item.destroy();\n      });\n      this._delegates = null;\n    }\n    this.root.innerHTML = null;\n    this.parent.removeChild(this.root);\n    this.root = null;\n  }\n}\nexport { OptionList as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VIDEO_RESIZE, FULLSCREEN_CHANGE, CANPLAY, PLAYER_FOCUS } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionList from \"./optionList.js\";\nconst LIST_TYPES = {\n  SIDE: \"side\",\n  MIDDLE: \"middle\"\n};\nconst TOGGLE_MODES = {\n  CLICK: \"click\",\n  HOVER: \"hover\"\n};\nfunction getListClassName(listType, position) {\n  if (listType === LIST_TYPES.SIDE) {\n    return position === POSITIONS.CONTROLS_LEFT ? \"xg-side-list xg-left-side\" : \"xg-side-list xg-right-side\";\n  } else {\n    return \"\";\n  }\n}\nconst IS_MOBILE = sniffer.device === \"mobile\";\nclass OptionsIcon extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onEnter\", (e) => {\n      e.stopPropagation();\n      this.emit(\"icon_mouseenter\", {\n        pluginName: this.pluginName\n      });\n      this.switchActiveState(e);\n    });\n    __publicField(this, \"switchActiveState\", (e) => {\n      e.stopPropagation();\n      const { toggleMode } = this.config;\n      if (toggleMode === TOGGLE_MODES.CLICK) {\n        this.toggle(!this.isActive);\n      } else {\n        this.toggle(true);\n      }\n    });\n    __publicField(this, \"onLeave\", (e) => {\n      e.stopPropagation();\n      this.emit(\"icon_mouseleave\", {\n        pluginName: this.pluginName\n      });\n      if (this.config.listType !== LIST_TYPES.SIDE) {\n        this.isActive && this.toggle(false);\n      }\n    });\n    __publicField(this, \"onListEnter\", (e) => {\n      this.enterType = 2;\n    });\n    __publicField(this, \"onListLeave\", (e) => {\n      this.enterType = 0;\n      this.isActive && this.toggle(false);\n    });\n    this.isIcons = false;\n    this.isActive = false;\n    this.curValue = null;\n    this.curIndex = 0;\n  }\n  static get pluginName() {\n    return \"optionsIcon\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 100,\n      list: [],\n      listType: \"middle\",\n      listStyle: {},\n      hidePortrait: true,\n      isShowIcon: false,\n      isItemClickHide: true,\n      toggleMode: TOGGLE_MODES.HOVER,\n      heightLimit: true\n    };\n  }\n  updateLang(value) {\n    this.renderItemList(this.config.list, this.curIndex);\n  }\n  afterCreate() {\n    const { config } = this;\n    this.initIcons();\n    if (IS_MOBILE && config.listType !== LIST_TYPES.MIDDLE) {\n      config.listType = LIST_TYPES.SIDE;\n    }\n    config.hidePortrait && util.addClass(this.root, \"portrait\");\n    this.on([VIDEO_RESIZE, FULLSCREEN_CHANGE], () => {\n      this._resizeList();\n    });\n    this.once(CANPLAY, () => {\n      if (config.list && config.list.length > 0) {\n        this.renderItemList(config.list);\n        this.show();\n      }\n    });\n    IS_MOBILE && this.on(PLAYER_FOCUS, () => {\n      if (!this.isActive) {\n        return;\n      }\n      this.optionsList && this.optionsList.hide();\n      this.isActive = false;\n    });\n    if (IS_MOBILE) {\n      config.toggleMode = TOGGLE_MODES.CLICK;\n      this.activeEvent = \"touchend\";\n    } else {\n      this.activeEvent = config.toggleMode === TOGGLE_MODES.CLICK ? \"click\" : \"mouseenter\";\n    }\n    if (config.toggleMode === TOGGLE_MODES.CLICK) {\n      this.bind(this.activeEvent, this.switchActiveState);\n    } else {\n      this.bind(this.activeEvent, this.onEnter);\n      this.bind(\"mouseleave\", this.onLeave);\n    }\n    this.isIcons && this.bind(\"click\", this.onIconClick);\n  }\n  initIcons() {\n    const { icons } = this;\n    const _c = Object.keys(icons);\n    let _isIcons = false;\n    if (_c.length > 0) {\n      _c.forEach((key) => {\n        this.appendChild(\".xgplayer-icon\", icons[key]);\n        !_isIcons && (_isIcons = icons[key]);\n      });\n      this.isIcons = _isIcons;\n    }\n    if (_isIcons) {\n      return;\n    }\n    this.appendChild(\".xgplayer-icon\", util.createDom(\"span\", \"\", {}, \"icon-text\"));\n    util.addClass(this.find(\".xgplayer-icon\"), \"btn-text\");\n  }\n  show(value) {\n    if (!this.config.list || this.config.list.length < 2) {\n      return;\n    }\n    util.addClass(this.root, \"show\");\n  }\n  hide() {\n    util.removeClass(this.root, \"show\");\n  }\n  getTextByLang(item, key, lang) {\n    if (item === void 0) {\n      return \"\";\n    }\n    const { list } = this.config;\n    !lang && (lang = this.player.lang);\n    key = !key || util.isUndefined(item[key]) ? \"text\" : key;\n    typeof item === \"number\" && (item = list[item]);\n    try {\n      if (typeof item[key] === \"object\") {\n        return item[key][lang] || item[key].en;\n      } else {\n        return item[key];\n      }\n    } catch (err) {\n      console.warn(err);\n      return \"\";\n    }\n  }\n  toggle(isActive) {\n    if (isActive === this.isActive)\n      return;\n    const { controls } = this.player;\n    const { listType } = this.config;\n    if (isActive) {\n      listType === LIST_TYPES.SIDE ? controls.blur() : controls.focus();\n      this.optionsList && this.optionsList.show();\n    } else {\n      listType === LIST_TYPES.SIDE ? controls.focus() : controls.focusAwhile();\n      this.optionsList && this.optionsList.hide();\n    }\n    this.isActive = isActive;\n  }\n  onItemClick(e, data) {\n    e.stopPropagation();\n    const { listType, list } = this.config;\n    this.curIndex = data.to.index;\n    this.curItem = list[this.curIndex];\n    this.changeCurrentText();\n    const { isItemClickHide } = this.config;\n    (isItemClickHide || IS_MOBILE || listType === LIST_TYPES.SIDE) && this.toggle(false);\n  }\n  onIconClick(e) {\n  }\n  changeCurrentText() {\n    if (this.isIcons) {\n      return;\n    }\n    const { list } = this.config;\n    const index = this.curIndex < list.length ? this.curIndex : 0;\n    const curItem = list[index];\n    if (!curItem)\n      return;\n    this.find(\".icon-text\").innerHTML = this.getTextByLang(curItem, \"iconText\");\n  }\n  renderItemList(itemList, curIndex) {\n    const { config, optionsList, player } = this;\n    if (typeof curIndex === \"number\") {\n      this.curIndex = curIndex;\n      this.curItem = config.list[curIndex];\n    }\n    if (optionsList) {\n      optionsList.renderItemList(itemList);\n      this.changeCurrentText();\n      return;\n    }\n    const options = {\n      config: {\n        data: itemList || [],\n        className: getListClassName(config.listType, config.position),\n        onItemClick: (e, data) => {\n          this.onItemClick(e, data);\n        }\n      },\n      root: config.listType === LIST_TYPES.SIDE ? player.innerContainer || player.root : this.root\n    };\n    if (this.config.isShowIcon) {\n      const { height } = this.player.root.getBoundingClientRect();\n      const _maxH = config.listType === LIST_TYPES.MIDDLE ? height - 50 : height;\n      if (_maxH && config.heightLimit) {\n        options.config.maxHeight = `${_maxH}px`;\n      }\n      this.optionsList = new OptionList(options);\n      this.changeCurrentText();\n      this.show();\n    }\n    this._resizeList();\n  }\n  _resizeList() {\n    if (!this.config.heightLimit) {\n      return;\n    }\n    const { height } = this.player.root.getBoundingClientRect();\n    const _maxH = this.config.listType === LIST_TYPES.MIDDLE ? height - 50 : height;\n    this.optionsList && this.optionsList.setStyle({ maxHeight: `${_maxH}px` });\n  }\n  destroy() {\n    const { config } = this;\n    if (config.toggleMode === TOGGLE_MODES.CLICK) {\n      this.unbind(this.activeEvent, this.switchActiveState);\n    } else {\n      this.unbind(this.activeEvent, this.onEnter);\n      this.unbind(\"mouseleave\", this.onLeave);\n    }\n    this.isIcons && this.unbind(\"click\", this.onIconClick);\n    if (this.optionsList) {\n      this.optionsList.destroy();\n      this.optionsList = null;\n    }\n  }\n  render() {\n    if (!this.config.isShowIcon) {\n      return;\n    }\n    return `<xg-icon class=\"xg-options-icon ${this.config.className || \"\"}\">\n    <div class=\"xgplayer-icon\">\n    </div>\n   </xg-icon>`;\n  }\n}\nexport { OptionsIcon as default };\n","import util from \"../../utils/util.js\";\nimport { DEFINITION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nclass DefinitionIcon extends OptionsIcon {\n  static get pluginName() {\n    return \"definition\";\n  }\n  static get defaultConfig() {\n    return {\n      ...OptionsIcon.defaultConfig,\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 3,\n      list: [],\n      defaultDefinition: \"\",\n      disable: false,\n      hidePortrait: false,\n      className: \"xgplayer-definition\",\n      isShowIcon: true\n    };\n  }\n  beforeCreate(args) {\n    const { list } = args.config;\n    if (Array.isArray(list) && list.length > 0) {\n      args.config.list = list.map((item) => {\n        if (!item.text && item.name) {\n          item.text = item.name;\n        }\n        if (!item.text) {\n          item.text = item.definition;\n        }\n        return item;\n      });\n    }\n  }\n  constructor(args) {\n    super(args);\n    this.curTime = 0;\n    this.isPaused = true;\n  }\n  afterCreate() {\n    super.afterCreate();\n    this.on(\"resourceReady\", (list) => {\n      this.changeDefinitionList(list);\n    });\n    this.on(DEFINITION_CHANGE, (data) => {\n      this.renderItemList(this.config.list, data.to);\n    });\n    if (this.player.definitionList.length < 2) {\n      this.hide();\n    }\n  }\n  show(value) {\n    if (!this.config.list || this.config.list.length < 2) {\n      return;\n    }\n    util.addClass(this.root, \"show\");\n  }\n  initDefinition() {\n    const { list, defaultDefinition } = this.config;\n    if (list.length > 0) {\n      let to = null;\n      list.map((item) => {\n        if (item.definition === defaultDefinition) {\n          to = item;\n        }\n      });\n      if (!to) {\n        to = list[0];\n      }\n      this.changeDefinition(to);\n    }\n  }\n  renderItemList(list = this.config.list || [], to) {\n    const targetDef = to && to.definition ? to.definition : this.config.defaultDefinition;\n    if (to) {\n      list.forEach((item) => {\n        item.selected = false;\n      });\n    }\n    let curIndex = 0;\n    const items = list.map((item, index) => {\n      const showItem = {\n        ...item,\n        showText: this.getTextByLang(item) || item.definition,\n        selected: false\n      };\n      if (item.selected || item.definition && item.definition == targetDef) {\n        showItem.selected = true;\n        curIndex = index;\n      }\n      return showItem;\n    });\n    super.renderItemList(items, curIndex);\n  }\n  changeDefinitionList(list) {\n    if (!Array.isArray(list)) {\n      return;\n    }\n    this.config.list = list.map((item) => {\n      if (!item.text && item.name) {\n        item.text = item.name;\n      }\n      if (!item.text) {\n        item.text = item.definition;\n      }\n      return item;\n    });\n    this.renderItemList();\n    this.config.list.length < 2 ? this.hide() : this.show();\n  }\n  changeDefinition(to, from) {\n    this.player.changeDefinition(to, from);\n  }\n  onItemClick(e, data) {\n    const { definitionList } = this.player;\n    super.onItemClick(...arguments);\n    this.emitUserAction(e, \"change_definition\", { from: data.from, to: data.to });\n    for (let i = 0; i < definitionList.length; i++) {\n      if (data.to && definitionList[i].definition === data.to.definition) {\n        data.to.url = definitionList[i].url;\n      }\n      if (data.from && definitionList[i].definition === data.from.definition) {\n        data.from.url = definitionList[i].url;\n      }\n    }\n    this.player.changeDefinition(data.to, data.from);\n  }\n}\nexport { DefinitionIcon as default };\n","import \"../../utils/util.js\";\nimport { RATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nclass PlaybackRate extends OptionsIcon {\n  static get pluginName() {\n    return \"playbackRate\";\n  }\n  static get defaultConfig() {\n    return {\n      ...OptionsIcon.defaultConfig,\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 4,\n      list: [2, 1.5, 1, 0.75, 0.5],\n      className: \"xgplayer-playbackrate\",\n      isShowIcon: true,\n      hidePortrait: false\n    };\n  }\n  constructor(args) {\n    super(args);\n    this.curRate = 1;\n  }\n  beforeCreate(args) {\n    const { playbackRate } = args.player.config;\n    const list = !playbackRate ? [] : Array.isArray(playbackRate) ? playbackRate : args.config.list;\n    if (Array.isArray(list)) {\n      args.config.list = list.map((item) => {\n        if (typeof item === \"number\") {\n          item = {\n            rate: item,\n            text: `${item}x`\n          };\n        } else if (!item.text && item.rate) {\n          item.text = `${item.rate}x`;\n        }\n        return item;\n      });\n    }\n  }\n  afterCreate() {\n    super.afterCreate();\n    this.on(RATE_CHANGE, () => {\n      if (this.curValue === this.player.playbackRate) {\n        return;\n      }\n      this.renderItemList();\n    });\n    this.renderItemList();\n  }\n  show(value) {\n    if (!this.config.list || this.config.list.length === 0) {\n      return;\n    }\n    super.show();\n  }\n  onItemClick(e, _data) {\n    super.onItemClick(e, _data);\n    const target = e.delegateTarget;\n    const rate = Number(target.getAttribute(\"rate\"));\n    if (!rate || rate === this.curValue) {\n      return false;\n    }\n    const props = {\n      playbackRate: {\n        from: this.player.playbackRate,\n        to: rate\n      }\n    };\n    this.emitUserAction(e, \"change_rate\", { props });\n    this.curValue = rate;\n    this.player.playbackRate = rate;\n  }\n  renderItemList() {\n    const playbackRate = this.player.playbackRate || 1;\n    this.curValue = playbackRate;\n    let curIndex = -1;\n    const items = this.config.list.map((item, index) => {\n      const itemInfo = {\n        rate: item.rate\n      };\n      if (itemInfo.rate === playbackRate) {\n        itemInfo.selected = true;\n        curIndex = index;\n      }\n      itemInfo.showText = this.getTextByLang(item);\n      return itemInfo;\n    });\n    super.renderItemList(items, curIndex);\n  }\n  changeCurrentText() {\n    if (this.isIcons) {\n      return;\n    }\n    const { list } = this.config;\n    const index = this.curIndex < list.length ? this.curIndex : 0;\n    const curItem = list[index];\n    let _text = \"\";\n    if (!curItem || this.curIndex < 0) {\n      _text = `${this.player.playbackRate}x`;\n    } else {\n      _text = this.getTextByLang(curItem, \"iconText\");\n    }\n    this.find(\".icon-text\").innerHTML = _text;\n  }\n  destroy() {\n    super.destroy();\n  }\n}\nexport { PlaybackRate as default };\n","function CssFullSceenSvg() {\n  return new DOMParser().parseFromString(`<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" class='path_full' d=\"M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\n</svg>\n`, \"image/svg+xml\").firstChild;\n}\nexport { CssFullSceenSvg as default };\n","function ExitCssFullSceenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" d=\"M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitCssFullSceenSvg as default };\n","import \"../../utils/util.js\";\nimport { CSS_FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport CssFullSceenSvg from \"../assets/requestCssFull.js\";\nimport ExitCssFullSceenSvg from \"../assets/exitCssFull.js\";\nclass CssFullScreen extends Icon {\n  static get pluginName() {\n    return \"cssFullscreen\";\n  }\n  static get defaultConfig() {\n    return {\n      position: POSITIONS.CONTROLS_RIGHT,\n      index: 1,\n      disable: false,\n      target: null\n    };\n  }\n  beforeCreate(args) {\n    if (typeof args.player.config.cssFullscreen === \"boolean\") {\n      args.config.disable = !args.player.config.cssFullscreen;\n    }\n  }\n  afterCreate() {\n    super.afterCreate();\n    if (this.config.disable) {\n      return;\n    }\n    if (this.config.target) {\n      this.playerConfig.fullscreenTarget = this.config.target;\n    }\n    this.initIcons();\n    this.on(CSS_FULLSCREEN_CHANGE, (isCssfullScreen) => {\n      this.animate(isCssfullScreen);\n    });\n    this.btnClick = this.btnClick.bind(this);\n    this.handleCssFullscreen = this.hook(\"cssFullscreen_change\", this.btnClick, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this.bind([\"click\", \"touchend\"], this.handleCssFullscreen);\n  }\n  initIcons() {\n    const { icons } = this;\n    const contentIcon = this.find(\".xgplayer-icon\");\n    contentIcon.appendChild(icons.cssFullscreen);\n    contentIcon.appendChild(icons.exitCssFullscreen);\n  }\n  btnClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    const { isCssfullScreen } = this.player;\n    this.emitUserAction(e, \"switch_cssfullscreen\", { cssfullscreen: isCssfullScreen });\n    if (!isCssfullScreen) {\n      this.player.getCssFullscreen();\n    } else {\n      this.player.exitCssFullscreen();\n    }\n  }\n  animate(isFullScreen) {\n    if (!this.root) {\n      return;\n    }\n    isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n    this.switchTips(isFullScreen);\n  }\n  switchTips(isFullScreen) {\n    const { i18nKeys } = this;\n    const tipDom = this.find(\".xg-tips\");\n    tipDom && this.changeLangTextKey(tipDom, isFullScreen ? i18nKeys.EXITCSSFULLSCREEN_TIPS : i18nKeys.CSSFULLSCREEN_TIPS);\n  }\n  registerIcons() {\n    return {\n      cssFullscreen: { icon: CssFullSceenSvg, class: \"xg-get-cssfull\" },\n      exitCssFullscreen: { icon: ExitCssFullSceenSvg, class: \"xg-exit-cssfull\" }\n    };\n  }\n  destroy() {\n    super.destroy();\n    this.unbind([\"click\", \"touchend\"], this.btnClick);\n  }\n  render() {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    </div>\n    ${xgIconTips(this, \"CSSFULLSCREEN_TIPS\", this.playerConfig.isHideTips)}\n    </xg-icon>`;\n  }\n}\nexport { CssFullScreen as default };\n","import \"../../utils/util.js\";\nimport { ERROR } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass ErrorPlugin extends Plugin {\n  static get pluginName() {\n    return \"error\";\n  }\n  afterCreate() {\n    this.clickHandler = this.hook(\"errorRetry\", this.errorRetry, {\n      pre: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n    this.onError = this.hook(\"showError\", this.handleError);\n    this.bind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n    this.on(ERROR, (error) => {\n      this.onError(error);\n    });\n  }\n  errorRetry(e) {\n    this.emitUserAction(e, \"error_retry\", {});\n    this.player.retry();\n  }\n  handleError(error = {}) {\n    const { player } = this;\n    const type = error.errorType;\n    let errorNote = player.errorNote ? this.i18n[player.errorNote] : \"\";\n    if (!errorNote) {\n      switch (type) {\n        case \"decoder\":\n          errorNote = this.i18n.MEDIA_ERR_DECODE;\n          break;\n        case \"network\":\n          errorNote = this.i18n.MEDIA_ERR_NETWORK;\n          break;\n        default:\n          errorNote = this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED;\n      }\n    }\n    this.find(\".xgplayer-error-text\").innerHTML = errorNote;\n    this.find(\".xgplayer-error-tips\").innerHTML = `${this.i18n.REFRESH_TIPS}<span class=\"xgplayer-error-refresh\">${this.i18n.REFRESH}</span>`;\n  }\n  destroy() {\n    this.unbind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n  }\n  render() {\n    return `<xg-error class=\"xgplayer-error\">\n      <div class=\"xgplayer-errornote\">\n       <span class=\"xgplayer-error-text\"></span>\n       <span class=\"xgplayer-error-tips\"><em class=\"xgplayer-error-refresh\"></em></span>\n      </div>\n    </xg-error>`;\n  }\n}\nexport { ErrorPlugin as default };\n","import util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nclass Prompt extends Plugin {\n  static get pluginName() {\n    return \"prompt\";\n  }\n  static get defaultConfig() {\n    return {\n      interval: 3e3,\n      style: {},\n      mode: \"arrow\",\n      autoHide: true,\n      detail: {\n        text: \"\",\n        highlight: \"\"\n      },\n      onClick: () => {\n      }\n    };\n  }\n  afterCreate() {\n    this.intervalId = 0;\n    this.customConfig = null;\n    this.bind(\".highlight\", [\"click\", \"touchend\"], (e) => {\n      if (this.config.onClick || this.customOnClick) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.customOnClick ? this.customOnClick(e) : this.config.onClick(e);\n      }\n    });\n    this.player.showPrompt = (...args) => {\n      this.showPrompt(...args);\n    };\n    this.player.hidePrompt = () => {\n      this.hide();\n    };\n  }\n  setStyle(style) {\n    Object.keys(style).map((key) => {\n      this.root.style[key] = style[key];\n    });\n  }\n  showPrompt(detail, config = {}, onClick = () => {\n  }) {\n    if (!detail) {\n      return;\n    }\n    this.customOnClick = onClick;\n    const { interval } = this.config;\n    if (this.intervalId) {\n      clearTimeout(this.intervalId);\n      this.intervalId = null;\n    }\n    util.addClass(this.root, \"show\");\n    config.mode === \"arrow\" && util.addClass(this.root, \"arrow\");\n    if (typeof detail === \"string\") {\n      this.find(\".xgplayer-prompt-detail\").innerHTML = detail;\n    } else {\n      this.find(\".xgplayer-prompt-detail\").innerHTML = `${detail.text || \"\"}${detail.highlight ? `<i class=\"highlight\">${detail.highlight}</i>` : \"\"}`;\n    }\n    config.style && this.setStyle(config.style);\n    const autoHide = typeof config.autoHide === \"boolean\" ? config.autoHide : this.config.autoHide;\n    if (autoHide) {\n      const hideinterval = config.interval || interval;\n      this.intervalId = setTimeout(() => {\n        this.hide();\n      }, hideinterval);\n    }\n  }\n  hide() {\n    util.removeClass(this.root, \"show\");\n    util.removeClass(this.root, \"arrow\");\n    this.root.removeAttribute(\"style\");\n    this.customOnClick = null;\n  }\n  render() {\n    return `<xg-prompt class=\"xgplayer-prompt ${STATE_CLASS.CONTROLS_FOLLOW}\">\n    <span class=\"xgplayer-prompt-detail\"></span>\n    </xg-prompt>`;\n  }\n}\nexport { Prompt as default };\n","import util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nconst ISPOT = {\n  time: 0,\n  text: \"\",\n  id: 1,\n  duration: 1,\n  color: \"#fff\",\n  style: {},\n  width: 6,\n  height: 6\n};\nfunction mergeISPOT(iSpot) {\n  Object.keys(ISPOT).map((key) => {\n    if (iSpot[key] === void 0) {\n      iSpot[key] = ISPOT[key];\n    }\n  });\n}\nconst APIS = {\n  _updateDotDom(iSpot, dotDom) {\n    if (!dotDom) {\n      return;\n    }\n    const ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    const style = iSpot.style || {};\n    style.left = `${ret.left}%`;\n    style.width = `${ret.width}%`;\n    dotDom.setAttribute(\"data-text\", iSpot.text);\n    dotDom.setAttribute(\"data-time\", iSpot.time);\n    if (ret.isMini) {\n      util.addClass(dotDom, \"mini\");\n    } else {\n      util.removeClass(dotDom, \"mini\");\n    }\n    Object.keys(style).map((key) => {\n      dotDom.style[key] = style[key];\n    });\n  },\n  initDots() {\n    this._ispots.map((item) => {\n      this.createDot(item, false);\n    });\n    this.ispotsInit = true;\n  },\n  createDot(iSpot, isNew = true) {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    if (isNew) {\n      mergeISPOT(iSpot);\n      this._ispots.push(iSpot);\n    }\n    if (!this.ispotsInit && isNew) {\n      return;\n    }\n    const ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    const style = iSpot.style || {};\n    style.left = `${ret.left}%`;\n    style.width = `${ret.width}%`;\n    let className = `xgspot_${iSpot.id} xgplayer-spot`;\n    ret.isMini && (className += \" mini\");\n    const _t = iSpot.template ? `<div class=\"xgplayer-spot-pop\">${iSpot.template}</div>` : \"\";\n    const dotDom = util.createDom(\"xg-spot\", _t, {\n      \"data-text\": iSpot.text,\n      \"data-time\": iSpot.time,\n      \"data-id\": iSpot.id\n    }, className);\n    Object.keys(style).map((key) => {\n      dotDom.style[key] = style[key];\n    });\n    progress.outer && progress.outer.appendChild(dotDom);\n    this.positionDot(dotDom, iSpot.id);\n  },\n  findDot(id) {\n    if (!this.player.plugins.progress) {\n      return;\n    }\n    const ret = this._ispots.filter((cur, index) => {\n      return cur.id === id;\n    });\n    return ret.length > 0 ? ret[0] : null;\n  },\n  updateDot(iSpot, needShow = false) {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    const dot = this.findDot(iSpot.id);\n    if (dot) {\n      Object.keys(iSpot).map((key) => {\n        dot[key] = iSpot[key];\n      });\n    }\n    if (!this.ispotsInit) {\n      return;\n    }\n    const dotDom = progress.find(`xg-spot[data-id=\"${iSpot.id}\"]`);\n    if (!dotDom) {\n      return;\n    }\n    this._updateDotDom(iSpot, dotDom);\n    if (needShow) {\n      this.showDot(iSpot.id);\n    }\n  },\n  deleteDot(id) {\n    const { _ispots } = this;\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    const del = [];\n    for (let i = 0; i < _ispots.length; i++) {\n      if (_ispots[i].id === id) {\n        del.push(i);\n      }\n    }\n    const len = del.length;\n    for (let i = len - 1; i >= 0; i--) {\n      _ispots.splice(del[i], 1);\n      if (this.ispotsInit) {\n        const dotDom = progress.find(`xg-spot[data-id=\"${id}\"]`);\n        if (dotDom) {\n          dotDom.parentElement.removeChild(dotDom);\n        }\n      }\n    }\n  },\n  deleteAllDots() {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = [];\n      return;\n    }\n    const dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    for (let i = dotDoms.length - 1; i >= 0; i--) {\n      progress.outer.removeChild(dotDoms[i]);\n    }\n    this._ispots = [];\n  },\n  updateAllDots(iSpots = []) {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = iSpots;\n      return;\n    }\n    this._ispots = [];\n    const dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    const len = dotDoms.length;\n    if (len > iSpots.length) {\n      for (let i = len - 1; i > iSpots.length - 1; i--) {\n        progress.outer.removeChild(dotDoms[i]);\n      }\n    }\n    iSpots.forEach((ispot, index) => {\n      if (index < len) {\n        dotDoms[index].setAttribute(\"data-id\", `${ispot.id}`);\n        this._ispots.push(ispot);\n        this.updateDot(ispot);\n      } else {\n        this.createDot(ispot);\n      }\n    });\n  },\n  positionDots() {\n    const { _ispots, playerSize } = this;\n    const { sizeInfo } = this.player;\n    const { progress } = this.player.plugins;\n    if (!progress || sizeInfo.width === playerSize.width) {\n      return;\n    }\n    playerSize.width = sizeInfo.width;\n    playerSize.left = sizeInfo.left;\n    _ispots.forEach((item) => {\n      const dotDom = progress.find(`xg-spot[data-id=\"${item.id}\"]`);\n      dotDom && this.positionDot(dotDom, item.id);\n    });\n  },\n  positionDot(dotDom, id) {\n    const _pop = util.findDom(dotDom, \".xgplayer-spot-pop\");\n    if (!_pop) {\n      return;\n    }\n    const pRect = this.playerSize;\n    const rect1 = dotDom.getBoundingClientRect();\n    const rect = _pop.getBoundingClientRect();\n    const _left = rect1.left - pRect.left;\n    const _diff = pRect.width - _left - rect1.width / 2;\n    if (_left < rect.width / 2 || pRect.width < rect.width) {\n      const t = rect.width / 2 - _left;\n      _pop.style.left = `${t}px`;\n    } else if (_diff < rect.width / 2) {\n      const t = _diff - rect.width / 2 + rect1.width / 2;\n      _pop.style.left = `${t}px`;\n    } else {\n      _pop.style.left = \"50%\";\n    }\n  },\n  updateDuration() {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    const { _ispots } = this;\n    _ispots.forEach((item) => {\n      const dotDom = progress.find(`xg-spot[data-id=\"${item.id}\"]`);\n      this._updateDotDom(item, dotDom);\n    });\n  },\n  getAllDotsDom() {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return [];\n    }\n    const dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    return dotDoms;\n  },\n  getDotDom(id) {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    return progress.find(`xg-spot[data-id=\"${id}\"]`);\n  }\n};\nfunction initDotsAPI(plugin) {\n  const { config, player } = plugin;\n  Object.keys(APIS).map((item) => {\n    plugin[item] = APIS[item].bind(plugin);\n  });\n  const ispots = player.config.progressDot || config.ispots || [];\n  plugin._ispots = ispots.map((item) => {\n    mergeISPOT(item);\n    return item;\n  });\n  plugin.ispotsInit = false;\n  plugin.playerSize = {\n    left: player.sizeInfo.left,\n    width: player.sizeInfo.width\n  };\n  plugin.on(DURATION_CHANGE, () => {\n    if (!plugin.ispotsInit) {\n      plugin.initDots();\n    } else {\n      plugin.updateDuration();\n    }\n  });\n  plugin.on(VIDEO_RESIZE, () => {\n    plugin.positionDots();\n  });\n}\nexport { initDotsAPI as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport initDotsAPI from \"./dotsApi.js\";\nconst CALLBACK_MAP = {\n  dragmove: \"onProgressMove\",\n  dragstart: \"onProgressDragStart\",\n  dragend: \"onProgressDragEnd\",\n  click: \"onProgressClick\",\n  mouseover: \"onProgressMouseOver\",\n  mouseenter: \"onProgressMouseOver\"\n};\nclass ProgressPreview extends Plugin {\n  constructor(args) {\n    super(args);\n    __publicField(this, \"onMousemove\", (e) => {\n      if (this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xg-spot-content\") && this.config.isHideThumbnailHover) {\n        this.player.plugins.progress.onMouseLeave(e);\n        return;\n      }\n      if (this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    __publicField(this, \"onMousedown\", (e) => {\n      if (this.config.disable) {\n        return;\n      }\n      if (this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    __publicField(this, \"onMouseup\", (e) => {\n      if (!this.isDrag) {\n        return;\n      }\n      const { progress } = this.player.plugins;\n      if (progress && progress.pos) {\n        progress.onMouseUp(e);\n        !progress.pos.isEnter && progress.onMouseLeave(e);\n      }\n    });\n    __publicField(this, \"onDotMouseLeave\", (e) => {\n      if (this.config.disable) {\n        return;\n      }\n      this._curDot.removeEventListener(\"mouseleave\", this.onDotMouseLeave);\n      this.blurDot(e.target);\n      this._curDot = null;\n      const { progress } = this.player.plugins;\n      progress && progress.enableBlur();\n      this.show();\n    });\n    __publicField(this, \"onProgressMouseOver\", (data, e) => {\n      if (this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xgplayer-spot\") && !this._curDot) {\n        this._curDot = e.target;\n        this.focusDot(e.target);\n        if (this._curDot.children.length > 0) {\n          this.hide();\n        }\n        const { progress } = this.player.plugins;\n        progress && progress.disableBlur();\n        this._curDot.addEventListener(\"mouseleave\", this.onDotMouseLeave);\n      }\n    });\n    this._ispots = [];\n    this.videoPreview = null;\n    this.videothumbnail = null;\n    this.thumbnail = null;\n    this.timeStr = \"\";\n    this._state = {\n      now: 0,\n      f: false\n    };\n  }\n  static get pluginName() {\n    return \"progresspreview\";\n  }\n  static get defaultConfig() {\n    return {\n      index: 1,\n      miniWidth: 6,\n      ispots: [],\n      defaultText: \"\",\n      isFocusDots: true,\n      isHideThumbnailHover: true,\n      isShowThumbnail: true,\n      isShowCoverPreview: false,\n      mode: \"\",\n      disable: false,\n      width: 160,\n      height: 90\n    };\n  }\n  beforeCreate(args) {\n    const progress = args.player.plugins.progress;\n    if (progress) {\n      args.root = progress.root;\n    }\n  }\n  afterCreate() {\n    this._curDot = null;\n    this.handlerSpotClick = this.hook(\"spotClick\", (_event, data) => {\n      if (data.seekTime) {\n        this.player.seek(data.seekTime);\n      }\n    });\n    this.transformTimeHook = this.hook(\"transformTime\", (time) => {\n      this.setTimeContent(util.format(time));\n    });\n    initDotsAPI(this);\n    this.on(DURATION_CHANGE, () => {\n      this.show();\n    });\n    if (this.config.disable) {\n      this.disable();\n    }\n    this.extTextRoot = this.find(\".xg-spot-ext-text\");\n  }\n  setConfig(config) {\n    if (!config) {\n      return;\n    }\n    Object.keys(config).map((key) => {\n      this.config[key] = config[key];\n    });\n  }\n  onPluginsReady() {\n    const { player } = this;\n    if (!player.plugins.progress) {\n      return;\n    }\n    this.previewLine = this.find(\".xg-spot-line\");\n    this.timePoint = this.find(\".xgplayer-progress-point\");\n    this.timeText = this.find(\".xg-spot-time\");\n    this.tipText = this.find(\".spot-inner-text\");\n    this._hasThumnail = false;\n    this.registerThumbnail();\n    this.bindEvents();\n  }\n  bindEvents() {\n    const { progress } = this.player.plugins;\n    if (!progress) {\n      return;\n    }\n    Object.keys(CALLBACK_MAP).map((key) => {\n      this[CALLBACK_MAP[key]] = this[CALLBACK_MAP[key]].bind(this);\n      progress.addCallBack(key, this[CALLBACK_MAP[key]]);\n    });\n    if (sniffer.device === \"mobile\")\n      return;\n    this.bind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n    this.bind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n    this.bind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n    const fun = this.hook(\"previewClick\", (...args) => {\n    });\n    this.handlerPreviewClick = (e) => {\n      e.stopPropagation();\n      fun(parseInt(this._state.now * 1e3, 10) / 1e3, e);\n    };\n    this.bind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n  }\n  onProgressMove(data, e) {\n    if (this.config.disable || !this.player.duration) {\n      return;\n    }\n    this.updatePosition(data.offset, data.width, data.currentTime, data.e);\n  }\n  onProgressDragStart(data) {\n    if (this.config.disable || !this.player.duration) {\n      return;\n    }\n    this.isDrag = true;\n    this.videoPreview && util.addClass(this.videoPreview, \"show\");\n  }\n  onProgressDragEnd(data) {\n    if (this.config.disable || !this.player.duration) {\n      return;\n    }\n    this.isDrag = false;\n    this.videoPreview && util.removeClass(this.videoPreview, \"show\");\n  }\n  onProgressClick(data, e) {\n    if (this.config.disable) {\n      return;\n    }\n    if (util.hasClass(e.target, \"xgplayer-spot\")) {\n      e.stopPropagation();\n      e.preventDefault();\n      [\"time\", \"id\", \"text\"].map((key) => {\n        data[key] = e.target.getAttribute(`data-${key}`);\n      });\n      data.time && (data.time = Number(data.time));\n      this.handlerSpotClick(e, data);\n    }\n  }\n  updateLinePos(offset, cwidth) {\n    const { root, previewLine, player, config } = this;\n    const { mode } = player.controls;\n    const isflex = mode === \"flex\";\n    let lwidth = root.getBoundingClientRect().width;\n    if (!lwidth && this._hasThumnail) {\n      return;\n    }\n    lwidth = this._hasThumnail && lwidth < config.width ? config.width : lwidth;\n    let x = offset - lwidth / 2;\n    let _t;\n    if (x < 0 && !isflex) {\n      x = 0;\n      _t = offset - lwidth / 2;\n    } else if (x > cwidth - lwidth && !isflex) {\n      _t = x - (cwidth - lwidth);\n      x = cwidth - lwidth;\n    } else {\n      _t = 0;\n    }\n    _t !== void 0 && (previewLine.style.transform = `translateX(${_t.toFixed(2)}px)`);\n    root.style.transform = `translateX(${x.toFixed(2)}px) translateZ(0)`;\n  }\n  updateTimeText(timeStr) {\n    const { timeText, timePoint } = this;\n    timeText.innerHTML = timeStr;\n    !this.thumbnail && (timePoint.innerHTML = timeStr);\n  }\n  updatePosition(offset, cwidth, time, e) {\n    const { root, config, _state } = this;\n    if (!root) {\n      return;\n    }\n    _state.now = time;\n    this.transformTimeHook(time);\n    const timeStr = this.timeStr;\n    if (e && e.target && util.hasClass(e.target, \"xgplayer-spot\")) {\n      this.showTips(e.target.getAttribute(\"data-text\"), false, timeStr);\n      this.focusDot(e.target);\n      _state.f = true;\n      config.isFocusDots && _state.f && (_state.now = parseInt(e.target.getAttribute(\"data-time\"), 10));\n    } else if (config.defaultText) {\n      _state.f = false;\n      this.showTips(config.defaultText, true, timeStr);\n    } else {\n      _state.f = false;\n      this.hideTips(\"\");\n    }\n    this.updateTimeText(timeStr);\n    this.updateThumbnails(_state.now);\n    this.updateLinePos(offset, cwidth);\n  }\n  setTimeContent(str) {\n    this.timeStr = str;\n  }\n  updateThumbnails(time) {\n    const { player, videoPreview, config } = this;\n    const { thumbnail } = player.plugins;\n    if (thumbnail && thumbnail.usable) {\n      this.thumbnail && thumbnail.update(this.thumbnail, time, config.width, config.height);\n      const rect = videoPreview && videoPreview.getBoundingClientRect();\n      this.videothumbnail && thumbnail.update(this.videothumbnail, time, rect.width, rect.height);\n    }\n  }\n  registerThumbnail(thumbnailConfig = {}) {\n    if (sniffer.device === \"mobile\") {\n      return;\n    }\n    const { player, config } = this;\n    const thumbnail = player.getPlugin(\"thumbnail\");\n    if (thumbnail) {\n      thumbnail.setConfig(thumbnailConfig);\n    }\n    if (!thumbnail || !thumbnail.usable || !config.isShowThumbnail) {\n      util.addClass(this.root, \"short-line no-thumbnail\");\n      return;\n    } else {\n      util.removeClass(this.root, \"short-line no-thumbnail\");\n    }\n    if (config.mode === \"short\") {\n      util.addClass(this.root, \"short-line\");\n    }\n    this._hasThumnail = true;\n    const tRoot = this.find(\".xg-spot-thumbnail\");\n    this.thumbnail = thumbnail.createThumbnail(tRoot, \"progress-thumbnail\");\n    if (config.isShowCoverPreview) {\n      this.videoPreview = util.createDom(\"xg-video-preview\", \"\", {}, \"xgvideo-preview\");\n      player.root.appendChild(this.videoPreview);\n      this.videothumbnail = thumbnail.createThumbnail(this.videoPreview, \"xgvideo-thumbnail\");\n    }\n    this.updateThumbnails(0);\n  }\n  calcuPosition(time, duration) {\n    const { progress } = this.player.plugins;\n    const { player } = this;\n    const totalWidth = progress.root.getBoundingClientRect().width;\n    const widthPerSeconds = player.duration / totalWidth * 6;\n    if (time + duration > player.duration) {\n      duration = player.duration - time;\n    }\n    time / player.duration * 100;\n    duration / player.duration;\n    return {\n      left: time / player.duration * 100,\n      width: duration / player.duration * 100,\n      isMini: duration < widthPerSeconds\n    };\n  }\n  showDot(id) {\n    const dot = this.findDot(id);\n    if (dot) {\n      const rect = this.root.getBoundingClientRect();\n      const { width } = rect;\n      const offset = dot.time / this.player.duration * width;\n      this.updatePosition(offset, width, dot.time);\n    }\n  }\n  focusDot(target, id) {\n    if (!target) {\n      return;\n    }\n    if (!id) {\n      id = target.getAttribute(\"data-id\");\n    }\n    util.addClass(target, \"active\");\n    this._activeDotId = id;\n  }\n  blurDot(target) {\n    if (!target) {\n      const id = this._activeDotId;\n      target = this.getDotDom(id);\n    }\n    if (!target) {\n      return;\n    }\n    util.removeClass(target, \"active\");\n    this._activeDotId = null;\n  }\n  showTips(text, isDefault, timeStr = \"\") {\n    util.addClass(this.root, \"no-timepoint\");\n    if (!text) {\n      return;\n    }\n    util.addClass(this.find(\".xg-spot-content\"), \"show-text\");\n    if (isDefault && this.config.mode === \"production\") {\n      util.addClass(this.root, \"product\");\n      this.tipText.textContent = text;\n    } else {\n      util.removeClass(this.root, \"product\");\n      this.tipText.textContent = this._hasThumnail ? text : `${timeStr} ${text}`;\n    }\n  }\n  hideTips() {\n    util.removeClass(this.root, \"no-timepoint\");\n    this.tipText.textContent = \"\";\n    util.removeClass(this.find(\".xg-spot-content\"), \"show-text\");\n    util.removeClass(this.root, \"product\");\n  }\n  hide() {\n    util.addClass(this.root, \"hide\");\n  }\n  show(value) {\n    util.removeClass(this.root, \"hide\");\n  }\n  enable() {\n    const { config, playerConfig } = this;\n    this.config.disable = false;\n    this.show();\n    if (!this.thumbnail && config.isShowThumbnail) {\n      this.registerThumbnail(playerConfig.thumbnail || {});\n    }\n  }\n  disable() {\n    this.config.disable = true;\n    this.hide();\n  }\n  destroy() {\n    const { progress } = this.player.plugins;\n    progress && Object.keys(CALLBACK_MAP).map((key) => {\n      progress.removeCallBack(key, this[CALLBACK_MAP[key]]);\n    });\n    this.videothumbnail = null;\n    this.thumbnail = null;\n    this.videoPreview && this.player.root.removeChild(this.videoPreview);\n    this.unbind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n    this.unbind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n    this.unbind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n    this.unbind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n  }\n  render() {\n    if (sniffer.device === \"mobile\" || this.playerConfig.isMobileSimulateMode === \"mobile\") {\n      return \"\";\n    }\n    return `<div class=\"xg-spot-info hide ${this.config.mode === \"short\" ? \"short-line\" : \"\"}\">\n      <div class=\"xg-spot-content\">\n        <div class=\"xg-spot-thumbnail\">\n          <span class=\"xg-spot-time\"></span>\n        </div>\n        <div class=\"xg-spot-text\"><span class=\"spot-inner-text\"></span></div>\n      </div>\n      <div class=\"xgplayer-progress-point\">00:00</div>\n      <div class=\"xg-spot-ext-text\"></div>\n      <div class=\"xg-spot-line\"></div>\n    </div>`;\n  }\n}\nexport { ProgressPreview as default };\n","import util from \"../../utils/util.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass Thumbnail extends Plugin {\n  static get pluginName() {\n    return \"thumbnail\";\n  }\n  static get defaultConfig() {\n    return {\n      isShow: false,\n      urls: [],\n      pic_num: 0,\n      col: 0,\n      row: 0,\n      height: 90,\n      width: 160,\n      scale: 1,\n      className: \"\",\n      hidePortrait: false\n    };\n  }\n  constructor(args) {\n    super(args);\n    this.ratio = 1;\n    this.interval = null;\n    this._preloadMark = {};\n  }\n  afterCreate() {\n    if (this.usable) {\n      this.initThumbnail();\n    }\n    this.on([DURATION_CHANGE], () => {\n      const { pic_num, interval } = this.config;\n      this.usable && (this.interval = interval > 0 ? interval : Math.round(this.player.duration * 1e3 / pic_num) / 1e3);\n    });\n  }\n  setConfig(config) {\n    if (!config) {\n      return;\n    }\n    const keys = Object.keys(config);\n    if (keys.length < 1) {\n      return;\n    }\n    keys.forEach((key) => {\n      this.config[key] = config[key];\n    });\n    this.usable && this.initThumbnail();\n  }\n  get usable() {\n    const { urls, pic_num } = this.config;\n    return urls && urls.length > 0 && pic_num > 0;\n  }\n  initThumbnail() {\n    const { width, height, pic_num, interval } = this.config;\n    this.ratio = width / height * 100;\n    this.interval = interval || Math.round(this.player.duration / pic_num);\n    this._preloadMark = {};\n  }\n  getUrlByIndex(index) {\n    return index >= 0 && index < this.config.urls.length ? this.config.urls[index] : \"\";\n  }\n  preload(index) {\n    if (this._preloadMark[index]) {\n      return;\n    }\n    const { urls } = this.config;\n    const len = urls.length;\n    const arr = [];\n    index > 0 && arr.push(index - 1);\n    arr.push(index);\n    index > 0 && index < len - 1 && arr.push(index + 1);\n    arr.map((item) => {\n      if (!this._preloadMark[item] && item >= 0 && item < len) {\n        this._preloadMark[item] = 1;\n        util.preloadImg(urls[item], () => {\n          this._preloadMark[item] = 2;\n        });\n      }\n    });\n  }\n  getPosition(now, containerWidth = 0, containerHeight = 0) {\n    const { pic_num, row, col, width, height } = this.config;\n    this.interval = Math.round(this.player.duration / pic_num);\n    let index = Math.ceil(now / this.interval);\n    index = index > pic_num ? pic_num : index;\n    const urlIndex = index < row * col ? 0 : Math.ceil(index / (row * col)) - 1;\n    const indexInPage = index - urlIndex * (col * row);\n    const rowIndex = indexInPage > 0 ? Math.ceil(indexInPage / col) - 1 : 0;\n    const colIndex = indexInPage > 0 ? indexInPage - rowIndex * col - 1 : 0;\n    let swidth = 0;\n    let sHeight = 0;\n    if (containerWidth && containerHeight) {\n      const per = containerWidth / containerHeight;\n      if (per < width / height) {\n        sHeight = containerHeight;\n        swidth = sHeight * (width / height);\n      } else {\n        swidth = containerWidth;\n        sHeight = swidth / (width / height);\n      }\n    } else if (!containerHeight) {\n      swidth = containerWidth || width;\n      sHeight = swidth / (width / height);\n    } else if (!containerWidth) {\n      sHeight = containerHeight || height;\n      swidth = sHeight * (width / height);\n    }\n    const url = this.getUrlByIndex(urlIndex);\n    return {\n      urlIndex,\n      rowIndex,\n      colIndex,\n      url,\n      height: sHeight,\n      width: swidth,\n      style: {\n        backgroundImage: `url(${url})`,\n        backgroundSize: `${swidth * col}px auto`,\n        backgroundPosition: `-${colIndex * swidth}px -${rowIndex * sHeight}px`,\n        width: `${swidth}px`,\n        height: `${sHeight}px`\n      }\n    };\n  }\n  update(dom, now, containerWidth = 0, containerHeight = 0, customStyle = \"\") {\n    const { pic_num, urls } = this.config;\n    if (pic_num <= 0 || !urls || urls.length === 0) {\n      return;\n    }\n    const pos = this.getPosition(now, containerWidth, containerHeight);\n    this.preload(pos.urlIndex);\n    Object.keys(pos.style).map((key) => {\n      dom.style[key] = pos.style[key];\n    });\n    Object.keys(customStyle).map((key) => {\n      dom.style[key] = customStyle[key];\n    });\n  }\n  changeConfig(newConfig = {}) {\n    this.setConfig(newConfig);\n  }\n  createThumbnail(root, className) {\n    const dom = util.createDom(\"xg-thumbnail\", \"\", {}, `thumbnail ${className}`);\n    root && root.appendChild(dom);\n    return dom;\n  }\n}\nexport { Thumbnail as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { TIME_UPDATE, EMPTIED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction getBgColor(color) {\n  return color ? `background:${color};` : \"\";\n}\nclass MiniProgress extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onTimeupdate\", () => {\n      const { ended } = this.player;\n      const { offsetDuration } = this;\n      let time = this.currentTime;\n      time = util.adjustTimeByDuration(time, offsetDuration, ended);\n      this.update({ played: time }, offsetDuration);\n    });\n  }\n  static get pluginName() {\n    return \"MiniProgress\";\n  }\n  static get defaultConfig() {\n    return {\n      mode: \"auto\",\n      height: 2\n    };\n  }\n  get offsetDuration() {\n    return this.playerConfig.customDuration || this.player.offsetDuration || this.player.duration;\n  }\n  get currentTime() {\n    const { offsetCurrentTime, currentTime } = this.player;\n    return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime;\n  }\n  afterCreate() {\n    if (!this.root) {\n      return;\n    }\n    this.on(TIME_UPDATE, this.onTimeupdate);\n    this.on(EMPTIED, () => {\n      this.reset();\n    });\n  }\n  reset() {\n    this.update({ played: 0, cached: 0 }, 0);\n  }\n  update(data = { cached: 0, played: 0 }, duration) {\n    if (!duration || !this.root) {\n      return;\n    }\n    if (data.cached) {\n      this.find(\"xg-mini-progress-cache\").style.width = `${data.cached / duration * 100}%`;\n    }\n    if (data.played) {\n      this.find(\"xg-mini-progress-played\").style.width = `${data.played / duration * 100}%`;\n    }\n  }\n  render() {\n    const { commonStyle, miniprogress } = this.playerConfig;\n    if (!miniprogress) {\n      return;\n    }\n    const { mode, height } = this.config;\n    const _style = {\n      cached: getBgColor(commonStyle.cachedColor),\n      played: getBgColor(commonStyle.playedColor),\n      progress: getBgColor(commonStyle.progressColor),\n      height: height > 0 && height !== 2 ? `height: ${height}px;` : \"\"\n    };\n    const stateClass = mode === \"show\" ? \"xg-mini-progress-show\" : \"\";\n    return `<xg-mini-progress class=\"xg-mini-progress ${stateClass}\" style=\"${_style.progress} ${_style.height}\">\n    <xg-mini-progress-cache class=\"xg-mini-progress-cache\" style=\"${_style.cached}\"></xg-mini-progress-cache>\n    <xg-mini-progress-played class=\"xg-mini-progress-played\" style=\"${_style.played}\"></xg-mini-progress-played>\n    </xg-mini-progress>`;\n  }\n}\nexport { MiniProgress as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { COMPLETE, EMPTIED, PLAY, PAUSE, LOADED_DATA, LOAD_START, TIME_UPDATE } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nconst MODES = {\n  REAL_TIME: \"realtime\",\n  FIRST_FRAME: \"firstframe\",\n  FRAME_RATE: \"framerate\",\n  POSTER: \"poster\"\n};\nfunction nowTime() {\n  try {\n    return parseInt(window.performance.now(), 10);\n  } catch (e) {\n    return new Date().getTime();\n  }\n}\nfunction checkIsSupportCanvas() {\n  try {\n    const ctx = document.createElement(\"canvas\").getContext;\n    if (ctx) {\n      return true;\n    }\n    return false;\n  } catch (e) {\n    return false;\n  }\n}\nlet isSupportCanvas = null;\nclass DynamicBg extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onLoadedData\", (e) => {\n      if (!this.player) {\n        return;\n      }\n      this._frameCount = this.config.startFrameCount;\n      this.stop();\n      this.renderOnTimeupdate(e);\n      this.off(TIME_UPDATE, this.renderOnTimeupdate);\n      this.on(TIME_UPDATE, this.renderOnTimeupdate);\n    });\n    __publicField(this, \"onVisibilitychange\", (e) => {\n      if (document.visibilityState === \"visible\") {\n        this._checkIfCanStart() && this.start();\n      } else if (document.visibilityState === \"hidden\") {\n        this.stop();\n      }\n    });\n    __publicField(this, \"renderOnTimeupdate\", (e) => {\n      if (this._frameCount > 0) {\n        this.renderOnce();\n        this._frameCount--;\n      } else {\n        this._isLoaded = true;\n        this.off(TIME_UPDATE, this.renderOnTimeupdate);\n        const { startInterval } = this.config;\n        !this.player.paused && this._checkIfCanStart() && this.start(0, startInterval);\n      }\n    });\n    __publicField(this, \"start\", (time, interval) => {\n      const video = this.player.video;\n      const _now = nowTime();\n      const _sVideo = this.checkVideoIsSupport(video);\n      if (!_sVideo || !this.canvasCtx) {\n        return;\n      }\n      if (!interval) {\n        interval = this.interval;\n      }\n      this.stop();\n      if (video.videoWidth && video.videoHeight) {\n        this.videoPI = video.videoHeight > 0 ? parseInt(video.videoWidth / video.videoHeight * 100, 10) : 0;\n        if (this.config.mode === MODES.REAL_TIME) {\n          video && video.videoWidth && this.update(_sVideo, this.videoPI);\n          this.preTime = _now;\n        } else if (_now - this.preTime >= interval) {\n          video && video.videoWidth && this.update(_sVideo, this.videoPI);\n          this.preTime = _now;\n        }\n      }\n      this.frameId = this._loopType === \"timer\" ? util.setTimeout(this, this.start, interval) : util.requestAnimationFrame(this.start);\n    });\n    __publicField(this, \"stop\", () => {\n      if (this.frameId) {\n        this._loopType === \"timer\" ? util.clearTimeout(this, this.frameId) : util.cancelAnimationFrame(this.frameId);\n        this.frameId = null;\n      }\n    });\n  }\n  static get pluginName() {\n    return \"dynamicBg\";\n  }\n  static get defaultConfig() {\n    return {\n      isInnerRender: false,\n      disable: true,\n      index: -1,\n      mode: \"framerate\",\n      frameRate: 10,\n      filter: \"blur(50px)\",\n      startFrameCount: 2,\n      startInterval: 0,\n      addMask: true,\n      multiple: 1.2,\n      maskBg: \"rgba(0,0,0,0.7)\"\n    };\n  }\n  static get isSupport() {\n    if (typeof isSupportCanvas === \"boolean\") {\n      return isSupportCanvas;\n    }\n    isSupportCanvas = checkIsSupportCanvas();\n    return isSupportCanvas;\n  }\n  static supportCanvasFilter() {\n    return !(sniffer.browser === \"safari\" || sniffer.browser === \"firefox\");\n  }\n  afterCreate() {\n    if (this.playerConfig.dynamicBg === true) {\n      this.config.disable = false;\n    }\n    if (!DynamicBg.isSupport) {\n      this.config.disable = true;\n    }\n    const { disable, mode, frameRate } = this.config;\n    if (disable) {\n      return;\n    }\n    this._pos = {\n      width: 0,\n      height: 0,\n      rwidth: 0,\n      rheight: 0,\n      x: 0,\n      y: 0,\n      pi: 0\n    };\n    this.isStart = false;\n    this._isLoaded = false;\n    this.videoPI = 0;\n    this.preTime = 0;\n    this.interval = parseInt(1e3 / frameRate, 10);\n    this.canvas = null;\n    this.canvasCtx = null;\n    this._frameCount = 0;\n    this._loopType = this.config.mode !== MODES.REAL_TIME && this.interval >= 1e3 ? \"timer\" : \"animation\";\n    this.once(COMPLETE, () => {\n      if (!this.player) {\n        return;\n      }\n      this.init();\n      this.renderByPoster();\n      if (!this.player.paused) {\n        this.start();\n      }\n    });\n    if (mode === MODES.POSTER) {\n      return;\n    }\n    if (mode !== MODES.FIRST_FRAME) {\n      this.on(EMPTIED, () => {\n        this.stop();\n      });\n      this.on(PLAY, () => {\n        const { startInterval } = this.config;\n        this._checkIfCanStart() && this.start(0, startInterval);\n      });\n      this.on(PAUSE, () => {\n        this.stop();\n      });\n    }\n    this.on(LOADED_DATA, this.onLoadedData);\n    this.on(LOAD_START, () => {\n      this._isLoaded = false;\n      this.stop();\n    });\n    document.addEventListener(\"visibilitychange\", this.onVisibilitychange);\n  }\n  setConfig(config) {\n    Object.keys(config).forEach((key) => {\n      if (key === \"root\" && config[key] !== this.config[key]) {\n        this.reRender(config[key]);\n      } else if (key === \"frameRate\") {\n        this.interval = parseInt(1e3 / config[key], 10);\n      } else if (key === \"disable\" && config[key]) {\n        this.stop();\n      }\n      this.config[key] = config[key];\n    });\n  }\n  init(_root) {\n    const { player, config } = this;\n    this.canvasFilter = DynamicBg.supportCanvasFilter();\n    try {\n      let parent = _root || config.root;\n      if (!parent) {\n        parent = !config.isInnerRender ? player.root : player.innerContainer || player.root;\n      }\n      parent.insertAdjacentHTML(\n        \"afterbegin\",\n        `<div class=\"xgplayer-dynamic-bg\" data-index=\"${config.index}\"><canvas>\n        </canvas><xgmask></xgmask></div>`\n      );\n      this.root = parent.children[0];\n      this.canvas = this.find(\"canvas\");\n      if (!this.canvasFilter) {\n        this.canvas.style.filter = config.filter;\n        this.canvas.style.webkitFilter = config.filter;\n      }\n      this.mask = this.find(\"xgmask\");\n      config.addMask && (this.mask.style.background = config.maskBg);\n      this.canvasCtx = this.canvas.getContext(\"2d\");\n    } catch (e) {\n      XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n    }\n  }\n  reRender(root) {\n    const { disable } = this.config;\n    if (!disable && !this.root) {\n      return;\n    }\n    this.stop();\n    const _p = this.root ? this.root.parentElement : null;\n    if (_p !== root) {\n      _p.removeChild(this.root);\n    }\n    if (!root) {\n      this.root = null;\n      return;\n    }\n    this.init(root);\n    this.renderOnce();\n    const { startInterval } = this.config;\n    this._checkIfCanStart() && this.start(0, startInterval);\n  }\n  checkVideoIsSupport(video) {\n    if (!video) {\n      return null;\n    }\n    const _tVideo = video && video instanceof window.HTMLVideoElement ? video : video.canvas ? video.canvas : video.flyVideo ? video.flyVideo : null;\n    if (_tVideo && !(sniffer.browser === \"safari\" && util.isMSE(_tVideo))) {\n      return _tVideo;\n    }\n    const _tagName = _tVideo ? _tVideo.tagName.toLowerCase() : \"\";\n    if (_tagName === \"canvas\" || _tagName === \"img\") {\n      return _tVideo;\n    }\n    return null;\n  }\n  renderByPoster() {\n    const { poster } = this.playerConfig;\n    if (poster) {\n      const url = util.typeOf(poster) === \"String\" ? poster : util.typeOf(poster.poster) === \"String\" ? poster.poster : null;\n      this.updateImg(url);\n    }\n  }\n  _checkIfCanStart() {\n    const { mode } = this.config;\n    return this._isLoaded && !this.player.paused && mode !== MODES.FIRST_FRAME && mode !== MODES.POSTER;\n  }\n  renderOnce() {\n    const video = this.player.video;\n    if (!video.videoWidth || !video.videoHeight) {\n      return;\n    }\n    this.videoPI = parseInt(video.videoWidth / video.videoHeight * 100, 10);\n    const _sVideo = this.checkVideoIsSupport(video);\n    _sVideo && this.update(_sVideo, this.videoPI);\n  }\n  updateImg(url) {\n    if (!url) {\n      return;\n    }\n    const { width, height } = this.canvas.getBoundingClientRect();\n    let image = new window.Image();\n    image.onload = () => {\n      if (!this.canvas || this.frameId || this.isStart) {\n        return;\n      }\n      this.canvas.height = height;\n      this.canvas.width = width;\n      const pi = parseInt(width / height * 100, 10);\n      this.update(image, pi);\n      image = null;\n    };\n    image.src = url;\n  }\n  update(video, sourcePI) {\n    if (!this.canvas || !this.canvasCtx || !sourcePI) {\n      return;\n    }\n    try {\n      const { _pos, config } = this;\n      const { width, height } = this.canvas.getBoundingClientRect();\n      if (width !== _pos.width || height !== _pos.height || _pos.pi !== sourcePI) {\n        const pi = parseInt(width / height * 100, 10);\n        _pos.pi = sourcePI;\n        _pos.width !== width && (_pos.width = this.canvas.width = width);\n        _pos.height !== height && (_pos.height = this.canvas.height = height);\n        let rheight = height;\n        let rwidth = width;\n        if (pi < sourcePI) {\n          rwidth = parseInt(height * sourcePI / 100, 10);\n        } else if (pi > sourcePI) {\n          rheight = parseInt(width * 100 / sourcePI, 10);\n        }\n        _pos.rwidth = rwidth * config.multiple;\n        _pos.rheight = rheight * config.multiple;\n        _pos.x = (width - _pos.rwidth) / 2;\n        _pos.y = (height - _pos.rheight) / 2;\n      }\n      this.canvasFilter && (this.canvasCtx.filter = config.filter);\n      this.canvasCtx.drawImage(video, _pos.x, _pos.y, _pos.rwidth, _pos.rheight);\n    } catch (e) {\n      XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n    }\n  }\n  destroy() {\n    this.stop();\n    document.removeEventListener(\"visibilitychange\", this.onVisibilitychange);\n    this.canvasCtx = null;\n    this.canvas = null;\n  }\n  render() {\n    return \"\";\n  }\n}\nexport { DynamicBg as default };\n","var ZH = {\n  LANG: \"zh-cn\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"\\u89C6\\u9891\\u4E0B\\u8F7D\\u9519\\u8BEF\"\n      },\n      mse: {\n        code: 2,\n        msg: \"\\u6D41\\u8FFD\\u52A0\\u9519\\u8BEF\"\n      },\n      parse: {\n        code: 3,\n        msg: \"\\u89E3\\u6790\\u9519\\u8BEF\"\n      },\n      format: {\n        code: 4,\n        msg: \"\\u683C\\u5F0F\\u9519\\u8BEF\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"\\u89E3\\u7801\\u9519\\u8BEF\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"\\u8BED\\u6CD5\\u9519\\u8BEF\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"\\u64AD\\u653E\\u8D85\\u65F6\"\n      },\n      other: {\n        code: 8,\n        msg: \"\\u5176\\u4ED6\\u9519\\u8BEF\"\n      }\n    },\n    HAVE_NOTHING: \"\\u6CA1\\u6709\\u5173\\u4E8E\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u5426\\u5C31\\u7EEA\\u7684\\u4FE1\\u606F\",\n    HAVE_METADATA: \"\\u97F3\\u9891/\\u89C6\\u9891\\u7684\\u5143\\u6570\\u636E\\u5DF2\\u5C31\\u7EEA\",\n    HAVE_CURRENT_DATA: \"\\u5173\\u4E8E\\u5F53\\u524D\\u64AD\\u653E\\u4F4D\\u7F6E\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\\uFF0C\\u4F46\\u6CA1\\u6709\\u8DB3\\u591F\\u7684\\u6570\\u636E\\u6765\\u64AD\\u653E\\u4E0B\\u4E00\\u5E27/\\u6BEB\\u79D2\",\n    HAVE_FUTURE_DATA: \"\\u5F53\\u524D\\u53CA\\u81F3\\u5C11\\u4E0B\\u4E00\\u5E27\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\",\n    HAVE_ENOUGH_DATA: \"\\u53EF\\u7528\\u6570\\u636E\\u8DB3\\u4EE5\\u5F00\\u59CB\\u64AD\\u653E\",\n    NETWORK_EMPTY: \"\\u97F3\\u9891/\\u89C6\\u9891\\u5C1A\\u672A\\u521D\\u59CB\\u5316\",\n    NETWORK_IDLE: \"\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u6D3B\\u52A8\\u7684\\u4E14\\u5DF2\\u9009\\u53D6\\u8D44\\u6E90\\uFF0C\\u4F46\\u5E76\\u672A\\u4F7F\\u7528\\u7F51\\u7EDC\",\n    NETWORK_LOADING: \"\\u6D4F\\u89C8\\u5668\\u6B63\\u5728\\u4E0B\\u8F7D\\u6570\\u636E\",\n    NETWORK_NO_SOURCE: \"\\u672A\\u627E\\u5230\\u97F3\\u9891/\\u89C6\\u9891\\u6765\\u6E90\",\n    MEDIA_ERR_ABORTED: \"\\u53D6\\u56DE\\u8FC7\\u7A0B\\u88AB\\u7528\\u6237\\u4E2D\\u6B62\",\n    MEDIA_ERR_NETWORK: \"\\u7F51\\u7EDC\\u9519\\u8BEF\",\n    MEDIA_ERR_DECODE: \"\\u89E3\\u7801\\u9519\\u8BEF\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"\\u4E0D\\u652F\\u6301\\u7684\\u97F3\\u9891/\\u89C6\\u9891\\u683C\\u5F0F\",\n    REPLAY: \"\\u91CD\\u64AD\",\n    ERROR: \"\\u7F51\\u7EDC\\u8FDE\\u63A5\\u4F3C\\u4E4E\\u51FA\\u73B0\\u4E86\\u95EE\\u9898\",\n    PLAY_TIPS: \"\\u64AD\\u653E\",\n    PAUSE_TIPS: \"\\u6682\\u505C\",\n    PLAYNEXT_TIPS: \"\\u4E0B\\u4E00\\u96C6\",\n    DOWNLOAD_TIPS: \"\\u4E0B\\u8F7D\",\n    ROTATE_TIPS: \"\\u65CB\\u8F6C\",\n    RELOAD_TIPS: \"\\u91CD\\u65B0\\u8F7D\\u5165\",\n    FULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u5168\\u5C4F\",\n    EXITFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u5168\\u5C4F\",\n    CSSFULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u6837\\u5F0F\\u5168\\u5C4F\",\n    EXITCSSFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u6837\\u5F0F\\u5168\\u5C4F\",\n    TEXTTRACK: \"\\u5B57\\u5E55\",\n    PIP: \"\\u753B\\u4E2D\\u753B\",\n    SCREENSHOT: \"\\u622A\\u56FE\",\n    LIVE: \"\\u6B63\\u5728\\u76F4\\u64AD\",\n    OFF: \"\\u5173\\u95ED\",\n    OPEN: \"\\u5F00\\u542F\",\n    MINI_DRAG: \"\\u70B9\\u51FB\\u6309\\u4F4F\\u53EF\\u62D6\\u52A8\\u89C6\\u9891\",\n    MINISCREEN: \"\\u5C0F\\u5C4F\\u5E55\",\n    REFRESH_TIPS: \"\\u8BF7\\u8BD5\\u8BD5\",\n    REFRESH: \"\\u5237\\u65B0\",\n    FORWARD: \"\\u5FEB\\u8FDB\\u4E2D\",\n    LIVE_TIP: \"\\u76F4\\u64AD\"\n  }\n};\nexport { ZH as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport * as events from \"../../events.js\";\nimport { USER_ACTION } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nconst INFO = \"info\";\nconst { STATS_EVENTS } = events;\nclass Stats extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"_recordUserActions\", (actionData) => {\n      const time = this._getTime();\n      const payload = Object.assign({}, actionData, { msg: actionData.msg || actionData.action });\n      this._stats[INFO].push({\n        type: \"userAction\",\n        ...time,\n        payload\n      });\n    });\n    __publicField(this, \"_onReset\", () => {\n      this.reset();\n    });\n    __publicField(this, \"_recordInfo\", (data) => {\n      this.info(data);\n    });\n    __publicField(this, \"_downloadStats\", () => {\n      const stats = this.getStats();\n      const blob = new Blob([JSON.stringify(stats)], { type: \"application/json\" });\n      const downloadUrl = window.URL.createObjectURL(blob);\n      const link = document.createElement(\"a\");\n      link.style.display = \"none\";\n      link.href = downloadUrl;\n      link.download = \"player.txt\";\n      link.disabled = false;\n      link.click();\n    });\n  }\n  static get pluginName() {\n    return \"stats\";\n  }\n  static get defaultConfig() {\n    return {};\n  }\n  _getTime() {\n    return {\n      timestamp: Date.now(),\n      timeFormat: new Date().toISOString()\n    };\n  }\n  afterCreate() {\n    this.reset();\n    this.on(USER_ACTION, this._recordUserActions);\n    this.on(STATS_EVENTS.STATS_INFO, this._recordInfo);\n    this.on(STATS_EVENTS.STATS_DOWNLOAD, this._downloadStats);\n    this.on(STATS_EVENTS.STATS_RESET, this._onReset);\n  }\n  destroy() {\n    this.offAll();\n  }\n  downloadStats() {\n    this._downloadStats();\n  }\n  info(data) {\n    if (data.profile) {\n      this._infoProfile(data);\n    } else {\n      this._info(data);\n    }\n  }\n  _info(data) {\n    const time = this._getTime();\n    this._stats[INFO].push({\n      ...time,\n      payload: data\n    });\n  }\n  _infoProfile(data) {\n    if (data && data.startMs) {\n      const endMs = Date.now();\n      const dur = endMs - data.startMs;\n      const profile = {\n        cat: \"function\",\n        dur,\n        name: data.name || data.msg,\n        ph: \"X\",\n        pid: 0,\n        tid: 0,\n        ts: data.startMs,\n        profile: true,\n        ...data\n      };\n      this._info(profile);\n    } else {\n      console.warn(\"infoProfile need object data, include startMs\");\n    }\n  }\n  reset() {\n    this._stats = {\n      [INFO]: [],\n      media: {}\n    };\n  }\n  getStats() {\n    const { player } = this;\n    const mediaElem = player.media;\n    const buffered = [];\n    for (let i = 0; i < mediaElem.buffered.length; i++) {\n      buffered.push({\n        start: mediaElem.buffered.start(i),\n        end: mediaElem.buffered.end(i)\n      });\n    }\n    const mediaInfo = {\n      currentTime: mediaElem.currentTime,\n      readyState: mediaElem.readyState,\n      buffered,\n      paused: mediaElem.paused,\n      ended: mediaElem.ended\n    };\n    this._stats.media = mediaInfo;\n    return {\n      raw: this._stats,\n      timestat: this._getTimeStats(),\n      profile: this._getProfile()\n    };\n  }\n  _getTimeStats() {\n    const allStat = this._stats[INFO];\n    const msgs = allStat.map((stat) => {\n      const data = stat.payload.data;\n      let msg = \"\";\n      try {\n        if (data instanceof Error) {\n          msg = data.msg;\n        } else if (data !== void 0) {\n          msg = JSON.stringify(data);\n        }\n      } catch (error) {\n        console.log(\"err\", error);\n      }\n      return `[${stat.timeFormat}] : ${stat.payload.msg} ${msg} `;\n    });\n    return msgs;\n  }\n  _getProfile() {\n    const profile = {\n      traceEvents: []\n    };\n    const allStat = this._stats[INFO];\n    allStat.forEach((stat) => {\n      if (stat.payload.profile) {\n        profile.traceEvents.push(stat.payload);\n      }\n    });\n    return profile;\n  }\n}\nexport { Stats as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport { WAITING, PLAY, SEEKING } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass GapJump extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onGapJump\", () => {\n      const { player, config } = this;\n      if (player.media.readyState === HTMLMediaElement.HAVE_NOTHING) {\n        return;\n      }\n      if (player.media.seeking) {\n        if (!this.seekingEventReceived) {\n          return;\n        }\n      } else {\n        this.seekingEventReceived = false;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && this.hasPlayed) {\n        return;\n      }\n      const buffered = player.media.buffered;\n      const smallGapLimit = config.smallGapLimit || 0.5;\n      const gapDetectionThreshold = config.gapDetectionThreshold || 0.3;\n      const currentTime = player.media.currentTime;\n      const idx = this._getIndex(buffered, currentTime, gapDetectionThreshold);\n      if (idx === null || idx === 0) {\n        return;\n      }\n      console.log(\"GapJump  bufferRange \", buffered.start(idx), buffered.end(idx));\n      const jumpTo = buffered.start(idx) + 0.1;\n      const seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      const jumpSize = jumpTo - currentTime;\n      const isGapSmall = jumpSize <= smallGapLimit;\n      if (jumpSize < GapJump.BROWSER_GAP_TOLERANCE) {\n        return;\n      }\n      if (isGapSmall) {\n        if (config.useGapJump !== false) {\n          player.media.currentTime = this.isSafari ? jumpTo + 0.1 : jumpTo;\n        }\n        this.player && this.player.emit(\"detectGap\");\n        console.log(\"gapJump gapIndex\", idx, \" isGapSamll:\", isGapSmall, \" currentTime:\", player.media.currentTime, \" jumpSize:\", currentTime - player.media.currentTime);\n        if (jumpTo !== 0.08) {\n          player && player.emit(\"log\", {\n            type: \"oneevent\",\n            end_type: \"gap\",\n            vid: player.config.vid,\n            ext: {\n              video_postion: Math.floor(jumpTo * 1e3)\n            }\n          });\n        }\n      }\n    });\n  }\n  static get pluginName() {\n    return \"gapJump\";\n  }\n  static get defaultConfig() {\n    return {\n      useGapJump: false,\n      smallGapLimit: 0.5,\n      gapDetectionThreshold: 0.3\n    };\n  }\n  afterCreate() {\n    const { useGapJump } = this.config;\n    if (useGapJump === false) {\n      return;\n    }\n    this.hasPlayed = false;\n    this.seekingEventReceived = false;\n    this.isSafari = /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n    this.on(WAITING, this.onGapJump);\n    this.on(PLAY, () => {\n      this.hasPlayed = true;\n    });\n    this.on(SEEKING, () => {\n      this.seekingEventReceived = true;\n    });\n  }\n  _getIndex(buffered, time, threshold) {\n    if (!buffered || !buffered.length) {\n      return null;\n    }\n    if (buffered.length === 1 && buffered.end(0) - buffered.start(0) < 1e-6) {\n      return null;\n    }\n    const bufferedInfo = this._getBuffered(buffered);\n    let idx = null;\n    for (let i = 0; i < bufferedInfo.length; i++) {\n      const item = bufferedInfo[i];\n      if (item.start > time && (i === 0 || bufferedInfo[i - 1].end - time <= threshold)) {\n        idx = i;\n        break;\n      }\n    }\n    return idx;\n  }\n  _getBuffered(b) {\n    if (!b) {\n      return [];\n    }\n    const ret = [];\n    for (let i = 0; i < b.length; i++) {\n      ret.push({\n        start: b.start(i),\n        end: b.end(i)\n      });\n    }\n    return ret;\n  }\n}\nGapJump.BROWSER_GAP_TOLERANCE = 1e-3;\nexport { GapJump as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport \"../../utils/util.js\";\nimport { WAITING, PLAYING, CANPLAY, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass WaitingTimeoutJump extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"onWaiting\", () => {\n      const { config } = this;\n      if (this.jumpCnt > config.jumpCntMax || this.timer || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      this.timer = setTimeout(this.onJump, config.waitingTime * 1e3);\n    });\n    __publicField(this, \"onJump\", () => {\n      const { player, config } = this;\n      clearTimeout(this.timer);\n      this.timer = null;\n      if (this.jumpCnt > config.jumpCntMax || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && this.hasPlayed) {\n        return;\n      }\n      this.jumpSize = config.jumpSize * (this.jumpCnt + 1);\n      if (this.jumpCnt === config.jumpSize && this.jumpSize < 6) {\n        this.jumpSize = 6;\n      }\n      const jumpTo = player.currentTime + this.jumpSize;\n      const seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      console.log(\"waitintTimeout, currentTime:\", player.currentTime, \", jumpTo:\", jumpTo);\n      this.jumpCnt++;\n      player.currentTime = jumpTo;\n    });\n  }\n  static get pluginName() {\n    return \"waitingTimeoutJump\";\n  }\n  static get defaultConfig() {\n    return {\n      useWaitingTimeoutJump: false,\n      waitingTime: 15,\n      jumpSize: 2,\n      jumpCntMax: 4\n    };\n  }\n  afterCreate() {\n    const { useWaitingTimeoutJump, jumpSize } = this.config;\n    if (useWaitingTimeoutJump === false) {\n      return;\n    }\n    this.hasPlayed = false;\n    this.jumpCnt = 0;\n    this.timer = null;\n    this.jumpSize = jumpSize;\n    this.on(WAITING, this.onWaiting);\n    this.on([PLAYING, CANPLAY], () => {\n      clearTimeout(this.timer);\n      this.timer = null;\n      this.jumpSize = this.config.jumpSize;\n    });\n    this.on(PLAY, () => {\n      this.hasPlayed = true;\n    });\n  }\n}\nexport { WaitingTimeoutJump as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport util from \"../../utils/util.js\";\nimport { LOADED_DATA, REPLAY, DOWNLOAD_SPEED_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nconst DEFAULT_SPEED_TYPE = \"cdn\";\nconst SPEED_TYPE = [\"cdn\"];\nclass TestSpeed extends Plugin {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"getSpeed\", (type = DEFAULT_SPEED_TYPE) => {\n      if (!this.speedListCache || !this.speedListCache[type])\n        return 0;\n      if (this.speedListCache[type].length <= 0)\n        return 0;\n      let total = 0;\n      this.speedListCache[type].map((item) => {\n        total += item;\n      });\n      return Math.floor(total / this.speedListCache[type].length);\n    });\n    __publicField(this, \"startTimer\", () => {\n      if (util.isMSE(this.player.video)) {\n        return;\n      }\n      this.initSpeedList();\n      this.cnt = 0;\n      this.timer = setTimeout(this.testSpeed, this.config.testTimeStep);\n    });\n    __publicField(this, \"initSpeedList\", () => {\n      this.speedListCache = {};\n      SPEED_TYPE.forEach((type) => {\n        this.speedListCache[type] = [];\n      });\n    });\n    __publicField(this, \"_onRealSpeedChange\", (data) => {\n      data.speed && this.appendList(data.speed, data.type || DEFAULT_SPEED_TYPE);\n    });\n    __publicField(this, \"testSpeed\", () => {\n      clearTimeout(this.timer);\n      this.timer = null;\n      if (!this.player || !this.config.openSpeed)\n        return;\n      const { url, loadSize, testCnt, testTimeStep } = this.config;\n      const testSpeedUrl = url + (url.indexOf(\"?\") < 0 ? \"?testst=\" : \"&testst=\") + Date.now();\n      if (this.cnt >= testCnt) {\n        return;\n      }\n      this.cnt++;\n      try {\n        const start = new Date().getTime();\n        let end = null;\n        const xhr = new XMLHttpRequest();\n        this.xhr = xhr;\n        xhr.open(\"GET\", testSpeedUrl);\n        const headers = {};\n        const random = Math.floor(Math.random() * 10);\n        headers.Range = \"bytes=\" + random + \"-\" + (loadSize + random);\n        if (headers) {\n          Object.keys(headers).forEach((k) => {\n            xhr.setRequestHeader(k, headers[k]);\n          });\n        }\n        xhr.onreadystatechange = () => {\n          if (xhr.readyState === 4) {\n            this.xhr = null;\n            end = new Date().getTime();\n            const size = xhr.getResponseHeader(\"Content-Length\") / 1024 * 8;\n            const speed = Math.round(size * 1e3 / (end - start));\n            this.appendList(speed);\n            this.timer = setTimeout(this.testSpeed, testTimeStep);\n          }\n        };\n        xhr.send();\n      } catch (e) {\n        console.error(e);\n      }\n    });\n    __publicField(this, \"appendList\", (speed, type = DEFAULT_SPEED_TYPE) => {\n      if (!this.speedListCache || !this.speedListCache[type])\n        return;\n      const { saveSpeedMax } = this.config;\n      if (this.speedListCache[type].length >= saveSpeedMax) {\n        this.speedListCache[type].shift();\n      }\n      this.speedListCache[type].push(speed);\n      const { player } = this;\n      if (player) {\n        type === DEFAULT_SPEED_TYPE ? player.realTimeSpeed = speed : player[this.getSpeedName(\"realTime\", type)] = speed;\n      }\n      this.updateSpeed(type);\n    });\n    __publicField(this, \"updateSpeed\", (type = DEFAULT_SPEED_TYPE) => {\n      const speed = this.getSpeed(type);\n      const { player } = this;\n      if (player) {\n        if (type === DEFAULT_SPEED_TYPE) {\n          if (!player.avgSpeed || speed !== player.avgSpeed) {\n            player.avgSpeed = speed;\n            player.emit(DOWNLOAD_SPEED_CHANGE, { speed, realTimeSpeed: player.realTimeSpeed });\n          }\n        } else {\n          const speedName = this.getSpeedName(\"avg\", type);\n          if (!player[speedName] || speed !== player[speedName]) {\n            player[speedName] = speed;\n            player.emit(DOWNLOAD_SPEED_CHANGE, { speed, realTimeSpeed: player.realTimeSpeed });\n          }\n        }\n      }\n    });\n  }\n  static get pluginName() {\n    return \"testspeed\";\n  }\n  static get defaultConfig() {\n    return {\n      openSpeed: false,\n      testCnt: 3,\n      loadSize: 200 * 1024,\n      testTimeStep: 3e3,\n      url: \"\",\n      saveSpeedMax: 5,\n      addSpeedTypeList: []\n    };\n  }\n  afterCreate() {\n    const { openSpeed, addSpeedTypeList } = this.config;\n    if ((addSpeedTypeList == null ? void 0 : addSpeedTypeList.length) > 0) {\n      SPEED_TYPE.push(...addSpeedTypeList);\n    }\n    this.initSpeedList();\n    this.on(\"real_time_speed\", this._onRealSpeedChange);\n    this.timer = null;\n    this.cnt = 0;\n    this.xhr = null;\n    if (!openSpeed) {\n      return;\n    }\n    this.on([LOADED_DATA, REPLAY], this.startTimer);\n  }\n  getSpeedName(namePrefix, type) {\n    return namePrefix + \"Speed\" + type.toUpperCase();\n  }\n  set openSpeed(value) {\n    this.config.openSpeed = value;\n    if (!value && this.timer) {\n      clearTimeout(this.timer);\n      this.timer = null;\n      return;\n    }\n    if (this.config.openSpeed) {\n      if (this.timer)\n        return;\n      this.timer = setTimeout(this.testSpeed, this.config.testTimeStep);\n    }\n  }\n  get openSpeed() {\n    return this.config.openSpeed;\n  }\n  destroy() {\n    this.off(\"real_time_speed\", this._onRealSpeedChange);\n    this.off([LOADED_DATA, REPLAY], this.startTimer);\n    SPEED_TYPE.forEach((type) => {\n      this.speedListCache && this.speedListCache[type] && (this.speedListCache[type] = []);\n    });\n    this.speedListCache && (this.speedListCache = {});\n    clearTimeout(this.timer);\n    this.timer = null;\n    if (this.xhr && this.xhr.readyState !== 4) {\n      this.xhr.cancel && this.xhr.cancel();\n      this.xhr = null;\n    }\n  }\n}\nexport { TestSpeed as default };\n","import \"../../utils/util.js\";\nimport { PLAY, PAUSE, ENDED, EMPTIED, FPS_STUCK } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nclass FpsDetect extends Plugin {\n  static get pluginName() {\n    return \"FpsDetect\";\n  }\n  static get defaultConfig() {\n    return {\n      disabled: false,\n      tick: 1e3,\n      stuckCount: 3,\n      reportFrame: 0\n    };\n  }\n  afterCreate() {\n    const { player, config } = this;\n    const media = player.media || player.video;\n    this.timer = null;\n    this._lastDecodedFrames = 0;\n    this._currentStuckCount = 0;\n    this._lastCheckPoint = null;\n    this._payload = [];\n    if (config.disabled)\n      return;\n    const getVideoPlaybackQuality = media.getVideoPlaybackQuality;\n    if (!getVideoPlaybackQuality)\n      return;\n    this.on(PLAY, () => {\n      this._startTick();\n    });\n    this.on(PAUSE, () => {\n      this._stopTick();\n    });\n    this.on(ENDED, () => {\n      this._stopTick();\n    });\n    this.on(EMPTIED, () => {\n      this._stopTick();\n    });\n  }\n  _startTick() {\n    this._stopTick();\n    this._timer = setTimeout(() => {\n      this._checkDecodeFPS();\n      this._startTick();\n    }, this.config.tick);\n  }\n  _stopTick() {\n    clearTimeout(this._timer);\n    this._timer = null;\n  }\n  _checkBuffer(curTime, buffered) {\n    let enoughBuffer = false;\n    const buffers = [];\n    for (let i = 0; i < buffered.length; i++) {\n      const start = buffered.start(i);\n      const end = buffered.end(i);\n      buffers.push({ start, end });\n      if (start <= curTime && curTime <= end - 1) {\n        enoughBuffer = true;\n        break;\n      }\n    }\n    return {\n      enoughBuffer,\n      buffers\n    };\n  }\n  _checkStuck(curDecodedFrames, totalVideoFrames, droppedVideoFrames, checkInterval) {\n    const media = this.player.media || this.player.video;\n    const hidden = document.hidden;\n    const { paused, readyState, currentTime, buffered } = media;\n    if (hidden || paused || readyState < 4) {\n      return;\n    }\n    const { enoughBuffer, buffers } = this._checkBuffer(currentTime, buffered);\n    if (!enoughBuffer) {\n      return;\n    }\n    if (curDecodedFrames <= this.config.reportFrame) {\n      this._currentStuckCount++;\n      this._payload.push({ currentTime, buffers, curDecodedFrames, totalVideoFrames, droppedVideoFrames, checkInterval });\n      if (this._currentStuckCount >= this.config.stuckCount) {\n        this.emit(FPS_STUCK, this._payload);\n        this._reset();\n      }\n    } else {\n      this._reset();\n    }\n  }\n  _reset() {\n    this._payload = [];\n    this._currentStuckCount = 0;\n  }\n  _checkDecodeFPS() {\n    const media = this.player.media || this.player.video;\n    if (!media) {\n      return;\n    }\n    const { totalVideoFrames, droppedVideoFrames } = media.getVideoPlaybackQuality();\n    const currTime = performance.now();\n    if (totalVideoFrames) {\n      if (this._lastCheckPoint) {\n        const curDecoded = totalVideoFrames - this._lastDecodedFrames;\n        const checkInterval = currTime - this._lastCheckPoint;\n        this._checkStuck(curDecoded, totalVideoFrames, droppedVideoFrames, checkInterval);\n      }\n    }\n    this._lastDecodedFrames = totalVideoFrames;\n    this._lastCheckPoint = currTime;\n  }\n  destroy() {\n    this._stopTick();\n  }\n}\nexport { FpsDetect as default };\n","import sniffer from \"../utils/sniffer.js\";\nimport Controls from \"../plugins/controls/index.js\";\nimport XGLogger from \"../plugins/logger/index.js\";\nimport Replay from \"../plugins/replay/index.js\";\nimport Poster from \"../plugins/poster/index.js\";\nimport Start from \"../plugins/start/index.js\";\nimport Enter from \"../plugins/enter/index.js\";\nimport MiniScreen from \"../plugins/miniScreen/index.js\";\nimport PCPlugin from \"../plugins/pc/index.js\";\nimport MobilePlugin from \"../plugins/mobile/index.js\";\nimport Keyboard from \"../plugins/keyboard/index.js\";\nimport Loading from \"../plugins/loading/index.js\";\nimport Progress from \"../plugins/progress/index.js\";\nimport Play from \"../plugins/play/index.js\";\nimport Fullscreen from \"../plugins/fullscreen/index.js\";\nimport Time from \"../plugins/time/index.js\";\nimport TimeSegmentsControls from \"../plugins/time/timesegments.js\";\nimport Volume from \"../plugins/volume/index.js\";\nimport Rotate from \"../plugins/rotate/index.js\";\nimport PIP from \"../plugins/pip/index.js\";\nimport PlayNextIcon from \"../plugins/playNext/index.js\";\nimport Download from \"../plugins/download/index.js\";\nimport ScreenShot from \"../plugins/screenShot/index.js\";\nimport DefinitionIcon from \"../plugins/definition/index.js\";\nimport PlaybackRate from \"../plugins/playbackRate/index.js\";\nimport CssFullScreen from \"../plugins/cssFullScreen/index.js\";\nimport ErrorPlugin from \"../plugins/error/index.js\";\nimport Prompt from \"../plugins/prompt/index.js\";\nimport ProgressPreview from \"../plugins/progressPreview/index.js\";\nimport Thumbnail from \"../plugins/common/thumbnail.js\";\nimport MiniProgress from \"../plugins/progress/miniProgress.js\";\nimport DynamicBg from \"../plugins/dynamicBg/index.js\";\nimport ZH from \"../lang/zh-cn.js\";\nimport Stats from \"../plugins/stats/index.js\";\nimport GapJump from \"../plugins/gapJump/index.js\";\nimport WaitingTimeoutJump from \"../plugins/waitingTimeoutJump/index.js\";\nimport TestSpeed from \"../plugins/testspeed/index.js\";\nimport I18N from \"../lang/i18n.js\";\nimport FpsDetect from \"../plugins/fpsDetect/index.js\";\nI18N.use(ZH);\nclass DefaultPreset {\n  constructor(options, playerConfig) {\n    const simulateMode = playerConfig && playerConfig.isMobileSimulateMode === \"mobile\";\n    const { isLive, controls } = playerConfig;\n    const basePlugin = controls ? [Controls] : [];\n    const vodPlugins = isLive ? basePlugin : [...basePlugin, TimeSegmentsControls, Progress, MiniProgress, ProgressPreview, Time];\n    const contolsIcons = [\n      ...vodPlugins,\n      Play,\n      Fullscreen,\n      Rotate,\n      PlayNextIcon,\n      DefinitionIcon,\n      PlaybackRate,\n      Download,\n      ScreenShot,\n      Volume,\n      PIP\n    ];\n    const layers = [Replay, Poster, Start, Loading, Enter, ErrorPlugin, Prompt, Thumbnail, MiniScreen];\n    this.plugins = [...contolsIcons, Stats, XGLogger, ...layers, GapJump, WaitingTimeoutJump];\n    const mode = simulateMode ? \"mobile\" : sniffer.device;\n    switch (mode) {\n      case \"pc\":\n        this.plugins.push(...[Keyboard, PCPlugin, CssFullScreen, TestSpeed, FpsDetect]);\n        break;\n      case \"mobile\":\n        this.plugins.push(...[MobilePlugin]);\n        break;\n      default:\n        this.plugins.push(...[Keyboard, PCPlugin, CssFullScreen]);\n    }\n    if (sniffer.os.isIpad || mode === \"pc\") {\n      this.plugins.push(DynamicBg);\n    }\n    if (sniffer.os.isIpad) {\n      this.plugins.push(PCPlugin);\n    }\n    this.ignores = [];\n    this.i18n = [];\n  }\n}\nexport { DefaultPreset as default };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport Player from \"./player.js\";\nimport Plugin from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nimport * as events from \"./events.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nimport I18N from \"./lang/i18n.js\";\nimport Errors from \"./error.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport util from \"./utils/util.js\";\nimport { InstManager } from \"./instManager.js\";\nimport DefaultPreset from \"./presets/default.js\";\nclass PresetPlayer extends Player {\n}\n__publicField(PresetPlayer, \"defaultPreset\", DefaultPreset);\n__publicField(PresetPlayer, \"Util\", util);\n__publicField(PresetPlayer, \"Sniffer\", sniffer);\n__publicField(PresetPlayer, \"Errors\", Errors);\n__publicField(PresetPlayer, \"Events\", events);\n__publicField(PresetPlayer, \"Plugin\", Plugin);\n__publicField(PresetPlayer, \"BasePlugin\", BasePlugin);\n__publicField(PresetPlayer, \"I18N\", I18N);\n__publicField(PresetPlayer, \"STATE_CLASS\", STATE_CLASS);\n__publicField(PresetPlayer, \"InstManager\", InstManager);\nexport { PresetPlayer as default };\n","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s, _e, _x, _r, _arr = [], _n = true, _d = false;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i)\n          return;\n        _n = false;\n      } else\n        for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = true)\n          ;\n    } catch (err) {\n      _d = true, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r))\n          return;\n      } finally {\n        if (_d)\n          throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function() {\n    return exports;\n  };\n  var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function(obj, key, desc) {\n    obj[key] = desc.value;\n  }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {\n  }\n  function GeneratorFunction() {\n  }\n  function GeneratorFunctionPrototype() {\n  }\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function() {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg, value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function(value2) {\n          invoke(\"next\", value2, resolve, reject);\n        }, function(err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function(unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function(error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function(resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function(method, arg) {\n      if (\"executing\" === state)\n        throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method)\n          throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg; ; ) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel)\n              continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method)\n          context.sent = context._sent = context.arg;\n        else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state)\n            throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else\n          \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel)\n            continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method, method = delegate.iterator[methodName];\n    if (void 0 === method)\n      return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = void 0, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type)\n      return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = void 0), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(true);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod)\n        return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next)\n        return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next2() {\n          for (; ++i < iterable.length; )\n            if (hasOwn.call(iterable, i))\n              return next2.value = iterable[i], next2.done = false, next2;\n          return next2.value = void 0, next2.done = true, next2;\n        };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: void 0,\n      done: true\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: true\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: true\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function(genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function(genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function(arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function() {\n    return this;\n  }), define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  }), exports.keys = function(val) {\n    var object = Object(val), keys = [];\n    for (var key in object)\n      keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length; ) {\n        var key2 = keys.pop();\n        if (key2 in object)\n          return next.value = key2, next.done = false, next;\n      }\n      return next.done = true, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), !skipTempReset)\n        for (var name in this)\n          \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);\n    },\n    stop: function() {\n      this.done = true;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type)\n        throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function(exception) {\n      if (this.done)\n        throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = void 0), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i], record = entry.completion;\n        if (\"root\" === entry.tryLoc)\n          return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n          } else {\n            if (!hasFinally)\n              throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function(record, afterLoc) {\n      if (\"throw\" === record.type)\n        throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc)\n          return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName,\n        nextLoc\n      }, \"next\" === this.method && (this.arg = void 0), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function() {\n    var self = this, args = arguments;\n    return new Promise(function(resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(void 0);\n    });\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null)\n    return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0)\n      continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null)\n    return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0)\n        continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key))\n        continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr))\n    return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithHoles as arrayWithHoles, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _createClass as createClass, _createSuper as createSuper, _defineProperty as defineProperty, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _iterableToArrayLimit as iterableToArrayLimit, _nonIterableRest as nonIterableRest, _nonIterableSpread as nonIterableSpread, _objectSpread2 as objectSpread2, _objectWithoutProperties as objectWithoutProperties, _objectWithoutPropertiesLoose as objectWithoutPropertiesLoose, _possibleConstructorReturn as possibleConstructorReturn, _regeneratorRuntime as regeneratorRuntime, _setPrototypeOf as setPrototypeOf, _slicedToArray as slicedToArray, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray };\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function() {\n    return exports;\n  };\n  var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function(obj, key, desc) {\n    obj[key] = desc.value;\n  }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {\n  }\n  function GeneratorFunction() {\n  }\n  function GeneratorFunctionPrototype() {\n  }\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function() {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg, value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function(value2) {\n          invoke(\"next\", value2, resolve, reject);\n        }, function(err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function(unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function(error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function(resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function(method, arg) {\n      if (\"executing\" === state)\n        throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method)\n          throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg; ; ) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel)\n              continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method)\n          context.sent = context._sent = context.arg;\n        else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state)\n            throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else\n          \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel)\n            continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method, method = delegate.iterator[methodName];\n    if (void 0 === method)\n      return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = void 0, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type)\n      return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = void 0), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(true);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod)\n        return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next)\n        return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next2() {\n          for (; ++i < iterable.length; )\n            if (hasOwn.call(iterable, i))\n              return next2.value = iterable[i], next2.done = false, next2;\n          return next2.value = void 0, next2.done = true, next2;\n        };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: void 0,\n      done: true\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: true\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: true\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function(genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function(genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function(arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function() {\n    return this;\n  }), define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  }), exports.keys = function(val) {\n    var object = Object(val), keys = [];\n    for (var key in object)\n      keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length; ) {\n        var key2 = keys.pop();\n        if (key2 in object)\n          return next.value = key2, next.done = false, next;\n      }\n      return next.done = true, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), !skipTempReset)\n        for (var name in this)\n          \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);\n    },\n    stop: function() {\n      this.done = true;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type)\n        throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function(exception) {\n      if (this.done)\n        throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = void 0), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i], record = entry.completion;\n        if (\"root\" === entry.tryLoc)\n          return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n          } else {\n            if (!hasFinally)\n              throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function(record, afterLoc) {\n      if (\"throw\" === record.type)\n        throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc)\n          return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName,\n        nextLoc\n      }, \"next\" === this.method && (this.arg = void 0), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function() {\n    var self = this, args = arguments;\n    return new Promise(function(resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(void 0);\n    });\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct2(Parent2, args2, Class2) {\n      var a = [null];\n      a.push.apply(a, args2);\n      var Constructor = Function.bind.apply(Parent2, a);\n      var instance = new Constructor();\n      if (Class2)\n        _setPrototypeOf(instance, Class2.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? /* @__PURE__ */ new Map() : void 0;\n  _wrapNativeSuper = function _wrapNativeSuper2(Class2) {\n    if (Class2 === null || !_isNativeFunction(Class2))\n      return Class2;\n    if (typeof Class2 !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class2))\n        return _cache.get(Class2);\n      _cache.set(Class2, Wrapper);\n    }\n    function Wrapper() {\n      return _construct(Class2, arguments, _getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class2.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class2);\n  };\n  return _wrapNativeSuper(Class);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null)\n    return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0)\n      continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null)\n    return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0)\n        continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key))\n        continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null)\n      break;\n  }\n  return object;\n}\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get2(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base)\n        return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it)\n        o = it;\n      var i = 0;\n      var F = function() {\n      };\n      return {\n        s: F,\n        n: function() {\n          if (i >= o.length)\n            return {\n              done: true\n            };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function(e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true, didErr = false, err;\n  return {\n    s: function() {\n      it = it.call(o);\n    },\n    n: function() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function(e) {\n      didErr = true;\n      err = e;\n    },\n    f: function() {\n      try {\n        if (!normalCompletion && it.return != null)\n          it.return();\n      } finally {\n        if (didErr)\n          throw err;\n      }\n    }\n  };\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _assertThisInitialized as assertThisInitialized, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _construct as construct, _createClass as createClass, _createForOfIteratorHelper as createForOfIteratorHelper, _createSuper as createSuper, _defineProperty as defineProperty, _get as get, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeFunction as isNativeFunction, _isNativeReflectConstruct as isNativeReflectConstruct, _objectSpread2 as objectSpread2, _objectWithoutProperties as objectWithoutProperties, _objectWithoutPropertiesLoose as objectWithoutPropertiesLoose, _possibleConstructorReturn as possibleConstructorReturn, _regeneratorRuntime as regeneratorRuntime, _setPrototypeOf as setPrototypeOf, _superPropBase as superPropBase, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray, _wrapNativeSuper as wrapNativeSuper };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, wrapNativeSuper as _wrapNativeSuper } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar _ERR_CODE;\nvar ERR = {\n  MANIFEST: \"manifest\",\n  NETWORK: \"network\",\n  NETWORK_TIMEOUT: \"network_timeout\",\n  NETWORK_FORBIDDEN: \"network_forbidden\",\n  NETWORK_NOTFOUND: \"network_notfound\",\n  NETWROK_RANGE_NOT_SATISFIABLE: \"network_range_not_satisfiable\",\n  DEMUX: \"demux\",\n  REMUX: \"remux\",\n  MEDIA: \"media\",\n  DRM: \"drm\",\n  OTHER: \"other\",\n  RUNTIME: \"runtime\",\n  SUB_TYPES: {\n    FLV: \"FLV\",\n    HLS: \"HLS\",\n    MP4: \"MP4\",\n    FMP4: \"FMP4\",\n    MSE_ADD_SB: \"MSE_ADD_SB\",\n    MSE_APPEND_BUFFER: \"MSE_APPEND_BUFFER\",\n    MSE_OTHER: \"MSE_OTHER\",\n    MSE_FULL: \"MSE_FULL\",\n    MSE_CHANGE_TYPE: \"MSE_CHANGE_TYPE\",\n    OPTION: \"OPTION\",\n    DASH: \"DASH\",\n    LICENSE: \"LICENSE\",\n    CUSTOM_LICENSE: \"CUSTOM_LICENSE\",\n    MSE_HIJACK: \"MSE_HIJACK\",\n    EME_HIJACK: \"EME_HIJACK\",\n    SIDX: \"SIDX\",\n    NO_CANPLAY_ERROR: \"NO_CANPLAY_ERROR\",\n    BUFFERBREAK_ERROR: \"BUFFERBREAK_ERROR\",\n    WAITING_TIMEOUT_ERROR: \"WAITING_TIMEOUT_ERROR\",\n    MEDIA_ERR_ABORTED: \"MEDIA_ERR_ABORTED\",\n    MEDIA_ERR_NETWORK: \"MEDIA_ERR_NETWORK\",\n    MEDIA_ERR_DECODE: \"MEDIA_ERR_DECODE\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"MEDIA_ERR_SRC_NOT_SUPPORTED\",\n    MEDIA_ERR_CODEC_NOT_SUPPORTED: \"MEDIA_ERR_CODEC_NOT_SUPPORTED\",\n    MEDIA_ERR_URL_EMPTY: \"MEDIA_ERR_URL_EMPTY\"\n  }\n};\nvar ERR_CODE = (_ERR_CODE = {}, _defineProperty(_ERR_CODE, ERR.MANIFEST, {\n  HLS: 1100,\n  DASH: 1200\n}), _defineProperty(_ERR_CODE, ERR.NETWORK, 2100), _defineProperty(_ERR_CODE, ERR.NETWORK_TIMEOUT, 2101), _defineProperty(_ERR_CODE, ERR.NETWORK_FORBIDDEN, 2103), _defineProperty(_ERR_CODE, ERR.NETWORK_NOTFOUND, 2104), _defineProperty(_ERR_CODE, ERR.NETWROK_RANGE_NOT_SATISFIABLE, 2116), _defineProperty(_ERR_CODE, ERR.DEMUX, {\n  FLV: 3100,\n  HLS: 3200,\n  MP4: 3300,\n  FMP4: 3400,\n  SIDX: 3410\n}), _defineProperty(_ERR_CODE, ERR.REMUX, {\n  FMP4: 4100,\n  MP4: 4200\n}), _defineProperty(_ERR_CODE, ERR.MEDIA, {\n  MEDIA_ERR_ABORTED: 5101,\n  MEDIA_ERR_NETWORK: 5102,\n  MEDIA_ERR_DECODE: 5103,\n  MEDIA_ERR_SRC_NOT_SUPPORTED: 5104,\n  MEDIA_ERR_CODEC_NOT_SUPPORTED: 5105,\n  MEDIA_ERR_URL_EMPTY: 5106,\n  MSE_ADD_SB: 5200,\n  MSE_APPEND_BUFFER: 5201,\n  MSE_OTHER: 5202,\n  MSE_FULL: 5203,\n  MSE_HIJACK: 5204,\n  MSE_CHANGE_TYPE: 5205,\n  EME_HIJACK: 5301\n}), _defineProperty(_ERR_CODE, ERR.DRM, {\n  LICENSE: 7100,\n  CUSTOM_LICENSE: 7200\n}), _defineProperty(_ERR_CODE, ERR.OTHER, 8e3), _defineProperty(_ERR_CODE, ERR.RUNTIME, {\n  NO_CANPLAY_ERROR: 9001,\n  BUFFERBREAK_ERROR: 9002,\n  WAITING_TIMEOUT_ERROR: 9003\n}), _ERR_CODE);\nvar StreamingError = /* @__PURE__ */ function(_Error) {\n  _inherits(StreamingError2, _Error);\n  var _super = _createSuper(StreamingError2);\n  function StreamingError2(type, subType, origin, payload, msg) {\n    var _this;\n    _classCallCheck(this, StreamingError2);\n    _this = _super.call(this, msg || (origin === null || origin === void 0 ? void 0 : origin.message));\n    _this.errorType = type === ERR.NETWORK_TIMEOUT ? ERR.NETWORK : type;\n    _this.originError = origin;\n    _this.ext = payload;\n    _this.errorCode = ERR_CODE[type][subType] || ERR_CODE[type];\n    _this.errorMessage = _this.message;\n    if (!_this.errorCode) {\n      _this.errorType = ERR.OTHER;\n      _this.errorCode = ERR_CODE[_this.errorType];\n    }\n    return _this;\n  }\n  _createClass(StreamingError2, null, [{\n    key: \"create\",\n    value: function create(type, subType, origin, payload, msg) {\n      if (type instanceof StreamingError2) {\n        return type;\n      } else if (type instanceof Error) {\n        origin = type;\n        type = \"\";\n      }\n      if (!type)\n        type = ERR.OTHER;\n      return new StreamingError2(type, subType, origin, payload, msg);\n    }\n  }, {\n    key: \"network\",\n    value: function network(error) {\n      var _error$response;\n      return new StreamingError2(error !== null && error !== void 0 && error.isTimeout ? ERR.NETWORK_TIMEOUT : ERR.NETWORK, null, error instanceof Error ? error : null, {\n        url: error === null || error === void 0 ? void 0 : error.url,\n        response: error === null || error === void 0 ? void 0 : error.response,\n        httpCode: error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status\n      });\n    }\n  }]);\n  return StreamingError2;\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nexport { ERR, ERR_CODE, StreamingError };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar Buffer = /* @__PURE__ */ function() {\n  function Buffer2() {\n    _classCallCheck(this, Buffer2);\n  }\n  _createClass(Buffer2, null, [{\n    key: \"start\",\n    value: function start(buf) {\n      if (!buf || !buf.length)\n        return 0;\n      if (buf.length === 1 && buf.end(0) - buf.start(0) < 1e-6)\n        return 0;\n      if (buf.length === 1 && buf.start(0) < 0)\n        return 0;\n      return buf.start(0);\n    }\n  }, {\n    key: \"end\",\n    value: function end(buf) {\n      if (!buf || !buf.length)\n        return 0;\n      if (buf.length === 1 && buf.end(0) - buf.start(0) < 1e-6)\n        return 0;\n      return buf.end(buf.length - 1);\n    }\n  }, {\n    key: \"get\",\n    value: function get(b) {\n      if (!b)\n        return;\n      try {\n        return b.buffered;\n      } catch (error) {\n      }\n    }\n  }, {\n    key: \"buffers\",\n    value: function buffers(buf, maxHole) {\n      if (!buf || !buf.length)\n        return [];\n      var buffers2 = [];\n      for (var i = 0, l = buf.length; i < l; i++) {\n        var bufLen = buffers2.length;\n        if (!bufLen || !maxHole) {\n          buffers2.push([buf.start(i), buf.end(i)]);\n        } else {\n          var last = buffers2[bufLen - 1];\n          var lastEnd = last[1];\n          var start = buf.start(i);\n          if (start - lastEnd <= maxHole) {\n            var end = buf.end(i);\n            if (end > lastEnd) {\n              last[1] = end;\n            }\n          } else {\n            buffers2.push([buf.start(i), buf.end(i)]);\n          }\n        }\n      }\n      return buffers2;\n    }\n  }, {\n    key: \"totalLength\",\n    value: function totalLength(buffers) {\n      if (!buffers || !buffers.length)\n        return 0;\n      return buffers.reduce(function(a, c) {\n        return a += c[1] - c[0];\n      }, 0);\n    }\n  }, {\n    key: \"info\",\n    value: function info(buf) {\n      var pos = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      var maxHole = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      if (!buf || !buf.length)\n        return {\n          start: 0,\n          end: 0,\n          buffers: []\n        };\n      var start = 0;\n      var end = 0;\n      var index = 0;\n      var nextStart = 0;\n      var nextEnd = 0;\n      var prevStart = 0;\n      var prevEnd = 0;\n      var buffers = Buffer2.buffers(buf, maxHole);\n      for (var i = 0, l = buffers.length; i < l; i++) {\n        var item = buffers[i];\n        if (pos + maxHole >= item[0] && pos <= item[1]) {\n          start = item[0];\n          end = item[1];\n          index = i;\n        } else if (pos + maxHole < item[0]) {\n          nextStart = item[0];\n          nextEnd = item[1];\n          break;\n        } else if (pos + maxHole > item[1]) {\n          prevStart = item[0];\n          prevEnd = item[1];\n        }\n      }\n      return {\n        start,\n        end,\n        index,\n        buffers,\n        nextStart,\n        nextEnd,\n        prevStart,\n        prevEnd,\n        currentTime: pos,\n        behind: pos - start,\n        remaining: end ? end - pos : 0,\n        length: Buffer2.totalLength && Buffer2.totalLength(buffers)\n      };\n    }\n  }, {\n    key: \"isBuffered\",\n    value: function isBuffered(media, pos) {\n      if (media) {\n        var buffered = Buffer2.get(media);\n        if (buffered !== null && buffered !== void 0 && buffered.length) {\n          for (var i = 0; i < buffered.length; i++) {\n            if (pos >= buffered.start(i) && pos <= buffered.end(i)) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    }\n  }]);\n  return Buffer2;\n}();\nexport { Buffer };\n","var isBrowser = typeof window !== \"undefined\";\nexport { isBrowser };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck, typeof as _typeof } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar LogCacheLevel = {\n  \"DEBUG\": 1,\n  \"LOG\": 2,\n  \"WARN\": 3,\n  \"ERROR\": 4\n};\nvar LOG_MAX_SIZE = 200 * 1024;\nvar SIMPLE_TYPE = [\"Boolean\", \"Number\", \"String\", \"Undefined\", \"Null\", \"Date\", \"Object\"];\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name, config) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n    this.logCacheLevel = (config === null || config === void 0 ? void 0 : config.logCacheLevel) || 3;\n    this.logMaxSize = (config === null || config === void 0 ? void 0 : config.logMaxSize) || LOG_MAX_SIZE;\n    this.logSize = 0;\n    this.logTextArray = [];\n  }\n  _createClass(Logger2, [{\n    key: \"debug\",\n    value: function debug() {\n      var _console;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      this.logCache.apply(this, [LogCacheLevel.DEBUG].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console = console).debug.apply(_console, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      var _console2;\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      this.logCache.apply(this, [LogCacheLevel.LOG].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console2 = console).log.apply(_console2, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      var _console3;\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      this.logCache.apply(this, [LogCacheLevel.WARN].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console3 = console).warn.apply(_console3, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      var _console4;\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      this.logCache.apply(this, [LogCacheLevel.ERROR].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console4 = console).error.apply(_console4, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"logCache\",\n    value: function logCache(logCacheLevel) {\n      if (logCacheLevel < this.logCacheLevel)\n        return;\n      var text = \"\";\n      try {\n        for (var _len5 = arguments.length, logText = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n          logText[_key5 - 1] = arguments[_key5];\n        }\n        var finLogText = logText.map(function(item) {\n          return logable(item);\n        });\n        text = \"[\".concat(nowTime(), \"]\") + this._prefix + JSON.stringify(finLogText);\n      } catch (e) {\n        return;\n      }\n      if (logCacheLevel >= this.logCacheLevel) {\n        this.logSize += text.length;\n        this.logTextArray.push(text);\n      }\n      if (this.logSize > this.logMaxSize) {\n        var delLog = this.logTextArray.shift();\n        this.logSize -= delLog.length;\n      }\n    }\n  }, {\n    key: \"getLogCache\",\n    value: function getLogCache() {\n      var logText = this.logTextArray.join(\"\\n\");\n      this.reset();\n      return logText;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.logTextArray = [];\n      this.logSize = 0;\n    }\n  }, {\n    key: \"table\",\n    value: function table() {\n      var _console5;\n      if (Logger2.disabled)\n        return;\n      console.group(this._prefix);\n      (_console5 = console).table.apply(_console5, arguments);\n      console.groupEnd();\n    }\n  }, {\n    key: \"setLogLevel\",\n    value: function setLogLevel(val) {\n      this.logCacheLevel = val;\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nfunction nowTime() {\n  return new Date().toLocaleString();\n}\nfunction reduceDepth(val) {\n  if (_typeof(val) !== \"object\") {\n    return val;\n  }\n  var objType = Object.prototype.toString.call(val).slice(8, -1);\n  switch (objType) {\n    case \"Array\":\n    case \"Uint8Array\":\n    case \"ArrayBuffer\":\n      return objType + \"[\" + val.length + \"]\";\n    case \"Object\":\n      return \"{}\";\n    default:\n      return objType;\n  }\n}\nfunction logable(obj, maxDepth, depth) {\n  if (!depth)\n    depth = 1;\n  if (!maxDepth)\n    maxDepth = 2;\n  var result = {};\n  if (!obj || _typeof(obj) !== \"object\") {\n    return obj;\n  }\n  var objType = Object.prototype.toString.call(obj).slice(8, -1);\n  if (!SIMPLE_TYPE.includes(objType)) {\n    return objType;\n  }\n  if (depth > maxDepth) {\n    return void 0;\n  }\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      if (depth === maxDepth) {\n        result[key] = reduceDepth(obj[key]);\n      } else if (_typeof(obj[key]) === \"object\") {\n        result[key] = logable(obj[key], maxDepth, depth + 1);\n      } else {\n        result[key] = obj[key];\n      }\n    }\n  }\n  return result;\n}\nexport { LogCacheLevel, Logger };\n","function createPublicPromise() {\n  var res, rej;\n  var promise = new Promise(function(resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.used = false;\n  promise.resolve = function() {\n    promise.used = true;\n    return res.apply(void 0, arguments);\n  };\n  promise.reject = function() {\n    promise.used = true;\n    return rej.apply(void 0, arguments);\n  };\n  return promise;\n}\nfunction nowTime() {\n  try {\n    return parseInt(performance.now(), 10);\n  } catch (e) {\n    return new Date().getTime();\n  }\n}\nvar SafeJSON = {\n  stringify: function stringify(obj) {\n    try {\n      return JSON.stringify(obj);\n    } catch (e) {\n      return \"\";\n    }\n  },\n  parse: function parse(obj) {\n    try {\n      return JSON.parse(obj);\n    } catch (e) {\n      return void 0;\n    }\n  }\n};\nexport { SafeJSON, createPublicPromise, nowTime };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, wrapNativeSuper as _wrapNativeSuper, typeof as _typeof, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { Buffer } from \"./buffer.js\";\nimport { isBrowser } from \"./env.js\";\nimport { StreamingError, ERR } from \"./error.js\";\nimport { Logger } from \"./logger.js\";\nimport { createPublicPromise, nowTime, SafeJSON } from \"./utils.js\";\nfunction getMediaSource() {\n  var preferMMS = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n  try {\n    if (!isBrowser)\n      return null;\n    if (preferMMS && typeof ManagedMediaSource !== \"undefined\")\n      return ManagedMediaSource;\n    return window.MediaSource;\n  } catch (e) {\n  }\n}\nfunction isMMS(mediaSource) {\n  return /ManagedMediaSource/gi.test(Object.prototype.toString.call(mediaSource));\n}\nfunction getTimeRanges(buffered) {\n  var ranges = [];\n  if (buffered instanceof TimeRanges) {\n    for (var i = 0; i < buffered.length; i++) {\n      ranges.push({\n        start: buffered.start(i),\n        end: buffered.end(i)\n      });\n    }\n  }\n  return ranges;\n}\nvar MSEErrorType = {\n  UPDATE_ERROR: \"updateError\"\n};\nvar OP_NAME = {\n  APPEND: \"appendBuffer\",\n  REMOVE: \"removeBuffer\",\n  UPDATE_DURATION: \"updateDuration\"\n};\nvar MSEError = /* @__PURE__ */ function(_Error) {\n  _inherits(MSEError2, _Error);\n  var _super = _createSuper(MSEError2);\n  function MSEError2(type, msg) {\n    var _this;\n    _classCallCheck(this, MSEError2);\n    _this = _super.call(this, msg || type);\n    _this.type = type;\n    _this.msg = msg;\n    return _this;\n  }\n  return _createClass(MSEError2);\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nvar MSE = /* @__PURE__ */ function() {\n  function MSE2(media, config) {\n    var _this2 = this;\n    _classCallCheck(this, MSE2);\n    _defineProperty(this, \"media\", null);\n    _defineProperty(this, \"mediaSource\", null);\n    _defineProperty(this, \"_openPromise\", createPublicPromise());\n    _defineProperty(this, \"_queue\", /* @__PURE__ */ Object.create(null));\n    _defineProperty(this, \"_sourceBuffer\", /* @__PURE__ */ Object.create(null));\n    _defineProperty(this, \"_mseFullFlag\", {});\n    _defineProperty(this, \"_st\", 0);\n    _defineProperty(this, \"_opst\", 0);\n    _defineProperty(this, \"_logger\", null);\n    _defineProperty(this, \"_config\", null);\n    _defineProperty(this, \"_url\", null);\n    _defineProperty(this, \"_onStartStreaming\", function() {\n      _this2._logger.debug(\"startstreaming\");\n    });\n    _defineProperty(this, \"_onEndStreaming\", function() {\n      _this2._logger.debug(\"endstreaming\");\n    });\n    _defineProperty(this, \"_onSBUpdateEnd\", function(type) {\n      var queue = _this2._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (!((op === null || op === void 0 ? void 0 : op.opName) === OP_NAME.UPDATE_DURATION)) {\n          queue.shift();\n        }\n        if (op) {\n          var _this2$_sourceBuffer$, _op$context;\n          var costtime = nowTime() - _this2._opst;\n          _this2._logger.debug(\"UpdateEnd(\".concat(type, \"/\").concat(op.opName, \")\"), SafeJSON.stringify(getTimeRanges((_this2$_sourceBuffer$ = _this2._sourceBuffer[type]) === null || _this2$_sourceBuffer$ === void 0 ? void 0 : _this2$_sourceBuffer$.buffered)), costtime, op.context);\n          op.promise.resolve({\n            name: op.opName,\n            context: op.context,\n            costtime\n          });\n          var callback = (_op$context = op.context) === null || _op$context === void 0 ? void 0 : _op$context.callback;\n          if (callback && typeof callback === \"function\") {\n            callback(op.context);\n          }\n          _this2._startQueue(type);\n        }\n      }\n    });\n    _defineProperty(this, \"_onSBUpdateError\", function(type, event) {\n      var queue = _this2._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (op) {\n          _this2._logger.error(\"UpdateError\", type, op.opName, op.context);\n          op.promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_APPEND_BUFFER, event));\n        }\n      }\n    });\n    this._config = Object.assign(MSE2.getDefaultConfig(), config);\n    if (media)\n      this.bindMedia(media);\n    this._logger = new Logger(\"MSE\");\n    if (this._config.openLog) {\n      Logger.enable();\n    }\n  }\n  _createClass(MSE2, [{\n    key: \"isOpened\",\n    get: function get() {\n      var _this$mediaSource;\n      return ((_this$mediaSource = this.mediaSource) === null || _this$mediaSource === void 0 ? void 0 : _this$mediaSource.readyState) === \"open\";\n    }\n  }, {\n    key: \"hasOpTasks\",\n    get: function get() {\n      var _this3 = this;\n      var flag = false;\n      Object.keys(this._queue).forEach(function(k) {\n        var queue = _this3._queue[k];\n        if (Array.isArray(queue)) {\n          flag || (flag = queue.length > 0);\n        }\n      });\n      return flag;\n    }\n  }, {\n    key: \"url\",\n    get: function get() {\n      return this._url;\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      var _this$mediaSource2;\n      return ((_this$mediaSource2 = this.mediaSource) === null || _this$mediaSource2 === void 0 ? void 0 : _this$mediaSource2.duration) || -1;\n    }\n  }, {\n    key: \"isEnded\",\n    get: function get() {\n      return this.mediaSource ? this.mediaSource.readyState === \"ended\" : false;\n    }\n  }, {\n    key: \"streaming\",\n    get: function get() {\n      return isMMS(this.mediaSource) ? this.mediaSource.streaming : true;\n    }\n  }, {\n    key: \"isFull\",\n    value: function isFull(type) {\n      return type ? this._mseFullFlag[type] : this._mseFullFlag[MSE2.VIDEO];\n    }\n  }, {\n    key: \"updateDuration\",\n    value: function updateDuration(duration) {\n      var _this4 = this;\n      var isReduceDuration = this.mediaSource && this.mediaSource.duration > duration;\n      if (this.mediaSource && this.mediaSource.duration > duration) {\n        var bufferEnd = 0;\n        Object.keys(this._sourceBuffer).forEach(function(k) {\n          try {\n            bufferEnd = Math.max(_this4.bufferEnd(k) || 0, bufferEnd);\n          } catch (error) {\n          }\n        });\n        if (duration < bufferEnd) {\n          return Promise.resolve();\n        }\n      }\n      return this._enqueueBlockingOp(function() {\n        if (_this4.isEnded) {\n          _this4._logger.debug(\"setDuration but ended\");\n          return;\n        }\n        if (_this4.mediaSource) {\n          _this4.mediaSource.duration = duration;\n          _this4._logger.debug(\"setDuration\", duration);\n        }\n      }, OP_NAME.UPDATE_DURATION, {\n        isReduceDuration\n      });\n    }\n  }, {\n    key: \"open\",\n    value: function open() {\n      var _this5 = this;\n      if (this._openPromise.used && !this.isOpened && this.mediaSource) {\n        var ms = this.mediaSource;\n        var onOpen = function onOpen2() {\n          var costTime = nowTime() - _this5._st;\n          _this5._logger.debug(\"sourceopen\", costTime);\n          ms.removeEventListener(\"sourceopen\", onOpen2);\n          _this5._openPromise.resolve({\n            costtime: costTime\n          });\n        };\n        ms.addEventListener(\"sourceopen\", onOpen);\n        this._openPromise = createPublicPromise();\n      }\n      return this._openPromise;\n    }\n  }, {\n    key: \"bindMedia\",\n    value: function() {\n      var _bindMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(media) {\n        var _this6 = this;\n        var MediaSource2, ms, useMMS, onOpen;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(this.mediaSource || this.media)) {\n                  _context.next = 3;\n                  break;\n                }\n                _context.next = 3;\n                return this.unbindMedia();\n              case 3:\n                MediaSource2 = getMediaSource(this._config.preferMMS);\n                if (!(!media || !MediaSource2)) {\n                  _context.next = 6;\n                  break;\n                }\n                throw new Error(\"Param media or MediaSource does not exist\");\n              case 6:\n                this.media = media;\n                ms = this.mediaSource = new MediaSource2();\n                useMMS = isMMS(ms);\n                this._st = nowTime();\n                onOpen = function onOpen2() {\n                  var costTime = nowTime() - _this6._st;\n                  _this6._logger.debug(\"sourceopen\");\n                  ms.removeEventListener(\"sourceopen\", onOpen2);\n                  URL.revokeObjectURL(media.src);\n                  _this6._openPromise.resolve({\n                    costtime: costTime\n                  });\n                };\n                ms.addEventListener(\"sourceopen\", onOpen);\n                if (useMMS) {\n                  ms.addEventListener(\"startstreaming\", this._onStartStreaming);\n                  ms.addEventListener(\"endstreaming\", this._onEndStreaming);\n                }\n                this._url = URL.createObjectURL(ms);\n                media.src = this._url;\n                media.disableRemotePlayback = useMMS;\n                return _context.abrupt(\"return\", this._openPromise);\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function bindMedia(_x) {\n        return _bindMedia.apply(this, arguments);\n      }\n      return bindMedia;\n    }()\n  }, {\n    key: \"unbindMedia\",\n    value: function() {\n      var _unbindMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        var _this7 = this;\n        var ms, hasMetadata, mseOpen;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this._openPromise.used)\n                  this._openPromise.resolve();\n                ms = this.mediaSource;\n                if (ms) {\n                  Object.keys(this._queue).forEach(function(t) {\n                    var queue = _this7._queue[t];\n                    if (queue) {\n                      queue.forEach(function(x) {\n                        var _x$promise, _x$promise$resolve;\n                        return (_x$promise = x.promise) === null || _x$promise === void 0 ? void 0 : (_x$promise$resolve = _x$promise.resolve) === null || _x$promise$resolve === void 0 ? void 0 : _x$promise$resolve.call(_x$promise);\n                      });\n                    }\n                  });\n                  hasMetadata = !!this.media && this.media.readyState >= 1;\n                  mseOpen = ms.readyState === \"open\";\n                  if (hasMetadata && mseOpen) {\n                    try {\n                      ms.endOfStream();\n                    } catch (error) {\n                    }\n                  }\n                  Object.keys(this._sourceBuffer).forEach(function(k) {\n                    try {\n                      ms.removeSourceBuffer(_this7._sourceBuffer[k]);\n                    } catch (error) {\n                    }\n                  });\n                  if (isMMS(ms)) {\n                    ms.removeEventListener(\"startstreaming\", this._onStartStreaming);\n                    ms.removeEventListener(\"endstreaming\", this._onEndStreaming);\n                  }\n                }\n                if (this.media) {\n                  this.media.disableRemotePlayback = false;\n                  this.media.removeAttribute(\"src\");\n                  try {\n                    this.media.load();\n                  } catch (error) {\n                  }\n                  this.media = null;\n                }\n                this.mediaSource = null;\n                this._openPromise = createPublicPromise();\n                this._queue = /* @__PURE__ */ Object.create(null);\n                this._sourceBuffer = /* @__PURE__ */ Object.create(null);\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function unbindMedia() {\n        return _unbindMedia.apply(this, arguments);\n      }\n      return unbindMedia;\n    }()\n  }, {\n    key: \"createSource\",\n    value: function createSource(type, mimeType) {\n      if (this._sourceBuffer[type] || !this.mediaSource)\n        return;\n      var sb;\n      try {\n        sb = this._sourceBuffer[type] = this.mediaSource.addSourceBuffer(mimeType);\n      } catch (error) {\n        throw new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_ADD_SB, error);\n      }\n      sb.mimeType = mimeType;\n      sb.addEventListener(\"updateend\", this._onSBUpdateEnd.bind(this, type));\n      sb.addEventListener(\"error\", this._onSBUpdateError.bind(this, type));\n    }\n  }, {\n    key: \"changeType\",\n    value: function changeType(type, mimeType) {\n      var _this8 = this;\n      var sb = this._sourceBuffer[type];\n      if (!this.mediaSource || !sb || sb.mimeType === mimeType)\n        return Promise.resolve();\n      if (typeof sb.changeType !== \"function\") {\n        return Promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_CHANGE_TYPE, new Error(\"changeType is not a function\")));\n      }\n      return this._enqueueOp(type, function() {\n        try {\n          sb.changeType(mimeType);\n        } catch (e) {\n          throw new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_CHANGE_TYPE, e);\n        }\n        sb.mimeType = mimeType;\n        _this8._onSBUpdateEnd(type);\n      }, \"changeType\", {\n        mimeType\n      });\n    }\n  }, {\n    key: \"createOrChangeSource\",\n    value: function createOrChangeSource(type, mimeType) {\n      this.createSource(type, mimeType);\n      return this.changeType(type, mimeType);\n    }\n  }, {\n    key: \"append\",\n    value: function append(type, buffer, context) {\n      var _this9 = this;\n      if (!buffer || !buffer.byteLength) {\n        return Promise.resolve();\n      }\n      if (!this._sourceBuffer[type])\n        return Promise.resolve();\n      return this._enqueueOp(type, function() {\n        var _this9$_sourceBuffer$;\n        if (!_this9.mediaSource || _this9.media.error)\n          return;\n        _this9._logger.debug(\"MSE APPEND START\", context);\n        _this9._opst = nowTime();\n        (_this9$_sourceBuffer$ = _this9._sourceBuffer[type]) === null || _this9$_sourceBuffer$ === void 0 ? void 0 : _this9$_sourceBuffer$.appendBuffer(buffer);\n      }, OP_NAME.APPEND, context);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(type, startTime, endTime, context) {\n      var _this10 = this;\n      var isInsertHead = false;\n      if (this._mseFullFlag[type]) {\n        isInsertHead = true;\n      }\n      return this._enqueueOp(type, function() {\n        if (!_this10.mediaSource || _this10.media.error)\n          return;\n        var sb = _this10._sourceBuffer[type];\n        if (startTime >= endTime || !sb) {\n          _this10._onSBUpdateEnd(type);\n          return;\n        }\n        _this10._opst = nowTime();\n        _this10._logger.debug(\"MSE REMOVE START\", type, startTime, endTime, context);\n        sb.remove(startTime, endTime);\n      }, OP_NAME.REMOVE, context, isInsertHead);\n    }\n  }, {\n    key: \"clearBuffer\",\n    value: function clearBuffer(startTime, endTime) {\n      var _this11 = this;\n      var p;\n      Object.keys(this._sourceBuffer).forEach(function(k) {\n        p = _this11.remove(k, startTime, endTime);\n      });\n      return p || Promise.resolve();\n    }\n  }, {\n    key: \"clearAllBuffer\",\n    value: function clearAllBuffer() {\n      var _this12 = this;\n      var p;\n      Object.keys(this._sourceBuffer).forEach(function(k) {\n        var sb = _this12._sourceBuffer[k];\n        p = _this12.remove(k, 0, Buffer.end(Buffer.get(sb)));\n      });\n      return p;\n    }\n  }, {\n    key: \"clearOpQueues\",\n    value: function clearOpQueues(type, allClear) {\n      var _this$_queue$type;\n      this._logger.debug(\"MSE clearOpQueue START\");\n      var queue = this._queue[type];\n      if (allClear && queue) {\n        this._queue[type] = [];\n        return;\n      }\n      if (!queue || !queue[type] || queue.length < 5)\n        return;\n      var initQueue = [];\n      queue.forEach(function(op) {\n        if (op.context && op.context.isinit) {\n          initQueue.push(op);\n        }\n      });\n      this._queue[type] = queue.slice(0, 2);\n      initQueue.length > 0 && (_this$_queue$type = this._queue[type]).push.apply(_this$_queue$type, initQueue);\n    }\n  }, {\n    key: \"endOfStream\",\n    value: function endOfStream(reason) {\n      var _this13 = this;\n      if (!this.mediaSource || this.mediaSource.readyState !== \"open\")\n        return Promise.resolve();\n      return this._enqueueBlockingOp(function() {\n        var ms = _this13.mediaSource;\n        if (!ms || ms.readyState !== \"open\")\n          return;\n        _this13._logger.debug(\"MSE endOfStream START\");\n        if (reason) {\n          ms.endOfStream(reason);\n        } else {\n          ms.endOfStream();\n        }\n      }, \"endOfStream\");\n    }\n  }, {\n    key: \"setLiveSeekableRange\",\n    value: function setLiveSeekableRange(start, end) {\n      var ms = this.mediaSource;\n      if (start < 0 || end < start || !(ms !== null && ms !== void 0 && ms.setLiveSeekableRange) || ms.readyState !== \"open\")\n        return;\n      ms.setLiveSeekableRange(start, end);\n    }\n  }, {\n    key: \"getSourceBuffer\",\n    value: function getSourceBuffer(type) {\n      return this._sourceBuffer[type];\n    }\n  }, {\n    key: \"buffered\",\n    value: function buffered(type) {\n      return Buffer.get(this._sourceBuffer[type]);\n    }\n  }, {\n    key: \"bufferStart\",\n    value: function bufferStart(type) {\n      return Buffer.start(this.buffered(type));\n    }\n  }, {\n    key: \"bufferEnd\",\n    value: function bufferEnd(type) {\n      return Buffer.end(this.buffered(type));\n    }\n  }, {\n    key: \"_enqueueOp\",\n    value: function _enqueueOp(type, exec, opName, context, isInsertHead) {\n      var _this14 = this;\n      if (!this.mediaSource)\n        return Promise.resolve();\n      var queue = this._queue[type] = this._queue[type] || [];\n      var op = {\n        exec,\n        promise: createPublicPromise(),\n        opName,\n        context\n      };\n      if (isInsertHead) {\n        queue.splice(0, 0, op);\n        this._mseFullFlag[type] = false;\n        this._startQueue(type);\n      } else {\n        queue.push(op);\n      }\n      if (this.isOpened || this.isEnded) {\n        if (queue.length === 1) {\n          this._startQueue(type);\n        }\n      } else {\n        this._openPromise.then(function() {\n          if (queue.length === 1) {\n            _this14._startQueue(type);\n          }\n        });\n      }\n      return op.promise;\n    }\n  }, {\n    key: \"_enqueueBlockingOp\",\n    value: function() {\n      var _enqueueBlockingOp2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3(exec, opName, context) {\n        var _this15 = this;\n        var types, waiters;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (this.mediaSource) {\n                  _context3.next = 2;\n                  break;\n                }\n                return _context3.abrupt(\"return\", Promise.resolve());\n              case 2:\n                types = Object.keys(this._sourceBuffer);\n                if (types.length) {\n                  _context3.next = 5;\n                  break;\n                }\n                return _context3.abrupt(\"return\", exec());\n              case 5:\n                waiters = [];\n                types.forEach(function(t) {\n                  var queue = _this15._queue[t];\n                  var prom = createPublicPromise();\n                  waiters.push(prom);\n                  queue.push({\n                    exec: function exec2() {\n                      prom.resolve();\n                    },\n                    promise: prom,\n                    opName,\n                    context\n                  });\n                  if (queue.length === 1) {\n                    _this15._startQueue(t);\n                  }\n                });\n                return _context3.abrupt(\"return\", Promise.all(waiters).then(function() {\n                  try {\n                    return exec();\n                  } finally {\n                    types.forEach(function(t) {\n                      var queue = _this15._queue[t];\n                      var sb = _this15._sourceBuffer[t];\n                      queue === null || queue === void 0 ? void 0 : queue.shift();\n                      if (!sb || !sb.updating) {\n                        _this15._startQueue(t);\n                      }\n                    });\n                  }\n                }));\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function _enqueueBlockingOp(_x2, _x3, _x4) {\n        return _enqueueBlockingOp2.apply(this, arguments);\n      }\n      return _enqueueBlockingOp;\n    }()\n  }, {\n    key: \"_startQueue\",\n    value: function _startQueue(type) {\n      var queue = this._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (op && !this._mseFullFlag[type]) {\n          try {\n            op.exec();\n          } catch (error) {\n            if (error && error.message && error.message.indexOf(\"SourceBuffer is full\") >= 0) {\n              this._mseFullFlag[type] = true;\n              if (op.context && _typeof(op.context) === \"object\") {\n                op.context.isFull = true;\n              }\n              this._logger.error(\"[MSE error],  context,\", op.context, \" ,name,\", op.opName, \",err,SourceBuffer is full\");\n              op.promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_FULL, error));\n            } else {\n              this._logger.error(error);\n              op.promise.reject(error.constructor === StreamingError ? error : new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_OTHER, error));\n              queue.shift();\n              this._startQueue(type);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setTimeoffset\",\n    value: function setTimeoffset(type, timestampOffset, context) {\n      var _this16 = this;\n      return this._enqueueOp(type, function() {\n        if (timestampOffset < 0) {\n          timestampOffset += 1e-3;\n        }\n        _this16._sourceBuffer[type].timestampOffset = timestampOffset;\n        _this16._onSBUpdateEnd(type);\n      }, \"setTimeoffset\", context);\n    }\n  }, {\n    key: \"abort\",\n    value: function abort(type, context) {\n      var _this17 = this;\n      if (!this.isOpened) {\n        return Promise.resolve();\n      }\n      return this._enqueueOp(type, function() {\n        _this17._sourceBuffer[type].abort();\n        _this17._onSBUpdateEnd(type);\n      }, \"abort\", context);\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      var mime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 'video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"';\n      var MediaSource2 = getMediaSource();\n      if (!MediaSource2)\n        return false;\n      try {\n        return MediaSource2.isTypeSupported(mime);\n      } catch (error) {\n        this._logger.error(mime, error);\n        return false;\n      }\n    }\n  }, {\n    key: \"isMMSOnly\",\n    value: function isMMSOnly() {\n      return typeof ManagedMediaSource !== \"undefined\" && typeof MediaSource === \"undefined\";\n    }\n  }, {\n    key: \"getDefaultConfig\",\n    value: function getDefaultConfig() {\n      return {\n        openLog: false,\n        preferMMS: false\n      };\n    }\n  }]);\n  return MSE2;\n}();\n_defineProperty(MSE, \"VIDEO\", \"video\");\n_defineProperty(MSE, \"AUDIO\", \"audio\");\nexport { MSE, MSEError, MSEErrorType };\n","var EVENT = {\n  ERROR: \"error\",\n  TTFB: \"core.ttfb\",\n  LOAD_START: \"core.loadstart\",\n  LOAD_RESPONSE_HEADERS: \"core.loadresponseheaders\",\n  LOAD_COMPLETE: \"core.loadcomplete\",\n  LOAD_RETRY: \"core.loadretry\",\n  SOURCEBUFFER_CREATED: \"core.sourcebuffercreated\",\n  MEDIASOURCE_OPENED: \"core.mediasourceopened\",\n  ANALYZE_DURATION_EXCEEDED: \"core.analyzedurationexceeded\",\n  APPEND_BUFFER: \"core.appendbuffer\",\n  REMOVE_BUFFER: \"core.removebuffer\",\n  BUFFEREOS: \"core.buffereos\",\n  KEYFRAME: \"core.keyframe\",\n  CHASEFRAME: \"core.chaseframe\",\n  METADATA_PARSED: \"core.metadataparsed\",\n  SEI: \"core.sei\",\n  SEI_IN_TIME: \"core.seiintime\",\n  FLV_SCRIPT_DATA: \"core.flvscriptdata\",\n  LOWDECODE: \"core.lowdecode\",\n  SWITCH_URL_SUCCESS: \"core.switchurlsuccess\",\n  SWITCH_URL_FAILED: \"core.switchurlfailed\",\n  SPEED: \"core.speed\",\n  HLS_MANIFEST_LOADED: \"core.hlsmanifestloaded\",\n  HLS_LEVEL_LOADED: \"core.hlslevelloaded\",\n  DEMUXED_TRACK: \"core.demuxedtrack\",\n  STREAM_EXCEPTION: \"core.streamexception\",\n  LARGE_AV_FIRST_FRAME_GAP_DETECT: \"LARGE_AV_FIRST_FRAME_GAP_DETECT\",\n  LARGE_VIDEO_DTS_GAP_DETECT: \"LARGE_VIDEO_DTS_GAP_DETECT\",\n  LARGE_AUDIO_DTS_GAP_DETECT: \"LARGE_AUDIO_DTS_GAP_DETECT\",\n  AUDIO_GAP_DETECT: \"AUDIO_GAP_DETECT\",\n  AUDIO_OVERLAP_DETECT: \"AUDIO_OVERLAP_DETECT\",\n  MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT: \"MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT\",\n  REAL_TIME_SPEED: \"real_time_speed\"\n};\nexport { EVENT };\n","function isMediaPlaying(media) {\n  return media && !media.paused && !media.ended && media.playbackRate !== 0 && media.readyState !== 0;\n}\nfunction getVideoPlaybackQuality(video) {\n  if (!video)\n    return {};\n  if (typeof video.getVideoPlaybackQuality === \"function\") {\n    var info = video.getVideoPlaybackQuality();\n    return {\n      droppedVideoFrames: info.droppedVideoFrames || info.corruptedVideoFrames,\n      totalVideoFrames: info.totalVideoFrames,\n      creationTime: info.creationTime\n    };\n  }\n  return {\n    droppedVideoFrames: video.webkitDroppedFrameCount,\n    totalVideoFrames: video.webkitDecodedFrameCount,\n    creationTime: performance.now()\n  };\n}\nfunction concatUint8Array() {\n  for (var _len = arguments.length, arr = new Array(_len), _key = 0; _key < _len; _key++) {\n    arr[_key] = arguments[_key];\n  }\n  arr = arr.filter(Boolean);\n  if (arr.length < 2)\n    return arr[0];\n  var data = new Uint8Array(arr.reduce(function(p, c) {\n    return p + c.byteLength;\n  }, 0));\n  var prevLen = 0;\n  arr.forEach(function(d) {\n    data.set(d, prevLen);\n    prevLen += d.byteLength;\n  });\n  return data;\n}\nfunction sleep() {\n  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n  return new Promise(function(resolve) {\n    return setTimeout(resolve, t);\n  });\n}\nexport { concatUint8Array, getVideoPlaybackQuality, isMediaPlaying, sleep };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT } from \"../event.js\";\nvar SeiService = /* @__PURE__ */ function() {\n  function SeiService2(emitter) {\n    var _this = this;\n    _classCallCheck(this, SeiService2);\n    _defineProperty(this, \"_seiSet\", /* @__PURE__ */ new Set());\n    this.emitter = emitter;\n    emitter.on(EVENT.SEI, function(sei) {\n      if (sei)\n        _this._seiSet.add(sei);\n    });\n  }\n  _createClass(SeiService2, [{\n    key: \"throw\",\n    value: function _throw(currentTime, isLive) {\n      var _this2 = this;\n      if (currentTime === null || currentTime === void 0 || !this._seiSet.size)\n        return;\n      var min = currentTime - 0.2;\n      var max = currentTime + 0.2;\n      var toThrow = [];\n      this._seiSet.forEach(function(sei) {\n        if (sei.time >= min && sei.time <= max) {\n          toThrow.push(sei);\n        }\n      });\n      toThrow.forEach(function(sei) {\n        _this2._seiSet.delete(sei);\n        _this2.emitter.emit(EVENT.SEI_IN_TIME, sei);\n      });\n      if (!isLive)\n        return;\n      this._seiSet.forEach(function(s) {\n        if (s.time < currentTime - 5) {\n          _this2._seiSet.delete(s);\n        }\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._seiSet.clear();\n    }\n  }]);\n  return SeiService2;\n}();\nexport { SeiService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Buffer } from \"../buffer.js\";\nvar GapService = /* @__PURE__ */ function() {\n  function GapService2() {\n    _classCallCheck(this, GapService2);\n    _defineProperty(this, \"_prevCurrentTime\", 0);\n  }\n  _createClass(GapService2, [{\n    key: \"do\",\n    value: function _do(media) {\n      var maxJumpDistance = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 3;\n      var isLive = arguments.length > 2 ? arguments[2] : void 0;\n      var seekThreshold = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 1;\n      if (!media)\n        return;\n      var currentTime = media.currentTime;\n      var jumpTo = 0;\n      if (this._prevCurrentTime === currentTime) {\n        var info = Buffer.info(Buffer.get(media), currentTime);\n        if (!info.buffers.length)\n          return;\n        if (isLive && info.nextStart || info.nextStart && info.nextStart - currentTime < maxJumpDistance) {\n          jumpTo = info.nextStart + 0.1;\n        } else if (info.end && info.end - currentTime > seekThreshold && !media.seeking) {\n          jumpTo = currentTime + 0.1;\n        }\n      }\n      this._prevCurrentTime = currentTime;\n      if (jumpTo && currentTime !== jumpTo) {\n        media.currentTime = jumpTo;\n      }\n    }\n  }]);\n  return GapService2;\n}();\nexport { GapService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../mse.js\";\nimport { EVENT } from \"../event.js\";\nimport \"eventemitter3\";\nimport \"../logger.js\";\nimport \"../error.js\";\nvar Stats = /* @__PURE__ */ function() {\n  function Stats2(timescale) {\n    _classCallCheck(this, Stats2);\n    _defineProperty(this, \"encodeType\", \"\");\n    _defineProperty(this, \"audioCodec\", \"\");\n    _defineProperty(this, \"videoCodec\", \"\");\n    _defineProperty(this, \"domain\", \"\");\n    _defineProperty(this, \"fps\", 0);\n    _defineProperty(this, \"bitrate\", 0);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"samplerate\", 0);\n    _defineProperty(this, \"channelCount\", 0);\n    _defineProperty(this, \"gop\", 0);\n    _defineProperty(this, \"_bitsAccumulateSize\", 0);\n    _defineProperty(this, \"_bitsAccumulateDuration\", 0);\n    _defineProperty(this, \"_startGopId\", -1);\n    this._timescale = timescale;\n  }\n  _createClass(Stats2, [{\n    key: \"getStats\",\n    value: function getStats() {\n      return {\n        encodeType: this.encodeType,\n        audioCodec: this.audioCodec,\n        videoCodec: this.videoCodec,\n        domain: this.domain,\n        fps: this.fps,\n        bitrate: this.bitrate,\n        width: this.width,\n        height: this.height,\n        samplerate: this.samplerate,\n        channelCount: this.channelCount,\n        gop: this.gop\n      };\n    }\n  }, {\n    key: \"setEncodeType\",\n    value: function setEncodeType(encode) {\n      this.encodeType = encode;\n    }\n  }, {\n    key: \"setFpsFromScriptData\",\n    value: function setFpsFromScriptData(_ref) {\n      var _data$onMetaData;\n      var data = _ref.data;\n      var fps = data === null || data === void 0 ? void 0 : (_data$onMetaData = data.onMetaData) === null || _data$onMetaData === void 0 ? void 0 : _data$onMetaData.framerate;\n      if (fps && fps > 0 && fps < 100) {\n        this.fps = fps;\n      }\n    }\n  }, {\n    key: \"setVideoMeta\",\n    value: function setVideoMeta(track) {\n      this.width = track.width;\n      this.height = track.height;\n      this.videoCodec = track.codec;\n      this.encodeType = track.codecType;\n      if (track.fpsNum && track.fpsDen) {\n        var fps = track.fpsNum / track.fpsDen;\n        if (fps > 0 && fps < 100) {\n          this.fps = fps;\n        }\n      }\n    }\n  }, {\n    key: \"setAudioMeta\",\n    value: function setAudioMeta(track) {\n      this.audioCodec = track.codec;\n      this.samplerate = track.sampleRate;\n      this.channelCount = track.channelCount;\n    }\n  }, {\n    key: \"setDomain\",\n    value: function setDomain(responseUrl) {\n      this.domain = responseUrl.split(\"/\").slice(2, 3)[0];\n    }\n  }, {\n    key: \"updateBitrate\",\n    value: function updateBitrate(samples) {\n      var _this = this;\n      if (!this.fps || this.fps >= 100) {\n        if (samples.length) {\n          var duration = samples.reduce(function(a, b) {\n            return a += b.duration;\n          }, 0) / samples.length;\n          this.fps = Math.round(this._timescale / duration);\n        }\n      }\n      samples.forEach(function(sample) {\n        if (_this._startGopId === -1) {\n          _this._startGopId = sample.gopId;\n        }\n        if (sample.gopId === _this._startGopId) {\n          _this.gop++;\n        }\n        _this._bitsAccumulateDuration += sample.duration / (_this._timescale / 1e3);\n        _this._bitsAccumulateSize += sample.units.reduce(function(a, c) {\n          return a += c.length;\n        }, 0);\n        if (_this._bitsAccumulateDuration >= 1e3) {\n          _this.bitrate = _this._bitsAccumulateSize * 8;\n          _this._bitsAccumulateDuration = 0;\n          _this._bitsAccumulateSize = 0;\n        }\n      });\n    }\n  }]);\n  return Stats2;\n}();\nvar MediaStatsService = /* @__PURE__ */ function() {\n  function MediaStatsService2(core) {\n    var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1e3;\n    _classCallCheck(this, MediaStatsService2);\n    _defineProperty(this, \"_core\", null);\n    _defineProperty(this, \"_samples\", []);\n    this._core = core;\n    this._timescale = timescale;\n    this._stats = new Stats(timescale);\n    this._bindEvents();\n  }\n  _createClass(MediaStatsService2, [{\n    key: \"getStats\",\n    value: function getStats() {\n      var _this$_core, _this$_core2, _this$_core2$speedInf, _this$_core3, _this$_core3$speedInf, _this$_core4, _this$_core4$speedInf, _this$_core5, _this$_core5$speedInf, _this$_core6, _this$_core6$bufferIn;\n      var _ref2 = ((_this$_core = this._core) === null || _this$_core === void 0 ? void 0 : _this$_core.media) || {}, _ref2$currentTime = _ref2.currentTime, currentTime = _ref2$currentTime === void 0 ? 0 : _ref2$currentTime, _ref2$decodeFps = _ref2.decodeFps, decodeFps = _ref2$decodeFps === void 0 ? 0 : _ref2$decodeFps;\n      return _objectSpread2(_objectSpread2({}, this._stats.getStats()), {}, {\n        downloadSpeed: ((_this$_core2 = this._core) === null || _this$_core2 === void 0 ? void 0 : (_this$_core2$speedInf = _this$_core2.speedInfo) === null || _this$_core2$speedInf === void 0 ? void 0 : _this$_core2$speedInf.call(_this$_core2).speed) || 0,\n        avgSpeed: ((_this$_core3 = this._core) === null || _this$_core3 === void 0 ? void 0 : (_this$_core3$speedInf = _this$_core3.speedInfo) === null || _this$_core3$speedInf === void 0 ? void 0 : _this$_core3$speedInf.call(_this$_core3).avgSpeed) || 0,\n        totalReceivedByte: ((_this$_core4 = this._core) === null || _this$_core4 === void 0 ? void 0 : (_this$_core4$speedInf = _this$_core4.speedInfo) === null || _this$_core4$speedInf === void 0 ? void 0 : _this$_core4$speedInf.call(_this$_core4).totalSize) || 0,\n        totalReceivedCost: ((_this$_core5 = this._core) === null || _this$_core5 === void 0 ? void 0 : (_this$_core5$speedInf = _this$_core5.speedInfo) === null || _this$_core5$speedInf === void 0 ? void 0 : _this$_core5$speedInf.call(_this$_core5).totalCost) || 0,\n        currentTime,\n        bufferEnd: ((_this$_core6 = this._core) === null || _this$_core6 === void 0 ? void 0 : (_this$_core6$bufferIn = _this$_core6.bufferInfo()) === null || _this$_core6$bufferIn === void 0 ? void 0 : _this$_core6$bufferIn.remaining) || 0,\n        decodeFps\n      });\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this2 = this;\n      this._core.on(EVENT.DEMUXED_TRACK, function(_ref3) {\n        var videoTrack = _ref3.videoTrack;\n        return _this2._stats.updateBitrate(videoTrack.samples);\n      });\n      this._core.on(EVENT.FLV_SCRIPT_DATA, function(data) {\n        _this2._stats.setFpsFromScriptData(data);\n      });\n      this._core.on(EVENT.METADATA_PARSED, function(e) {\n        if (e.type === \"video\") {\n          _this2._stats.setVideoMeta(e.track);\n        } else {\n          _this2._stats.setAudioMeta(e.track);\n        }\n      });\n      this._core.on(EVENT.TTFB, function(e) {\n        _this2._stats.setDomain(e.responseUrl);\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._samples = [];\n      this._stats = new Stats(this._timescale);\n    }\n  }]);\n  return MediaStatsService2;\n}();\nexport { MediaStatsService };\n","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s, _e, _x, _r, _arr = [], _n = true, _d = false;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i)\n          return;\n        _n = false;\n      } else\n        for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = true)\n          ;\n    } catch (err) {\n      _d = true, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r))\n          return;\n      } finally {\n        if (_d)\n          throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr))\n    return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it)\n        o = it;\n      var i = 0;\n      var F = function() {\n      };\n      return {\n        s: F,\n        n: function() {\n          if (i >= o.length)\n            return {\n              done: true\n            };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function(e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true, didErr = false, err;\n  return {\n    s: function() {\n      it = it.call(o);\n    },\n    n: function() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function(e) {\n      didErr = true;\n      err = e;\n    },\n    f: function() {\n      try {\n        if (!normalCompletion && it.return != null)\n          it.return();\n      } finally {\n        if (didErr)\n          throw err;\n      }\n    }\n  };\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithHoles as arrayWithHoles, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _classCallCheck as classCallCheck, _createClass as createClass, _createForOfIteratorHelper as createForOfIteratorHelper, _createSuper as createSuper, _defineProperty as defineProperty, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _iterableToArrayLimit as iterableToArrayLimit, _nonIterableRest as nonIterableRest, _nonIterableSpread as nonIterableSpread, _possibleConstructorReturn as possibleConstructorReturn, _setPrototypeOf as setPrototypeOf, _slicedToArray as slicedToArray, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _unsupportedIterableToArray as unsupportedIterableToArray };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n  }\n  _createClass(Logger2, [{\n    key: \"warn\",\n    value: function warn() {\n      var _console;\n      if (Logger2.disabled)\n        return;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_console = console).warn.apply(_console, [this._prefix].concat(args));\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nexport { Logger };\n","var TrackType = {\n  VIDEO: \"video\",\n  AUDIO: \"audio\",\n  METADATA: \"metadata\"\n};\nvar VideoCodecType = {\n  AV1: \"av1\",\n  AVC: \"avc\",\n  HEVC: \"hevc\"\n};\nvar AudioCodecType = {\n  AAC: \"aac\",\n  G711PCMA: \"g7110a\",\n  G711PCMU: \"g7110m\",\n  OPUS: \"opus\"\n};\nvar WarningType = {\n  LARGE_AV_SHIFT: \"LARGE_AV_SHIFT\",\n  LARGE_VIDEO_GAP: \"LARGE_VIDEO_GAP\",\n  LARGE_VIDEO_GAP_BETWEEN_CHUNK: \"LARGE_VIDEO_GAP_BETWEEN_CHUNK\",\n  LARGE_AUDIO_GAP: \"LARGE_AUDIO_GAP\",\n  AUDIO_FILLED: \"AUDIO_FILLED\",\n  AUDIO_DROPPED: \"AUDIO_DROPPED\"\n};\nexport { AudioCodecType, TrackType, VideoCodecType, WarningType };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar AudioSample = /* @__PURE__ */ _createClass(\n  function AudioSample2(pts, data, duration, sampleOffset) {\n    _classCallCheck(this, AudioSample2);\n    _defineProperty(this, \"duration\", 1024);\n    _defineProperty(this, \"flag\", {\n      dependsOn: 2,\n      isNonSyncSample: 0\n    });\n    _defineProperty(this, \"keyframe\", true);\n    this.originPts = this.pts = this.dts = pts;\n    this.data = data;\n    this.size = data.byteLength;\n    this.sampleOffset = sampleOffset;\n    if (duration)\n      this.duration = duration;\n  }\n);\nexport { AudioSample };\n","var isBrowser = typeof window !== \"undefined\";\nvar ua = isBrowser && navigator.userAgent.toLocaleLowerCase();\nvar isSafari = isBrowser && /^((?!chrome|android).)*safari/.test(ua);\nvar isFirefox = isBrowser && ua.includes(\"firefox\");\nvar isAndroid = isBrowser && ua.includes(\"android\");\nexport { isAndroid, isBrowser, isFirefox, isSafari };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../utils/logger.js\";\nimport { isFirefox, isAndroid } from \"../utils/env.js\";\nvar AAC = /* @__PURE__ */ function() {\n  function AAC2() {\n    _classCallCheck(this, AAC2);\n  }\n  _createClass(AAC2, null, [{\n    key: \"getRateIndexByRate\",\n    value: function getRateIndexByRate(rate) {\n      return AAC2.FREQ.indexOf(rate);\n    }\n  }, {\n    key: \"parseADTS\",\n    value: function parseADTS(data, pts) {\n      var len = data.length;\n      var i = 0;\n      while (i + 2 < len) {\n        if (data[i] === 255 && (data[i + 1] & 246) === 240) {\n          break;\n        }\n        i++;\n      }\n      if (i >= len)\n        return;\n      var skip = i;\n      var frames = [];\n      var samplingFrequencyIndex = (data[i + 2] & 60) >>> 2;\n      var sampleRate = AAC2.FREQ[samplingFrequencyIndex];\n      if (!sampleRate)\n        throw new Error(\"Invalid sampling index: \".concat(samplingFrequencyIndex));\n      var objectType = ((data[i + 2] & 192) >>> 6) + 1;\n      var channelCount = (data[i + 2] & 1) << 2 | (data[i + 3] & 192) >>> 6;\n      var _AAC$_getConfig = AAC2._getConfig(samplingFrequencyIndex, channelCount, objectType), config = _AAC$_getConfig.config, codec = _AAC$_getConfig.codec;\n      var protectionSkipBytes;\n      var frameLength;\n      var frameIndex = 0;\n      var duration = AAC2.getFrameDuration(sampleRate);\n      while (i + 7 < len) {\n        if (data[i] !== 255 || (data[i + 1] & 246) !== 240) {\n          i++;\n          continue;\n        }\n        frameLength = (data[i + 3] & 3) << 11 | data[i + 4] << 3 | (data[i + 5] & 224) >> 5;\n        if (!frameLength || len - i < frameLength)\n          break;\n        protectionSkipBytes = (~data[i + 1] & 1) * 2;\n        frames.push({\n          pts: pts + frameIndex * duration,\n          data: data.subarray(i + 7 + protectionSkipBytes, i + frameLength)\n        });\n        frameIndex++;\n        i += frameLength;\n      }\n      return {\n        skip,\n        remaining: i >= len ? void 0 : data.subarray(i),\n        frames,\n        samplingFrequencyIndex,\n        sampleRate,\n        objectType,\n        channelCount,\n        codec,\n        config,\n        originCodec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"parseAudioSpecificConfig\",\n    value: function parseAudioSpecificConfig(data) {\n      if (!data.length)\n        return;\n      var objectType = data[0] >>> 3;\n      var samplingFrequencyIndex = (data[0] & 7) << 1 | data[1] >>> 7;\n      var channelCount = (data[1] & 120) >>> 3;\n      var sampleRate = AAC2.FREQ[samplingFrequencyIndex];\n      if (!sampleRate)\n        return;\n      var _AAC$_getConfig2 = AAC2._getConfig(samplingFrequencyIndex, channelCount, objectType), config = _AAC$_getConfig2.config, codec = _AAC$_getConfig2.codec;\n      return {\n        samplingFrequencyIndex,\n        sampleRate,\n        objectType,\n        channelCount,\n        config,\n        codec,\n        originCodec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"getFrameDuration\",\n    value: function getFrameDuration(rate) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      return 1024 * timescale / rate;\n    }\n  }, {\n    key: \"_getConfig\",\n    value: function _getConfig(samplingIndex, channelCount, originObjectType) {\n      var config = [];\n      var objectType;\n      var extensionSamplingIndex;\n      if (isFirefox) {\n        if (samplingIndex >= 6) {\n          objectType = 5;\n          extensionSamplingIndex = samplingIndex - 3;\n        } else {\n          objectType = 2;\n          extensionSamplingIndex = samplingIndex;\n        }\n      } else if (isAndroid) {\n        objectType = 2;\n        extensionSamplingIndex = samplingIndex;\n      } else {\n        objectType = originObjectType === 2 || originObjectType === 5 ? originObjectType : 5;\n        extensionSamplingIndex = samplingIndex;\n        if (samplingIndex >= 6) {\n          extensionSamplingIndex = samplingIndex - 3;\n        } else if (channelCount === 1) {\n          objectType = 2;\n          extensionSamplingIndex = samplingIndex;\n        }\n      }\n      config[0] = objectType << 3;\n      config[0] |= (samplingIndex & 14) >> 1;\n      config[1] = (samplingIndex & 1) << 7;\n      config[1] |= channelCount << 3;\n      if (objectType === 5) {\n        config[1] |= (extensionSamplingIndex & 14) >> 1;\n        config[2] = (extensionSamplingIndex & 1) << 7;\n        config[2] |= 2 << 2;\n        config[3] = 0;\n      }\n      return {\n        config,\n        codec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"getSilentFrame\",\n    value: function getSilentFrame(codec, channelCount) {\n      switch (codec) {\n        case \"mp4a.40.2\":\n          if (channelCount === 1) {\n            return new Uint8Array([0, 200, 0, 128, 35, 128]);\n          }\n          if (channelCount === 2) {\n            return new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]);\n          }\n          if (channelCount === 3) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]);\n          }\n          if (channelCount === 4) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56]);\n          }\n          if (channelCount === 5) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56]);\n          }\n          if (channelCount === 6) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224]);\n          }\n          break;\n        default:\n          if (channelCount === 1) {\n            return new Uint8Array([1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          if (channelCount === 2) {\n            return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          if (channelCount === 3) {\n            return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          break;\n      }\n    }\n  }]);\n  return AAC2;\n}();\n_defineProperty(AAC, \"FREQ\", [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350]);\nexport { AAC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { WarningType } from \"../model/types.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { AAC } from \"../codec/aac.js\";\nimport \"../utils/logger.js\";\nimport { isSafari } from \"../utils/env.js\";\nvar LARGE_AV_FIRST_FRAME_GAP = 9e4 / 2;\nvar AUDIO_GAP_OVERLAP_THRESHOLD_COUNT = 3;\nvar MAX_SILENT_FRAME_DURATION = 9e4;\nvar AUDIO_EXCETION_LOG_EMIT_DURATION = 5 * 9e4;\nvar MAX_VIDEO_FRAME_DURATION = 9e4;\nvar MAX_DTS_DELTA_WITH_NEXT_CHUNK = 9e4 / 2;\nvar LARGE_AV_FIRST_FRAME_FORCE_FIX_THRESHOLD = 9e4 * 5;\nvar TsFixer = /* @__PURE__ */ function() {\n  function TsFixer2(videoTrack, audioTrack, metadataTrack, fixerConfig) {\n    _classCallCheck(this, TsFixer2);\n    this.videoTrack = videoTrack;\n    this.audioTrack = audioTrack;\n    this.metadataTrack = metadataTrack;\n    this._baseDts = -1;\n    this._baseVideoDts = -1;\n    this._baseAudioDts = -1;\n    this._baseDtsInited = false;\n    this._audioNextPts = void 0;\n    this._videoNextDts = void 0;\n    this._audioTimestampBreak = false;\n    this._videoTimestampBreak = false;\n    this._lastAudioExceptionGapDot = 0;\n    this._lastAudioExceptionOverlapDot = 0;\n    this._lastAudioExceptionLargeGapDot = 0;\n    this._needForceFixLargeGap = fixerConfig === null || fixerConfig === void 0 ? void 0 : fixerConfig.forceFixLargeGap;\n    this._largeGapThreshold = (fixerConfig === null || fixerConfig === void 0 ? void 0 : fixerConfig.largeGapThreshold) || LARGE_AV_FIRST_FRAME_FORCE_FIX_THRESHOLD;\n  }\n  _createClass(TsFixer2, [{\n    key: \"fix\",\n    value: function fix() {\n      var _this = this;\n      var startTime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var discontinuity = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      var contiguous = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : true;\n      startTime = Math.round(startTime * 9e4);\n      var videoTrack = this.videoTrack;\n      var audioTrack = this.audioTrack;\n      var vSamples = videoTrack.samples;\n      var aSamples = audioTrack.samples;\n      if (!vSamples.length && !aSamples.length)\n        return;\n      var firstVideoSample = vSamples[0];\n      var firstAudioSample = aSamples[0];\n      var vaDelta = 0;\n      if (vSamples.length && aSamples.length) {\n        vaDelta = firstVideoSample.dts - firstAudioSample.pts;\n      }\n      if (!this._baseDtsInited) {\n        this._calculateBaseDts(this.audioTrack, this.videoTrack);\n      }\n      if (discontinuity) {\n        this._calculateBaseDts(this.audioTrack, this.videoTrack);\n        this._baseDts -= startTime;\n        this._baseAudioDts -= startTime;\n        this._baseVideoDts -= startTime;\n      }\n      if (!contiguous) {\n        this._videoNextDts = vaDelta > 0 ? startTime + vaDelta : startTime;\n        this._audioNextPts = vaDelta > 0 ? startTime : startTime - vaDelta;\n        if (this._needForceFixLargeGap) {\n          this._videoNextDts = 0;\n          this._audioNextPts = 0;\n        }\n        var vDeltaToNextDts = firstVideoSample ? firstVideoSample.dts - this._baseDts - this._videoNextDts : 0;\n        var aDeltaToNextDts = firstAudioSample ? firstAudioSample.pts - this._baseDts - this._audioNextPts : 0;\n        if (Math.abs(vDeltaToNextDts || aDeltaToNextDts) > MAX_VIDEO_FRAME_DURATION) {\n          this._calculateBaseDts(this.audioTrack, this.videoTrack);\n          this._baseDts -= startTime;\n        }\n      }\n      this._resetBaseDtsWhenStreamBreaked();\n      this._fixAudio(audioTrack);\n      this._fixVideo(videoTrack);\n      if (this.metadataTrack.exist()) {\n        var timescale = this.metadataTrack.timescale;\n        this.metadataTrack.seiSamples.forEach(function(s) {\n          s.pts = s.originPts - _this._baseDts;\n          s.time = Math.max(0, s.pts) / timescale;\n        });\n      }\n      if (videoTrack.samples.length) {\n        videoTrack.baseMediaDecodeTime = videoTrack.samples[0].dts;\n      }\n      if (audioTrack.samples.length) {\n        audioTrack.baseMediaDecodeTime = audioTrack.samples[0].pts * audioTrack.timescale / 9e4;\n      }\n    }\n  }, {\n    key: \"_fixVideo\",\n    value: function _fixVideo(videoTrack) {\n      var _this2 = this;\n      var samples = videoTrack.samples;\n      if (!samples.length)\n        return;\n      samples.forEach(function(x) {\n        x.dts -= _this2._needForceFixLargeGap ? _this2._baseVideoDts : _this2._baseDts;\n        x.pts -= _this2._needForceFixLargeGap ? _this2._baseVideoDts : _this2._baseDts;\n      });\n      if (this._videoNextDts === void 0) {\n        var samp0 = samples[0];\n        this._videoNextDts = samp0.dts;\n      }\n      var len = samples.length;\n      var sampleDuration = 0;\n      var firstSample = samples[0];\n      var nextSample = samples[1];\n      var vDelta = this._videoNextDts - firstSample.dts;\n      if (Math.abs(vDelta) > MAX_DTS_DELTA_WITH_NEXT_CHUNK) {\n        var _samples$;\n        videoTrack.warnings.push({\n          type: WarningType.LARGE_VIDEO_GAP_BETWEEN_CHUNK,\n          nextDts: this._videoNextDts / 90,\n          firstSampleDts: firstSample.dts / 90,\n          nextSampleDts: (((_samples$ = samples[1]) === null || _samples$ === void 0 ? void 0 : _samples$.dts) || 0) / 90,\n          sampleDuration: vDelta / 90\n        });\n        firstSample.dts += vDelta;\n        firstSample.pts += vDelta;\n        if (nextSample && Math.abs(nextSample.dts - firstSample.dts) > MAX_VIDEO_FRAME_DURATION) {\n          this._videoTimestampBreak = true;\n          samples.forEach(function(x, i2) {\n            if (i2 === 0)\n              return;\n            x.dts += vDelta;\n            x.pts += vDelta;\n          });\n        } else {\n          for (var i = 1; i < len - 1; i++) {\n            var _samples$i;\n            var dts = (_samples$i = samples[i]) === null || _samples$i === void 0 ? void 0 : _samples$i.dts;\n            var prevDts = samples[i - 1].dts;\n            if (dts && dts - prevDts < 0) {\n              samples[i].dts += vDelta;\n              samples[i].pts += vDelta;\n            }\n          }\n        }\n      }\n      var refSampleDurationInt;\n      if (videoTrack.fpsNum && videoTrack.fpsDen) {\n        refSampleDurationInt = videoTrack.timescale * (videoTrack.fpsDen / videoTrack.fpsNum);\n      }\n      if (refSampleDurationInt < 90 * 10) {\n        refSampleDurationInt = 0;\n      }\n      if (!refSampleDurationInt) {\n        var first = videoTrack.samples[0];\n        var second = videoTrack.samples[1];\n        refSampleDurationInt = len === 1 ? 9e3 : Math.floor(second.dts - first.dts);\n      }\n      for (var _i = 0; _i < len; _i++) {\n        var _dts = samples[_i].dts;\n        var _nextSample = samples[_i + 1];\n        if (_i < len - 1) {\n          sampleDuration = _nextSample.dts - _dts;\n        } else if (samples[_i - 1]) {\n          sampleDuration = Math.min(_dts - samples[_i - 1].dts, refSampleDurationInt);\n        } else {\n          sampleDuration = refSampleDurationInt;\n        }\n        if (sampleDuration > MAX_VIDEO_FRAME_DURATION || sampleDuration < 0) {\n          this._videoTimestampBreak = true;\n          sampleDuration = this._audioTimestampBreak ? refSampleDurationInt : Math.max(sampleDuration, 30 * 90);\n          var expectFragEnd = this._audioNextPts || 0;\n          if (_nextSample && _nextSample.dts > expectFragEnd) {\n            sampleDuration = refSampleDurationInt;\n          }\n          videoTrack.warnings.push({\n            type: WarningType.LARGE_VIDEO_GAP,\n            time: _dts / videoTrack.timescale,\n            dts: _dts,\n            originDts: samples[_i].originDts,\n            nextDts: this._videoNextDts,\n            sampleDuration,\n            refSampleDuration: refSampleDurationInt\n          });\n        }\n        samples[_i].duration = sampleDuration;\n        this._videoNextDts += sampleDuration;\n      }\n    }\n  }, {\n    key: \"_fixAudio\",\n    value: function _fixAudio(audioTrack) {\n      var _this3 = this;\n      var samples = audioTrack.samples;\n      if (!samples.length)\n        return;\n      samples.forEach(function(x) {\n        x.pts -= _this3._needForceFixLargeGap ? _this3._baseAudioDts : _this3._baseDts;\n        x.dts = x.pts;\n      });\n      this._doFixAudioInternal(audioTrack, samples, 9e4);\n    }\n  }, {\n    key: \"_calculateBaseDts\",\n    value: function _calculateBaseDts(audioTrack, videoTrack) {\n      var audioSamps = audioTrack.samples;\n      var videoSamps = videoTrack.samples;\n      if (!audioSamps.length && !videoSamps.length) {\n        return false;\n      }\n      var audioBasePts = Infinity;\n      var videoBaseDts = Infinity;\n      if (audioSamps.length) {\n        audioTrack.baseDts = audioBasePts = audioSamps[0].pts;\n        this._baseAudioDts = audioBasePts;\n      }\n      if (videoSamps.length) {\n        videoTrack.baseDts = videoBaseDts = videoSamps[0].dts;\n        this._baseVideoDts = videoBaseDts;\n      }\n      this._baseDts = Math.min(audioBasePts, videoBaseDts);\n      var delta = videoBaseDts - audioBasePts;\n      var largeGap = false;\n      if (Number.isFinite(delta) && Math.abs(delta) > LARGE_AV_FIRST_FRAME_GAP) {\n        videoTrack.warnings.push({\n          type: WarningType.LARGE_AV_SHIFT,\n          videoBaseDts,\n          audioBasePts,\n          baseDts: this._baseDts,\n          delta\n        });\n      }\n      if (Number.isFinite(delta) && Math.abs(delta) > this._largeGapThreshold * MAX_SILENT_FRAME_DURATION) {\n        largeGap = true;\n      }\n      if (!this._baseDtsInited) {\n        if (largeGap && this._needForceFixLargeGap) {\n          this._needForceFixLargeGap = true;\n        } else {\n          this._needForceFixLargeGap = false;\n        }\n      }\n      this._baseDtsInited = true;\n      return true;\n    }\n  }, {\n    key: \"_resetBaseDtsWhenStreamBreaked\",\n    value: function _resetBaseDtsWhenStreamBreaked() {\n      if (this._baseDtsInited && this._videoTimestampBreak && this._audioTimestampBreak) {\n        var calc = this._calculateBaseDts(this.audioTrack, this.videoTrack);\n        if (!calc)\n          return;\n        this._baseDts -= Math.min(this._audioNextPts, this._videoNextDts);\n        this._audioLastSample = null;\n        this._videoLastSample = null;\n        this._videoTimestampBreak = false;\n        this._audioTimestampBreak = false;\n      }\n    }\n  }, {\n    key: \"_doFixAudioInternal\",\n    value: function _doFixAudioInternal(audioTrack, samples, timescale) {\n      if (!audioTrack.sampleDuration)\n        audioTrack.sampleDuration = AAC.getFrameDuration(audioTrack.timescale, timescale);\n      var refSampleDuration = audioTrack.sampleDuration;\n      if (this._audioNextPts === void 0) {\n        var samp0 = samples[0];\n        this._audioNextPts = samp0.pts;\n      }\n      for (var i = 0; i < samples.length; i++) {\n        var nextPts = this._audioNextPts;\n        var sample = samples[i];\n        var delta = sample.pts - nextPts;\n        if (!this._audioTimestampBreak && delta >= AUDIO_GAP_OVERLAP_THRESHOLD_COUNT * refSampleDuration && delta <= MAX_SILENT_FRAME_DURATION && !isSafari) {\n          var silentFrame = AAC.getSilentFrame(audioTrack.codec, audioTrack.channelCount) || samples[0].data.subarray();\n          var count = Math.floor(delta / refSampleDuration);\n          if (Math.abs(sample.pts - this._lastAudioExceptionGapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n            this._lastAudioExceptionGapDot = sample.pts;\n          }\n          audioTrack.warnings.push({\n            type: WarningType.AUDIO_FILLED,\n            pts: sample.pts / 90,\n            originPts: sample.originPts,\n            count,\n            nextPts: nextPts / 90,\n            refSampleDuration\n          });\n          for (var j = 0; j < count; j++) {\n            var silentSample = new AudioSample(Math.floor(nextPts), silentFrame);\n            silentSample.originPts = Math.floor(this._baseDts + nextPts);\n            samples.splice(i, 0, silentSample);\n            this._audioNextPts += refSampleDuration;\n            i++;\n          }\n          i--;\n        } else if (delta <= -AUDIO_GAP_OVERLAP_THRESHOLD_COUNT * refSampleDuration && delta >= -1 * MAX_SILENT_FRAME_DURATION) {\n          if (Math.abs(sample.pts - this._lastAudioExceptionOverlapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n            this._lastAudioExceptionOverlapDot = sample.pts;\n            audioTrack.warnings.push({\n              type: WarningType.AUDIO_DROPPED,\n              pts: sample.pts / 90,\n              originPts: sample.originPts,\n              nextPts: nextPts / 90,\n              refSampleDuration\n            });\n          }\n          samples.splice(i, 1);\n          i--;\n        } else {\n          if (Math.abs(delta) >= MAX_SILENT_FRAME_DURATION) {\n            this._audioTimestampBreak = true;\n            if (Math.abs(sample.pts - this._lastAudioExceptionLargeGapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n              this._lastAudioExceptionLargeGapDot = sample.pts;\n              audioTrack.warnings.push({\n                type: WarningType.LARGE_AUDIO_GAP,\n                time: sample.pts / 1e3,\n                pts: sample.pts / 90,\n                originPts: sample.originPts,\n                nextPts: nextPts / 90,\n                sampleDuration: delta,\n                refSampleDuration\n              });\n            }\n          }\n          sample.dts = sample.pts = nextPts;\n          this._audioNextPts += refSampleDuration;\n        }\n      }\n    }\n  }]);\n  return TsFixer2;\n}();\nexport { TsFixer };\n","export { Logger } from \"./logger.js\";\nexport { isAndroid, isBrowser, isFirefox, isSafari } from \"./env.js\";\nfunction concatUint8Array() {\n  for (var _len = arguments.length, arr = new Array(_len), _key = 0; _key < _len; _key++) {\n    arr[_key] = arguments[_key];\n  }\n  arr = arr.filter(Boolean);\n  var data = new Uint8Array(arr.reduce(function(p, c) {\n    return p + c.byteLength;\n  }, 0));\n  var prevLen = 0;\n  arr.forEach(function(d) {\n    data.set(d, prevLen);\n    prevLen += d.byteLength;\n  });\n  return data;\n}\nvar MAX_SIZE = Math.pow(2, 32);\nfunction readBig16(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 8) + (data[i + 1] || 0);\n}\nfunction readBig24(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 16) + (data[i + 1] << 8) + (data[i + 2] || 0);\n}\nfunction readBig32(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 24 >>> 0) + (data[i + 1] << 16) + (data[i + 2] << 8) + (data[i + 3] || 0);\n}\nfunction readBig64(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return readBig32(data, i) * MAX_SIZE + readBig32(data, i + 4);\n}\nfunction getAvcCodec(codecs) {\n  var codec = \"avc1.\";\n  var h;\n  for (var i = 0; i < 3; i++) {\n    h = codecs[i].toString(16);\n    if (h.length < 2)\n      h = \"0\".concat(h);\n    codec += h;\n  }\n  return codec;\n}\nfunction formatIV(arr) {\n  var iv = \"\";\n  arr.forEach(function(value) {\n    iv += bufferToString(value);\n  });\n  if (iv.length <= 32) {\n    var len = 32 - iv.length;\n    for (var i = 0; i < len; i++) {\n      iv += \"0\";\n    }\n  }\n  return iv;\n}\nfunction parse(a) {\n  if (!Array.isArray(a)) {\n    var arr = [];\n    var value = \"\";\n    for (var i = 0; i < a.length; i++) {\n      if (i % 2) {\n        value = a[i - 1] + a[i];\n        arr.push(parseInt(value, 16));\n        value = \"\";\n      }\n    }\n    return arr;\n  }\n  return a.map(function(item) {\n    return parseInt(item, 16);\n  });\n}\nfunction bufferToString(value) {\n  return (\"0\" + Number(value).toString(16)).slice(-2).toUpperCase();\n}\nfunction combineToFloat(integer, decimal) {\n  return Number(integer + \".\" + decimal);\n}\nfunction toDegree(matrix) {\n  if (matrix.length < 5)\n    return 0;\n  var scaled0 = Math.hypot(matrix[0], matrix[3]), scaled1 = Math.hypot(matrix[1], matrix[4]);\n  return 0 === scaled0 || 0 === scaled1 ? 0 : 180 * Math.atan2(matrix[1] / scaled1, matrix[0] / scaled0) / Math.PI;\n}\nexport { MAX_SIZE, combineToFloat, concatUint8Array, formatIV, getAvcCodec, parse, readBig16, readBig24, readBig32, readBig64, toDegree };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { readBig32 } from \"../utils/index.js\";\nvar NALu = /* @__PURE__ */ function() {\n  function NALu2() {\n    _classCallCheck(this, NALu2);\n  }\n  _createClass(NALu2, null, [{\n    key: \"parseAnnexB\",\n    value: function parseAnnexB(data) {\n      var len = data.length;\n      var start = 2;\n      var end = 0;\n      while (data[start] !== null && data[start] !== void 0 && data[start] !== 1) {\n        start++;\n      }\n      start++;\n      end = start + 2;\n      if (end >= len)\n        return [];\n      var units = [];\n      while (end < len) {\n        switch (data[end]) {\n          case 0:\n            if (data[end - 1] !== 0) {\n              end += 2;\n              break;\n            } else if (data[end - 2] !== 0) {\n              end++;\n              break;\n            }\n            if (start !== end - 2)\n              units.push(data.subarray(start, end - 2));\n            do {\n              end++;\n            } while (data[end] !== 1 && end < len);\n            start = end + 1;\n            end = start + 2;\n            break;\n          case 1:\n            if (data[end - 1] !== 0 || data[end - 2] !== 0) {\n              end += 3;\n              break;\n            }\n            if (start !== end - 2)\n              units.push(data.subarray(start, end - 2));\n            start = end + 1;\n            end = start + 2;\n            break;\n          default:\n            end += 3;\n            break;\n        }\n      }\n      if (start < len)\n        units.push(data.subarray(start));\n      return units;\n    }\n  }, {\n    key: \"parseAvcC\",\n    value: function parseAvcC(data) {\n      var size = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 4;\n      if (data.length < 4)\n        return;\n      var dataLen = data.length;\n      var units = [];\n      var offset = 0;\n      var length;\n      while (offset + size < dataLen) {\n        length = readBig32(data, offset);\n        if (size === 3)\n          length >>>= 8;\n        offset += size;\n        if (!length)\n          continue;\n        if (offset + length > dataLen) {\n          break;\n        }\n        units.push(data.subarray(offset, offset + length));\n        offset += length;\n      }\n      return units;\n    }\n  }, {\n    key: \"parseSEI\",\n    value: function parseSEI(unit, isHevc) {\n      var len = unit.length;\n      var i = isHevc ? 2 : 1;\n      var type = 0;\n      var size = 0;\n      var uuid = \"\";\n      while (unit[i] === 255) {\n        type += 255;\n        i++;\n      }\n      type += unit[i++];\n      while (unit[i] === 255) {\n        size += 255;\n        i++;\n      }\n      size += unit[i++];\n      if (type === 5 && len > i + 16) {\n        for (var j = 0; j < 16; j++) {\n          uuid += unit[i].toString(16);\n          i++;\n        }\n      }\n      return {\n        payload: unit.subarray(i, i + size),\n        type,\n        size,\n        uuid\n      };\n    }\n  }, {\n    key: \"removeEPB\",\n    value: function removeEPB(uint) {\n      var length = uint.byteLength;\n      var emulationPreventionBytesPositions = [];\n      var i = 1;\n      while (i < length - 2) {\n        if (uint[i] === 0 && uint[i + 1] === 0 && uint[i + 2] === 3) {\n          emulationPreventionBytesPositions.push(i + 2);\n          i += 2;\n        } else {\n          i++;\n        }\n      }\n      if (!emulationPreventionBytesPositions.length)\n        return uint;\n      var newLength = length - emulationPreventionBytesPositions.length;\n      var newData = new Uint8Array(newLength);\n      var sourceIndex = 0;\n      for (i = 0; i < newLength; sourceIndex++, i++) {\n        if (sourceIndex === emulationPreventionBytesPositions[0]) {\n          sourceIndex++;\n          emulationPreventionBytesPositions.shift();\n        }\n        newData[i] = uint[sourceIndex];\n      }\n      return newData;\n    }\n  }]);\n  return NALu2;\n}();\nexport { NALu };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar ExpGolomb = /* @__PURE__ */ function() {\n  function ExpGolomb2(data) {\n    _classCallCheck(this, ExpGolomb2);\n    _defineProperty(this, \"_bytesAvailable\", void 0);\n    _defineProperty(this, \"_bitsAvailable\", 0);\n    _defineProperty(this, \"_word\", 0);\n    if (!data)\n      throw new Error(\"ExpGolomb data params is required\");\n    this._data = data;\n    this._bytesAvailable = data.byteLength;\n    if (this._bytesAvailable)\n      this._loadWord();\n  }\n  _createClass(ExpGolomb2, [{\n    key: \"bitsAvailable\",\n    get: function get() {\n      return this._bitsAvailable;\n    }\n  }, {\n    key: \"_loadWord\",\n    value: function _loadWord() {\n      var position = this._data.byteLength - this._bytesAvailable;\n      var availableBytes = Math.min(4, this._bytesAvailable);\n      if (availableBytes === 0)\n        throw new Error(\"No bytes available\");\n      var workingBytes = new Uint8Array(4);\n      workingBytes.set(this._data.subarray(position, position + availableBytes));\n      this._word = new DataView(workingBytes.buffer).getUint32(0);\n      this._bitsAvailable = availableBytes * 8;\n      this._bytesAvailable -= availableBytes;\n    }\n  }, {\n    key: \"skipBits\",\n    value: function skipBits(count) {\n      if (this._bitsAvailable > count) {\n        this._word <<= count;\n        this._bitsAvailable -= count;\n      } else {\n        count -= this._bitsAvailable;\n        var skipBytes = Math.floor(count / 8);\n        count -= skipBytes * 8;\n        this._bytesAvailable -= skipBytes;\n        this._loadWord();\n        this._word <<= count;\n        this._bitsAvailable -= count;\n      }\n    }\n  }, {\n    key: \"readBits\",\n    value: function readBits(size) {\n      if (size > 32) {\n        throw new Error(\"Cannot read more than 32 bits\");\n      }\n      var bits = Math.min(this._bitsAvailable, size);\n      var val = this._word >>> 32 - bits;\n      this._bitsAvailable -= bits;\n      if (this._bitsAvailable > 0) {\n        this._word <<= bits;\n      } else if (this._bytesAvailable > 0) {\n        this._loadWord();\n      }\n      bits = size - bits;\n      if (bits > 0 && this._bitsAvailable) {\n        return val << bits | this.readBits(bits);\n      }\n      return val;\n    }\n  }, {\n    key: \"skipLZ\",\n    value: function skipLZ() {\n      var leadingZeroCount;\n      for (leadingZeroCount = 0; leadingZeroCount < this._bitsAvailable; ++leadingZeroCount) {\n        if ((this._word & 2147483648 >>> leadingZeroCount) !== 0) {\n          this._word <<= leadingZeroCount;\n          this._bitsAvailable -= leadingZeroCount;\n          return leadingZeroCount;\n        }\n      }\n      this._loadWord();\n      return leadingZeroCount + this.skipLZ();\n    }\n  }, {\n    key: \"skipUEG\",\n    value: function skipUEG() {\n      this.skipBits(1 + this.skipLZ());\n    }\n  }, {\n    key: \"readUEG\",\n    value: function readUEG() {\n      var clz = this.skipLZ();\n      return this.readBits(clz + 1) - 1;\n    }\n  }, {\n    key: \"readEG\",\n    value: function readEG() {\n      var val = this.readUEG();\n      if (1 & val) {\n        return 1 + val >>> 1;\n      }\n      return -1 * (val >>> 1);\n    }\n  }, {\n    key: \"readBool\",\n    value: function readBool() {\n      return this.readBits(1) === 1;\n    }\n  }, {\n    key: \"readUByte\",\n    value: function readUByte() {\n      return this.readBits(8);\n    }\n  }, {\n    key: \"skipScalingList\",\n    value: function skipScalingList(count) {\n      var lastScale = 8;\n      var nextScale = 8;\n      var deltaScale;\n      for (var j = 0; j < count; j++) {\n        if (nextScale !== 0) {\n          deltaScale = this.readEG();\n          nextScale = (lastScale + deltaScale + 256) % 256;\n        }\n        lastScale = nextScale === 0 ? lastScale : nextScale;\n      }\n    }\n  }]);\n  return ExpGolomb2;\n}();\nexport { ExpGolomb };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NALu } from \"./nalu.js\";\nimport { getAvcCodec } from \"../utils/index.js\";\nimport { ExpGolomb } from \"../utils/exp-golomb.js\";\nvar AVC = /* @__PURE__ */ function() {\n  function AVC2() {\n    _classCallCheck(this, AVC2);\n  }\n  _createClass(AVC2, null, [{\n    key: \"parseAVCDecoderConfigurationRecord\",\n    value: function parseAVCDecoderConfigurationRecord(data) {\n      if (data.length < 7)\n        return;\n      var nalUnitSize = (data[4] & 3) + 1;\n      var spsParsed;\n      var spsArr = [];\n      var ppsArr = [];\n      var offset = 6;\n      var spsCount = data[5] & 31;\n      var spsSize;\n      for (var i = 0; i < spsCount; i++) {\n        spsSize = data[offset] << 8 | data[offset + 1];\n        offset += 2;\n        if (!spsSize)\n          continue;\n        var sps = data.subarray(offset, offset + spsSize);\n        offset += spsSize;\n        spsArr.push(sps);\n        if (!spsParsed) {\n          spsParsed = AVC2.parseSPS(NALu.removeEPB(sps));\n        }\n      }\n      var ppsCount = data[offset];\n      offset++;\n      var ppsSize;\n      for (var _i = 0; _i < ppsCount; _i++) {\n        ppsSize = data[offset] << 8 | data[offset + 1];\n        offset += 2;\n        if (!ppsSize)\n          continue;\n        ppsArr.push(data.subarray(offset, offset + ppsSize));\n        offset += ppsSize;\n      }\n      return {\n        sps: spsParsed,\n        spsArr,\n        ppsArr,\n        nalUnitSize\n      };\n    }\n  }, {\n    key: \"parseSPS\",\n    value: function parseSPS(unit) {\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      var profileIdc = eg.readUByte();\n      var profileCompatibility = eg.readUByte();\n      var levelIdc = eg.readUByte();\n      eg.skipUEG();\n      var chromaFormat = 420;\n      if (profileIdc === 100 || profileIdc === 110 || profileIdc === 122 || profileIdc === 244 || profileIdc === 44 || profileIdc === 83 || profileIdc === 86 || profileIdc === 118 || profileIdc === 128 || profileIdc === 138 || profileIdc === 144) {\n        var chromaFormatIdc = eg.readUEG();\n        if (chromaFormatIdc <= 3)\n          chromaFormat = [0, 420, 422, 444][chromaFormatIdc];\n        if (chromaFormatIdc === 3)\n          eg.skipBits(1);\n        eg.skipUEG();\n        eg.skipUEG();\n        eg.skipBits(1);\n        if (eg.readBool()) {\n          var scalingListCount = chromaFormatIdc !== 3 ? 8 : 12;\n          for (var i = 0; i < scalingListCount; i++) {\n            if (eg.readBool()) {\n              if (i < 6) {\n                eg.skipScalingList(16);\n              } else {\n                eg.skipScalingList(64);\n              }\n            }\n          }\n        }\n      }\n      eg.skipUEG();\n      var picOrderCntType = eg.readUEG();\n      if (picOrderCntType === 0) {\n        eg.readUEG();\n      } else if (picOrderCntType === 1) {\n        eg.skipBits(1);\n        eg.skipUEG();\n        eg.skipUEG();\n        var numRefFramesInPicOrderCntCycle = eg.readUEG();\n        for (var _i2 = 0; _i2 < numRefFramesInPicOrderCntCycle; _i2++) {\n          eg.skipUEG();\n        }\n      }\n      eg.skipUEG();\n      eg.skipBits(1);\n      var picWidthInMbsMinus1 = eg.readUEG();\n      var picHeightInMapUnitsMinus1 = eg.readUEG();\n      var frameMbsOnlyFlag = eg.readBits(1);\n      if (frameMbsOnlyFlag === 0)\n        eg.skipBits(1);\n      eg.skipBits(1);\n      var frameCropLeftOffset = 0;\n      var frameCropRightOffset = 0;\n      var frameCropTopOffset = 0;\n      var frameCropBottomOffset = 0;\n      if (eg.readBool()) {\n        frameCropLeftOffset = eg.readUEG();\n        frameCropRightOffset = eg.readUEG();\n        frameCropTopOffset = eg.readUEG();\n        frameCropBottomOffset = eg.readUEG();\n      }\n      var sarRatio;\n      var fixedFrame;\n      var fpsNum;\n      var fpsDen;\n      var fps;\n      if (eg.readBool()) {\n        if (eg.readBool()) {\n          var aspectRatioIdc = eg.readUByte();\n          switch (aspectRatioIdc) {\n            case 1:\n              sarRatio = [1, 1];\n              break;\n            case 2:\n              sarRatio = [12, 11];\n              break;\n            case 3:\n              sarRatio = [10, 11];\n              break;\n            case 4:\n              sarRatio = [16, 11];\n              break;\n            case 5:\n              sarRatio = [40, 33];\n              break;\n            case 6:\n              sarRatio = [24, 11];\n              break;\n            case 7:\n              sarRatio = [20, 11];\n              break;\n            case 8:\n              sarRatio = [32, 11];\n              break;\n            case 9:\n              sarRatio = [80, 33];\n              break;\n            case 10:\n              sarRatio = [18, 11];\n              break;\n            case 11:\n              sarRatio = [15, 11];\n              break;\n            case 12:\n              sarRatio = [64, 33];\n              break;\n            case 13:\n              sarRatio = [160, 99];\n              break;\n            case 14:\n              sarRatio = [4, 3];\n              break;\n            case 15:\n              sarRatio = [3, 2];\n              break;\n            case 16:\n              sarRatio = [2, 1];\n              break;\n            case 255: {\n              sarRatio = [eg.readUByte() << 8 | eg.readUByte(), eg.readUByte() << 8 | eg.readUByte()];\n              break;\n            }\n          }\n        }\n        if (eg.readBool())\n          eg.readBool();\n        if (eg.readBool()) {\n          eg.readBits(4);\n          if (eg.readBool())\n            eg.readBits(24);\n        }\n        if (eg.readBool()) {\n          eg.readUEG();\n          eg.readUEG();\n        }\n        if (eg.readBool()) {\n          var numUnitsInTick = eg.readBits(32);\n          var timeScale = eg.readBits(32);\n          fixedFrame = eg.readBool();\n          fpsNum = timeScale;\n          fpsDen = numUnitsInTick * 2;\n          fps = fpsNum / fpsDen;\n        }\n      }\n      return {\n        codec: getAvcCodec(unit.subarray(1, 4)),\n        profileIdc,\n        profileCompatibility,\n        levelIdc,\n        chromaFormat,\n        width: Math.ceil((picWidthInMbsMinus1 + 1) * 16 - 2 * (frameCropLeftOffset + frameCropRightOffset)),\n        height: (2 - frameMbsOnlyFlag) * (picHeightInMapUnitsMinus1 + 1) * 16 - (frameMbsOnlyFlag ? 2 : 4) * (frameCropTopOffset + frameCropBottomOffset),\n        sarRatio,\n        fpsNum,\n        fpsDen,\n        fps,\n        fixedFrame\n      };\n    }\n  }]);\n  return AVC2;\n}();\nexport { AVC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NALu } from \"./nalu.js\";\nimport { ExpGolomb } from \"../utils/exp-golomb.js\";\nimport \"../utils/logger.js\";\nimport \"../utils/env.js\";\nvar HEVC = /* @__PURE__ */ function() {\n  function HEVC2() {\n    _classCallCheck(this, HEVC2);\n  }\n  _createClass(HEVC2, null, [{\n    key: \"parseHEVCDecoderConfigurationRecord\",\n    value: function parseHEVCDecoderConfigurationRecord(data) {\n      var hvcC = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (data.length < 23)\n        return;\n      hvcC = hvcC || {};\n      var nalUnitSize = (data[21] & 3) + 1;\n      var vpsParsed;\n      var spsParsed;\n      var spsArr = [];\n      var ppsArr = [];\n      var vpsArr = [];\n      var offset = 23;\n      var numOfArrays = data[22];\n      var nalUnitType;\n      var numNalus;\n      var nalSize;\n      for (var i = 0; i < numOfArrays; i++) {\n        nalUnitType = data[offset] & 63;\n        numNalus = data[offset + 1] << 8 | data[offset + 2];\n        offset += 3;\n        for (var j = 0; j < numNalus; j++) {\n          nalSize = data[offset] << 8 | data[offset + 1];\n          offset += 2;\n          if (!nalSize)\n            continue;\n          switch (nalUnitType) {\n            case 32:\n              {\n                var vps = data.subarray(offset, offset + nalSize);\n                if (!vpsParsed)\n                  vpsParsed = HEVC2.parseVPS(NALu.removeEPB(vps), hvcC);\n                vpsArr.push(vps);\n              }\n              break;\n            case 33:\n              {\n                var sps = data.subarray(offset, offset + nalSize);\n                if (!spsParsed)\n                  spsParsed = HEVC2.parseSPS(NALu.removeEPB(sps), hvcC);\n                spsArr.push(sps);\n              }\n              break;\n            case 34:\n              ppsArr.push(data.subarray(offset, offset + nalSize));\n              break;\n          }\n          offset += nalSize;\n        }\n      }\n      return {\n        hvcC,\n        sps: spsParsed,\n        spsArr,\n        ppsArr,\n        vpsArr,\n        nalUnitSize\n      };\n    }\n  }, {\n    key: \"parseVPS\",\n    value: function parseVPS(unit, hvcC) {\n      hvcC = hvcC || {};\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      eg.readUByte();\n      eg.readBits(12);\n      var vpsMaxSubLayersMinus1 = eg.readBits(3);\n      hvcC.numTemporalLayers = Math.max(hvcC.numTemporalLayers || 0, vpsMaxSubLayersMinus1 + 1);\n      eg.readBits(17);\n      HEVC2._parseProfileTierLevel(eg, vpsMaxSubLayersMinus1, hvcC);\n      return hvcC;\n    }\n  }, {\n    key: \"parseSPS\",\n    value: function parseSPS(unit) {\n      var hvcC = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      hvcC = hvcC || {};\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      eg.readUByte();\n      eg.readBits(4);\n      var spsMaxSubLayersMinus1 = eg.readBits(3);\n      hvcC.numTemporalLayers = Math.max(spsMaxSubLayersMinus1 + 1, hvcC.numTemporalLayers || 0);\n      hvcC.temporalIdNested = eg.readBits(1);\n      HEVC2._parseProfileTierLevel(eg, spsMaxSubLayersMinus1, hvcC);\n      eg.readUEG();\n      var chromaFormatIdc = hvcC.chromaFormatIdc = eg.readUEG();\n      var chromaFormat = 420;\n      if (chromaFormatIdc <= 3)\n        chromaFormat = [0, 420, 422, 444][chromaFormatIdc];\n      var separateColourPlaneFlag = 0;\n      if (chromaFormatIdc === 3) {\n        separateColourPlaneFlag = eg.readBits(1);\n      }\n      var width = eg.readUEG();\n      var height = eg.readUEG();\n      var conformanceWindowFlag = eg.readBits(1);\n      var confWinLeftOffset;\n      var confWinRightOffset;\n      var confWinTopOffset;\n      var confWinBottomOffset;\n      if (conformanceWindowFlag === 1) {\n        confWinLeftOffset = eg.readUEG();\n        confWinRightOffset = eg.readUEG();\n        confWinTopOffset = eg.readUEG();\n        confWinBottomOffset = eg.readUEG();\n      }\n      hvcC.bitDepthLumaMinus8 = eg.readUEG();\n      hvcC.bitDepthChromaMinus8 = eg.readUEG();\n      if (conformanceWindowFlag === 1) {\n        var subWidthC = (chromaFormatIdc === 1 || chromaFormatIdc === 2) && separateColourPlaneFlag === 0 ? 2 : 1;\n        var subHeightC = chromaFormatIdc === 1 && separateColourPlaneFlag === 0 ? 2 : 1;\n        width -= subWidthC * (confWinRightOffset + confWinLeftOffset);\n        height -= subHeightC * (confWinBottomOffset + confWinTopOffset);\n      }\n      return {\n        codec: \"hev1.1.6.L93.B0\",\n        width,\n        height,\n        chromaFormat,\n        hvcC\n      };\n    }\n  }, {\n    key: \"_parseProfileTierLevel\",\n    value: function _parseProfileTierLevel(eg, maxSubLayersMinus1, hvcC) {\n      var generalTierFlag = hvcC.generalTierFlag || 0;\n      hvcC.generalProfileSpace = eg.readBits(2);\n      hvcC.generalTierFlag = Math.max(eg.readBits(1), generalTierFlag);\n      hvcC.generalProfileIdc = Math.max(eg.readBits(5), hvcC.generalProfileIdc || 0);\n      hvcC.generalProfileCompatibilityFlags = eg.readBits(32);\n      hvcC.generalConstraintIndicatorFlags = [eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8)];\n      var generalLevelIdc = eg.readBits(8);\n      if (generalTierFlag < hvcC.generalTierFlag) {\n        hvcC.generalLevelIdc = generalLevelIdc;\n      } else {\n        hvcC.generalLevelIdc = Math.max(generalLevelIdc, hvcC.generalLevelIdc || 0);\n      }\n      var subLayerProfilePresentFlag = [];\n      var subLayerLevelPresentFlag = [];\n      if (maxSubLayersMinus1 > eg.bitsAvailable) {\n        throw new Error(\"maxSubLayersMinus inavlid size \".concat(maxSubLayersMinus1));\n      }\n      for (var j = 0; j < maxSubLayersMinus1; j++) {\n        subLayerProfilePresentFlag[j] = eg.readBits(1);\n        subLayerLevelPresentFlag[j] = eg.readBits(1);\n      }\n      if (maxSubLayersMinus1 > 0) {\n        eg.readBits((8 - maxSubLayersMinus1) * 2);\n      }\n      for (var i = 0; i < maxSubLayersMinus1; i++) {\n        if (subLayerProfilePresentFlag[i] !== 0) {\n          eg.readBits(2);\n          eg.readBits(1);\n          eg.readBits(5);\n          eg.readBits(16);\n          eg.readBits(16);\n          eg.readBits(4);\n          eg.readBits(16);\n          eg.readBits(16);\n          eg.readBits(12);\n        }\n        if (subLayerLevelPresentFlag[i] !== 0) {\n          eg.readBits(8);\n        }\n      }\n    }\n  }]);\n  return HEVC2;\n}();\nexport { HEVC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, VideoCodecType } from \"./types.js\";\nvar VideoTrack = /* @__PURE__ */ function() {\n  function VideoTrack2() {\n    _classCallCheck(this, VideoTrack2);\n    _defineProperty(this, \"id\", 1);\n    _defineProperty(this, \"type\", TrackType.VIDEO);\n    _defineProperty(this, \"codecType\", VideoCodecType.AVC);\n    _defineProperty(this, \"pid\", -1);\n    _defineProperty(this, \"hvcC\", void 0);\n    _defineProperty(this, \"codec\", \"\");\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"formatTimescale\", 0);\n    _defineProperty(this, \"sequenceNumber\", 0);\n    _defineProperty(this, \"baseMediaDecodeTime\", 0);\n    _defineProperty(this, \"baseDts\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"warnings\", []);\n    _defineProperty(this, \"samples\", []);\n    _defineProperty(this, \"pps\", []);\n    _defineProperty(this, \"sps\", []);\n    _defineProperty(this, \"vps\", []);\n    _defineProperty(this, \"fpsNum\", 0);\n    _defineProperty(this, \"fpsDen\", 0);\n    _defineProperty(this, \"sarRatio\", []);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"nalUnitSize\", 4);\n    _defineProperty(this, \"present\", false);\n    _defineProperty(this, \"isVideoEncryption\", false);\n    _defineProperty(this, \"isAudioEncryption\", false);\n    _defineProperty(this, \"isVideo\", true);\n    _defineProperty(this, \"lastKeyFrameDts\", 0);\n    _defineProperty(this, \"kid\", null);\n    _defineProperty(this, \"pssh\", null);\n    _defineProperty(this, \"ext\", void 0);\n  }\n  _createClass(VideoTrack2, [{\n    key: \"reset\",\n    value: function reset() {\n      this.sequenceNumber = this.width = this.height = this.fpsDen = this.fpsNum = this.duration = this.baseMediaDecodeTime = this.timescale = 0;\n      this.codec = \"\";\n      this.present = false;\n      this.pid = -1;\n      this.pps = [];\n      this.sps = [];\n      this.vps = [];\n      this.sarRatio = [];\n      this.samples = [];\n      this.warnings = [];\n      this.hvcC = null;\n    }\n  }, {\n    key: \"firstDts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].dts : null;\n    }\n  }, {\n    key: \"firstPts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].pts : null;\n    }\n  }, {\n    key: \"samplesDuration\",\n    get: function get() {\n      if (this.samples.length > 0) {\n        var first = this.samples[0];\n        var last = this.samples[this.samples.length - 1];\n        return last.dts - first.dts + last.duration;\n      }\n      return 0;\n    }\n  }, {\n    key: \"exist\",\n    value: function exist() {\n      if (/av01/.test(this.codec)) {\n        return true;\n      }\n      return !!(this.pps.length && this.sps.length && this.codec);\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!this.samples.length;\n    }\n  }, {\n    key: \"isEncryption\",\n    get: function get() {\n      return this.isVideoEncryption;\n    }\n  }]);\n  return VideoTrack2;\n}();\nexport { VideoTrack };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, AudioCodecType } from \"./types.js\";\nvar AudioTrack = /* @__PURE__ */ function() {\n  function AudioTrack2() {\n    _classCallCheck(this, AudioTrack2);\n    _defineProperty(this, \"id\", 2);\n    _defineProperty(this, \"type\", TrackType.AUDIO);\n    _defineProperty(this, \"codecType\", AudioCodecType.AAC);\n    _defineProperty(this, \"pid\", -1);\n    _defineProperty(this, \"codec\", \"\");\n    _defineProperty(this, \"sequenceNumber\", 0);\n    _defineProperty(this, \"sampleDuration\", 0);\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"formatTimescale\", 0);\n    _defineProperty(this, \"baseMediaDecodeTime\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"warnings\", []);\n    _defineProperty(this, \"samples\", []);\n    _defineProperty(this, \"baseDts\", 0);\n    _defineProperty(this, \"sampleSize\", 16);\n    _defineProperty(this, \"sampleRate\", 0);\n    _defineProperty(this, \"channelCount\", 0);\n    _defineProperty(this, \"objectType\", 0);\n    _defineProperty(this, \"sampleRateIndex\", 0);\n    _defineProperty(this, \"config\", []);\n    _defineProperty(this, \"present\", false);\n    _defineProperty(this, \"isVideoEncryption\", false);\n    _defineProperty(this, \"isAudioEncryption\", false);\n    _defineProperty(this, \"kid\", null);\n    _defineProperty(this, \"ext\", void 0);\n  }\n  _createClass(AudioTrack2, [{\n    key: \"reset\",\n    value: function reset() {\n      this.sequenceNumber = 0;\n      this.timescale = 0;\n      this.sampleDuration = 0;\n      this.sampleRate = 0;\n      this.channelCount = 0;\n      this.baseMediaDecodeTime = 0;\n      this.present = false;\n      this.pid = -1;\n      this.codec = \"\";\n      this.samples = [];\n      this.config = [];\n      this.warnings = [];\n    }\n  }, {\n    key: \"exist\",\n    value: function exist() {\n      return !!(this.sampleRate && this.channelCount && this.codec && (this.codecType === AudioCodecType.AAC || this.codecType === AudioCodecType.G711PCMA || this.codecType === AudioCodecType.G711PCMU || this.codecType === AudioCodecType.OPUS));\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!this.samples.length;\n    }\n  }, {\n    key: \"isEncryption\",\n    get: function get() {\n      return this.isAudioEncryption;\n    }\n  }, {\n    key: \"firstDts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].dts : null;\n    }\n  }, {\n    key: \"firstPts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].pts : null;\n    }\n  }, {\n    key: \"samplesDuration\",\n    get: function get() {\n      if (this.samples.length > 0) {\n        var first = this.samples[0];\n        var last = this.samples[this.samples.length - 1];\n        return last.dts - first.dts + last.duration;\n      }\n      return 0;\n    }\n  }]);\n  return AudioTrack2;\n}();\nexport { AudioTrack };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar VideoSample = /* @__PURE__ */ function() {\n  function VideoSample2(pts, dts, units) {\n    _classCallCheck(this, VideoSample2);\n    _defineProperty(this, \"flag\", {});\n    _defineProperty(this, \"keyframe\", false);\n    _defineProperty(this, \"gopId\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"size\", 0);\n    _defineProperty(this, \"units\", []);\n    _defineProperty(this, \"chromaFormat\", 420);\n    this.originPts = this.pts = pts;\n    this.originDts = this.dts = dts;\n    if (units)\n      this.units = units;\n  }\n  _createClass(VideoSample2, [{\n    key: \"cts\",\n    get: function get() {\n      return this.pts - this.dts;\n    }\n  }, {\n    key: \"setToKeyframe\",\n    value: function setToKeyframe() {\n      this.keyframe = true;\n      this.flag.dependsOn = 2;\n      this.flag.isNonSyncSample = 0;\n    }\n  }]);\n  return VideoSample2;\n}();\nexport { VideoSample };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType } from \"./types.js\";\nvar Sample = /* @__PURE__ */ _createClass(\n  function Sample2(data, pts) {\n    _classCallCheck(this, Sample2);\n    _defineProperty(this, \"time\", 0);\n    this.data = data;\n    this.originPts = this.pts = pts;\n  }\n);\nvar FlvScriptSample = /* @__PURE__ */ function(_Sample) {\n  _inherits(FlvScriptSample2, _Sample);\n  var _super = _createSuper(FlvScriptSample2);\n  function FlvScriptSample2() {\n    _classCallCheck(this, FlvScriptSample2);\n    return _super.apply(this, arguments);\n  }\n  return _createClass(FlvScriptSample2);\n}(Sample);\nvar SeiSample = /* @__PURE__ */ function(_Sample2) {\n  _inherits(SeiSample2, _Sample2);\n  var _super2 = _createSuper(SeiSample2);\n  function SeiSample2() {\n    _classCallCheck(this, SeiSample2);\n    return _super2.apply(this, arguments);\n  }\n  return _createClass(SeiSample2);\n}(Sample);\nvar MetadataTrack = /* @__PURE__ */ function() {\n  function MetadataTrack2() {\n    _classCallCheck(this, MetadataTrack2);\n    _defineProperty(this, \"id\", 3);\n    _defineProperty(this, \"type\", TrackType.METADATA);\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"flvScriptSamples\", []);\n    _defineProperty(this, \"seiSamples\", []);\n  }\n  _createClass(MetadataTrack2, [{\n    key: \"exist\",\n    value: function exist() {\n      return !!((this.flvScriptSamples.length || this.seiSamples.length) && this.timescale);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.timescale = 0;\n      this.flvScriptSamples = [];\n      this.seiSamples = [];\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!(this.flvScriptSamples.length || this.seiSamples.length);\n    }\n  }]);\n  return MetadataTrack2;\n}();\nexport { FlvScriptSample, MetadataTrack, SeiSample };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TsFixer } from \"./fixer.js\";\nimport { AAC } from \"../codec/aac.js\";\nimport { AVC } from \"../codec/avc.js\";\nimport { HEVC } from \"../codec/hevc.js\";\nimport { NALu } from \"../codec/nalu.js\";\nimport { VideoTrack } from \"../model/video-track.js\";\nimport { AudioTrack } from \"../model/audio-track.js\";\nimport { VideoSample } from \"../model/video-sample.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { MetadataTrack, SeiSample } from \"../model/metadata-track.js\";\nimport { VideoCodecType } from \"../model/types.js\";\nimport { concatUint8Array } from \"../utils/index.js\";\nimport { Logger } from \"../utils/logger.js\";\nvar logger = new Logger(\"TsDemuxer\");\nvar TsDemuxer = /* @__PURE__ */ function() {\n  function TsDemuxer2(videoTrack, audioTrack, metadataTrack) {\n    var fixerConfig = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};\n    _classCallCheck(this, TsDemuxer2);\n    _defineProperty(this, \"_pmtId\", -1);\n    _defineProperty(this, \"_remainingPacketData\", null);\n    _defineProperty(this, \"_videoPesData\", []);\n    _defineProperty(this, \"_audioPesData\", []);\n    _defineProperty(this, \"_gopId\", 0);\n    this.videoTrack = videoTrack || new VideoTrack();\n    this.audioTrack = audioTrack || new AudioTrack();\n    this.metadataTrack = metadataTrack || new MetadataTrack();\n    this._fixer = new TsFixer(this.videoTrack, this.audioTrack, this.metadataTrack, fixerConfig);\n  }\n  _createClass(TsDemuxer2, [{\n    key: \"demux\",\n    value: function demux(data) {\n      var discontinuity = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      var contiguous = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : true;\n      var audioTrack = this.audioTrack, videoTrack = this.videoTrack, metadataTrack = this.metadataTrack;\n      if (discontinuity) {\n        this._pmtId = -1;\n        videoTrack.reset();\n        audioTrack.reset();\n        metadataTrack.reset();\n      }\n      if (!contiguous || discontinuity) {\n        this._remainingPacketData = null;\n        this._videoPesData = [];\n        this._audioPesData = [];\n      } else {\n        videoTrack.samples = [];\n        audioTrack.samples = [];\n        metadataTrack.seiSamples = [];\n        videoTrack.warnings = [];\n        audioTrack.warnings = [];\n        if (this._remainingPacketData) {\n          data = concatUint8Array(this._remainingPacketData, data);\n          this._remainingPacketData = null;\n        }\n      }\n      var dataLen = data.length;\n      var remainingLength = dataLen % 188;\n      if (remainingLength) {\n        this._remainingPacketData = data.subarray(dataLen - remainingLength);\n        dataLen -= remainingLength;\n      }\n      var videoPid = videoTrack.pid;\n      var audioPid = audioTrack.pid;\n      for (var start = 0; start < dataLen; start += 188) {\n        if (data[start] !== 71)\n          throw new Error(\"TS packet did not start with 0x47\");\n        var payloadUnitStartIndicator = !!(data[start + 1] & 64);\n        var pid = ((data[start + 1] & 31) << 8) + data[start + 2];\n        var adaptationFiledControl = (data[start + 3] & 48) >> 4;\n        var offset = void 0;\n        if (adaptationFiledControl > 1) {\n          offset = start + 5 + data[start + 4];\n          if (offset === start + 188)\n            continue;\n        } else {\n          offset = start + 4;\n        }\n        switch (pid) {\n          case 0:\n            if (payloadUnitStartIndicator)\n              offset += data[offset] + 1;\n            this._pmtId = (data[offset + 10] & 31) << 8 | data[offset + 11];\n            break;\n          case this._pmtId:\n            {\n              if (payloadUnitStartIndicator)\n                offset += data[offset] + 1;\n              var tableEnd = offset + 3 + ((data[offset + 1] & 15) << 8 | data[offset + 2]) - 4;\n              var programInfoLength = (data[offset + 10] & 15) << 8 | data[offset + 11];\n              offset += 12 + programInfoLength;\n              while (offset < tableEnd) {\n                var esPid = (data[offset + 1] & 31) << 8 | data[offset + 2];\n                switch (data[offset]) {\n                  case 15:\n                    audioTrack.pid = audioPid = esPid;\n                    break;\n                  case 27:\n                    if (videoPid !== -1)\n                      break;\n                    videoTrack.codecType = VideoCodecType.AVC;\n                    videoTrack.pid = videoPid = esPid;\n                    break;\n                  case 36:\n                    if (videoPid !== -1)\n                      break;\n                    videoTrack.codecType = VideoCodecType.HEVC;\n                    videoTrack.pid = videoPid = esPid;\n                    break;\n                  default:\n                    logger.warn(\"Unsupported stream. type: \".concat(data[offset], \", pid: \").concat(esPid));\n                }\n                offset += ((data[offset + 3] & 15) << 8 | data[offset + 4]) + 5;\n              }\n            }\n            break;\n          case videoPid:\n            if (payloadUnitStartIndicator && this._videoPesData.length) {\n              this._parseVideoData();\n            }\n            this._videoPesData.push(data.subarray(offset, start + 188));\n            break;\n          case audioPid:\n            if (payloadUnitStartIndicator && this._audioPesData.length) {\n              this._parseAudioData();\n            }\n            this._audioPesData.push(data.subarray(offset, start + 188));\n            break;\n          case 17:\n          case 8191:\n            break;\n          default:\n            logger.warn(\"Unknown pid: \".concat(pid));\n        }\n      }\n      this._parseVideoData();\n      this._parseAudioData();\n      audioTrack.formatTimescale = videoTrack.formatTimescale = videoTrack.timescale = metadataTrack.timescale = 9e4;\n      audioTrack.timescale = audioTrack.sampleRate || 0;\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack\n      };\n    }\n  }, {\n    key: \"fix\",\n    value: function fix(startTime, discontinuity, contiguous) {\n      this._fixer.fix(startTime, discontinuity, contiguous);\n      return {\n        videoTrack: this.videoTrack,\n        audioTrack: this.audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"demuxAndFix\",\n    value: function demuxAndFix(data, discontinuity, contiguous, startTime) {\n      this.demux(data, discontinuity, contiguous);\n      return this.fix(startTime, discontinuity, contiguous);\n    }\n  }, {\n    key: \"_parseVideoData\",\n    value: function _parseVideoData() {\n      if (!this._videoPesData.length)\n        return;\n      var pes = TsDemuxer2._parsePES(concatUint8Array.apply(void 0, _toConsumableArray(this._videoPesData)));\n      if (!pes) {\n        logger.warn(\"Cannot parse video pes\", this._videoPesData);\n        return;\n      }\n      var units = NALu.parseAnnexB(pes.data);\n      if (units) {\n        this._createVideoSample(units, pes.pts, pes.dts);\n      } else {\n        logger.warn(\"Cannot parse avc units\", pes);\n      }\n      this._videoPesData = [];\n    }\n  }, {\n    key: \"_createVideoSample\",\n    value: function _createVideoSample(units, pts, dts) {\n      var _this = this;\n      if (!units.length)\n        return;\n      var track = this.videoTrack;\n      var isHevc = track.codecType === VideoCodecType.HEVC;\n      var sample = new VideoSample(pts, dts);\n      units.forEach(function(unit) {\n        var type = isHevc ? unit[0] >>> 1 & 63 : unit[0] & 31;\n        switch (type) {\n          case 5:\n          case 16:\n          case 17:\n          case 18:\n          case 19:\n          case 20:\n          case 21:\n          case 22:\n          case 23:\n            if (!isHevc && type !== 5 || isHevc && type === 5)\n              break;\n            sample.setToKeyframe();\n            _this._gopId++;\n            break;\n          case 6:\n          case 39:\n          case 40:\n            if (!isHevc && type !== 6 || isHevc && type === 6)\n              break;\n            _this.metadataTrack.seiSamples.push(new SeiSample(NALu.parseSEI(NALu.removeEPB(unit), isHevc), pts));\n            return;\n          case 32:\n            if (!isHevc)\n              break;\n            if (!track.vps.length) {\n              var hvcC = HEVC.parseVPS(NALu.removeEPB(unit), track.hvcC);\n              track.hvcC = track.hvcC || hvcC;\n              track.vps = [unit];\n            }\n            break;\n          case 7:\n          case 33:\n            if (!isHevc && type !== 7 || isHevc && type === 7)\n              break;\n            if (!track.sps.length) {\n              var data = NALu.removeEPB(unit);\n              var spsInfo = isHevc ? HEVC.parseSPS(data, track.hvcC) : AVC.parseSPS(data);\n              track.sps = [unit];\n              track.hvcC = track.hvcC || spsInfo.hvcC;\n              track.codec = spsInfo.codec;\n              track.width = spsInfo.width;\n              track.height = spsInfo.height;\n              track.sarRatio = spsInfo.sarRatio;\n              track.fpsNum = spsInfo.fpsNum;\n              track.fpsDen = spsInfo.fpsDen;\n            }\n            break;\n          case 8:\n          case 34:\n            if (!isHevc && type !== 8 || isHevc && type === 8)\n              break;\n            if (!track.pps.length)\n              track.pps = [unit];\n            break;\n          case 9:\n          case 35:\n            break;\n          case 38:\n            if (isHevc) {\n              var ffByteFound = false;\n              for (var i = 2; i < unit.byteLength; i++) {\n                if (unit[i] === 255) {\n                  ffByteFound = true;\n                  break;\n                }\n              }\n              if (!ffByteFound) {\n                return;\n              }\n            }\n            break;\n        }\n        sample.units.push(unit);\n      });\n      sample.gopId = this._gopId;\n      this._pushVideoSample(track, sample);\n    }\n  }, {\n    key: \"_pushVideoSample\",\n    value: function _pushVideoSample(track, sample) {\n      if (sample.units.length) {\n        if (sample.pts === null || sample.pts === void 0) {\n          logger.warn(\"Video sample no pts\", sample);\n          var lastSample = track.samples[track.samples.length - 1];\n          if (lastSample) {\n            sample.pts = lastSample.pts;\n            sample.dts = lastSample.dts;\n          } else {\n            logger.warn(\"Drop video sample\", sample);\n          }\n        } else {\n          track.samples.push(sample);\n        }\n      }\n    }\n  }, {\n    key: \"_parseAudioData\",\n    value: function _parseAudioData() {\n      if (!this._audioPesData.length)\n        return;\n      var pes = TsDemuxer2._parsePES(concatUint8Array.apply(void 0, _toConsumableArray(this._audioPesData)));\n      if (!pes) {\n        logger.warn(\"Cannot parse audio pes\", this._audioPesData);\n        return;\n      }\n      this._parseAacData(pes);\n      this._audioPesData = [];\n    }\n  }, {\n    key: \"_parseAacData\",\n    value: function _parseAacData(pes) {\n      var track = this.audioTrack;\n      var pts = pes.pts;\n      if (pts === null || pts === void 0) {\n        logger.warn(\"AAC pes not pts\", track);\n        if (!track.samples.length || !track.sampleRate) {\n          return;\n        }\n        pts = track.samples[track.samples.length - 1].pts + AAC.getFrameDuration(track.sampleRate);\n      }\n      var ret = AAC.parseADTS(pes.data, pts);\n      if (ret) {\n        var _track$samples;\n        track.codec = ret.codec;\n        track.channelCount = ret.channelCount;\n        track.sampleRate = ret.sampleRate;\n        track.objectType = ret.objectType;\n        track.sampleRateIndex = ret.samplingFrequencyIndex;\n        track.config = ret.config;\n        (_track$samples = track.samples).push.apply(_track$samples, _toConsumableArray(ret.frames.map(function(s) {\n          return new AudioSample(s.pts, s.data);\n        })));\n        if (ret.skip) {\n          logger.warn(\"Skip aac adts \".concat(ret.skip, \" bits\"));\n        }\n        if (ret.remaining) {\n          logger.warn(\"Remaining aac adts \".concat(ret.remaining, \" bits\"));\n        }\n      } else {\n        logger.warn(\"Cannot parse aac adts\", pes);\n      }\n    }\n  }], [{\n    key: \"probe\",\n    value: function probe(data) {\n      if (!data.length)\n        return false;\n      return data[0] === 71 && data[188] === 71 && data[376] === 71;\n    }\n  }, {\n    key: \"_parsePES\",\n    value: function _parsePES(data) {\n      var headerDataLen = data[8];\n      if (headerDataLen === null || headerDataLen === void 0 || data.length < headerDataLen + 9)\n        return;\n      var startPrefix = data[0] << 16 | data[1] << 8 | data[2];\n      if (startPrefix !== 1)\n        return;\n      var pesLen = (data[4] << 8) + data[5];\n      if (pesLen && pesLen > data.length - 6)\n        return;\n      var pts;\n      var dts;\n      var ptsDtsFlags = data[7];\n      if (ptsDtsFlags & 192) {\n        pts = (data[9] & 14) * 536870912 + (data[10] & 255) * 4194304 + (data[11] & 254) * 16384 + (data[12] & 255) * 128 + (data[13] & 254) / 2;\n        if (ptsDtsFlags & 64) {\n          dts = (data[14] & 14) * 536870912 + (data[15] & 255) * 4194304 + (data[16] & 254) * 16384 + (data[17] & 255) * 128 + (data[18] & 254) / 2;\n          if (pts - dts > 60 * 9e4)\n            pts = dts;\n        } else {\n          dts = pts;\n        }\n      }\n      return {\n        data: data.subarray(9 + headerDataLen),\n        pts,\n        dts\n      };\n    }\n  }]);\n  return TsDemuxer2;\n}();\nexport { TsDemuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar ByteReader = /* @__PURE__ */ function() {\n  function ByteReader2(buf, offset, len) {\n    _classCallCheck(this, ByteReader2);\n    this.dv = new DataView(buf);\n    this.start = this.offset = offset || this.dv.byteOffset;\n    this.end = len ? this.start + len : this.start + this.dv.byteLength;\n  }\n  _createClass(ByteReader2, [{\n    key: \"buffer\",\n    get: function get() {\n      return this.dv.buffer;\n    }\n  }, {\n    key: \"unreadLength\",\n    get: function get() {\n      return Math.max(this.end - this.offset, 0);\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      return this.end - this.start;\n    }\n  }, {\n    key: \"readFloat\",\n    value: function readFloat(byteNum) {\n      var val = 0;\n      switch (byteNum) {\n        case 4:\n          val = this.dv.getFloat32(this.offset);\n          break;\n        case 8:\n          val = this.dv.getFloat64(this.offset);\n          break;\n        default:\n          throw new Error(\"read \".concat(byteNum, \"-byte float is not supported\"));\n      }\n      this.offset += byteNum;\n      return val;\n    }\n  }, {\n    key: \"back\",\n    value: function back(byteNum) {\n      this.offset -= byteNum;\n    }\n  }, {\n    key: \"skip\",\n    value: function skip(byteNum) {\n      this.offset += byteNum;\n    }\n  }, {\n    key: \"readInt\",\n    value: function readInt(byteNum) {\n      var offset = this.offset;\n      this.offset += byteNum;\n      switch (byteNum) {\n        case 1:\n          return this.dv.getInt8(offset);\n        case 2:\n          return this.dv.getInt16(offset);\n        case 4:\n          return this.dv.getInt32(offset);\n        default:\n          throw new Error(\"read \".concat(byteNum, \"-byte integers is not supported\"));\n      }\n    }\n  }, {\n    key: \"read\",\n    value: function read(byteNum) {\n      var offset = this.offset;\n      this.offset += byteNum;\n      switch (byteNum) {\n        case 1:\n          return this.dv.getUint8(offset);\n        case 2:\n          return this.dv.getUint16(offset);\n        case 3:\n          return (this.dv.getUint16(offset) << 8) + this.dv.getUint8(offset + 2);\n        case 4:\n          return this.dv.getUint32(offset);\n        default:\n          this.back(byteNum - 4);\n          return this.read(byteNum - 4) + this.dv.getUint32(offset) * Math.pow(256, byteNum - 4);\n      }\n    }\n  }, {\n    key: \"write\",\n    value: function write(byteNum, val) {\n      var offset = this.offset;\n      this.offset += byteNum;\n      switch (byteNum) {\n        case 1:\n          return this.dv.setUint8(offset, val);\n        case 2:\n          return this.dv.setUint16(offset, val);\n        case 3:\n          return this.dv.setUint8(offset, val >>> 16), this.dv.setUint16(offset + 1, 65535 & val);\n        case 4:\n          return this.dv.setUint32(offset, val);\n        default:\n          throw new Error(\"write \".concat(byteNum, \"-byte integers is not supported\"));\n      }\n    }\n  }, {\n    key: \"readToBuffer\",\n    value: function readToBuffer(len) {\n      var buffer;\n      if (this.offset || len) {\n        buffer = this.dv.buffer.slice(this.offset, len ? this.offset + len : this.end);\n      } else {\n        buffer = this.dv.buffer;\n      }\n      this.offset += buffer.byteLength;\n      return buffer;\n    }\n  }, {\n    key: \"readToUint8\",\n    value: function readToUint8(len) {\n      var uint8 = new Uint8Array(this.dv.buffer, this.offset, len || this.unreadLength);\n      this.offset += uint8.byteLength;\n      return uint8;\n    }\n  }, {\n    key: \"readString\",\n    value: function readString(len) {\n      var i = 0, str = \"\";\n      for (; i < len; i++) {\n        str += String.fromCharCode(this.dv.getUint8(this.offset));\n        this.offset++;\n      }\n      return str;\n    }\n  }], [{\n    key: \"fromUint8\",\n    value: function fromUint8(uint8) {\n      return new ByteReader2(uint8.buffer, uint8.byteOffset, uint8.byteLength);\n    }\n  }, {\n    key: \"concatUint8s\",\n    value: function concatUint8s(args) {\n      var uint8 = new Uint8Array(args.reduce(function(ret, v) {\n        return ret + v.byteLength;\n      }, 0));\n      var offset = 0;\n      args.forEach(function(v) {\n        uint8.set(v, offset);\n        offset += v.byteLength;\n      });\n      return uint8;\n    }\n  }, {\n    key: \"concatUint8\",\n    value: function concatUint8() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      return this.concatUint8s(args);\n    }\n  }]);\n  return ByteReader2;\n}();\nexport { ByteReader };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar BitReader = /* @__PURE__ */ function() {\n  function BitReader2(val, size) {\n    _classCallCheck(this, BitReader2);\n    this.offset = 0;\n    this.val = val;\n    this.size = size;\n  }\n  _createClass(BitReader2, [{\n    key: \"skip\",\n    value: function skip(len) {\n      this.offset += len;\n    }\n  }, {\n    key: \"read\",\n    value: function read(len) {\n      var unreadLength = this.size - this.offset - len;\n      if (unreadLength >= 0) {\n        var bits = 0, i = 0;\n        this.offset += len;\n        if (this.size > 31) {\n          for (; i < len; i++) {\n            bits += Math.pow(2, i);\n          }\n          return this.val / Math.pow(2, unreadLength) & bits;\n        } else {\n          for (; i < len; i++) {\n            bits += 1 << i;\n          }\n          return this.val >>> unreadLength & bits;\n        }\n      }\n      throw new Error(\"the number of the read operation exceeds the total length limit of bits\");\n    }\n  }], [{\n    key: \"fromByte\",\n    value: function fromByte(byte, len) {\n      return new BitReader2(byte.read(len), len << 3);\n    }\n  }]);\n  return BitReader2;\n}();\nexport { BitReader };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { VideoCodecType, AudioCodecType } from \"../model/types.js\";\nimport { readBig32, readBig64, readBig24, readBig16, combineToFloat, toDegree, getAvcCodec } from \"../utils/index.js\";\nimport { AAC } from \"../codec/aac.js\";\nimport { ByteReader } from \"../utils/byte-reader.js\";\nimport { BitReader } from \"../utils/bit-reader.js\";\nvar MP4Parser = /* @__PURE__ */ function() {\n  function MP4Parser2() {\n    _classCallCheck(this, MP4Parser2);\n  }\n  _createClass(MP4Parser2, null, [{\n    key: \"findBox\",\n    value: function findBox(data, names) {\n      var start = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var ret = [];\n      if (!data)\n        return ret;\n      var size = 0;\n      var type = \"\";\n      var headerSize = 0;\n      while (data.length > 7) {\n        size = readBig32(data);\n        type = String.fromCharCode.apply(null, data.subarray(4, 8));\n        headerSize = 8;\n        if (size === 1) {\n          size = readBig64(data, 8);\n          headerSize += 8;\n        } else if (!size) {\n          size = data.length;\n        }\n        if (!names[0] || type === names[0]) {\n          var subData = data.subarray(0, size);\n          if (names.length < 2) {\n            ret.push({\n              start,\n              size,\n              headerSize,\n              type,\n              data: subData\n            });\n          } else {\n            return MP4Parser2.findBox(subData.subarray(headerSize), names.slice(1), start + headerSize);\n          }\n        }\n        start += size;\n        data = data.subarray(size);\n      }\n      return ret;\n    }\n  }, {\n    key: \"tfhd\",\n    value: function tfhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.trackId = readBig32(data);\n        var start = 4;\n        var baseDataOffsetPresent = ret.flags & 255 & 1;\n        var sampleDescriptionIndexPresent = ret.flags & 255 & 2;\n        var defaultSampleDurationPresent = ret.flags & 255 & 8;\n        var defaultSampleSizePresent = ret.flags & 255 & 16;\n        var defaultSampleFlagsPresent = ret.flags & 255 & 32;\n        if (baseDataOffsetPresent) {\n          start += 4;\n          ret.baseDataOffset = readBig32(data, start);\n          start += 4;\n        }\n        if (sampleDescriptionIndexPresent) {\n          ret.sampleDescriptionIndex = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleDurationPresent) {\n          ret.defaultSampleDuration = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleSizePresent) {\n          ret.defaultSampleSize = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleFlagsPresent) {\n          ret.defaultSampleFlags = readBig32(data, start);\n        }\n      });\n    }\n  }, {\n    key: \"sidx\",\n    value: function sidx(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        ret.reference_ID = readBig32(data, start);\n        start += 4;\n        ret.timescale = readBig32(data, start);\n        start += 4;\n        if (ret.version === 0) {\n          ret.earliest_presentation_time = readBig32(data, start);\n          start += 4;\n          ret.first_offset = readBig32(data, start);\n          start += 4;\n        } else {\n          ret.earliest_presentation_time = readBig64(data, start);\n          start += 8;\n          ret.first_offset = readBig64(data, start);\n          start += 8;\n        }\n        start += 2;\n        ret.references = [];\n        var count = readBig16(data, start);\n        start += 2;\n        for (var i = 0; i < count; i++) {\n          var ref = {};\n          ret.references.push(ref);\n          var tmp32 = readBig32(data, start);\n          start += 4;\n          ref.reference_type = tmp32 >> 31 & 1;\n          ref.referenced_size = tmp32 & 2147483647;\n          ref.subsegment_duration = readBig32(data, start);\n          start += 4;\n          tmp32 = readBig32(data, start);\n          start += 4;\n          ref.starts_with_SAP = tmp32 >> 31 & 1;\n          ref.SAP_type = tmp32 >> 28 & 7;\n          ref.SAP_delta_time = tmp32 & 268435455;\n        }\n      });\n    }\n  }, {\n    key: \"moov\",\n    value: function moov(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mvhd = MP4Parser2.mvhd(MP4Parser2.findBox(data, [\"mvhd\"], start)[0]);\n        ret.trak = MP4Parser2.findBox(data, [\"trak\"], start).map(function(trak) {\n          return MP4Parser2.trak(trak);\n        });\n        ret.pssh = MP4Parser2.pssh(MP4Parser2.findBox(data, [\"pssh\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"mvhd\",\n    value: function mvhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        if (ret.version === 1) {\n          ret.timescale = readBig32(data, 16);\n          ret.duration = readBig64(data, 20);\n          start += 28;\n        } else {\n          ret.timescale = readBig32(data, 8);\n          ret.duration = readBig32(data, 12);\n          start += 16;\n        }\n        ret.nextTrackId = readBig32(data, start + 76);\n      });\n    }\n  }, {\n    key: \"trak\",\n    value: function trak(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tkhd = MP4Parser2.tkhd(MP4Parser2.findBox(data, [\"tkhd\"], start)[0]);\n        ret.mdia = MP4Parser2.mdia(MP4Parser2.findBox(data, [\"mdia\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"tkhd\",\n    value: function tkhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var byte = ByteReader.fromUint8(data);\n        if (ret.version === 1) {\n          byte.read(8);\n          byte.read(8);\n          ret.trackId = byte.read(4);\n          byte.read(4);\n          ret.duration = byte.read(8);\n        } else {\n          byte.read(4);\n          byte.read(4);\n          ret.trackId = byte.read(4);\n          byte.read(4);\n          ret.duration = byte.read(4);\n        }\n        byte.skip(16);\n        ret.matrix = [];\n        for (var i = 0; i < 36; i++) {\n          ret.matrix.push(byte.read(1));\n        }\n        byte.back(36);\n        var caculatedMatrix = [];\n        for (var _i = 0, int32; _i < 3; _i++) {\n          caculatedMatrix.push(combineToFloat(byte.readInt(2), byte.readInt(2)));\n          caculatedMatrix.push(combineToFloat(byte.readInt(2), byte.readInt(2)));\n          int32 = byte.readInt(4);\n          caculatedMatrix.push(combineToFloat(int32 >> 30, int32 & 1073741823));\n        }\n        ret.rotation = toDegree(caculatedMatrix);\n        ret.width = byte.read(4);\n        ret.height = byte.read(4);\n      });\n    }\n  }, {\n    key: \"mdia\",\n    value: function mdia(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mdhd = MP4Parser2.mdhd(MP4Parser2.findBox(data, [\"mdhd\"], start)[0]);\n        ret.hdlr = MP4Parser2.hdlr(MP4Parser2.findBox(data, [\"hdlr\"], start)[0]);\n        ret.minf = MP4Parser2.minf(MP4Parser2.findBox(data, [\"minf\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"mdhd\",\n    value: function mdhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        if (ret.version === 1) {\n          ret.timescale = readBig32(data, 16);\n          ret.duration = readBig64(data, 20);\n          start += 28;\n        } else {\n          ret.timescale = readBig32(data, 8);\n          ret.duration = readBig32(data, 12);\n          start += 16;\n        }\n        var lang = readBig16(data, start);\n        ret.language = String.fromCharCode((lang >> 10 & 31) + 96, (lang >> 5 & 31) + 96, (lang & 31) + 96);\n      });\n    }\n  }, {\n    key: \"hdlr\",\n    value: function hdlr(box) {\n      return parseBox(box, true, function(ret, data) {\n        if (ret.version === 0) {\n          ret.handlerType = String.fromCharCode.apply(null, data.subarray(4, 8));\n        }\n      });\n    }\n  }, {\n    key: \"minf\",\n    value: function minf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.vmhd = MP4Parser2.vmhd(MP4Parser2.findBox(data, [\"vmhd\"], start)[0]);\n        ret.smhd = MP4Parser2.smhd(MP4Parser2.findBox(data, [\"smhd\"], start)[0]);\n        ret.stbl = MP4Parser2.stbl(MP4Parser2.findBox(data, [\"stbl\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"vmhd\",\n    value: function vmhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.graphicsmode = readBig16(data);\n        ret.opcolor = [readBig16(data, 2), readBig16(data, 4), readBig16(data, 6)];\n      });\n    }\n  }, {\n    key: \"smhd\",\n    value: function smhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.balance = readBig16(data);\n      });\n    }\n  }, {\n    key: \"stbl\",\n    value: function stbl(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var _ret$stsd$entries$, _ret$stsd$entries$$si, _ret$stsd$entries$$si2;\n        ret.stsd = MP4Parser2.stsd(MP4Parser2.findBox(data, [\"stsd\"], start)[0]);\n        ret.stts = MP4Parser2.stts(MP4Parser2.findBox(data, [\"stts\"], start)[0]);\n        ret.ctts = MP4Parser2.ctts(MP4Parser2.findBox(data, [\"ctts\"], start)[0]);\n        ret.stsc = MP4Parser2.stsc(MP4Parser2.findBox(data, [\"stsc\"], start)[0]);\n        ret.stsz = MP4Parser2.stsz(MP4Parser2.findBox(data, [\"stsz\"], start)[0]);\n        ret.stco = MP4Parser2.stco(MP4Parser2.findBox(data, [\"stco\"], start)[0]);\n        if (!ret.stco) {\n          ret.co64 = MP4Parser2.co64(MP4Parser2.findBox(data, [\"co64\"], start)[0]);\n          ret.stco = ret.co64;\n        }\n        var default_IV_size = (_ret$stsd$entries$ = ret.stsd.entries[0]) === null || _ret$stsd$entries$ === void 0 ? void 0 : (_ret$stsd$entries$$si = _ret$stsd$entries$.sinf) === null || _ret$stsd$entries$$si === void 0 ? void 0 : (_ret$stsd$entries$$si2 = _ret$stsd$entries$$si.schi) === null || _ret$stsd$entries$$si2 === void 0 ? void 0 : _ret$stsd$entries$$si2.tenc.default_IV_size;\n        ret.stss = MP4Parser2.stss(MP4Parser2.findBox(data, [\"stss\"], start)[0]);\n        ret.senc = MP4Parser2.senc(MP4Parser2.findBox(data, [\"senc\"], start)[0], default_IV_size);\n      });\n    }\n  }, {\n    key: \"senc\",\n    value: function senc(box) {\n      var iv = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 8;\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        var sampleCount = readBig32(data, start);\n        start += 4;\n        ret.samples = [];\n        for (var i = 0; i < sampleCount; i++) {\n          var sample = {};\n          sample.InitializationVector = [];\n          for (var j = 0; j < iv; j++) {\n            sample.InitializationVector[j] = data[start + j];\n          }\n          start += iv;\n          if (ret.flags & 2) {\n            sample.subsamples = [];\n            var subsampleCount = readBig16(data, start);\n            start += 2;\n            for (var _j = 0; _j < subsampleCount; _j++) {\n              var subsample = {};\n              subsample.BytesOfClearData = readBig16(data, start);\n              start += 2;\n              subsample.BytesOfProtectedData = readBig32(data, start);\n              start += 4;\n              sample.subsamples.push(subsample);\n            }\n          }\n          ret.samples.push(sample);\n        }\n      });\n    }\n  }, {\n    key: \"pssh\",\n    value: function pssh(box) {\n      return parseBox(box, true, function(ret, data) {\n        var keyIds = [];\n        var systemId = [];\n        var start = 0;\n        for (var i = 0; i < 16; i++) {\n          systemId.push(toHex(data[start + i]));\n        }\n        start += 16;\n        if (ret.version > 0) {\n          var numKeyIds = readBig32(data, start);\n          start += 4;\n          for (var _i2 = 0; _i2 < (\"\" + numKeyIds).length; _i2++) {\n            for (var j = 0; j < 16; j++) {\n              var keyId = data[start];\n              start += 1;\n              keyIds.push(toHex(keyId));\n            }\n          }\n        }\n        var dataSize = readBig32(data, start);\n        ret.data_size = dataSize;\n        start += 4;\n        ret.kid = keyIds;\n        ret.system_id = systemId;\n        ret.buffer = data;\n      });\n    }\n  }, {\n    key: \"stsd\",\n    value: function stsd(box) {\n      return parseBox(box, true, function(ret, data, start) {\n        ret.entryCount = readBig32(data);\n        ret.entries = MP4Parser2.findBox(data.subarray(4), [], start + 4).map(function(b) {\n          switch (b.type) {\n            case \"av01\":\n              return MP4Parser2.av01(b);\n            case \"avc1\":\n            case \"avc2\":\n            case \"avc3\":\n            case \"avc4\":\n              return MP4Parser2.avc1(b);\n            case \"hvc1\":\n            case \"hev1\":\n              return MP4Parser2.hvc1(b);\n            case \"mp4a\":\n              return MP4Parser2.mp4a(b);\n            case \"alaw\":\n            case \"ulaw\":\n              return MP4Parser2.alaw(b);\n            case \"enca\":\n              return parseBox(b, false, function(ret2, data2, start2) {\n                ret2.channelCount = readBig16(data2, 16);\n                ret2.samplesize = readBig16(data2, 18);\n                ret2.sampleRate = readBig32(data2, 24) / (1 << 16);\n                data2 = data2.subarray(28);\n                ret2.sinf = MP4Parser2.sinf(MP4Parser2.findBox(data2, [\"sinf\"], start2)[0]);\n                ret2.esds = MP4Parser2.esds(MP4Parser2.findBox(data2, [\"esds\"], start2)[0]);\n              });\n            case \"encv\":\n              return parseBox(b, false, function(ret2, data2, start2) {\n                ret2.width = readBig16(data2, 24);\n                ret2.height = readBig16(data2, 26);\n                ret2.horizresolution = readBig32(data2, 28);\n                ret2.vertresolution = readBig32(data2, 32);\n                data2 = data2.subarray(78);\n                ret2.sinf = MP4Parser2.sinf(MP4Parser2.findBox(data2, [\"sinf\"], start2)[0]);\n                ret2.avcC = MP4Parser2.avcC(MP4Parser2.findBox(data2, [\"avcC\"], start2)[0]);\n                ret2.hvcC = MP4Parser2.hvcC(MP4Parser2.findBox(data2, [\"hvcC\"], start2)[0]);\n                ret2.pasp = MP4Parser2.pasp(MP4Parser2.findBox(data2, [\"pasp\"], start2)[0]);\n              });\n          }\n        }).filter(Boolean);\n      });\n    }\n  }, {\n    key: \"tenc\",\n    value: function tenc(box) {\n      return parseBox(box, false, function(ret, data) {\n        var start = 6;\n        ret.default_IsEncrypted = data[start];\n        start += 1;\n        ret.default_IV_size = data[start];\n        start += 1;\n        ret.default_KID = [];\n        for (var i = 0; i < 16; i++) {\n          ret.default_KID.push(toHex(data[start]));\n          start += 1;\n        }\n      });\n    }\n  }, {\n    key: \"schi\",\n    value: function schi(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tenc = MP4Parser2.tenc(MP4Parser2.findBox(data, [\"tenc\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"sinf\",\n    value: function sinf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.schi = MP4Parser2.schi(MP4Parser2.findBox(data, [\"schi\"], start)[0]);\n        ret.frma = MP4Parser2.frma(MP4Parser2.findBox(data, [\"frma\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"frma\",\n    value: function frma(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data_format = \"\";\n        for (var i = 0; i < 4; i++) {\n          ret.data_format += String.fromCharCode(data[i]);\n        }\n      });\n    }\n  }, {\n    key: \"colr\",\n    value: function colr(box) {\n      return parseBox(box, false, function(ret, data) {\n        var byte = ByteReader.fromUint8(data);\n        ret.data = box.data;\n        ret.colorType = byte.readString(4);\n        if (ret.colorType === \"nclx\") {\n          ret.colorPrimaries = byte.read(2);\n          ret.transferCharacteristics = byte.read(2);\n          ret.matrixCoefficients = byte.read(2);\n          ret.fullRangeFlag = byte.read(1) >> 7;\n        } else if (ret.colorType === \"rICC\" || ret.colorType === \"prof\") {\n          ret.iccProfile = data.readToUint8();\n        }\n      });\n    }\n  }, {\n    key: \"av01\",\n    value: function av01(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.av1C = MP4Parser2.av1C(MP4Parser2.findBox(bodyData, [\"av1C\"], start)[0]);\n        ret.colr = MP4Parser2.colr(MP4Parser2.findBox(bodyData, [\"colr\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"av1C\",\n    value: function av1C(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data = box.data;\n        var byte = ByteReader.fromUint8(data);\n        var bit = BitReader.fromByte(byte, 4);\n        ret.marker = bit.read(1);\n        ret.version = bit.read(7);\n        ret.seqProfile = bit.read(3);\n        ret.seqLevelIdx0 = bit.read(5);\n        ret.seqTier0 = bit.read(1);\n        ret.highBitdepth = bit.read(1);\n        ret.twelveBit = bit.read(1);\n        ret.monochrome = bit.read(1);\n        ret.chromaSubsamplingX = bit.read(1);\n        ret.chromaSubsamplingY = bit.read(1);\n        ret.chromaSamplePosition = bit.read(2);\n        ret.reserved = bit.read(3);\n        ret.initialPresentationDelayPresent = bit.read(1);\n        if (ret.initialPresentationDelayPresent) {\n          ret.initialPresentationDelayMinusOne = bit.read(4);\n        } else {\n          ret.initialPresentationDelayMinusOne = 0;\n        }\n        ret.configOBUs = byte.readToUint8();\n        var bitdepth;\n        if (ret.seqLevelIdx0 === 2 && ret.highBitdepth === 1) {\n          bitdepth = ret.twelveBit === 1 ? \"12\" : \"10\";\n        } else if (ret.seqProfile <= 2) {\n          bitdepth = ret.highBitdepth === 1 ? \"10\" : \"08\";\n        }\n        ret.codec = [\"av01\", ret.seqProfile, (ret.seqLevelIdx0 < 10 ? \"0\" + ret.seqLevelIdx0 : ret.seqLevelIdx0) + (ret.seqTier0 ? \"H\" : \"M\"), bitdepth].join(\".\");\n      });\n    }\n  }, {\n    key: \"avc1\",\n    value: function avc1(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.avcC = MP4Parser2.avcC(MP4Parser2.findBox(bodyData, [\"avcC\"], start)[0]);\n        ret.pasp = MP4Parser2.pasp(MP4Parser2.findBox(bodyData, [\"pasp\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"avcC\",\n    value: function avcC(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data = box.data;\n        ret.configurationVersion = data[0];\n        ret.AVCProfileIndication = data[1];\n        ret.profileCompatibility = data[2];\n        ret.AVCLevelIndication = data[3];\n        ret.codec = getAvcCodec([data[1], data[2], data[3]]);\n        ret.lengthSizeMinusOne = data[4] & 3;\n        ret.spsLength = data[5] & 31;\n        ret.sps = [];\n        var start = 6;\n        for (var i = 0; i < ret.spsLength; i++) {\n          var size = readBig16(data, start);\n          start += 2;\n          ret.sps.push(data.subarray(start, start + size));\n          start += size;\n        }\n        ret.ppsLength = data[start];\n        start += 1;\n        ret.pps = [];\n        for (var _i3 = 0; _i3 < ret.ppsLength; _i3++) {\n          var _size = readBig16(data, start);\n          start += 2;\n          ret.pps.push(data.subarray(start, start += _size));\n          start += _size;\n        }\n      });\n    }\n  }, {\n    key: \"hvc1\",\n    value: function hvc1(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.hvcC = MP4Parser2.hvcC(MP4Parser2.findBox(bodyData, [\"hvcC\"], start)[0]);\n        ret.pasp = MP4Parser2.pasp(MP4Parser2.findBox(bodyData, [\"pasp\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"hvcC\",\n    value: function hvcC(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data = box.data;\n        ret.codec = \"hev1.1.6.L93.B0\";\n        ret.configurationVersion = data[0];\n        var tmp = data[1];\n        ret.generalProfileSpace = tmp >> 6;\n        ret.generalTierFlag = (tmp & 32) >> 5;\n        ret.generalProfileIdc = tmp & 31;\n        ret.generalProfileCompatibility = readBig32(data, 2);\n        ret.generalConstraintIndicatorFlags = data.subarray(6, 12);\n        ret.generalLevelIdc = data[12];\n        ret.avgFrameRate = readBig16(data, 19);\n        ret.numOfArrays = data[22];\n        ret.vps = [];\n        ret.sps = [];\n        ret.pps = [];\n        var start = 23;\n        var type = 0;\n        var numNalus = 0;\n        var size = 0;\n        for (var i = 0; i < ret.numOfArrays; i++) {\n          type = data[start] & 63;\n          numNalus = readBig16(data, start + 1);\n          start += 3;\n          var nalus = [];\n          for (var j = 0; j < numNalus; j++) {\n            size = readBig16(data, start);\n            start += 2;\n            nalus.push(data.subarray(start, start + size));\n            start += size;\n          }\n          if (type === 32) {\n            var _ret$vps;\n            (_ret$vps = ret.vps).push.apply(_ret$vps, nalus);\n          } else if (type === 33) {\n            var _ret$sps;\n            (_ret$sps = ret.sps).push.apply(_ret$sps, nalus);\n          } else if (type === 34) {\n            var _ret$pps;\n            (_ret$pps = ret.pps).push.apply(_ret$pps, nalus);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"pasp\",\n    value: function pasp(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.hSpacing = readBig32(data);\n        ret.vSpacing = readBig32(data, 4);\n      });\n    }\n  }, {\n    key: \"mp4a\",\n    value: function mp4a(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseAudioSampleEntry(ret, data);\n        ret.esds = MP4Parser2.esds(MP4Parser2.findBox(data.subarray(bodyStart), [\"esds\"], start + bodyStart)[0]);\n      });\n    }\n  }, {\n    key: \"esds\",\n    value: function esds(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.codec = \"mp4a.\";\n        var start = 0;\n        var byteRead = 0;\n        var size = 0;\n        var tag = 0;\n        while (data.length) {\n          start = 0;\n          tag = data[start];\n          byteRead = data[start + 1];\n          start += 2;\n          while (byteRead & 128) {\n            size = (byteRead & 127) << 7;\n            byteRead = data[start];\n            start += 1;\n          }\n          size += byteRead & 127;\n          if (tag === 3) {\n            data = data.subarray(start + 3);\n          } else if (tag === 4) {\n            ret.codec += (data[start].toString(16) + \".\").padStart(3, \"0\");\n            data = data.subarray(start + 13);\n          } else if (tag === 5) {\n            var config = ret.config = data.subarray(start, start + size);\n            var objectType = (config[0] & 248) >> 3;\n            if (objectType === 31 && config.length >= 2) {\n              objectType = 32 + ((config[0] & 7) << 3) + ((config[1] & 224) >> 5);\n            }\n            ret.objectType = objectType;\n            ret.codec += objectType.toString(16);\n            if (ret.codec[ret.codec.length - 1] === \".\") {\n              ret.codec = ret.codec.substring(0, ret.codec.length - 1);\n            }\n            return;\n          } else {\n            if (ret.codec[ret.codec.length - 1] === \".\") {\n              ret.codec = ret.codec.substring(0, ret.codec.length - 1);\n            }\n            return;\n          }\n        }\n      });\n    }\n  }, {\n    key: \"alaw\",\n    value: function alaw(box) {\n      return parseBox(box, false, function(ret, data) {\n        parseAudioSampleEntry(ret, data);\n      });\n    }\n  }, {\n    key: \"stts\",\n    value: function stts(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push({\n            count: readBig32(data, start),\n            delta: readBig32(data, start + 4)\n          });\n          start += 8;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"ctts\",\n    value: function ctts(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        if (ret.version === 1) {\n          for (var i = 0; i < entryCount; i++) {\n            entries.push({\n              count: readBig32(data, start),\n              offset: readBig32(data, start + 4)\n            });\n            start += 8;\n          }\n        } else {\n          for (var _i4 = 0; _i4 < entryCount; _i4++) {\n            entries.push({\n              count: readBig32(data, start),\n              offset: -(~readBig32(data, start + 4) + 1)\n            });\n            start += 8;\n          }\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stsc\",\n    value: function stsc(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push({\n            firstChunk: readBig32(data, start),\n            samplesPerChunk: readBig32(data, start + 4),\n            sampleDescriptionIndex: readBig32(data, start + 8)\n          });\n          start += 12;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stsz\",\n    value: function stsz(box) {\n      return parseBox(box, true, function(ret, data) {\n        var sampleSize = readBig32(data);\n        var sampleCount = readBig32(data, 4);\n        var entrySizes = [];\n        if (!sampleSize) {\n          var start = 8;\n          for (var i = 0; i < sampleCount; i++) {\n            entrySizes.push(readBig32(data, start));\n            start += 4;\n          }\n        }\n        ret.sampleSize = sampleSize;\n        ret.sampleCount = sampleCount;\n        ret.entrySizes = entrySizes;\n      });\n    }\n  }, {\n    key: \"stco\",\n    value: function stco(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig32(data, start));\n          start += 4;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"co64\",\n    value: function co64(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig64(data, start));\n          start += 8;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stss\",\n    value: function stss(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig32(data, start));\n          start += 4;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"moof\",\n    value: function moof(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mfhd = MP4Parser2.mfhd(MP4Parser2.findBox(data, [\"mfhd\"], start)[0]);\n        ret.traf = MP4Parser2.findBox(data, [\"traf\"], start).map(function(t) {\n          return MP4Parser2.traf(t);\n        });\n      });\n    }\n  }, {\n    key: \"mfhd\",\n    value: function mfhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.sequenceNumber = readBig32(data);\n      });\n    }\n  }, {\n    key: \"traf\",\n    value: function traf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tfhd = MP4Parser2.tfhd(MP4Parser2.findBox(data, [\"tfhd\"], start)[0]);\n        ret.tfdt = MP4Parser2.tfdt(MP4Parser2.findBox(data, [\"tfdt\"], start)[0]);\n        ret.trun = MP4Parser2.trun(MP4Parser2.findBox(data, [\"trun\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"trun\",\n    value: function trun(box) {\n      return parseBox(box, true, function(ret, data) {\n        var version = ret.version, flags = ret.flags;\n        var dataLen = data.length;\n        var sampleCount = ret.sampleCount = readBig32(data);\n        var offset = 4;\n        if (dataLen > offset && flags & 1) {\n          ret.dataOffset = -(~readBig32(data, offset) + 1);\n          offset += 4;\n        }\n        if (dataLen > offset && flags & 4) {\n          ret.firstSampleFlags = readBig32(data, offset);\n          offset += 4;\n        }\n        ret.samples = [];\n        if (dataLen > offset) {\n          var sample;\n          for (var i = 0; i < sampleCount; i++) {\n            sample = {};\n            if (flags & 256) {\n              sample.duration = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 512) {\n              sample.size = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 1024) {\n              sample.flags = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 2048) {\n              if (version) {\n                sample.cts = -(~readBig32(data, offset + 4) + 1);\n              } else {\n                sample.cts = readBig32(data, offset);\n              }\n              offset += 4;\n            }\n            ret.samples.push(sample);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"tfdt\",\n    value: function tfdt(box) {\n      return parseBox(box, true, function(ret, data) {\n        if (ret.version === 1) {\n          ret.baseMediaDecodeTime = readBig64(data);\n        } else {\n          ret.baseMediaDecodeTime = readBig32(data);\n        }\n      });\n    }\n  }, {\n    key: \"probe\",\n    value: function probe(data) {\n      return !!MP4Parser2.findBox(data, [\"ftyp\"]);\n    }\n  }, {\n    key: \"parseSampleFlags\",\n    value: function parseSampleFlags(flags) {\n      return {\n        isLeading: (flags[0] & 12) >>> 2,\n        dependsOn: flags[0] & 3,\n        isDependedOn: (flags[1] & 192) >>> 6,\n        hasRedundancy: (flags[1] & 48) >>> 4,\n        paddingValue: (flags[1] & 14) >>> 1,\n        isNonSyncSample: flags[1] & 1,\n        degradationPriority: flags[2] << 8 | flags[3]\n      };\n    }\n  }, {\n    key: \"moovToTrack\",\n    value: function moovToTrack(moov, videoTrack, audioTrack) {\n      var _e$esds, _e$esds2;\n      var tracks = moov.trak;\n      if (!tracks || !tracks.length)\n        return;\n      var vTrack = tracks.find(function(t) {\n        var _t$mdia, _t$mdia$hdlr;\n        return ((_t$mdia = t.mdia) === null || _t$mdia === void 0 ? void 0 : (_t$mdia$hdlr = _t$mdia.hdlr) === null || _t$mdia$hdlr === void 0 ? void 0 : _t$mdia$hdlr.handlerType) === \"vide\";\n      });\n      var aTrack = tracks.find(function(t) {\n        var _t$mdia2, _t$mdia2$hdlr;\n        return ((_t$mdia2 = t.mdia) === null || _t$mdia2 === void 0 ? void 0 : (_t$mdia2$hdlr = _t$mdia2.hdlr) === null || _t$mdia2$hdlr === void 0 ? void 0 : _t$mdia2$hdlr.handlerType) === \"soun\";\n      });\n      if (vTrack && videoTrack) {\n        var _vTrack$tkhd, _vTrack$mdia, _vTrack$mdia$minf, _vTrack$mdia$minf$stb, _vTrack$mdia2, _vTrack$mdia2$minf, _vTrack$mdia2$minf$st;\n        var v = videoTrack;\n        var _vTrackId = (_vTrack$tkhd = vTrack.tkhd) === null || _vTrack$tkhd === void 0 ? void 0 : _vTrack$tkhd.trackId;\n        if (_vTrackId !== null && _vTrackId !== void 0)\n          v.id = vTrack.tkhd.trackId;\n        v.tkhdDuration = vTrack.tkhd.duration;\n        v.mvhdDurtion = moov.mvhd.duration;\n        v.mvhdTimecale = moov.mvhd.timescale;\n        v.timescale = v.formatTimescale = vTrack.mdia.mdhd.timescale;\n        v.duration = vTrack.mdia.mdhd.duration || v.mvhdDurtion / v.mvhdTimecale * v.timescale;\n        v.rotation = vTrack.tkhd.rotation;\n        v.matrix = vTrack.tkhd.matrix;\n        var e1 = vTrack.mdia.minf.stbl.stsd.entries[0];\n        v.width = e1.width;\n        v.height = e1.height;\n        if (e1.pasp) {\n          v.sarRatio = [e1.pasp.hSpacing, e1.pasp.vSpacing];\n        }\n        if (e1.av1C) {\n          v.codecType = VideoCodecType.AV1;\n          v.codec = e1.av1C.codec;\n          v.av1C = e1.av1C.data;\n          v.colr = e1.colr.data;\n        } else if (e1.hvcC) {\n          v.codecType = VideoCodecType.HEVC;\n          v.codec = e1.hvcC.codec;\n          v.vps = e1.hvcC.vps;\n          v.sps = e1.hvcC.sps;\n          v.pps = e1.hvcC.pps;\n          v.hvcC = e1.hvcC.data;\n        } else if (e1.avcC) {\n          v.codec = e1.avcC.codec;\n          v.sps = e1.avcC.sps;\n          v.pps = e1.avcC.pps;\n        } else {\n          throw new Error(\"unknown video stsd entry\");\n        }\n        v.present = true;\n        v.ext = {};\n        v.ext.stss = (_vTrack$mdia = vTrack.mdia) === null || _vTrack$mdia === void 0 ? void 0 : (_vTrack$mdia$minf = _vTrack$mdia.minf) === null || _vTrack$mdia$minf === void 0 ? void 0 : (_vTrack$mdia$minf$stb = _vTrack$mdia$minf.stbl) === null || _vTrack$mdia$minf$stb === void 0 ? void 0 : _vTrack$mdia$minf$stb.stss;\n        v.ext.ctts = (_vTrack$mdia2 = vTrack.mdia) === null || _vTrack$mdia2 === void 0 ? void 0 : (_vTrack$mdia2$minf = _vTrack$mdia2.minf) === null || _vTrack$mdia2$minf === void 0 ? void 0 : (_vTrack$mdia2$minf$st = _vTrack$mdia2$minf.stbl) === null || _vTrack$mdia2$minf$st === void 0 ? void 0 : _vTrack$mdia2$minf$st.ctts;\n        if (e1 && e1.type === \"encv\") {\n          var _e1$sinf, _e1$sinf$schi, _e1$sinf2, _e1$sinf2$schi, _e1$sinf3, _e1$sinf3$schi, _e1$sinf4, _e1$sinf4$frma;\n          v.isVideoEncryption = true;\n          e1.default_KID = (_e1$sinf = e1.sinf) === null || _e1$sinf === void 0 ? void 0 : (_e1$sinf$schi = _e1$sinf.schi) === null || _e1$sinf$schi === void 0 ? void 0 : _e1$sinf$schi.tenc.default_KID;\n          e1.default_IsEncrypted = (_e1$sinf2 = e1.sinf) === null || _e1$sinf2 === void 0 ? void 0 : (_e1$sinf2$schi = _e1$sinf2.schi) === null || _e1$sinf2$schi === void 0 ? void 0 : _e1$sinf2$schi.tenc.default_IsEncrypted;\n          e1.default_IV_size = (_e1$sinf3 = e1.sinf) === null || _e1$sinf3 === void 0 ? void 0 : (_e1$sinf3$schi = _e1$sinf3.schi) === null || _e1$sinf3$schi === void 0 ? void 0 : _e1$sinf3$schi.tenc.default_IV_size;\n          v.videoSenc = vTrack.mdia.minf.stbl.senc && vTrack.mdia.minf.stbl.senc.samples;\n          e1.data_format = (_e1$sinf4 = e1.sinf) === null || _e1$sinf4 === void 0 ? void 0 : (_e1$sinf4$frma = _e1$sinf4.frma) === null || _e1$sinf4$frma === void 0 ? void 0 : _e1$sinf4$frma.data_format;\n          v.useEME = moov.useEME;\n          v.kidValue = moov.kidValue;\n          v.pssh = moov.pssh;\n          v.encv = e1;\n        }\n      }\n      if (aTrack && audioTrack) {\n        var _aTrack$tkhd, _e$esds3, _e$esds4, _aTrack$mdia, _aTrack$mdia$minf, _aTrack$mdia$minf$stb, _aTrack$mdia2, _aTrack$mdia2$minf, _aTrack$mdia2$minf$st;\n        var a = audioTrack;\n        var _aTrackId = (_aTrack$tkhd = aTrack.tkhd) === null || _aTrack$tkhd === void 0 ? void 0 : _aTrack$tkhd.trackId;\n        if (_aTrackId !== null && _aTrackId !== void 0)\n          a.id = aTrack.tkhd.trackId;\n        a.tkhdDuration = aTrack.tkhd.duration;\n        a.mvhdDurtion = moov.mvhd.duration;\n        a.mvhdTimecale = moov.mvhd.timescale;\n        a.timescale = a.formatTimescale = aTrack.mdia.mdhd.timescale;\n        a.duration = aTrack.mdia.mdhd.duration || a.mvhdDurtion / a.mvhdTimecale * a.timescale;\n        var _e = aTrack.mdia.minf.stbl.stsd.entries[0];\n        a.sampleSize = _e.sampleSize;\n        a.sampleRate = _e.sampleRate;\n        a.channelCount = _e.channelCount;\n        a.present = true;\n        switch (_e.type) {\n          case \"alaw\":\n            a.codecType = a.codec = AudioCodecType.G711PCMA;\n            a.sampleRate = 8e3;\n            break;\n          case \"ulaw\":\n            a.codecType = a.codec = AudioCodecType.G711PCMU;\n            a.sampleRate = 8e3;\n            break;\n          default:\n            a.sampleDuration = AAC.getFrameDuration(a.sampleRate, a.timescale);\n            a.sampleRateIndex = AAC.getRateIndexByRate(a.sampleRate);\n            a.objectType = ((_e$esds = _e.esds) === null || _e$esds === void 0 ? void 0 : _e$esds.objectType) || 2;\n            if (_e.esds)\n              a.config = Array.from(_e.esds.config);\n            a.codec = ((_e$esds2 = _e.esds) === null || _e$esds2 === void 0 ? void 0 : _e$esds2.codec) || \"mp4a.40.2\";\n            break;\n        }\n        a.sampleDuration = AAC.getFrameDuration(a.sampleRate, a.timescale);\n        a.objectType = ((_e$esds3 = _e.esds) === null || _e$esds3 === void 0 ? void 0 : _e$esds3.objectType) || 2;\n        if (_e.esds) {\n          if (_e.esds.config) {\n            a.config = Array.from(_e.esds.config);\n          } else {\n            console.warn(\"esds config is null\");\n          }\n        }\n        a.codec = ((_e$esds4 = _e.esds) === null || _e$esds4 === void 0 ? void 0 : _e$esds4.codec) || \"mp4a.40.2\";\n        a.sampleRateIndex = AAC.getRateIndexByRate(a.sampleRate);\n        a.ext = {};\n        a.ext.stss = (_aTrack$mdia = aTrack.mdia) === null || _aTrack$mdia === void 0 ? void 0 : (_aTrack$mdia$minf = _aTrack$mdia.minf) === null || _aTrack$mdia$minf === void 0 ? void 0 : (_aTrack$mdia$minf$stb = _aTrack$mdia$minf.stbl) === null || _aTrack$mdia$minf$stb === void 0 ? void 0 : _aTrack$mdia$minf$stb.stss;\n        a.ext.ctts = (_aTrack$mdia2 = aTrack.mdia) === null || _aTrack$mdia2 === void 0 ? void 0 : (_aTrack$mdia2$minf = _aTrack$mdia2.minf) === null || _aTrack$mdia2$minf === void 0 ? void 0 : (_aTrack$mdia2$minf$st = _aTrack$mdia2$minf.stbl) === null || _aTrack$mdia2$minf$st === void 0 ? void 0 : _aTrack$mdia2$minf$st.ctts;\n        a.present = true;\n        if (_e && _e.type === \"enca\") {\n          var _e$sinf, _e$sinf$frma, _e$sinf2, _e$sinf2$schi, _e$sinf3, _e$sinf3$schi, _e$sinf4, _e$sinf4$schi;\n          a.isAudioEncryption = true;\n          _e.data_format = (_e$sinf = _e.sinf) === null || _e$sinf === void 0 ? void 0 : (_e$sinf$frma = _e$sinf.frma) === null || _e$sinf$frma === void 0 ? void 0 : _e$sinf$frma.data_format;\n          _e.default_KID = (_e$sinf2 = _e.sinf) === null || _e$sinf2 === void 0 ? void 0 : (_e$sinf2$schi = _e$sinf2.schi) === null || _e$sinf2$schi === void 0 ? void 0 : _e$sinf2$schi.tenc.default_KID;\n          _e.default_IsEncrypted = (_e$sinf3 = _e.sinf) === null || _e$sinf3 === void 0 ? void 0 : (_e$sinf3$schi = _e$sinf3.schi) === null || _e$sinf3$schi === void 0 ? void 0 : _e$sinf3$schi.tenc.default_IsEncrypted;\n          _e.default_IV_size = (_e$sinf4 = _e.sinf) === null || _e$sinf4 === void 0 ? void 0 : (_e$sinf4$schi = _e$sinf4.schi) === null || _e$sinf4$schi === void 0 ? void 0 : _e$sinf4$schi.tenc.default_IV_size;\n          a.audioSenc = aTrack.mdia.minf.stbl.senc && aTrack.mdia.minf.stbl.senc.samples;\n          a.useEME = moov.useEME;\n          a.kidValue = moov.kidValue;\n          a.enca = _e;\n        }\n      }\n      audioTrack && (audioTrack.isVideoEncryption = videoTrack ? videoTrack.isVideoEncryption : false);\n      videoTrack && (videoTrack.isAudioEncryption = audioTrack ? audioTrack.isAudioEncryption : false);\n      if (videoTrack !== null && videoTrack !== void 0 && videoTrack.encv || audioTrack !== null && audioTrack !== void 0 && audioTrack.enca) {\n        var _videoTrack$encv, _audioTrack$enca;\n        var vkid = videoTrack === null || videoTrack === void 0 ? void 0 : (_videoTrack$encv = videoTrack.encv) === null || _videoTrack$encv === void 0 ? void 0 : _videoTrack$encv.default_KID;\n        var akid = audioTrack === null || audioTrack === void 0 ? void 0 : (_audioTrack$enca = audioTrack.enca) === null || _audioTrack$enca === void 0 ? void 0 : _audioTrack$enca.default_KID;\n        var kid = vkid || akid ? (vkid || akid).join(\"\") : null;\n        videoTrack && (videoTrack.kid = kid);\n        audioTrack && (audioTrack.kid = kid);\n      }\n      videoTrack && (videoTrack.flags = 3841);\n      audioTrack && (audioTrack.flags = 1793);\n      return {\n        videoTrack,\n        audioTrack\n      };\n    }\n  }, {\n    key: \"evaluateDefaultDuration\",\n    value: function evaluateDefaultDuration(videoTrack, audioTrack, videoSampleCount) {\n      var _audioTrack$samples;\n      var audioSampleCount = audioTrack === null || audioTrack === void 0 ? void 0 : (_audioTrack$samples = audioTrack.samples) === null || _audioTrack$samples === void 0 ? void 0 : _audioTrack$samples.length;\n      if (!audioSampleCount)\n        return 1024;\n      var segmentDuration = 1024 * audioSampleCount / audioTrack.timescale;\n      return segmentDuration * videoTrack.timescale / videoSampleCount;\n    }\n  }, {\n    key: \"moofToSamples\",\n    value: function moofToSamples(moof, videoTrack, audioTrack) {\n      var ret = {};\n      if (moof.mfhd) {\n        if (videoTrack)\n          videoTrack.sequenceNumber = moof.mfhd.sequenceNumber;\n        if (audioTrack)\n          audioTrack.sequenceNumber = moof.mfhd.sequenceNumber;\n      }\n      moof.traf.forEach(function(_ref) {\n        var tfhd = _ref.tfhd, tfdt = _ref.tfdt, trun = _ref.trun;\n        if (!tfhd || !trun)\n          return;\n        if (tfdt) {\n          if (videoTrack && videoTrack.id === tfhd.trackId)\n            videoTrack.baseMediaDecodeTime = tfdt.baseMediaDecodeTime;\n          if (audioTrack && audioTrack.id === tfhd.trackId)\n            audioTrack.baseMediaDecodeTime = tfdt.baseMediaDecodeTime;\n        }\n        var defaultSize = tfhd.defaultSampleSize || 0;\n        var defaultDuration = tfhd.defaultSampleDuration || MP4Parser2.evaluateDefaultDuration(videoTrack, audioTrack, trun.samples.length || trun.sampleCount);\n        var offset = trun.dataOffset || 0;\n        var dts = 0;\n        var gopId = -1;\n        if (!trun.samples.length && trun.sampleCount) {\n          ret[tfhd.trackId] = [];\n          for (var i = 0; i < trun.sampleCount; i++) {\n            ret[tfhd.trackId].push({\n              offset,\n              dts,\n              duration: defaultDuration,\n              size: defaultSize\n            });\n            dts += defaultDuration;\n            offset += defaultSize;\n          }\n        } else {\n          ret[tfhd.trackId] = trun.samples.map(function(s, index) {\n            s = {\n              offset,\n              dts,\n              pts: dts + (s.cts || 0),\n              duration: s.duration || defaultDuration,\n              size: s.size || defaultSize,\n              gopId,\n              keyframe: index === 0 || s.flags !== null && s.flags !== void 0 && (s.flags & 65536) >>> 0 !== 65536\n            };\n            if (s.keyframe) {\n              gopId++;\n              s.gopId = gopId;\n            }\n            dts += s.duration;\n            offset += s.size;\n            return s;\n          });\n        }\n      });\n      return ret;\n    }\n  }, {\n    key: \"moovToSamples\",\n    value: function moovToSamples(moov) {\n      var tracks = moov.trak;\n      if (!tracks || !tracks.length)\n        return;\n      var vTrack = tracks.find(function(t) {\n        var _t$mdia3, _t$mdia3$hdlr;\n        return ((_t$mdia3 = t.mdia) === null || _t$mdia3 === void 0 ? void 0 : (_t$mdia3$hdlr = _t$mdia3.hdlr) === null || _t$mdia3$hdlr === void 0 ? void 0 : _t$mdia3$hdlr.handlerType) === \"vide\";\n      });\n      var aTrack = tracks.find(function(t) {\n        var _t$mdia4, _t$mdia4$hdlr;\n        return ((_t$mdia4 = t.mdia) === null || _t$mdia4 === void 0 ? void 0 : (_t$mdia4$hdlr = _t$mdia4.hdlr) === null || _t$mdia4$hdlr === void 0 ? void 0 : _t$mdia4$hdlr.handlerType) === \"soun\";\n      });\n      if (!vTrack && !aTrack)\n        return;\n      var videoSamples;\n      var audioSamples;\n      if (vTrack) {\n        var _vTrack$mdia3, _vTrack$mdia3$minf;\n        var videoStbl = (_vTrack$mdia3 = vTrack.mdia) === null || _vTrack$mdia3 === void 0 ? void 0 : (_vTrack$mdia3$minf = _vTrack$mdia3.minf) === null || _vTrack$mdia3$minf === void 0 ? void 0 : _vTrack$mdia3$minf.stbl;\n        if (!videoStbl)\n          return;\n        var stts = videoStbl.stts, stsc = videoStbl.stsc, stsz = videoStbl.stsz, stco = videoStbl.stco, stss = videoStbl.stss, ctts = videoStbl.ctts;\n        if (!stts || !stsc || !stsz || !stco || !stss)\n          return;\n        videoSamples = getSamples(stts, stsc, stsz, stco, ctts, stss);\n      }\n      if (aTrack) {\n        var _aTrack$mdia3, _aTrack$mdia3$minf, _aTrack$mdia$mdhd;\n        var audioStbl = (_aTrack$mdia3 = aTrack.mdia) === null || _aTrack$mdia3 === void 0 ? void 0 : (_aTrack$mdia3$minf = _aTrack$mdia3.minf) === null || _aTrack$mdia3$minf === void 0 ? void 0 : _aTrack$mdia3$minf.stbl;\n        if (!audioStbl)\n          return;\n        var timescale = (_aTrack$mdia$mdhd = aTrack.mdia.mdhd) === null || _aTrack$mdia$mdhd === void 0 ? void 0 : _aTrack$mdia$mdhd.timescale;\n        var _stts = audioStbl.stts, _stsc = audioStbl.stsc, _stsz = audioStbl.stsz, _stco = audioStbl.stco;\n        if (!timescale || !_stts || !_stsc || !_stsz || !_stco)\n          return;\n        audioSamples = getSamples(_stts, _stsc, _stsz, _stco);\n      }\n      return {\n        videoSamples,\n        audioSamples\n      };\n    }\n  }]);\n  return MP4Parser2;\n}();\nfunction getSamples(stts, stsc, stsz, stco, ctts, stss) {\n  var samples = [];\n  var cttsEntries = ctts === null || ctts === void 0 ? void 0 : ctts.entries;\n  var stscEntries = stsc.entries;\n  var stcoEntries = stco.entries;\n  var stszEntrySizes = stsz.entrySizes;\n  var stssEntries = stss === null || stss === void 0 ? void 0 : stss.entries;\n  var keyframeMap;\n  if (stssEntries) {\n    keyframeMap = {};\n    stssEntries.forEach(function(x) {\n      keyframeMap[x - 1] = true;\n    });\n  }\n  var cttsArr;\n  if (cttsEntries) {\n    cttsArr = [];\n    cttsEntries.forEach(function(_ref2) {\n      var count = _ref2.count, offset = _ref2.offset;\n      for (var i = 0; i < count; i++) {\n        cttsArr.push(offset);\n      }\n    });\n  }\n  var sample;\n  var gopId = -1;\n  var dts = 0;\n  var pos = 0;\n  var chunkIndex = 0;\n  var chunkRunIndex = 0;\n  var offsetInChunk = 0;\n  var lastSampleInChunk = stscEntries[0].samplesPerChunk;\n  var lastChunkInRun = stscEntries[1] ? stscEntries[1].firstChunk - 1 : Infinity;\n  stts.entries.forEach(function(_ref3) {\n    var count = _ref3.count, delta = _ref3.delta;\n    for (var i = 0; i < count; i++) {\n      sample = {\n        dts,\n        duration: delta,\n        size: stszEntrySizes[pos] || stsz.sampleSize,\n        offset: stcoEntries[chunkIndex] + offsetInChunk,\n        index: pos\n      };\n      if (stssEntries) {\n        sample.keyframe = keyframeMap[pos];\n        if (sample.keyframe) {\n          gopId++;\n        }\n        sample.gopId = gopId;\n      }\n      if (cttsArr && pos < cttsArr.length) {\n        sample.pts = sample.dts + cttsArr[pos];\n      }\n      samples.push(sample);\n      dts += delta;\n      pos++;\n      if (pos < lastSampleInChunk) {\n        offsetInChunk += sample.size;\n      } else {\n        chunkIndex++;\n        offsetInChunk = 0;\n        if (chunkIndex >= lastChunkInRun) {\n          chunkRunIndex++;\n          lastChunkInRun = stscEntries[chunkRunIndex + 1] ? stscEntries[chunkRunIndex + 1].firstChunk - 1 : Infinity;\n        }\n        lastSampleInChunk += stscEntries[chunkRunIndex].samplesPerChunk;\n      }\n    }\n  });\n  return samples;\n}\nfunction parseVisualSampleEntry(ret, data) {\n  ret.dataReferenceIndex = readBig16(data, 6);\n  ret.width = readBig16(data, 24);\n  ret.height = readBig16(data, 26);\n  ret.horizresolution = readBig32(data, 28);\n  ret.vertresolution = readBig32(data, 32);\n  ret.frameCount = readBig16(data, 40);\n  ret.depth = readBig16(data, 74);\n  return 78;\n}\nfunction parseAudioSampleEntry(ret, data) {\n  ret.dataReferenceIndex = readBig16(data, 6);\n  ret.channelCount = readBig16(data, 16);\n  ret.sampleSize = readBig16(data, 18);\n  ret.sampleRate = readBig32(data, 24) / (1 << 16);\n  return 28;\n}\nfunction parseBox(box, isFullBox, parse) {\n  if (!box)\n    return;\n  if (box.size !== box.data.length) {\n    throw new Error(\"box \".concat(box.type, \" size !== data.length\"));\n  }\n  var ret = {\n    start: box.start,\n    size: box.size,\n    headerSize: box.headerSize,\n    type: box.type\n  };\n  if (isFullBox) {\n    ret.version = box.data[box.headerSize];\n    ret.flags = readBig24(box.data, box.headerSize + 1);\n    ret.headerSize += 4;\n  }\n  parse(ret, box.data.subarray(ret.headerSize), ret.start + ret.headerSize);\n  return ret;\n}\nvar padStart = function padStart2(str, length, pad) {\n  var charstr = String(pad);\n  var len = length >> 0;\n  var maxlen = Math.ceil(len / charstr.length);\n  var chars = [];\n  var r = String(str);\n  while (maxlen--) {\n    chars.push(charstr);\n  }\n  return chars.join(\"\").substring(0, len - r.length) + r;\n};\nvar toHex = function toHex2() {\n  var hex = [];\n  for (var _len = arguments.length, value = new Array(_len), _key = 0; _key < _len; _key++) {\n    value[_key] = arguments[_key];\n  }\n  value.forEach(function(item) {\n    hex.push(padStart(Number(item).toString(16), 2, 0));\n  });\n  return hex[0];\n};\nexport { MP4Parser };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { concatUint8Array } from \"xgplayer-streaming-shared\";\nvar Decryptor = /* @__PURE__ */ function() {\n  function Decryptor2() {\n    _classCallCheck(this, Decryptor2);\n    var crypto = window.crypto || window.msCrypto;\n    this.subtle = crypto && (crypto.subtle || crypto.webkitSubtle);\n    this.externalDecryptor = null;\n  }\n  _createClass(Decryptor2, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$externalDecrypt;\n      if ((_this$externalDecrypt = this.externalDecryptor) !== null && _this$externalDecrypt !== void 0 && _this$externalDecrypt.destroy) {\n        this.externalDecryptor.destroy();\n      }\n    }\n  }, {\n    key: \"decrypt\",\n    value: function decrypt(video, audio) {\n      if (!video && !audio)\n        return;\n      var ret = [];\n      if (video) {\n        ret[0] = this._decryptSegment(video);\n      }\n      if (audio) {\n        ret[1] = this._decryptSegment(audio);\n      }\n      return Promise.all(ret);\n    }\n  }, {\n    key: \"_decryptSegment\",\n    value: function() {\n      var _decryptSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2(seg) {\n        var data;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                data = seg.data;\n                if (!seg.key) {\n                  _context2.next = 5;\n                  break;\n                }\n                _context2.next = 4;\n                return this._decryptData(seg.data, seg.key, seg.keyIv);\n              case 4:\n                data = _context2.sent;\n              case 5:\n                if (seg.map) {\n                  _context2.next = 7;\n                  break;\n                }\n                return _context2.abrupt(\"return\", data);\n              case 7:\n                return _context2.abrupt(\"return\", concatUint8Array(seg.map, data));\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function _decryptSegment(_x4) {\n        return _decryptSegment2.apply(this, arguments);\n      }\n      return _decryptSegment;\n    }()\n  }, {\n    key: \"_decryptData\",\n    value: function() {\n      var _decryptData2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3(data, key, iv) {\n        var aesKey;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!this.externalDecryptor) {\n                  _context3.next = 6;\n                  break;\n                }\n                _context3.next = 3;\n                return this.externalDecryptor.decrypt(data, key, iv);\n              case 3:\n                return _context3.abrupt(\"return\", _context3.sent);\n              case 6:\n                if (this.subtle) {\n                  _context3.next = 8;\n                  break;\n                }\n                throw new Error(\"crypto is not defined\");\n              case 8:\n                _context3.next = 10;\n                return this.subtle.importKey(\"raw\", key, {\n                  name: \"AES-CBC\"\n                }, false, [\"encrypt\", \"decrypt\"]);\n              case 10:\n                aesKey = _context3.sent;\n                _context3.t0 = Uint8Array;\n                _context3.next = 14;\n                return this.subtle.decrypt({\n                  name: \"AES-CBC\",\n                  iv\n                }, aesKey, data);\n              case 14:\n                _context3.t1 = _context3.sent;\n                return _context3.abrupt(\"return\", new _context3.t0(_context3.t1));\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function _decryptData(_x5, _x6, _x7) {\n        return _decryptData2.apply(this, arguments);\n      }\n      return _decryptData;\n    }()\n  }]);\n  return Decryptor2;\n}();\nexport { Decryptor };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, toConsumableArray as _toConsumableArray, createForOfIteratorHelper as _createForOfIteratorHelper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { VideoTrack } from \"../model/video-track.js\";\nimport { AudioTrack } from \"../model/audio-track.js\";\nimport { VideoSample } from \"../model/video-sample.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { MetadataTrack } from \"../model/metadata-track.js\";\nimport { concatUint8Array, readBig32 } from \"../utils/index.js\";\nimport { MP4Parser } from \"./mp4-parser.js\";\nvar FMP4Demuxer = /* @__PURE__ */ function() {\n  function FMP4Demuxer2(videoTrack, audioTrack, metadataTrack) {\n    _classCallCheck(this, FMP4Demuxer2);\n    _defineProperty(this, \"__loadedMoofWraps\", []);\n    _defineProperty(this, \"__lastRemainData\", null);\n    _defineProperty(this, \"__lastRemainDataStart\", 0);\n    _defineProperty(this, \"__nextMoofStart\", -1);\n    this.videoTrack = videoTrack || new VideoTrack();\n    this.audioTrack = audioTrack || new AudioTrack();\n    this.metadataTrack = metadataTrack || new MetadataTrack();\n  }\n  _createClass(FMP4Demuxer2, [{\n    key: \"demuxPart\",\n    value: function demuxPart(partData, partDataStart, moov) {\n      var _this = this;\n      var videoTrack = this.videoTrack, audioTrack = this.audioTrack;\n      var videoExist = videoTrack.exist();\n      var audioExist = audioTrack.exist();\n      var isAV01 = /av01/.test(videoTrack.codec);\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      var data = partData;\n      var dataStart = partDataStart;\n      if (this.__lastRemainData) {\n        var lastRemainDataEnd = this.__lastRemainDataStart + this.__lastRemainData.byteLength;\n        var continuous = partDataStart <= lastRemainDataEnd && partDataStart > this.__lastRemainDataStart && partDataStart + partData.byteLength > lastRemainDataEnd;\n        if (continuous) {\n          var noDuplicateData = partData.subarray(this.__lastRemainData.byteLength + this.__lastRemainDataStart - partDataStart);\n          data = concatUint8Array(this.__lastRemainData, noDuplicateData);\n          dataStart = this.__lastRemainDataStart;\n          this.__lastRemainData = null;\n        } else {\n          this.__lastRemainData = null;\n          this.__lastRemainDataStart = 0;\n          this.__nextMoofStart = -1;\n        }\n      }\n      if (!moov) {\n        var moovBox = MP4Parser.findBox(data, [\"moov\"])[0];\n        if (!moovBox)\n          throw new Error(\"cannot found moov box\");\n        moov = MP4Parser.moov(moovBox);\n      }\n      if (data) {\n        var dataEnd = dataStart + data.byteLength;\n        if (!videoExist && !audioExist) {\n          MP4Parser.moovToTrack(moov, videoTrack, audioTrack);\n        }\n        var moofBoxes = [];\n        if (this.__nextMoofStart < 0) {\n          MP4Parser.findBox(data, [\"moof\"], dataStart).forEach(function(v) {\n            return moofBoxes.push(v);\n          });\n        } else if (this.__nextMoofStart >= dataStart && this.__nextMoofStart <= dataEnd - 8) {\n          MP4Parser.findBox(data.subarray(this.__nextMoofStart - dataStart), [\"moof\"], this.__nextMoofStart).forEach(function(v) {\n            return moofBoxes.push(v);\n          });\n        }\n        moofBoxes.filter(function(moofBox) {\n          return moofBox.size <= moofBox.data.length;\n        }).forEach(function(moofBox) {\n          var moof = MP4Parser.moof(moofBox);\n          _this.__nextMoofStart = moof.start + Math.max.apply(Math, _toConsumableArray(moof.traf.map(function(v) {\n            return v.trun.samples.reduce(function(ret, w) {\n              return ret + w.size;\n            }, v.trun.dataOffset || 0);\n          })));\n          _this.__loadedMoofWraps.push({\n            start: moof.start,\n            nextMoofStart: _this.__nextMoofStart,\n            moof\n          });\n          _this.__loadedMoofWraps.sort(function(p, n) {\n            return p.start - n.start;\n          });\n        });\n        var _iterator = _createForOfIteratorHelper(this.__loadedMoofWraps), _step;\n        try {\n          var _loop = function _loop2() {\n            var moofWrap = _step.value;\n            if (moofWrap.start > dataEnd || moofWrap.nextMoofStart < dataStart) {\n              return \"continue\";\n            }\n            var moofStart = moofWrap.start;\n            var tracks = MP4Parser.moofToSamples(moofWrap.moof, videoTrack, audioTrack);\n            var videoBaseMediaDecodeTime = videoTrack.baseMediaDecodeTime;\n            var audioBaseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n            var nalSize;\n            Object.keys(tracks).forEach(function(k) {\n              if (videoTrack.id == k) {\n                tracks[k].some(function(x) {\n                  var xStart = x.offset += moofStart;\n                  if (xStart < dataStart) {\n                    return;\n                  }\n                  if (xStart + x.size > dataEnd) {\n                    return true;\n                  }\n                  var sample = new VideoSample((x.pts || x.dts) + videoBaseMediaDecodeTime, x.dts + videoBaseMediaDecodeTime);\n                  sample.duration = x.duration;\n                  sample.gopId = x.gopId;\n                  if (x.keyframe)\n                    sample.setToKeyframe();\n                  var sampleData = data.subarray(xStart - dataStart, xStart - dataStart + x.size);\n                  sample.data = sampleData;\n                  if (!isAV01) {\n                    var start = 0;\n                    var len = sampleData.length - 1;\n                    while (start < len) {\n                      nalSize = readBig32(sampleData, start);\n                      start += 4;\n                      sample.units.push(sampleData.subarray(start, start + nalSize));\n                      start += nalSize;\n                    }\n                  }\n                  _this.__lastRemainDataStart = xStart + x.size;\n                  videoTrack.samples.push(sample);\n                });\n              } else if (audioTrack.id == k) {\n                tracks[k].some(function(x) {\n                  var xStart = x.offset + moofStart;\n                  if (xStart < dataStart) {\n                    return;\n                  }\n                  if (xStart + x.size > dataEnd) {\n                    return true;\n                  }\n                  var sampleData = data.subarray(xStart - dataStart, xStart - dataStart + x.size);\n                  audioTrack.samples.push(new AudioSample(x.dts + audioBaseMediaDecodeTime, sampleData, x.duration));\n                  _this.__lastRemainDataStart = xStart + x.size;\n                });\n              }\n            });\n          };\n          for (_iterator.s(); !(_step = _iterator.n()).done; ) {\n            var _ret = _loop();\n            if (_ret === \"continue\")\n              continue;\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n      if (this.__lastRemainDataStart > dataStart && this.__lastRemainDataStart < data.byteLength + dataStart) {\n        this.__lastRemainData = data.subarray(this.__lastRemainDataStart - dataStart);\n      } else {\n        this.__lastRemainData = data;\n        this.__lastRemainDataStart = dataStart;\n      }\n      if (videoTrack.samples.length) {\n        videoTrack.baseMediaDecodeTime = videoTrack.samples[0].pts;\n      }\n      if (audioTrack.samples.length) {\n        audioTrack.baseMediaDecodeTime = audioTrack.samples[0].pts;\n      }\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"demux\",\n    value: function demux(videoData, audioData) {\n      var videoTrack = this.videoTrack, audioTrack = this.audioTrack;\n      var videoExist = videoTrack.exist();\n      var audioExist = audioTrack.exist();\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      if (audioData) {\n        if (!audioExist) {\n          var moovBox = MP4Parser.findBox(audioData, [\"moov\"])[0];\n          if (!moovBox)\n            throw new Error(\"cannot found moov box\");\n          MP4Parser.moovToTrack(MP4Parser.moov(moovBox), null, audioTrack);\n        }\n        var moofBox = MP4Parser.findBox(audioData, [\"moof\"])[0];\n        if (moofBox) {\n          var samples = MP4Parser.moofToSamples(MP4Parser.moof(moofBox), null, audioTrack)[audioTrack.id];\n          var baseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n          if (samples) {\n            var baseOffset = moofBox.start;\n            samples.map(function(x) {\n              x.offset += baseOffset;\n              var sampleData = audioData.subarray(x.offset, x.offset + x.size);\n              audioTrack.samples.push(new AudioSample(x.dts + baseMediaDecodeTime, sampleData, x.duration));\n            });\n          }\n        }\n      }\n      if (videoData) {\n        if (!videoExist && !audioExist) {\n          var _moovBox = MP4Parser.findBox(videoData, [\"moov\"])[0];\n          if (!_moovBox)\n            throw new Error(\"cannot found moov box\");\n          MP4Parser.moovToTrack(MP4Parser.moov(_moovBox), videoTrack, audioTrack);\n        }\n        var _moofBox = MP4Parser.findBox(videoData, [\"moof\"])[0];\n        if (_moofBox) {\n          var tracks = MP4Parser.moofToSamples(MP4Parser.moof(_moofBox), videoTrack, audioTrack);\n          var videoBaseMediaDecodeTime = videoTrack.baseMediaDecodeTime;\n          var audioBaseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n          var _baseOffset = _moofBox.start;\n          var nalSize;\n          Object.keys(tracks).forEach(function(k) {\n            if (videoTrack.id == k) {\n              tracks[k].map(function(x) {\n                x.offset += _baseOffset;\n                var sample = new VideoSample((x.pts || x.dts) + videoBaseMediaDecodeTime, x.dts + videoBaseMediaDecodeTime);\n                sample.duration = x.duration;\n                sample.gopId = x.gopId;\n                if (x.keyframe)\n                  sample.setToKeyframe();\n                var sampleData = videoData.subarray(x.offset, x.offset + x.size);\n                sample.data = sampleData;\n                var start = 0;\n                var len = sampleData.length - 1;\n                while (start < len) {\n                  nalSize = readBig32(sampleData, start);\n                  start += 4;\n                  sample.units.push(sampleData.subarray(start, start + nalSize));\n                  start += nalSize;\n                }\n                videoTrack.samples.push(sample);\n              });\n            } else if (audioTrack.id == k) {\n              tracks[k].map(function(x) {\n                x.offset += _baseOffset;\n                var sampleData = videoData.subarray(x.offset, x.offset + x.size);\n                audioTrack.samples.push(new AudioSample(x.dts + audioBaseMediaDecodeTime, sampleData, x.duration));\n              });\n            }\n          });\n        }\n      }\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.videoTrack.reset();\n      this.audioTrack.reset();\n      this.metadataTrack.reset();\n    }\n  }], [{\n    key: \"probe\",\n    value: function probe(data) {\n      return MP4Parser.probe(data);\n    }\n  }]);\n  return FMP4Demuxer2;\n}();\nexport { FMP4Demuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction Concat(ResultConstructor) {\n  var totalLength = 0;\n  for (var _len = arguments.length, arrays = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    arrays[_key - 1] = arguments[_key];\n  }\n  arrays.forEach(function(arr) {\n    totalLength += arr.length;\n  });\n  var result = new ResultConstructor(totalLength);\n  var offset = 0;\n  arrays.forEach(function(arr) {\n    result.set(arr, offset);\n    offset += arr.length;\n  });\n  return result;\n}\nvar Buffer = /* @__PURE__ */ function() {\n  function Buffer2() {\n    _classCallCheck(this, Buffer2);\n    this.buffer = new Uint8Array(0);\n  }\n  _createClass(Buffer2, [{\n    key: \"write\",\n    value: function write() {\n      var self = this;\n      for (var _len2 = arguments.length, buffer = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        buffer[_key2] = arguments[_key2];\n      }\n      buffer.forEach(function(item) {\n        if (item) {\n          self.buffer = Concat(Uint8Array, self.buffer, item);\n        } else {\n          window.console.warn(item);\n        }\n      });\n    }\n  }], [{\n    key: \"writeUint16\",\n    value: function writeUint16(value) {\n      return new Uint8Array([value >> 8 & 255, value & 255]);\n    }\n  }, {\n    key: \"writeUint32\",\n    value: function writeUint32(value) {\n      return new Uint8Array([value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255]);\n    }\n  }]);\n  return Buffer2;\n}();\nexport { Buffer as default };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck, toConsumableArray as _toConsumableArray, slicedToArray as _slicedToArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, VideoCodecType, AudioCodecType } from \"../model/types.js\";\nimport { concatUint8Array, parse } from \"../utils/index.js\";\nimport Buffer from \"./buffer.js\";\nvar UINT32_MAX = Math.pow(2, 32) - 1;\nvar MP4 = /* @__PURE__ */ function() {\n  function MP42() {\n    _classCallCheck(this, MP42);\n  }\n  _createClass(MP42, null, [{\n    key: \"box\",\n    value: function box(type) {\n      for (var _len = arguments.length, payload = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        payload[_key - 1] = arguments[_key];\n      }\n      payload = payload.filter(Boolean);\n      var size = 8 + payload.reduce(function(p, c) {\n        return p + c.byteLength;\n      }, 0);\n      var ret = new Uint8Array(size);\n      ret[0] = size >> 24 & 255;\n      ret[1] = size >> 16 & 255;\n      ret[2] = size >> 8 & 255;\n      ret[3] = size & 255;\n      ret.set(type, 4);\n      var offset = 8;\n      payload.forEach(function(data) {\n        ret.set(data, offset);\n        offset += data.byteLength;\n      });\n      return ret;\n    }\n  }, {\n    key: \"ftyp\",\n    value: function ftyp(tracks) {\n      var isHevc = tracks.find(function(t) {\n        return t.type === TrackType.VIDEO && t.codecType === VideoCodecType.HEVC;\n      });\n      return isHevc ? MP42.FTYPHEV1 : MP42.FTYPAVC1;\n    }\n  }, {\n    key: \"initSegment\",\n    value: function initSegment(tracks) {\n      var ftyp = MP42.ftyp(tracks);\n      var init = concatUint8Array(ftyp, MP42.moov(tracks));\n      return init;\n    }\n  }, {\n    key: \"pssh\",\n    value: function pssh(data) {\n      var content = new Uint8Array([\n        1,\n        0,\n        0,\n        0\n      ].concat([16, 119, 239, 236, 192, 178, 77, 2, 172, 227, 60, 30, 82, 226, 251, 75], [0, 0, 0, 1], parse(data.kid), [0, 0, 0, 0]));\n      return MP42.box(MP42.types.pssh, content);\n    }\n  }, {\n    key: \"moov\",\n    value: function moov(tracks) {\n      if (tracks[0].useEME && (tracks[0].encv || tracks[0].enca)) {\n        if (!tracks[0].pssh) {\n          tracks[0].pssh = {\n            kid: tracks[0].kid\n          };\n        }\n        var pssh = this.pssh(tracks[0].pssh);\n        return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].mvhdDurtion || tracks[0].duration, tracks[0].mvhdTimecale || tracks[0].timescale), MP42.mvex(tracks)].concat(_toConsumableArray(tracks.map(function(t) {\n          return MP42.trak(t);\n        })), [pssh]));\n      } else {\n        return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].mvhdDurtion || tracks[0].duration, tracks[0].mvhdTimecale || tracks[0].timescale)].concat(_toConsumableArray(tracks.map(function(t) {\n          return MP42.trak(t);\n        })), [MP42.mvex(tracks)]));\n      }\n    }\n  }, {\n    key: \"mvhd\",\n    value: function mvhd(duration) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      var mvhd2 = MP42.box(MP42.types.mvhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        0,\n        1,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        64,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        255,\n        255,\n        255,\n        255\n      ]));\n      return mvhd2;\n    }\n  }, {\n    key: \"trak\",\n    value: function trak(track) {\n      var trak2 = MP42.box(MP42.types.trak, MP42.tkhd(track.id, track.tkhdDuration || 0, track.width, track.height), MP42.mdia(track));\n      return trak2;\n    }\n  }, {\n    key: \"tkhd\",\n    value: function tkhd(id, duration) {\n      var width = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var height = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n      var tkhd2 = MP42.box(MP42.types.tkhd, new Uint8Array([\n        0,\n        0,\n        0,\n        7,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        id >> 24 & 255,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        0,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        64,\n        0,\n        0,\n        0,\n        width >> 8 & 255,\n        width & 255,\n        0,\n        0,\n        height >> 8 & 255,\n        height & 255,\n        0,\n        0\n      ]));\n      return tkhd2;\n    }\n  }, {\n    key: \"mdia\",\n    value: function mdia(track) {\n      var mdia2 = MP42.box(MP42.types.mdia, MP42.mdhd(track.duration, track.timescale), MP42.hdlr(track.type), MP42.minf(track));\n      return mdia2;\n    }\n  }, {\n    key: \"mdhd\",\n    value: function mdhd(duration) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      var mdhd2 = MP42.box(MP42.types.mdhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        85,\n        196,\n        0,\n        0\n      ]));\n      return mdhd2;\n    }\n  }, {\n    key: \"hdlr\",\n    value: function hdlr(type) {\n      var hdlr2 = MP42.box(MP42.types.hdlr, MP42.HDLR_TYPES[type]);\n      return hdlr2;\n    }\n  }, {\n    key: \"minf\",\n    value: function minf(track) {\n      var minf2 = MP42.box(MP42.types.minf, track.type === TrackType.VIDEO ? MP42.VMHD : MP42.SMHD, MP42.DINF, MP42.stbl(track));\n      return minf2;\n    }\n  }, {\n    key: \"stbl\",\n    value: function stbl(track) {\n      var extBox = [];\n      if (track && track.ext) {\n        track.ext.stss && extBox.push(MP42.stss(track.ext.stss.entries));\n      }\n      var stbl2 = MP42.box(MP42.types.stbl, MP42.stsd(track), MP42.STTS, extBox[0], MP42.STSC, MP42.STSZ, MP42.STCO);\n      return stbl2;\n    }\n  }, {\n    key: \"stsd\",\n    value: function stsd(track) {\n      var content;\n      if (track.type === \"audio\") {\n        if (track.useEME && track.enca) {\n          content = MP42.enca(track);\n        } else {\n          if (track.codecType === AudioCodecType.OPUS) {\n            content = MP42.opus(track);\n          } else {\n            content = MP42.mp4a(track);\n          }\n        }\n      } else if (track.useEME && track.encv) {\n        content = MP42.encv(track);\n      } else if (track.av1C) {\n        content = MP42.av01(track);\n      } else {\n        content = MP42.avc1hev1(track);\n      }\n      var stsd2 = MP42.box(MP42.types.stsd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]), content);\n      return stsd2;\n    }\n  }, {\n    key: \"enca\",\n    value: function enca(data) {\n      var channelCount = data.enca.channelCount;\n      var sampleRate = data.enca.sampleRate;\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        sampleRate >> 8 & 255,\n        sampleRate & 255,\n        0,\n        0\n      ]);\n      var esds = MP42.esds(data.config);\n      var sinf = MP42.sinf(data.enca);\n      return MP42.box(MP42.types.enca, content, esds, sinf);\n    }\n  }, {\n    key: \"encv\",\n    value: function encv(track) {\n      var _concat$concat, _ref;\n      var sps = track.sps.length > 0 ? track.sps[0] : [];\n      var pps = track.pps.length > 0 ? track.pps[0] : [];\n      var width = track.width;\n      var height = track.height;\n      var hSpacing = track.sarRatio[0];\n      var vSpacing = track.sarRatio[1];\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        width >> 8 & 255,\n        width & 255,\n        height >> 8 & 255,\n        height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        18,\n        100,\n        97,\n        105,\n        108,\n        121,\n        109,\n        111,\n        116,\n        105,\n        111,\n        110,\n        47,\n        104,\n        108,\n        115,\n        46,\n        106,\n        115,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]);\n      var avcc = new Uint8Array((_concat$concat = (_ref = [\n        1,\n        sps[1],\n        sps[2],\n        sps[3],\n        252 | 3,\n        224 | 1,\n        sps.length >>> 8 & 255,\n        sps.length & 255\n      ]).concat.apply(_ref, _toConsumableArray(sps)).concat([1, pps.length >>> 8 & 255, pps.length & 255])).concat.apply(_concat$concat, _toConsumableArray(pps)));\n      var btrt = new Uint8Array([0, 0, 88, 57, 0, 15, 200, 192, 0, 4, 86, 72]);\n      var sinf = MP42.sinf(track.encv);\n      var pasp = new Uint8Array([\n        hSpacing >> 24,\n        hSpacing >> 16 & 255,\n        hSpacing >> 8 & 255,\n        hSpacing & 255,\n        vSpacing >> 24,\n        vSpacing >> 16 & 255,\n        vSpacing >> 8 & 255,\n        vSpacing & 255\n      ]);\n      return MP42.box(MP42.types.encv, content, MP42.box(MP42.types.avcC, avcc), MP42.box(MP42.types.btrt, btrt), sinf, MP42.box(MP42.types.pasp, pasp));\n    }\n  }, {\n    key: \"schi\",\n    value: function schi(data) {\n      var content = new Uint8Array([]);\n      var tenc = MP42.tenc(data);\n      return MP42.box(MP42.types.schi, content, tenc);\n    }\n  }, {\n    key: \"tenc\",\n    value: function tenc(data) {\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        data.default_IsEncrypted & 255,\n        data.default_IV_size & 255\n      ].concat(parse(data.default_KID)));\n      return MP42.box(MP42.types.tenc, content);\n    }\n  }, {\n    key: \"sinf\",\n    value: function sinf(data) {\n      var content = new Uint8Array([]);\n      var frma = new Uint8Array([data.data_format.charCodeAt(0), data.data_format.charCodeAt(1), data.data_format.charCodeAt(2), data.data_format.charCodeAt(3)]);\n      var schm = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        99,\n        101,\n        110,\n        99,\n        0,\n        1,\n        0,\n        0\n      ]);\n      var schi = MP42.schi(data);\n      return MP42.box(MP42.types.sinf, content, MP42.box(MP42.types.frma, frma), MP42.box(MP42.types.schm, schm), schi);\n    }\n  }, {\n    key: \"av01\",\n    value: function av01(track) {\n      return MP42.box(MP42.types.av01, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.width >> 8 & 255,\n        track.width & 255,\n        track.height >> 8 & 255,\n        track.height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]), track.av1C, track.colr);\n    }\n  }, {\n    key: \"avc1hev1\",\n    value: function avc1hev1(track) {\n      var isHevc = track.codecType === VideoCodecType.HEVC;\n      var typ = isHevc ? MP42.types.hvc1 : MP42.types.avc1;\n      var config = isHevc ? MP42.hvcC(track) : MP42.avcC(track);\n      var boxes = [new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.width >> 8 & 255,\n        track.width & 255,\n        track.height >> 8 & 255,\n        track.height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]), config];\n      if (isHevc) {\n        boxes.push(MP42.box(MP42.types.fiel, new Uint8Array([1, 0])));\n      } else if (track.sarRatio && track.sarRatio.length > 1) {\n        boxes.push(MP42.pasp(track.sarRatio));\n      }\n      return MP42.box.apply(MP42, [typ].concat(boxes));\n    }\n  }, {\n    key: \"avcC\",\n    value: function avcC(track) {\n      var _concat$concat2, _ref2;\n      var sps = [];\n      var pps = [];\n      var len;\n      track.sps.forEach(function(s) {\n        len = s.byteLength;\n        sps.push(len >>> 8 & 255);\n        sps.push(len & 255);\n        sps.push.apply(sps, _toConsumableArray(s));\n      });\n      track.pps.forEach(function(p) {\n        len = p.byteLength;\n        pps.push(len >>> 8 & 255);\n        pps.push(len & 255);\n        pps.push.apply(pps, _toConsumableArray(p));\n      });\n      return MP42.box(MP42.types.avcC, new Uint8Array((_concat$concat2 = (_ref2 = [\n        1,\n        sps[3],\n        sps[4],\n        sps[5],\n        252 | 3,\n        224 | track.sps.length\n      ]).concat.apply(_ref2, sps).concat([track.pps.length])).concat.apply(_concat$concat2, pps)));\n    }\n  }, {\n    key: \"hvcC\",\n    value: function hvcC(track) {\n      var hvcC2 = track.hvcC;\n      if (hvcC2 instanceof ArrayBuffer || hvcC2 instanceof Uint8Array)\n        return hvcC2;\n      var vps = track.vps, sps = track.sps, pps = track.pps;\n      var data;\n      if (hvcC2) {\n        var pcf = hvcC2.generalProfileCompatibilityFlags;\n        var cif = hvcC2.generalConstraintIndicatorFlags;\n        var numOfArrays = (vps.length && 1) + (sps.length && 1) + (pps.length && 1);\n        data = [\n          1,\n          hvcC2.generalProfileSpace << 6 | hvcC2.generalTierFlag << 5 | hvcC2.generalProfileIdc,\n          pcf >>> 24,\n          pcf >>> 16,\n          pcf >>> 8,\n          pcf,\n          cif[0],\n          cif[1],\n          cif[2],\n          cif[3],\n          cif[4],\n          cif[5],\n          hvcC2.generalLevelIdc,\n          240,\n          0,\n          252,\n          hvcC2.chromaFormatIdc | 252,\n          hvcC2.bitDepthLumaMinus8 | 248,\n          hvcC2.bitDepthChromaMinus8 | 248,\n          0,\n          0,\n          hvcC2.numTemporalLayers << 3 | hvcC2.temporalIdNested << 2 | 3,\n          numOfArrays\n        ];\n        var write = function write2(x) {\n          var _data;\n          data.push(x.length >> 8, x.length);\n          (_data = data).push.apply(_data, _toConsumableArray(x));\n        };\n        if (vps.length) {\n          data.push(160, 0, vps.length);\n          vps.forEach(write);\n        }\n        if (sps.length) {\n          data.push(161, 0, sps.length);\n          sps.forEach(write);\n        }\n        if (pps.length) {\n          data.push(162, 0, pps.length);\n          pps.forEach(write);\n        }\n      } else {\n        data = [\n          1,\n          1,\n          96,\n          0,\n          0,\n          0,\n          144,\n          0,\n          0,\n          0,\n          0,\n          0,\n          93,\n          240,\n          0,\n          252,\n          253,\n          248,\n          248,\n          0,\n          0,\n          15,\n          3,\n          160,\n          0,\n          1,\n          0,\n          24,\n          64,\n          1,\n          12,\n          1,\n          255,\n          255,\n          1,\n          96,\n          0,\n          0,\n          3,\n          0,\n          144,\n          0,\n          0,\n          3,\n          0,\n          0,\n          3,\n          0,\n          93,\n          153,\n          152,\n          9,\n          161,\n          0,\n          1,\n          0,\n          45,\n          66,\n          1,\n          1,\n          1,\n          96,\n          0,\n          0,\n          3,\n          0,\n          144,\n          0,\n          0,\n          3,\n          0,\n          0,\n          3,\n          0,\n          93,\n          160,\n          2,\n          128,\n          128,\n          45,\n          22,\n          89,\n          153,\n          164,\n          147,\n          43,\n          154,\n          128,\n          128,\n          128,\n          130,\n          0,\n          0,\n          3,\n          0,\n          2,\n          0,\n          0,\n          3,\n          0,\n          50,\n          16,\n          162,\n          0,\n          1,\n          0,\n          7,\n          68,\n          1,\n          193,\n          114,\n          180,\n          98,\n          64\n        ];\n      }\n      return MP42.box(MP42.types.hvcC, new Uint8Array(data));\n    }\n  }, {\n    key: \"pasp\",\n    value: function pasp(_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2), hSpacing = _ref4[0], vSpacing = _ref4[1];\n      return MP42.box(MP42.types.pasp, new Uint8Array([hSpacing >> 24, hSpacing >> 16 & 255, hSpacing >> 8 & 255, hSpacing & 255, vSpacing >> 24, vSpacing >> 16 & 255, vSpacing >> 8 & 255, vSpacing & 255]));\n    }\n  }, {\n    key: \"mp4a\",\n    value: function mp4a(track) {\n      return MP42.box(MP42.types.mp4a, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        track.sampleRate >> 8 & 255,\n        track.sampleRate & 255,\n        0,\n        0\n      ]), track.config.length ? MP42.esds(track.config) : void 0);\n    }\n  }, {\n    key: \"esds\",\n    value: function esds(config) {\n      var len = config.length;\n      var esds2 = MP42.box(MP42.types.esds, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        3,\n        23 + len,\n        0,\n        0,\n        0,\n        4,\n        15 + len,\n        64,\n        21,\n        0,\n        6,\n        0,\n        0,\n        0,\n        218,\n        192,\n        0,\n        0,\n        218,\n        192,\n        5\n      ].concat([len]).concat(config).concat(\n        [6, 1, 2]\n      )));\n      return esds2;\n    }\n  }, {\n    key: \"opus\",\n    value: function opus(track) {\n      var opusAudioDescription = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        track.sampleRate >> 8 & 255,\n        track.sampleRate & 255,\n        0,\n        0\n      ]);\n      var opusSpecificConfig = track.config.length ? MP42.dOps(track) : [];\n      return MP42.box(MP42.types.Opus, opusAudioDescription, opusSpecificConfig);\n    }\n  }, {\n    key: \"dOps\",\n    value: function dOps(track) {\n      if (track.config) {\n        track.config[4] = track.sampleRate >>> 24 & 255;\n        track.config[5] = track.sampleRate >>> 16 & 255;\n        track.config[6] = track.sampleRate >>> 8 & 255;\n        track.config[7] = track.sampleRate & 255;\n        return MP42.box(MP42.types.dOps, track.config);\n      }\n    }\n  }, {\n    key: \"mvex\",\n    value: function mvex(tracks) {\n      var mvex2 = MP42.box.apply(MP42, [MP42.types.mvex].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.trex(t.id);\n      }))));\n      return mvex2;\n    }\n  }, {\n    key: \"trex\",\n    value: function trex(id) {\n      var trex2 = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        1\n      ]));\n      return trex2;\n    }\n  }, {\n    key: \"trex1\",\n    value: function trex1(id) {\n      var trex = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        2,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0\n      ]));\n      return trex;\n    }\n  }, {\n    key: \"trex2\",\n    value: function trex2(id) {\n      var trex = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        4,\n        0,\n        0,\n        0,\n        0,\n        0,\n        2,\n        0,\n        0,\n        0\n      ]));\n      return trex;\n    }\n  }, {\n    key: \"moof\",\n    value: function moof(tracks) {\n      var moof2 = MP42.box.apply(MP42, [MP42.types.moof, MP42.mfhd(tracks[0].samples ? tracks[0].samples[0].gopId : 0)].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.traf(t);\n      }))));\n      return moof2;\n    }\n  }, {\n    key: \"mfhd\",\n    value: function mfhd(sequenceNumber) {\n      var mfhd2 = MP42.box(MP42.types.mfhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        sequenceNumber >> 24,\n        sequenceNumber >> 16 & 255,\n        sequenceNumber >> 8 & 255,\n        sequenceNumber & 255\n      ]));\n      return mfhd2;\n    }\n  }, {\n    key: \"traf\",\n    value: function traf(track) {\n      var tfhd = MP42.tfhd(track.id);\n      var tfdt = MP42.tfdt(track, track.baseMediaDecodeTime);\n      var sencLength = 0;\n      var samples;\n      if (track.isVideo && track.videoSenc) {\n        samples = track.videoSenc;\n        samples.forEach(function(item) {\n          sencLength = sencLength + 8;\n          if (item.subsamples && item.subsamples.length) {\n            sencLength = sencLength + 2;\n            sencLength = sencLength + item.subsamples.length * 6;\n          }\n        });\n      }\n      track.videoSencLength = sencLength;\n      if (!track.useEME || !track.isVideoEncryption && !track.isAudioEncryption) {\n        var sdtp = MP42.sdtp(track);\n        var offset = 16 + 20 + 8 + 16 + 8 + 8;\n        return MP42.box(MP42.types.traf, tfhd, tfdt, sdtp, MP42.trun(track.samples, sdtp.byteLength + offset));\n      } else if (track.isVideoEncryption) {\n        if (track.isVideo) {\n          var saiz = MP42.saiz(track);\n          var saio = MP42.saio(track);\n          var trun = MP42.trun1(track);\n          var senc = MP42.senc(track);\n          var traf2 = MP42.box(MP42.types.traf, tfhd, tfdt, saiz, saio, trun, senc);\n          return traf2;\n        } else {\n          if (!track.isAudioEncryption) {\n            var sbgp = MP42.sbgp();\n            var _trun = MP42.trun1(track);\n            return MP42.box(MP42.types.traf, tfhd, tfdt, sbgp, _trun);\n          } else {\n            var _sbgp = MP42.sbgp();\n            var _saiz = MP42.saiz(track);\n            var _saio = MP42.saio(track);\n            var _senc = MP42.senc(track);\n            var _trun2 = MP42.trun1(track);\n            var _traf = MP42.box(MP42.types.traf, tfhd, tfdt, _sbgp, _saiz, _saio, _senc, _trun2);\n            return _traf;\n          }\n        }\n      } else {\n        if (track.isVideo) {\n          var _trun3 = MP42.trun1(track);\n          return MP42.box(MP42.types.traf, tfhd, tfdt, _trun3);\n        } else {\n          var _sbgp2 = MP42.sbgp();\n          var _saiz2 = MP42.saiz(track);\n          var _saio2 = MP42.saio(track);\n          var _senc2 = MP42.senc(track);\n          var _trun4 = MP42.trun1(track);\n          var _traf2 = MP42.box(MP42.types.traf, tfhd, tfdt, _sbgp2, _saiz2, _saio2, _senc2, _trun4);\n          return _traf2;\n        }\n      }\n    }\n  }, {\n    key: \"sdtp\",\n    value: function sdtp(data) {\n      var buffer = new Buffer();\n      data.samples.forEach(function(item) {\n        buffer.write(new Uint8Array(data.isVideo ? [item.keyframe ? 32 : 16] : [16]));\n      });\n      return MP42.box(MP42.types.sdtp, this.extension(0, 0), buffer.buffer);\n    }\n  }, {\n    key: \"trun1\",\n    value: function trun1(data) {\n      var buffer = new Buffer();\n      var sampleCount = Buffer.writeUint32(data.samples.length);\n      var offset = null;\n      if (data.isVideo) {\n        var sencLength = data.videoSencLength;\n        offset = Buffer.writeUint32(data.samples.length * 16 + sencLength + 149);\n        if (!data.isVideoEncryption && data.isAudioEncryption) {\n          offset = Buffer.writeUint32(data.samples.length * 16 + 92);\n        }\n      } else {\n        var len = data.samples.length * 12 + 124;\n        if (data.isAudioEncryption) {\n          len = data.samples.length * 12 + 8 * data.audioSenc.length + 177;\n        }\n        offset = Buffer.writeUint32(len);\n      }\n      data.samples.forEach(function(item) {\n        buffer.write(Buffer.writeUint32(item.duration));\n        buffer.write(Buffer.writeUint32(item.size));\n        buffer.write(Buffer.writeUint32(item.keyframe ? 33554432 : 65536));\n        if (data.isVideo) {\n          buffer.write(Buffer.writeUint32(item.cts ? item.cts : 0));\n        }\n      });\n      return MP42.box(MP42.types.trun, this.extension(0, data.flags), sampleCount, offset, buffer.buffer);\n    }\n  }, {\n    key: \"senc\",\n    value: function senc(data) {\n      var buffer = new Buffer();\n      var len = data.samples.length;\n      var ceil = data.isVideo ? 16 : 8;\n      var flag = data.isVideo ? 2 : 0;\n      var samples = [];\n      var samplesLength = 0;\n      if (data.isVideo) {\n        samples = data.videoSenc;\n        samplesLength = data.videoSencLength;\n      } else {\n        samples = data.audioSenc;\n      }\n      samplesLength = samplesLength || ceil * len;\n      buffer.write(Buffer.writeUint32(16 + samplesLength), MP42.types.senc, this.extension(0, flag));\n      buffer.write(Buffer.writeUint32(len));\n      samples.forEach(function(item) {\n        for (var i = 0; i < item.InitializationVector.length; i++) {\n          buffer.write(new Uint8Array([item.InitializationVector[i]]));\n        }\n        if (item.subsamples && item.subsamples.length) {\n          buffer.write(Buffer.writeUint16(item.subsamples.length));\n          item.subsamples.forEach(function(value) {\n            buffer.write(Buffer.writeUint16(value.BytesOfClearData));\n            buffer.write(Buffer.writeUint32(value.BytesOfProtectedData));\n          });\n        }\n      });\n      return buffer.buffer;\n    }\n  }, {\n    key: \"saio\",\n    value: function saio(data) {\n      var length = data.samples.length * 12 + 141;\n      if (!data.isVideo && data.isAudioEncryption) {\n        length = 149;\n      }\n      var content = new Uint8Array([1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, length >> 24 & 255, length >> 16 & 255, length >> 8 & 255, length & 255]);\n      return MP42.box(MP42.types.saio, content);\n    }\n  }, {\n    key: \"saiz\",\n    value: function saiz(data) {\n      var samplesLength = data.samples.length;\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        16,\n        samplesLength >> 24 & 255,\n        samplesLength >> 16 & 255,\n        samplesLength >> 8 & 255,\n        samplesLength & 255\n      ]);\n      return MP42.box(MP42.types.saiz, content);\n    }\n  }, {\n    key: \"sbgp\",\n    value: function sbgp() {\n      var content = new Uint8Array([\n        114,\n        111,\n        108,\n        108,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        1,\n        25,\n        0,\n        0,\n        0,\n        1\n      ]);\n      return MP42.box(MP42.types.sbgp, this.extension(0, 0), content);\n    }\n  }, {\n    key: \"extension\",\n    value: function extension(version, flag) {\n      return new Uint8Array([version, flag >> 16 & 255, flag >> 8 & 255, flag & 255]);\n    }\n  }, {\n    key: \"tfhd\",\n    value: function tfhd(id) {\n      return MP42.box(MP42.types.tfhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255\n      ]));\n    }\n  }, {\n    key: \"tfdt\",\n    value: function tfdt(data, baseMediaDecodeTime) {\n      var upperWordBaseMediaDecodeTime = Math.floor(baseMediaDecodeTime / (UINT32_MAX + 1));\n      var lowerWordBaseMediaDecodeTime = Math.floor(baseMediaDecodeTime % (UINT32_MAX + 1));\n      if (data.useEME && (data.isVideoEncryption || data.isAudioEncryption)) {\n        return MP42.box(MP42.types.tfdt, new Uint8Array([\n          0,\n          0,\n          0,\n          0,\n          lowerWordBaseMediaDecodeTime >> 24,\n          lowerWordBaseMediaDecodeTime >> 16 & 255,\n          lowerWordBaseMediaDecodeTime >> 8 & 255,\n          lowerWordBaseMediaDecodeTime & 255\n        ]));\n      } else {\n        return MP42.box(MP42.types.tfdt, new Uint8Array([\n          1,\n          0,\n          0,\n          0,\n          upperWordBaseMediaDecodeTime >> 24,\n          upperWordBaseMediaDecodeTime >> 16 & 255,\n          upperWordBaseMediaDecodeTime >> 8 & 255,\n          upperWordBaseMediaDecodeTime & 255,\n          lowerWordBaseMediaDecodeTime >> 24,\n          lowerWordBaseMediaDecodeTime >> 16 & 255,\n          lowerWordBaseMediaDecodeTime >> 8 & 255,\n          lowerWordBaseMediaDecodeTime & 255\n        ]));\n      }\n    }\n  }, {\n    key: \"trun\",\n    value: function trun(samples, offset) {\n      var sampleLen = samples.length;\n      var dataLen = 12 + 16 * sampleLen;\n      offset += 8 + dataLen;\n      var data = new Uint8Array(dataLen);\n      data.set([\n        0,\n        0,\n        15,\n        1,\n        sampleLen >>> 24 & 255,\n        sampleLen >>> 16 & 255,\n        sampleLen >>> 8 & 255,\n        sampleLen & 255,\n        offset >>> 24 & 255,\n        offset >>> 16 & 255,\n        offset >>> 8 & 255,\n        offset & 255\n      ], 0);\n      for (var i = 0; i < sampleLen; i++) {\n        var _samples$i = samples[i], duration = _samples$i.duration, size = _samples$i.size, _samples$i$flag = _samples$i.flag, flag = _samples$i$flag === void 0 ? {} : _samples$i$flag, _samples$i$cts = _samples$i.cts, cts = _samples$i$cts === void 0 ? 0 : _samples$i$cts;\n        data.set([\n          duration >>> 24 & 255,\n          duration >>> 16 & 255,\n          duration >>> 8 & 255,\n          duration & 255,\n          size >>> 24 & 255,\n          size >>> 16 & 255,\n          size >>> 8 & 255,\n          size & 255,\n          flag.isLeading << 2 | (flag.dependsOn === null || flag.dependsOn === void 0 ? 1 : flag.dependsOn),\n          flag.isDependedOn << 6 | flag.hasRedundancy << 4 | flag.paddingValue << 1 | (flag.isNonSyncSample === null || flag.isNonSyncSample === void 0 ? 1 : flag.isNonSyncSample),\n          flag.degradationPriority & 240 << 8,\n          flag.degradationPriority & 15,\n          cts >>> 24 & 255,\n          cts >>> 16 & 255,\n          cts >>> 8 & 255,\n          cts & 255\n        ], 12 + 16 * i);\n      }\n      return MP42.box(MP42.types.trun, data);\n    }\n  }, {\n    key: \"moovMP4\",\n    value: function moovMP4(tracks) {\n      return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].duration, tracks[0].timescale)].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.trackMP4(t);\n      }))));\n    }\n  }, {\n    key: \"trackMP4\",\n    value: function trackMP4(track) {\n      return MP42.box(MP42.types.trak, MP42.tkhd(track.id, track.duration, track.width, track.height), MP42.mdiaMP4(track));\n    }\n  }, {\n    key: \"mdiaMP4\",\n    value: function mdiaMP4(track) {\n      return MP42.box(MP42.types.mdia, MP42.mdhd(track.duration, track.timescale), MP42.hdlr(track.type), MP42.minfMP4(track));\n    }\n  }, {\n    key: \"minfMP4\",\n    value: function minfMP4(track) {\n      return MP42.box(MP42.types.minf, track.type === TrackType.VIDEO ? MP42.VMHD : MP42.SMHD, MP42.DINF, MP42.stblMP4(track));\n    }\n  }, {\n    key: \"stblMP4\",\n    value: function stblMP4(track) {\n      var ext = track.ext;\n      var boxes = [MP42.stsd(track), MP42.stts(ext.stts), MP42.stsc(ext.stsc), MP42.stsz(ext.stsz), MP42.stco(ext.stco)];\n      if (ext.stss.length) {\n        boxes.push(MP42.stss(ext.stss));\n      }\n      if (ext.ctts.length) {\n        boxes.push(MP42.ctts(ext.ctts));\n      }\n      return MP42.box.apply(MP42, [MP42.types.stbl].concat(boxes));\n    }\n  }, {\n    key: \"stts\",\n    value: function stts(samples) {\n      var len = samples.length;\n      var data = new Uint8Array(8 * len);\n      var offset = 0;\n      samples.forEach(function(_ref5) {\n        var value = _ref5.value, count = _ref5.count;\n        data.set([count >> 24, count >> 16 & 255, count >> 8 & 255, count & 255, value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255], offset);\n        offset += 8;\n      });\n      return MP42.box(MP42.types.stts, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stsc\",\n    value: function stsc(entries) {\n      var len = entries.length;\n      var data = new Uint8Array(12 * len);\n      var offset = 0;\n      entries.forEach(function(_ref6) {\n        var firstChunk = _ref6.firstChunk, samplesPerChunk = _ref6.samplesPerChunk, sampleDescIndex = _ref6.sampleDescIndex;\n        data.set([firstChunk >> 24, firstChunk >> 16 & 255, firstChunk >> 8 & 255, firstChunk & 255, samplesPerChunk >> 24, samplesPerChunk >> 16 & 255, samplesPerChunk >> 8 & 255, samplesPerChunk & 255, sampleDescIndex >> 24, sampleDescIndex >> 16 & 255, sampleDescIndex >> 8 & 255, sampleDescIndex & 255], offset);\n        offset += 12;\n      });\n      return MP42.box(MP42.types.stsc, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stsz\",\n    value: function stsz(samplesSizes) {\n      var len = samplesSizes.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      samplesSizes.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stsz, concatUint8Array(new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stco\",\n    value: function stco(offsets) {\n      var len = offsets.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      offsets.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stco, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stss\",\n    value: function stss(keyframeIndexes) {\n      var len = keyframeIndexes.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      keyframeIndexes.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stss, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"ctts\",\n    value: function ctts(samples) {\n      var len = samples.length;\n      var data = new Uint8Array(8 * len);\n      var offset = 0;\n      samples.forEach(function(_ref7) {\n        var value = _ref7.value, count = _ref7.count;\n        data.set([count >> 24, count >> 16 & 255, count >> 8 & 255, count & 255, value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255], offset);\n        offset += 8;\n      });\n      return MP42.box(MP42.types.ctts, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"styp\",\n    value: function styp() {\n      return MP42.box(MP42.types.styp, new Uint8Array([109, 115, 100, 104, 0, 0, 0, 0, 109, 115, 100, 104, 109, 115, 105, 120]));\n    }\n  }, {\n    key: \"sidx\",\n    value: function sidx(data) {\n      var timescale = data.timescale;\n      var duration = data.samples[0].duration;\n      var durationCount = duration * data.samples.length;\n      var earliestTime = data.samples[0].sampleOffset * duration;\n      var mdatSize = 8;\n      data.samples.forEach(function(item) {\n        mdatSize += item.size;\n      });\n      var length = 0;\n      if (data.isVideo) {\n        var sencLength = 0;\n        var samples;\n        if (data.videoSenc) {\n          samples = data.videoSenc;\n        }\n        if (data.isVideo) {\n          samples.forEach(function(item) {\n            sencLength = sencLength + 8;\n            if (item.subsamples && item.subsamples.length) {\n              sencLength = sencLength + 2;\n              sencLength = sencLength + item.subsamples.length * 6;\n            }\n          });\n        }\n        data.videoSencLength = sencLength;\n        length = mdatSize + 141 + data.samples.length * 16 + sencLength;\n        if (data.useEME && data.isAudioEncryption && !data.isVideoEncryption) {\n          length = mdatSize + data.samples.length * 16 + 84;\n        }\n      } else {\n        length = mdatSize + 116 + data.samples.length * 12;\n        if (data.useEME && data.isAudioEncryption) {\n          length = mdatSize + 169 + data.samples.length * 12 + 8 * data.audioSenc.length;\n        }\n      }\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        data.id & 255,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        earliestTime >> 24 & 255,\n        earliestTime >> 16 & 255,\n        earliestTime >> 8 & 255,\n        earliestTime & 255,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        length >> 16 & 255,\n        length >> 8 & 255,\n        length & 255,\n        durationCount >> 24 & 255,\n        durationCount >> 16 & 255,\n        durationCount >> 8 & 255,\n        durationCount & 255,\n        144,\n        0,\n        0,\n        0\n      ]);\n      return MP42.box(MP42.types.sidx, content);\n    }\n  }, {\n    key: \"mdat\",\n    value: function mdat(data) {\n      var mdat2 = MP42.box(MP42.types.mdat, data);\n      return mdat2;\n    }\n  }]);\n  return MP42;\n}();\n_defineProperty(MP4, \"types\", [\"Opus\", \"dOps\", \"av01\", \"av1C\", \"avc1\", \"avcC\", \"hvc1\", \"hvcC\", \"dinf\", \"dref\", \"esds\", \"ftyp\", \"hdlr\", \"mdat\", \"mdhd\", \"mdia\", \"mfhd\", \"minf\", \"moof\", \"moov\", \"mp4a\", \"mvex\", \"mvhd\", \"pasp\", \"stbl\", \"stco\", \"stsc\", \"stsd\", \"stsz\", \"stts\", \"tfdt\", \"tfhd\", \"traf\", \"trak\", \"trex\", \"tkhd\", \"vmhd\", \"smhd\", \"ctts\", \"stss\", \"styp\", \"pssh\", \"sidx\", \"sbgp\", \"saiz\", \"saio\", \"senc\", \"trun\", \"encv\", \"enca\", \"sinf\", \"btrt\", \"frma\", \"tenc\", \"schm\", \"schi\", \"mehd\", \"fiel\", \"sdtp\"].reduce(function(p, c) {\n  p[c] = [c.charCodeAt(0), c.charCodeAt(1), c.charCodeAt(2), c.charCodeAt(3)];\n  return p;\n}, /* @__PURE__ */ Object.create(null)));\n_defineProperty(MP4, \"HDLR_TYPES\", {\n  video: new Uint8Array([\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    118,\n    105,\n    100,\n    101,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    86,\n    105,\n    100,\n    101,\n    111,\n    72,\n    97,\n    110,\n    100,\n    108,\n    101,\n    114,\n    0\n  ]),\n  audio: new Uint8Array([\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    115,\n    111,\n    117,\n    110,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    83,\n    111,\n    117,\n    110,\n    100,\n    72,\n    97,\n    110,\n    100,\n    108,\n    101,\n    114,\n    0\n  ])\n});\n_defineProperty(MP4, \"FTYPAVC1\", MP4.box(MP4.types.ftyp, new Uint8Array([\n  105,\n  115,\n  111,\n  109,\n  0,\n  0,\n  0,\n  1,\n  105,\n  115,\n  111,\n  109,\n  97,\n  118,\n  99,\n  49\n])));\n_defineProperty(MP4, \"FTYPHEV1\", MP4.box(MP4.types.ftyp, new Uint8Array([\n  105,\n  115,\n  111,\n  109,\n  0,\n  0,\n  0,\n  1,\n  105,\n  115,\n  111,\n  109,\n  104,\n  101,\n  118,\n  49\n])));\n_defineProperty(MP4, \"DINF\", MP4.box(MP4.types.dinf, MP4.box(MP4.types.dref, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  1,\n  0,\n  0,\n  0,\n  12,\n  117,\n  114,\n  108,\n  32,\n  0,\n  0,\n  0,\n  1\n]))));\n_defineProperty(MP4, \"VMHD\", MP4.box(MP4.types.vmhd, new Uint8Array([\n  0,\n  0,\n  0,\n  1,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"SMHD\", MP4.box(MP4.types.smhd, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"StblTable\", new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n]));\n_defineProperty(MP4, \"STTS\", MP4.box(MP4.types.stts, MP4.StblTable));\n_defineProperty(MP4, \"STSC\", MP4.box(MP4.types.stsc, MP4.StblTable));\n_defineProperty(MP4, \"STSZ\", MP4.box(MP4.types.stsz, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"STCO\", MP4.box(MP4.types.stco, MP4.StblTable));\nexport { MP4 };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name, enable) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n    Logger2.disabled = enable;\n  }\n  _createClass(Logger2, [{\n    key: \"debug\",\n    value: function debug() {\n      var _console;\n      if (Logger2.disabled)\n        return;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_console = console).debug.apply(_console, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      var _console2;\n      if (Logger2.disabled)\n        return;\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      (_console2 = console).log.apply(_console2, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      var _console3;\n      if (Logger2.disabled)\n        return;\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      (_console3 = console).warn.apply(_console3, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      var _console4;\n      if (Logger2.disabled)\n        return;\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      (_console4 = console).error.apply(_console4, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"table\",\n    value: function table() {\n      var _console5;\n      if (Logger2.disabled)\n        return;\n      console.group(this._prefix);\n      (_console5 = console).table.apply(_console5, arguments);\n      console.groupEnd();\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nexport { Logger };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MP4 } from \"./mp4.js\";\nimport { concatUint8Array } from \"../utils/index.js\";\nimport { Logger } from \"./logger.js\";\nvar FMP4Remuxer = /* @__PURE__ */ function() {\n  function FMP4Remuxer2(videoTrack, audioTrack, options) {\n    _classCallCheck(this, FMP4Remuxer2);\n    this.videoTrack = videoTrack;\n    this.audioTrack = audioTrack;\n    var browserVersions = /Chrome\\/([^.]+)/.exec(navigator.userAgent);\n    this.forceFirstIDR = browserVersions && Number(browserVersions[1]) < 50;\n    this.log = new Logger(\"FMP4Remuxer\", options && options.openLog ? !options.openLog : true);\n  }\n  _createClass(FMP4Remuxer2, [{\n    key: \"remux\",\n    value: function remux() {\n      var createInit = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var videoTrack = this.videoTrack;\n      var audioTrack = this.audioTrack;\n      var hasVideo = videoTrack.exist();\n      var hasAudio = audioTrack.exist();\n      var videoInitSegment;\n      var audioInitSegment;\n      var initSegment;\n      var tracks = [];\n      if (createInit) {\n        if (options && options.initMerge) {\n          if (hasVideo) {\n            tracks.push(this.videoTrack);\n          }\n          if (hasAudio) {\n            tracks.push(this.audioTrack);\n          }\n          initSegment = MP4.initSegment(tracks);\n        } else {\n          if (hasVideo)\n            videoInitSegment = MP4.initSegment([this.videoTrack]);\n          if (hasAudio)\n            audioInitSegment = MP4.initSegment([this.audioTrack]);\n        }\n      }\n      var videoSegment;\n      var audioSegment;\n      if (hasVideo && videoTrack.hasSample()) {\n        videoSegment = this._remuxVideo();\n      }\n      if (hasAudio && audioTrack.hasSample()) {\n        audioSegment = this._remuxAudio();\n      }\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      return {\n        initSegment,\n        videoInitSegment,\n        audioInitSegment,\n        videoSegment,\n        audioSegment\n      };\n    }\n  }, {\n    key: \"_remuxVideo\",\n    value: function _remuxVideo() {\n      var track = this.videoTrack;\n      if (this.forceFirstIDR) {\n        track.samples[0].flag = {\n          dependsOn: 2,\n          isNonSyncSample: 0\n        };\n      }\n      var samples = track.samples;\n      var isAV01 = /av01/.test(track.codec);\n      var mdatSize = 0;\n      if (isAV01) {\n        samples.forEach(function(s) {\n          mdatSize += s.data.byteLength;\n        });\n      } else {\n        samples.forEach(function(s) {\n          mdatSize += s.units.reduce(function(t, c) {\n            return t + c.byteLength;\n          }, 0);\n          mdatSize += s.units.length * 4;\n        });\n      }\n      var mdata = new Uint8Array(mdatSize);\n      if (isAV01) {\n        for (var i = 0, l = samples.length, offset = 0, sample; i < l; i++) {\n          sample = samples[i];\n          mdata.set(sample.data, offset);\n          sample.size = sample.data.byteLength;\n          offset += sample.size;\n        }\n      } else {\n        var mdatView = new DataView(mdata.buffer);\n        var _loop = function _loop2(_offset2, _sample2) {\n          _sample2 = samples[_i];\n          var sampleSize = 0;\n          _sample2.units.forEach(function(u) {\n            mdatView.setUint32(_offset2, u.byteLength);\n            _offset2 += 4;\n            mdata.set(u, _offset2);\n            _offset2 += u.byteLength;\n            sampleSize += 4 + u.byteLength;\n          });\n          _sample2.size = sampleSize;\n          _offset = _offset2, _sample = _sample2;\n        };\n        for (var _i = 0, _l = samples.length, _offset = 0, _sample; _i < _l; _i++) {\n          _loop(_offset, _sample);\n        }\n      }\n      var mdat = MP4.mdat(mdata);\n      var moof = MP4.moof([track]);\n      return concatUint8Array(moof, mdat);\n    }\n  }, {\n    key: \"_remuxAudio\",\n    value: function _remuxAudio() {\n      var track = this.audioTrack;\n      var mdata = new Uint8Array(track.samples.reduce(function(t, c) {\n        return t + c.size;\n      }, 0));\n      track.samples.reduce(function(offset, s) {\n        mdata.set(s.data, offset);\n        return offset + s.size;\n      }, 0);\n      var mdat = MP4.mdat(mdata);\n      var moof = MP4.moof([track]);\n      return concatUint8Array(moof, mdat);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.videoTrack.reset();\n      this.audioTrack.reset();\n    }\n  }]);\n  return FMP4Remuxer2;\n}();\nexport { FMP4Remuxer };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT } from \"xgplayer-streaming-shared\";\nvar Event = _objectSpread2(_objectSpread2({}, EVENT), {}, {\n  STREAM_PARSED: \"core.streamparsed\",\n  NO_AUDIO_TRACK: \"core.noaudiotrack\",\n  SUBTITLE_SEGMENTS: \"core.subtitlesegments\",\n  SUBTITLE_PLAYLIST: \"core.subtitleplaylist\",\n  SEI_PAYLOAD_TIME: \"core.seipayloadtime\",\n  APPEND_COST: \"core.appendcost\"\n});\nexport { Event };\n","import { createClass as _createClass, objectSpread2 as _objectSpread2, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Logger, concatUint8Array, StreamingError, ERR } from \"xgplayer-streaming-shared\";\nimport { TrackType, WarningType, FMP4Demuxer, TsDemuxer, FMP4Remuxer } from \"xgplayer-transmuxer\";\nimport { Event } from \"../../constants.js\";\nvar logger = new Logger(\"Transmuxer\");\nvar Transmuxer = /* @__PURE__ */ function() {\n  function Transmuxer2(hls, isMP4, needRemux, fixerConfig) {\n    _classCallCheck(this, Transmuxer2);\n    _defineProperty(this, \"_initSegmentId\", \"\");\n    this.hls = hls;\n    this._demuxer = isMP4 ? new FMP4Demuxer() : new TsDemuxer(null, null, null, fixerConfig);\n    this._isMP4 = isMP4;\n    if (needRemux)\n      this._remuxer = new FMP4Remuxer(this._demuxer.videoTrack, this._demuxer.audioTrack);\n  }\n  _createClass(Transmuxer2, [{\n    key: \"transmux\",\n    value: function transmux(videoChunk, audioChunk, discontinuity, contiguous, startTime, needInit) {\n      var demuxer = this._demuxer;\n      try {\n        if (this._isMP4) {\n          demuxer.demux(videoChunk, audioChunk);\n        } else {\n          demuxer.demuxAndFix(concatUint8Array(videoChunk, audioChunk), discontinuity, contiguous, startTime);\n        }\n      } catch (error) {\n        throw new StreamingError(ERR.DEMUX, ERR.SUB_TYPES.HLS, error);\n      }\n      var videoTrack = demuxer.videoTrack, audioTrack = demuxer.audioTrack, metadataTrack = demuxer.metadataTrack;\n      var vParsed = {\n        codec: videoTrack.codec,\n        timescale: videoTrack.timescale,\n        firstDts: videoTrack.firstDts / videoTrack.timescale,\n        firstPts: videoTrack.firstPts / videoTrack.timescale,\n        duration: videoTrack.samplesDuration / videoTrack.timescale\n      };\n      var aParsed = {\n        codec: audioTrack.codec,\n        timescale: audioTrack.timescale,\n        firstDts: audioTrack.firstDts / videoTrack.timescale,\n        firstPts: audioTrack.firstPts / videoTrack.timescale,\n        duration: audioTrack.samplesDuration / videoTrack.timescale\n      };\n      var newId = \"\".concat(videoTrack.codec, \"/\").concat(videoTrack.width, \"/\").concat(videoTrack.height, \"/\").concat(audioTrack.codec, \"/\").concat(audioTrack.config);\n      if (newId !== this._initSegmentId) {\n        this._initSegmentId = newId;\n        needInit = true;\n      }\n      this._fireEvents(videoTrack, audioTrack, metadataTrack, discontinuity || needInit);\n      this.hls.emit(Event.DEMUXED_TRACK, {\n        videoTrack,\n        audioTrack\n      });\n      if (this._remuxer) {\n        if (needInit && this.hls.isLive && !this.hls.config.mseLowLatency) {\n          videoTrack.duration = this.hls.totalDuration * videoTrack.timescale;\n          audioTrack.duration = this.hls.totalDuration * audioTrack.timescale;\n        }\n        try {\n          var _this$_remuxer$remux = this._remuxer.remux(needInit), videoInitSegment = _this$_remuxer$remux.videoInitSegment, videoSegment = _this$_remuxer$remux.videoSegment, audioInitSegment = _this$_remuxer$remux.audioInitSegment, audioSegment = _this$_remuxer$remux.audioSegment;\n          var v = concatUint8Array(videoInitSegment, videoSegment);\n          var a = concatUint8Array(audioInitSegment, audioSegment);\n          return [v ? _objectSpread2(_objectSpread2({}, vParsed), {}, {\n            data: v\n          }) : void 0, a ? _objectSpread2(_objectSpread2({}, aParsed), {}, {\n            data: a\n          }) : void 0];\n        } catch (error) {\n          throw new StreamingError(ERR.REMUX, ERR.SUB_TYPES.FMP4, error);\n        }\n      } else {\n        return [videoTrack, audioTrack];\n      }\n    }\n  }, {\n    key: \"_fireEvents\",\n    value: function _fireEvents(videoTrack, audioTrack, metadataTrack, discontinuity) {\n      var _this = this;\n      var tracks = [videoTrack, audioTrack];\n      var logCC = \"discontinuity: \".concat(discontinuity);\n      tracks.forEach(function(track) {\n        var _track$samples;\n        if ((_track$samples = track.samples) !== null && _track$samples !== void 0 && _track$samples.length) {\n          logCC += \"; \".concat(track.samples.length, \" \").concat(track.type === TrackType.VIDEO ? \"video\" : \"audio\", \" samples, firstDts/firstPts/duration: \").concat((track.firstDts / track.timescale).toFixed(3), \"/\").concat((track.firstPts / track.timescale).toFixed(3), \"/\").concat((track.samplesDuration / track.timescale).toFixed(3));\n        }\n        if (discontinuity && track.exist()) {\n          _this.hls.emit(Event.METADATA_PARSED, {\n            type: track.type,\n            track,\n            meta: _objectSpread2({\n              codec: track.codec,\n              timescale: track.timescale,\n              baseDts: track.baseDts\n            }, track.type === TrackType.VIDEO ? {\n              width: track.width,\n              height: track.height,\n              sarRatio: track.sarRatio\n            } : {\n              codec: track.codec,\n              channelCount: track.channelCount,\n              sampleRate: track.sampleRate\n            })\n          });\n        }\n      });\n      logger.debug(logCC);\n      videoTrack.warnings.forEach(function(warn) {\n        var type;\n        switch (warn.type) {\n          case WarningType.LARGE_AV_SHIFT:\n            type = Event.LARGE_AV_FIRST_FRAME_GAP_DETECT;\n            break;\n          case WarningType.LARGE_VIDEO_GAP:\n            type = Event.LARGE_VIDEO_DTS_GAP_DETECT;\n            break;\n          case WarningType.LARGE_VIDEO_GAP_BETWEEN_CHUNK:\n            type = Event.MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT;\n            break;\n        }\n        if (type)\n          _this.hls.emit(Event.STREAM_EXCEPTION, _objectSpread2(_objectSpread2({}, warn), {}, {\n            type\n          }));\n        logger.warn(\"video exception\", warn);\n      });\n      audioTrack.warnings.forEach(function(warn) {\n        var type;\n        switch (warn.type) {\n          case WarningType.LARGE_AUDIO_GAP:\n            type = Event.LARGE_AUDIO_DTS_GAP_DETECT;\n            break;\n          case WarningType.AUDIO_FILLED:\n            type = Event.AUDIO_GAP_DETECT;\n            break;\n          case WarningType.AUDIO_DROPPED:\n            type = Event.AUDIO_OVERLAP_DETECT;\n            break;\n        }\n        if (type)\n          _this.hls.emit(Event.STREAM_EXCEPTION, _objectSpread2(_objectSpread2({}, warn), {}, {\n            type\n          }));\n        logger.warn(\"audio exception\", warn);\n      });\n      videoTrack.samples.forEach(function(sample) {\n        if (sample.keyframe) {\n          _this.hls.emit(Event.KEYFRAME, {\n            pts: sample.pts\n          });\n        }\n      });\n      metadataTrack.seiSamples.forEach(function(sei) {\n        _this.hls.emit(Event.SEI, _objectSpread2(_objectSpread2({}, sei), {}, {\n          originPts: sei.originPts / 90,\n          sei: {\n            code: sei.data.type,\n            content: sei.data.payload,\n            dts: sei.pts\n          }\n        }));\n      });\n    }\n  }]);\n  return Transmuxer2;\n}();\nexport { Transmuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray, objectWithoutProperties as _objectWithoutProperties } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TsDemuxer, MP4Parser } from \"xgplayer-transmuxer\";\nimport { Logger, StreamingError, ERR, MSE, EVENT, Buffer } from \"xgplayer-streaming-shared\";\nimport { Decryptor } from \"./decrypt/index.js\";\nimport { Transmuxer } from \"./transmuxer/index.js\";\nimport { Event } from \"../constants.js\";\nvar _excluded = [\"data\"], _excluded2 = [\"data\"];\nvar logger = new Logger(\"BufferService\");\nvar BufferService = /* @__PURE__ */ function() {\n  function BufferService2(hls) {\n    var _this = this;\n    _classCallCheck(this, BufferService2);\n    _defineProperty(this, \"_decryptor\", new Decryptor());\n    _defineProperty(this, \"_transmuxer\", null);\n    _defineProperty(this, \"_mse\", null);\n    _defineProperty(this, \"_softVideo\", null);\n    _defineProperty(this, \"_sourceCreated\", false);\n    _defineProperty(this, \"_needInitSegment\", true);\n    _defineProperty(this, \"_directAppend\", false);\n    this.hls = hls;\n    if (hls.config.softDecode) {\n      this._softVideo = hls.media;\n    } else {\n      this._mse = new MSE(null, {\n        preferMMS: hls.config.preferMMS\n      });\n      if (hls.config.url) {\n        this._mse.bindMedia(hls.media).then(function(e) {\n          _this.hls.emit(EVENT.MEDIASOURCE_OPENED, e);\n        });\n      }\n    }\n    if (hls.config.decryptor) {\n      this._decryptor.externalDecryptor = hls.config.decryptor;\n    }\n  }\n  _createClass(BufferService2, [{\n    key: \"baseDts\",\n    get: function get() {\n      var _this$_transmuxer, _this$_transmuxer$_de, _this$_transmuxer$_de2;\n      return (_this$_transmuxer = this._transmuxer) === null || _this$_transmuxer === void 0 ? void 0 : (_this$_transmuxer$_de = _this$_transmuxer._demuxer) === null || _this$_transmuxer$_de === void 0 ? void 0 : (_this$_transmuxer$_de2 = _this$_transmuxer$_de._fixer) === null || _this$_transmuxer$_de2 === void 0 ? void 0 : _this$_transmuxer$_de2._baseDts;\n    }\n  }, {\n    key: \"nbSb\",\n    get: function get() {\n      var _this$_mse;\n      if (!((_this$_mse = this._mse) !== null && _this$_mse !== void 0 && _this$_mse._sourceBuffer))\n        return 0;\n      return Object.keys(this._mse._sourceBuffer).length;\n    }\n  }, {\n    key: \"msIsOpened\",\n    get: function get() {\n      var _this$_mse2;\n      return (_this$_mse2 = this._mse) === null || _this$_mse2 === void 0 ? void 0 : _this$_mse2.isOpened;\n    }\n  }, {\n    key: \"msHasOpTasks\",\n    get: function get() {\n      var _this$_mse3;\n      return (_this$_mse3 = this._mse) === null || _this$_mse3 === void 0 ? void 0 : _this$_mse3.hasOpTasks;\n    }\n  }, {\n    key: \"msStreaming\",\n    get: function get() {\n      var _this$_mse4;\n      return (_this$_mse4 = this._mse) === null || _this$_mse4 === void 0 ? void 0 : _this$_mse4.streaming;\n    }\n  }, {\n    key: \"updateDuration\",\n    value: function() {\n      var _updateDuration = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(duration) {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                logger.debug(\"update duration\", duration);\n                if (!this._mse) {\n                  _context.next = 9;\n                  break;\n                }\n                if (this._mse.isOpened) {\n                  _context.next = 5;\n                  break;\n                }\n                _context.next = 5;\n                return this._mse.open();\n              case 5:\n                _context.next = 7;\n                return this._mse.updateDuration(duration);\n              case 7:\n                _context.next = 10;\n                break;\n              case 9:\n                if (this._softVideo) {\n                  this._softVideo.duration = duration;\n                }\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function updateDuration(_x) {\n        return _updateDuration.apply(this, arguments);\n      }\n      return updateDuration;\n    }()\n  }, {\n    key: \"createSource\",\n    value: function createSource(videoChunk, audioChunk, videoCodec, audioCodec) {\n      if (this._sourceCreated)\n        return;\n      var chunk = videoChunk || audioChunk;\n      if (!chunk)\n        return;\n      if (TsDemuxer.probe(chunk)) {\n        if (!this._transmuxer)\n          this._transmuxer = new Transmuxer(this.hls, false, !this._softVideo, this.hls.config.fixerConfig);\n      } else if (MP4Parser.probe(chunk)) {\n        if (this._softVideo) {\n          if (!this._transmuxer)\n            this._transmuxer = new Transmuxer(this.hls, true, null, this.hls.config.fixerConfig);\n        } else {\n          this._directAppend = true;\n          var mix = false;\n          if (videoChunk && !videoCodec) {\n            MP4Parser.findBox(videoChunk, [\"moov\", \"trak\"]).forEach(function(t) {\n              var box = MP4Parser.findBox(t.data, [\"trak\", \"mdia\", \"minf\", \"stbl\", \"stsd\"])[0];\n              if (box) {\n                var e = MP4Parser.stsd(box).entries[0];\n                if (e) {\n                  if (e.hvcC) {\n                    videoCodec = e.hvcC.codec || \"hev1.1.6.L93.B0\";\n                  } else if (e.avcC) {\n                    videoCodec = e.avcC.codec;\n                  } else if (e.sampleRate || e.esds) {\n                    var _e$esds;\n                    audioCodec = ((_e$esds = e.esds) === null || _e$esds === void 0 ? void 0 : _e$esds.codec) || \"mp4a.40.2\";\n                    mix = true;\n                  }\n                }\n              }\n            });\n          }\n          if (audioChunk && !audioCodec) {\n            MP4Parser.findBox(audioChunk, [\"moov\", \"trak\", \"mdia\", \"minf\", \"stbl\", \"stsd\"]).forEach(function(stsd) {\n              var e = MP4Parser.stsd(stsd).entries[0];\n              if (e && e.esds)\n                audioCodec = e.esds.codec;\n            });\n          }\n          if (videoChunk && !videoCodec)\n            videoCodec = \"avc1.42e01e\";\n          if (audioChunk && !audioCodec)\n            audioCodec = \"mp4a.40.2\";\n          if (mix) {\n            videoCodec += \", \".concat(audioCodec);\n            audioCodec = \"\";\n          }\n          this._createMseSource(videoCodec, audioCodec);\n        }\n      } else {\n        throw new StreamingError(ERR.OTHER, null, null, null, \"unsupported stream\");\n      }\n      if (this._softVideo)\n        this._sourceCreated = true;\n    }\n  }, {\n    key: \"appendBuffer\",\n    value: function() {\n      var _appendBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2(segment, audioSegment, videoChunk, audioChunk, discontinuity, contiguous, startTime) {\n        var _this2 = this;\n        var afterAppend, p, needInit, _this$_transmuxer$tra, _this$_transmuxer$tra2, video, audio, isFirstAppend, mse, _p, videoData, videoRest, audioData, audioRest;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(!(videoChunk !== null && videoChunk !== void 0 && videoChunk.length) && !(audioChunk !== null && audioChunk !== void 0 && audioChunk.length))) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 2:\n                afterAppend = function afterAppend2() {\n                  var _this2$hls;\n                  if ((_this2$hls = _this2.hls) !== null && _this2$hls !== void 0 && _this2$hls.emit) {\n                    var _this2$hls2;\n                    (_this2$hls2 = _this2.hls) === null || _this2$hls2 === void 0 ? void 0 : _this2$hls2.emit(EVENT.APPEND_BUFFER, {\n                      start: segment.start,\n                      end: segment.end\n                    });\n                  }\n                };\n                if (!this._directAppend) {\n                  _context2.next = 8;\n                  break;\n                }\n                p = [];\n                if (videoChunk)\n                  p.push(this._mse.append(MSE.VIDEO, videoChunk));\n                if (audioChunk)\n                  p.push(this._mse.append(MSE.AUDIO, audioChunk));\n                return _context2.abrupt(\"return\", Promise.all(p).then(afterAppend));\n              case 8:\n                needInit = this._needInitSegment || discontinuity;\n                _this$_transmuxer$tra = this._transmuxer.transmux(videoChunk, audioChunk, needInit, contiguous, startTime, this._needInitSegment || discontinuity), _this$_transmuxer$tra2 = _slicedToArray(_this$_transmuxer$tra, 2), video = _this$_transmuxer$tra2[0], audio = _this$_transmuxer$tra2[1];\n                if (audioChunk && audioSegment) {\n                  audioSegment === null || audioSegment === void 0 ? void 0 : audioSegment.setTrackExist(false, true);\n                }\n                if (audioChunk && segment) {\n                  segment === null || segment === void 0 ? void 0 : segment.setTrackExist(true, false);\n                }\n                if (!audioSegment) {\n                  segment === null || segment === void 0 ? void 0 : segment.setTrackExist(!!video, !!audio);\n                }\n                if (video && !audio) {\n                  this.hls.emit(Event.NO_AUDIO_TRACK);\n                }\n                if (!this._softVideo) {\n                  _context2.next = 20;\n                  break;\n                }\n                this._softVideo.appendBuffer(video, audio);\n                this._needInitSegment = false;\n                afterAppend();\n                _context2.next = 30;\n                break;\n              case 20:\n                if (!this._mse) {\n                  _context2.next = 30;\n                  break;\n                }\n                isFirstAppend = !this._sourceCreated;\n                if (isFirstAppend) {\n                  this._createMseSource(video === null || video === void 0 ? void 0 : video.codec, audio === null || audio === void 0 ? void 0 : audio.codec);\n                }\n                this._needInitSegment = false;\n                mse = this._mse;\n                _p = [];\n                if (needInit && !isFirstAppend) {\n                  this._handleCodecChange(video, audio).forEach(function(task) {\n                    return _p.push(task);\n                  });\n                }\n                if (video) {\n                  videoData = video.data, videoRest = _objectWithoutProperties(video, _excluded);\n                  _p.push(mse.append(MSE.VIDEO, videoData, videoRest));\n                }\n                if (audio) {\n                  audioData = audio.data, audioRest = _objectWithoutProperties(audio, _excluded2);\n                  _p.push(mse.append(MSE.AUDIO, audioData, audioRest));\n                }\n                return _context2.abrupt(\"return\", Promise.all(_p).then(afterAppend));\n              case 30:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function appendBuffer(_x2, _x3, _x4, _x5, _x6, _x7, _x8) {\n        return _appendBuffer.apply(this, arguments);\n      }\n      return appendBuffer;\n    }()\n  }, {\n    key: \"removeBuffer\",\n    value: function() {\n      var _removeBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n        var _this3 = this;\n        var start, end, media, _args3 = arguments;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                start = _args3.length > 0 && _args3[0] !== void 0 ? _args3[0] : 0;\n                end = _args3.length > 1 && _args3[1] !== void 0 ? _args3[1] : Infinity;\n                media = this.hls.media;\n                if (!(!this._mse || !media || start < 0 || end < start || start >= this._mse.duration)) {\n                  _context3.next = 5;\n                  break;\n                }\n                return _context3.abrupt(\"return\");\n              case 5:\n                return _context3.abrupt(\"return\", this._mse.clearBuffer(start, end).then(function() {\n                  return _this3.hls.emit(EVENT.REMOVE_BUFFER, {\n                    start,\n                    end,\n                    removeEnd: end\n                  });\n                }));\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function removeBuffer() {\n        return _removeBuffer.apply(this, arguments);\n      }\n      return removeBuffer;\n    }()\n  }, {\n    key: \"evictBuffer\",\n    value: function() {\n      var _evictBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee4(bufferBehind) {\n        var media, currentTime, removeEnd, start;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1)\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                media = this.hls.media;\n                if (!(!this._mse || !media || !bufferBehind || bufferBehind < 0)) {\n                  _context4.next = 3;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 3:\n                currentTime = media.currentTime;\n                removeEnd = currentTime - bufferBehind;\n                if (!(removeEnd <= 0)) {\n                  _context4.next = 7;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 7:\n                start = Buffer.start(Buffer.get(media));\n                if (!(start + 1 >= removeEnd)) {\n                  _context4.next = 10;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 10:\n                return _context4.abrupt(\"return\", this.removeBuffer(0, removeEnd));\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n        }, _callee4, this);\n      }));\n      function evictBuffer(_x9) {\n        return _evictBuffer.apply(this, arguments);\n      }\n      return evictBuffer;\n    }()\n  }, {\n    key: \"clearAllBuffer\",\n    value: function() {\n      var _clearAllBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee5() {\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1)\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!this._mse) {\n                  _context5.next = 2;\n                  break;\n                }\n                return _context5.abrupt(\"return\", this._mse.clearAllBuffer());\n              case 2:\n              case \"end\":\n                return _context5.stop();\n            }\n        }, _callee5, this);\n      }));\n      function clearAllBuffer() {\n        return _clearAllBuffer.apply(this, arguments);\n      }\n      return clearAllBuffer;\n    }()\n  }, {\n    key: \"decryptBuffer\",\n    value: function decryptBuffer(video, audio) {\n      return this._decryptor.decrypt(video, audio);\n    }\n  }, {\n    key: \"reset\",\n    value: function() {\n      var _reset = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee6() {\n        var reuseMse, _args6 = arguments;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1)\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                reuseMse = _args6.length > 0 && _args6[0] !== void 0 ? _args6[0] : false;\n                if (!(this._mse && !reuseMse)) {\n                  _context6.next = 8;\n                  break;\n                }\n                this._transmuxer = null;\n                this._sourceCreated = false;\n                _context6.next = 6;\n                return this._mse.unbindMedia();\n              case 6:\n                _context6.next = 8;\n                return this._mse.bindMedia(this.hls.media);\n              case 8:\n                this._needInitSegment = true;\n                this._directAppend = false;\n              case 10:\n              case \"end\":\n                return _context6.stop();\n            }\n        }, _callee6, this);\n      }));\n      function reset() {\n        return _reset.apply(this, arguments);\n      }\n      return reset;\n    }()\n  }, {\n    key: \"endOfStream\",\n    value: function() {\n      var _endOfStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee7() {\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1)\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!this._mse) {\n                  _context7.next = 5;\n                  break;\n                }\n                if (!this._sourceCreated) {\n                  _context7.next = 5;\n                  break;\n                }\n                _context7.next = 4;\n                return this._mse.endOfStream();\n              case 4:\n                this.hls.emit(EVENT.BUFFEREOS);\n              case 5:\n                if (this._softVideo) {\n                  this._softVideo.endOfStream();\n                }\n              case 6:\n              case \"end\":\n                return _context7.stop();\n            }\n        }, _callee7, this);\n      }));\n      function endOfStream() {\n        return _endOfStream.apply(this, arguments);\n      }\n      return endOfStream;\n    }()\n  }, {\n    key: \"setLiveSeekableRange\",\n    value: function() {\n      var _setLiveSeekableRange = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee8(start, end) {\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1)\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                if (this._mse)\n                  this._mse.setLiveSeekableRange(start, end);\n              case 1:\n              case \"end\":\n                return _context8.stop();\n            }\n        }, _callee8, this);\n      }));\n      function setLiveSeekableRange(_x10, _x11) {\n        return _setLiveSeekableRange.apply(this, arguments);\n      }\n      return setLiveSeekableRange;\n    }()\n  }, {\n    key: \"detachMedia\",\n    value: function() {\n      var _detachMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee9() {\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1)\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                if (!this._mse) {\n                  _context9.next = 3;\n                  break;\n                }\n                _context9.next = 3;\n                return this._mse.unbindMedia();\n              case 3:\n              case \"end\":\n                return _context9.stop();\n            }\n        }, _callee9, this);\n      }));\n      function detachMedia() {\n        return _detachMedia.apply(this, arguments);\n      }\n      return detachMedia;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function() {\n      var _destroy = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee10() {\n        var _this$_decryptor;\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1)\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                (_this$_decryptor = this._decryptor) === null || _this$_decryptor === void 0 ? void 0 : _this$_decryptor.destroy();\n                _context10.next = 3;\n                return this.detachMedia();\n              case 3:\n                this._decryptor = null;\n                this._mse = null;\n                this._softVideo = null;\n              case 6:\n              case \"end\":\n                return _context10.stop();\n            }\n        }, _callee10, this);\n      }));\n      function destroy() {\n        return _destroy.apply(this, arguments);\n      }\n      return destroy;\n    }()\n  }, {\n    key: \"_createMseSource\",\n    value: function _createMseSource(videoCodec, audioCodec) {\n      logger.debug(\"create mse source, videoCodec=\".concat(videoCodec, \", audioCodec=\").concat(audioCodec));\n      var mse = this._mse;\n      if (!mse)\n        return;\n      if (videoCodec) {\n        mse.createSource(MSE.VIDEO, \"video/mp4;codecs=\".concat(videoCodec));\n        this._sourceCreated = true;\n      }\n      if (audioCodec) {\n        mse.createSource(MSE.AUDIO, \"audio/mp4;codecs=\".concat(audioCodec));\n        this._sourceCreated = true;\n      }\n      this.hls.emit(EVENT.SOURCEBUFFER_CREATED);\n    }\n  }, {\n    key: \"_handleCodecChange\",\n    value: function _handleCodecChange(video, audio) {\n      var tasks = [];\n      var mse = this._mse;\n      var codecList = [{\n        type: MSE.VIDEO,\n        codecs: video === null || video === void 0 ? void 0 : video.codec\n      }, {\n        type: MSE.AUDIO,\n        codecs: audio === null || audio === void 0 ? void 0 : audio.codec\n      }];\n      codecList.filter(function(item) {\n        return !!item.codecs;\n      }).forEach(function(_ref) {\n        var type = _ref.type, codecs = _ref.codecs;\n        var sourceBuffer = mse.getSourceBuffer(type);\n        if (sourceBuffer) {\n          var codec = codecs.split(\",\")[0];\n          if (!new RegExp(codec, \"ig\").test(sourceBuffer.mimeType)) {\n            tasks.push(mse.changeType(type, \"\".concat(type, \"/mp4;codecs=\").concat(codecs)));\n          }\n        }\n      });\n      return tasks;\n    }\n  }, {\n    key: \"seamlessSwitch\",\n    value: function seamlessSwitch() {\n      this._needInitSegment = true;\n    }\n  }, {\n    key: \"isFull\",\n    value: function isFull() {\n      var _this$_mse5;\n      var mediaType = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : MSE.VIDEO;\n      return (_this$_mse5 = this._mse) === null || _this$_mse5 === void 0 ? void 0 : _this$_mse5.isFull(mediaType);\n    }\n  }]);\n  return BufferService2;\n}();\nexport { BufferService };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction getConfig(cfg) {\n  var media = (cfg === null || cfg === void 0 ? void 0 : cfg.media) || document.createElement(\"video\");\n  return _objectSpread2(_objectSpread2({\n    maxPlaylistSize: 50,\n    retryCount: 3,\n    retryDelay: 1e3,\n    pollRetryCount: 2,\n    loadTimeout: 1e4,\n    manifestLoadTimeout: 1e4,\n    preloadTime: 30,\n    softDecode: false,\n    bufferBehind: 10,\n    maxJumpDistance: 3,\n    startTime: 0,\n    useLowLatency: true,\n    targetLatency: 10,\n    maxLatency: 20,\n    allowedStreamTrackChange: true,\n    seiInTime: false,\n    manifestList: [],\n    minSegmentsStartPlay: 3,\n    preferMMS: false,\n    preferMMSStreaming: false,\n    mseLowLatency: true,\n    fixerConfig: {\n      forceFixLargeGap: false,\n      largeGapThreshold: 5\n    }\n  }, cfg), {}, {\n    media\n  });\n}\nexport { getConfig };\n","var LoaderType = {\n  FETCH: \"fetch\",\n  XHR: \"xhr\"\n};\nvar ResponseType = {\n  ARRAY_BUFFER: \"arraybuffer\",\n  TEXT: \"text\",\n  JSON: \"json\"\n};\nexport { LoaderType, ResponseType };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, wrapNativeSuper as _wrapNativeSuper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { LoaderType } from \"./types.js\";\nvar NetError = /* @__PURE__ */ function(_Error) {\n  _inherits(NetError2, _Error);\n  var _super = _createSuper(NetError2);\n  function NetError2(url, request, response, msg) {\n    var _this;\n    _classCallCheck(this, NetError2);\n    _this = _super.call(this, msg);\n    _defineProperty(_assertThisInitialized(_this), \"retryCount\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"isTimeout\", false);\n    _defineProperty(_assertThisInitialized(_this), \"loaderType\", LoaderType.FETCH);\n    _defineProperty(_assertThisInitialized(_this), \"startTime\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"endTime\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"options\", {});\n    _this.url = url;\n    _this.request = request;\n    _this.response = response;\n    return _this;\n  }\n  return _createClass(NetError2);\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nexport { NetError };\n","import { typeof as _typeof } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar toString = Object.prototype.toString;\nfunction isObject(a) {\n  return a !== null && _typeof(a) === \"object\";\n}\nfunction isPlainObject(val) {\n  if (toString.call(val) !== \"[object Object]\") {\n    return false;\n  }\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\nfunction isDate(a) {\n  return toString.call(a) === \"[object Date]\";\n}\nexport { isDate, isObject, isPlainObject };\n","import { isDate, isObject } from \"../is.js\";\nfunction getRangeValue(value) {\n  if (!value || value[0] === null || value[0] === void 0 || value[0] === 0 && (value[1] === null || value[1] === void 0)) {\n    return;\n  }\n  var ret = \"bytes=\" + value[0] + \"-\";\n  if (value[1])\n    ret += value[1];\n  return ret;\n}\nfunction encode(val) {\n  return encodeURIComponent(val).replace(/%3A/gi, \":\").replace(/%24/g, \"$\").replace(/%2C/gi, \",\").replace(/%20/g, \"+\").replace(/%5B/gi, \"[\").replace(/%5D/gi, \"]\");\n}\nfunction setUrlParams(url, params) {\n  if (!url)\n    return;\n  if (!params)\n    return url;\n  var v;\n  var str = Object.keys(params).map(function(k) {\n    v = params[k];\n    if (v === null || v === void 0)\n      return;\n    if (Array.isArray(v)) {\n      k = k + \"[]\";\n    } else {\n      v = [v];\n    }\n    return v.map(function(x) {\n      if (isDate(x)) {\n        x = x.toISOString();\n      } else if (isObject(x)) {\n        x = JSON.stringify(x);\n      }\n      return \"\".concat(encode(k), \"=\").concat(encode(x));\n    }).join(\"&\");\n  }).filter(Boolean).join(\"&\");\n  if (str) {\n    var hashIndex = url.indexOf(\"#\");\n    if (hashIndex !== -1) {\n      url = url.slice(0, hashIndex);\n    }\n    url += (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + str;\n  }\n  return url;\n}\nfunction createResponse(data, done, response, contentLength, age, startTime, firstByteTime, index, range, vid, priOptions) {\n  age = age !== null && age !== void 0 ? parseFloat(age) : null;\n  contentLength = parseInt(contentLength || \"0\", 10);\n  if (Number.isNaN(contentLength))\n    contentLength = 0;\n  var options = {\n    range,\n    vid,\n    index,\n    contentLength,\n    age,\n    startTime,\n    firstByteTime,\n    endTime: Date.now(),\n    priOptions\n  };\n  return {\n    data,\n    done,\n    options,\n    response\n  };\n}\nfunction calculateSpeed(byteLen, milliSecond) {\n  return Math.round(byteLen * 8 * 1e3 / milliSecond / 1024);\n}\nexport { calculateSpeed, createResponse, getRangeValue, setUrlParams };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NetError } from \"./error.js\";\nimport { setUrlParams, getRangeValue, createResponse, calculateSpeed } from \"./helper.js\";\nimport { ResponseType } from \"./types.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar CACHESIZE = 2 * 1024 * 1024;\nvar FetchLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(FetchLoader2, _EventEmitter);\n  var _super = _createSuper(FetchLoader2);\n  function FetchLoader2() {\n    var _this;\n    _classCallCheck(this, FetchLoader2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"_abortController\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_timeoutTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_reader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_response\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_aborted\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_index\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_range\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_receivedLength\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_running\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_logger\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_vid\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_onProcessMinLen\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_onCancel\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_priOptions\", null);\n    return _this;\n  }\n  _createClass(FetchLoader2, [{\n    key: \"load\",\n    value: function load(_ref) {\n      var _this$_abortControlle, _this2 = this;\n      var url = _ref.url, vid = _ref.vid, timeout = _ref.timeout, responseType = _ref.responseType, onProgress = _ref.onProgress, index = _ref.index, onTimeout = _ref.onTimeout, onCancel = _ref.onCancel, range = _ref.range, transformResponse = _ref.transformResponse, request = _ref.request, params = _ref.params, logger = _ref.logger, method = _ref.method, headers = _ref.headers, body = _ref.body, mode = _ref.mode, credentials = _ref.credentials, cache = _ref.cache, redirect = _ref.redirect, referrer = _ref.referrer, referrerPolicy = _ref.referrerPolicy, onProcessMinLen = _ref.onProcessMinLen, priOptions = _ref.priOptions;\n      this._logger = logger;\n      this._aborted = false;\n      this._onProcessMinLen = onProcessMinLen;\n      this._onCancel = onCancel;\n      this._abortController = typeof AbortController !== \"undefined\" && new AbortController();\n      this._running = true;\n      this._index = index;\n      this._range = range || [0, 0];\n      this._vid = vid || url;\n      this._priOptions = priOptions || {};\n      var init = {\n        method,\n        headers,\n        body,\n        mode,\n        credentials,\n        cache,\n        redirect,\n        referrer,\n        referrerPolicy,\n        signal: (_this$_abortControlle = this._abortController) === null || _this$_abortControlle === void 0 ? void 0 : _this$_abortControlle.signal\n      };\n      var isTimeout = false;\n      clearTimeout(this._timeoutTimer);\n      url = setUrlParams(url, params);\n      var rangeValue = getRangeValue(range);\n      if (rangeValue) {\n        if (request) {\n          headers = request.headers;\n        } else {\n          headers = init.headers = init.headers || (Headers ? new Headers() : {});\n        }\n        if (Headers && headers instanceof Headers) {\n          headers.append(\"Range\", rangeValue);\n        } else {\n          headers.Range = rangeValue;\n        }\n      }\n      if (timeout) {\n        this._timeoutTimer = setTimeout(function() {\n          isTimeout = true;\n          _this2.cancel();\n          if (onTimeout) {\n            var error = new NetError(url, init, null, \"timeout\");\n            error.isTimeout = true;\n            onTimeout(error, {\n              index: _this2._index,\n              range: _this2._range,\n              vid: _this2._vid,\n              priOptions: _this2._priOptions\n            });\n          }\n        }, timeout);\n      }\n      var startTime = Date.now();\n      this._logger.debug(\"[fetch load start], index,\", index, \",range,\", range);\n      return new Promise(function(resolve, reject) {\n        fetch(request || url, request ? void 0 : init).then(/* @__PURE__ */ function() {\n          var _ref2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(response) {\n            var firstByteTime, data, costTime, speed;\n            return _regeneratorRuntime().wrap(function _callee$(_context) {\n              while (1)\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    clearTimeout(_this2._timeoutTimer);\n                    _this2._response = response;\n                    if (!(_this2._aborted || !_this2._running)) {\n                      _context.next = 4;\n                      break;\n                    }\n                    return _context.abrupt(\"return\");\n                  case 4:\n                    if (transformResponse) {\n                      response = transformResponse(response, url) || response;\n                    }\n                    if (response.ok) {\n                      _context.next = 7;\n                      break;\n                    }\n                    throw new NetError(url, init, response, \"bad network response\");\n                  case 7:\n                    firstByteTime = Date.now();\n                    if (!(responseType === ResponseType.TEXT)) {\n                      _context.next = 15;\n                      break;\n                    }\n                    _context.next = 11;\n                    return response.text();\n                  case 11:\n                    data = _context.sent;\n                    _this2._running = false;\n                    _context.next = 37;\n                    break;\n                  case 15:\n                    if (!(responseType === ResponseType.JSON)) {\n                      _context.next = 22;\n                      break;\n                    }\n                    _context.next = 18;\n                    return response.json();\n                  case 18:\n                    data = _context.sent;\n                    _this2._running = false;\n                    _context.next = 37;\n                    break;\n                  case 22:\n                    if (!onProgress) {\n                      _context.next = 29;\n                      break;\n                    }\n                    _this2.resolve = resolve;\n                    _this2.reject = reject;\n                    _this2._loadChunk(response, onProgress, startTime, firstByteTime);\n                    return _context.abrupt(\"return\");\n                  case 29:\n                    _context.next = 31;\n                    return response.arrayBuffer();\n                  case 31:\n                    data = _context.sent;\n                    data = new Uint8Array(data);\n                    _this2._running = false;\n                    costTime = Date.now() - startTime;\n                    speed = calculateSpeed(data.byteLength, costTime);\n                    _this2.emit(EVENT.REAL_TIME_SPEED, {\n                      speed,\n                      len: data.byteLength,\n                      time: costTime,\n                      vid: _this2._vid,\n                      index: _this2._index,\n                      range: _this2._range,\n                      priOptions: _this2._priOptions\n                    });\n                  case 37:\n                    _this2._logger.debug(\"[fetch load end], index,\", index, \",range,\", range);\n                    resolve(createResponse(data, true, response, response.headers.get(\"Content-Length\"), response.headers.get(\"age\"), startTime, firstByteTime, index, range, _this2._vid, _this2._priOptions));\n                  case 39:\n                  case \"end\":\n                    return _context.stop();\n                }\n            }, _callee);\n          }));\n          return function(_x) {\n            return _ref2.apply(this, arguments);\n          };\n        }()).catch(function(error) {\n          var _error;\n          clearTimeout(_this2._timeoutTimer);\n          _this2._running = false;\n          if (_this2._aborted && !isTimeout)\n            return;\n          error = error instanceof NetError ? error : new NetError(url, init, null, (_error = error) === null || _error === void 0 ? void 0 : _error.message);\n          error.startTime = startTime;\n          error.endTime = Date.now();\n          error.isTimeout = isTimeout;\n          error.options = {\n            index: _this2._index,\n            range: _this2._range,\n            vid: _this2._vid,\n            priOptions: _this2._priOptions\n          };\n          reject(error);\n        });\n      });\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this._aborted) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 2:\n                this._aborted = true;\n                this._running = false;\n                if (!this._response) {\n                  _context2.next = 14;\n                  break;\n                }\n                _context2.prev = 5;\n                if (!this._reader) {\n                  _context2.next = 9;\n                  break;\n                }\n                _context2.next = 9;\n                return this._reader.cancel();\n              case 9:\n                _context2.next = 13;\n                break;\n              case 11:\n                _context2.prev = 11;\n                _context2.t0 = _context2[\"catch\"](5);\n              case 13:\n                this._response = this._reader = null;\n              case 14:\n                if (this._abortController) {\n                  try {\n                    this._abortController.abort();\n                  } catch (error) {\n                  }\n                  this._abortController = null;\n                }\n                if (this._onCancel) {\n                  this._onCancel({\n                    index: this._index,\n                    range: this._range,\n                    vid: this._vid,\n                    priOptions: this._priOptions\n                  });\n                }\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this, [[5, 11]]);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"_loadChunk\",\n    value: function _loadChunk(response, onProgress, st, firstByteTime) {\n      var _this3 = this;\n      if (!response.body || !response.body.getReader) {\n        this._running = false;\n        var err = new NetError(response.url, \"\", response, \"onProgress of bad response.body.getReader\");\n        err.options = {\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        this.reject(err);\n        return;\n      }\n      if (this._onProcessMinLen > 0) {\n        this._cache = new Uint8Array(CACHESIZE);\n        this._writeIdx = 0;\n      }\n      var reader = this._reader = response.body.getReader();\n      var data;\n      var startTime;\n      var endTime;\n      var pump = /* @__PURE__ */ function() {\n        var _ref3 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n          var _this3$_range;\n          var startRange, startByte, curLen, retData, temp, costTime, speed;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1)\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  startTime = Date.now();\n                  _context3.prev = 1;\n                  _context3.next = 4;\n                  return reader.read();\n                case 4:\n                  data = _context3.sent;\n                  endTime = Date.now();\n                  _context3.next = 13;\n                  break;\n                case 8:\n                  _context3.prev = 8;\n                  _context3.t0 = _context3[\"catch\"](1);\n                  endTime = Date.now();\n                  if (!_this3._aborted) {\n                    _this3._running = false;\n                    _context3.t0.options = {\n                      index: _this3._index,\n                      range: _this3._range,\n                      vid: _this3._vid,\n                      priOptions: _this3._priOptions\n                    };\n                    _this3.reject(_context3.t0);\n                  }\n                  return _context3.abrupt(\"return\");\n                case 13:\n                  startRange = ((_this3$_range = _this3._range) === null || _this3$_range === void 0 ? void 0 : _this3$_range.length) > 0 ? _this3._range[0] : 0;\n                  startByte = startRange + _this3._receivedLength;\n                  if (!_this3._aborted) {\n                    _context3.next = 19;\n                    break;\n                  }\n                  _this3._running = false;\n                  onProgress(void 0, false, {\n                    range: [startByte, startByte],\n                    vid: _this3._vid,\n                    index: _this3._index,\n                    startTime,\n                    endTime,\n                    st,\n                    firstByteTime,\n                    priOptions: _this3._priOptions\n                  }, response);\n                  return _context3.abrupt(\"return\");\n                case 19:\n                  curLen = data.value ? data.value.byteLength : 0;\n                  _this3._receivedLength += curLen;\n                  _this3._logger.debug(\"\\u3010fetchLoader,onProgress call\\u3011,task,\", _this3._range, \", start,\", startByte, \", end,\", startRange + _this3._receivedLength, \", done,\", data.done);\n                  if (_this3._onProcessMinLen > 0) {\n                    if (_this3._writeIdx + curLen >= _this3._onProcessMinLen || data.done) {\n                      retData = new Uint8Array(_this3._writeIdx + curLen);\n                      retData.set(_this3._cache.slice(0, _this3._writeIdx), 0);\n                      curLen > 0 && retData.set(data.value, _this3._writeIdx);\n                      _this3._writeIdx = 0;\n                      _this3._logger.debug(\"\\u3010fetchLoader,onProgress enough\\u3011,done,\", data.done, \",len,\", retData.byteLength, \", writeIdx,\", _this3._writeIdx);\n                    } else {\n                      if (curLen > 0 && _this3._writeIdx + curLen < CACHESIZE) {\n                        _this3._cache.set(data.value, _this3._writeIdx);\n                        _this3._writeIdx += curLen;\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress cache\\u3011,len,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                      } else if (curLen > 0) {\n                        temp = new Uint8Array(_this3._writeIdx + curLen + 2048);\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress extra start\\u3011,size,\", _this3._writeIdx + curLen + 2048, \", datalen,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                        temp.set(_this3._cache.slice(0, _this3._writeIdx), 0);\n                        curLen > 0 && temp.set(data.value, _this3._writeIdx);\n                        _this3._writeIdx += curLen;\n                        delete _this3._cache;\n                        _this3._cache = temp;\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress extra end\\u3011,len,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                      }\n                    }\n                  } else {\n                    retData = data.value;\n                  }\n                  if (retData && retData.byteLength > 0 || data.done) {\n                    onProgress(retData, data.done, {\n                      range: [_this3._range[0] + _this3._receivedLength - (retData ? retData.byteLength : 0), _this3._range[0] + _this3._receivedLength],\n                      vid: _this3._vid,\n                      index: _this3._index,\n                      startTime,\n                      endTime,\n                      st,\n                      firstByteTime,\n                      priOptions: _this3._priOptions\n                    }, response);\n                  }\n                  if (!data.done) {\n                    pump();\n                  } else {\n                    costTime = Date.now() - st;\n                    speed = calculateSpeed(_this3._receivedLength, costTime);\n                    _this3.emit(EVENT.REAL_TIME_SPEED, {\n                      speed,\n                      len: _this3._receivedLength,\n                      time: costTime,\n                      vid: _this3._vid,\n                      index: _this3._index,\n                      range: _this3._range,\n                      priOptions: _this3._priOptions\n                    });\n                    _this3._running = false;\n                    _this3._logger.debug(\"[fetchLoader onProgress end],task,\", _this3._range, \",done,\", data.done);\n                    _this3.resolve(createResponse(data, true, response, response.headers.get(\"Content-Length\"), response.headers.get(\"age\"), st, firstByteTime, _this3._index, _this3._range, _this3._vid, _this3._priOptions));\n                  }\n                case 25:\n                case \"end\":\n                  return _context3.stop();\n              }\n          }, _callee3, null, [[1, 8]]);\n        }));\n        return function pump2() {\n          return _ref3.apply(this, arguments);\n        };\n      }();\n      pump();\n    }\n  }, {\n    key: \"receiveLen\",\n    get: function get() {\n      return this._receivedLength;\n    }\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._running;\n    },\n    set: function set(status) {\n      this._running = status;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return !!(typeof fetch !== \"undefined\");\n    }\n  }]);\n  return FetchLoader2;\n}(EventEmitter);\nexport { FetchLoader };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { LoaderType, ResponseType } from \"./types.js\";\nfunction getConfig(cfg) {\n  return _objectSpread2({\n    loaderType: LoaderType.FETCH,\n    retry: 0,\n    retryDelay: 0,\n    timeout: 0,\n    request: null,\n    onTimeout: void 0,\n    onProgress: void 0,\n    onRetryError: void 0,\n    transformRequest: void 0,\n    transformResponse: void 0,\n    transformError: void 0,\n    responseType: ResponseType.TEXT,\n    range: void 0,\n    url: \"\",\n    params: void 0,\n    method: \"GET\",\n    headers: {},\n    body: void 0,\n    mode: void 0,\n    credentials: void 0,\n    cache: void 0,\n    redirect: void 0,\n    referrer: void 0,\n    referrerPolicy: void 0,\n    integrity: void 0,\n    onProcessMinLen: 0\n  }, cfg);\n}\nexport { getConfig };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf, createForOfIteratorHelper as _createForOfIteratorHelper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NetError } from \"./error.js\";\nimport { setUrlParams, getRangeValue, calculateSpeed, createResponse } from \"./helper.js\";\nimport { ResponseType } from \"./types.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar XhrLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(XhrLoader2, _EventEmitter);\n  var _super = _createSuper(XhrLoader2);\n  function XhrLoader2() {\n    var _this;\n    _classCallCheck(this, XhrLoader2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"_xhr\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_aborted\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_timeoutTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_range\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_receivedLength\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_url\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_onProgress\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_index\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_headers\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_currentChunkSizeKB\", 384);\n    _defineProperty(_assertThisInitialized(_this), \"_timeout\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_xhr\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_withCredentials\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_startTime\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_loadCompleteResolve\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_loadCompleteReject\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_runing\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_logger\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_vid\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_responseType\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_credentials\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_method\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_transformResponse\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_firstRtt\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_onCancel\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_priOptions\", null);\n    return _this;\n  }\n  _createClass(XhrLoader2, [{\n    key: \"load\",\n    value: function load(req) {\n      var _this2 = this;\n      clearTimeout(this._timeoutTimer);\n      this._logger = req.logger;\n      this._range = req.range;\n      this._onProgress = req.onProgress;\n      this._index = req.index;\n      this._headers = req.headers;\n      this._withCredentials = req.credentials === \"include\" || req.credentials === \"same-origin\";\n      this._body = req.body || null;\n      req.method && (this._method = req.method);\n      this._timeout = req.timeout || null;\n      this._runing = true;\n      this._vid = req.vid || req.url;\n      this._responseType = req.responseType;\n      this._firstRtt = -1;\n      this._onTimeout = req.onTimeout;\n      this._onCancel = req.onCancel;\n      this._request = req.request;\n      this._priOptions = req.priOptions || {};\n      this._logger.debug(\"\\u3010xhrLoader task\\u3011, range\", this._range);\n      this._url = setUrlParams(req.url, req.params);\n      var startTime = Date.now();\n      return new Promise(function(resolve, reject) {\n        _this2._loadCompleteResolve = resolve;\n        _this2._loadCompleteReject = reject;\n        _this2._startLoad();\n      }).catch(function(error) {\n        clearTimeout(_this2._timeoutTimer);\n        _this2._runing = false;\n        if (_this2._aborted)\n          return;\n        error = error instanceof NetError ? error : new NetError(_this2._url, _this2._request);\n        error.startTime = startTime;\n        error.endTime = Date.now();\n        error.options = {\n          index: _this2._index,\n          vid: _this2._vid,\n          priOptions: _this2._priOptions\n        };\n        throw error;\n      });\n    }\n  }, {\n    key: \"_startLoad\",\n    value: function _startLoad() {\n      var range = null;\n      if (this._responseType === ResponseType.ARRAY_BUFFER && this._range && this._range.length > 1) {\n        if (this._onProgress) {\n          this._firstRtt = -1;\n          var chunkSize = this._currentChunkSizeKB * 1024;\n          var from = this._range[0] + this._receivedLength;\n          var to = this._range[1];\n          if (chunkSize < this._range[1] - from) {\n            to = from + chunkSize;\n          }\n          range = [from, to];\n          this._logger.debug(\"[xhr_loader->],tast :\", this._range, \", SubRange, \", range);\n        } else {\n          range = this._range;\n          this._logger.debug(\"[xhr_loader->],tast :\", this._range, \", allRange, \", range);\n        }\n      }\n      this._internalOpen(range);\n    }\n  }, {\n    key: \"_internalOpen\",\n    value: function _internalOpen(range) {\n      var _this3 = this;\n      try {\n        this._startTime = Date.now();\n        var xhr = this._xhr = new XMLHttpRequest();\n        xhr.open(this._method || \"GET\", this._url, true);\n        xhr.responseType = this._responseType;\n        this._timeout && (xhr.timeout = this._timeout);\n        xhr.withCredentials = this._withCredentials;\n        xhr.onload = this._onLoad.bind(this);\n        xhr.onreadystatechange = this._onReadyStatechange.bind(this);\n        xhr.onerror = function(errorEvent) {\n          var _errorEvent$currentTa, _errorEvent$currentTa2, _errorEvent$currentTa3;\n          _this3._running = false;\n          var error = new NetError(_this3._url, _this3._request, errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa = errorEvent.currentTarget) === null || _errorEvent$currentTa === void 0 ? void 0 : _errorEvent$currentTa.response, \"xhr.onerror.status:\" + (errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa2 = errorEvent.currentTarget) === null || _errorEvent$currentTa2 === void 0 ? void 0 : _errorEvent$currentTa2.status) + \",statusText,\" + (errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa3 = errorEvent.currentTarget) === null || _errorEvent$currentTa3 === void 0 ? void 0 : _errorEvent$currentTa3.statusText));\n          error.options = {\n            index: _this3._index,\n            range: _this3._range,\n            vid: _this3._vid,\n            priOptions: _this3._priOptions\n          };\n          _this3._loadCompleteReject(error);\n        };\n        xhr.ontimeout = function(event) {\n          _this3.cancel();\n          var error = new NetError(_this3._url, _this3._request, {\n            status: 408\n          }, \"timeout\");\n          if (_this3._onTimeout) {\n            error.isTimeout = true;\n            _this3._onTimeout(error, {\n              index: _this3._index,\n              range: _this3._range,\n              vid: _this3._vid,\n              priOptions: _this3._priOptions\n            });\n          }\n          error.options = {\n            index: _this3._index,\n            range: _this3._range,\n            vid: _this3._vid,\n            priOptions: _this3._priOptions\n          };\n          _this3._loadCompleteReject(error);\n        };\n        var headers = this._headers || {};\n        var rangeValue = getRangeValue(range);\n        if (rangeValue) {\n          headers.Range = rangeValue;\n        }\n        if (headers) {\n          Object.keys(headers).forEach(function(k) {\n            xhr.setRequestHeader(k, headers[k]);\n          });\n        }\n        this._logger.debug(\"[xhr.send->] tast,\", this._range, \",load sub range, \", range);\n        xhr.send(this._body);\n      } catch (e) {\n        e.options = {\n          index: this._index,\n          range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        this._loadCompleteReject(e);\n      }\n    }\n  }, {\n    key: \"_onReadyStatechange\",\n    value: function _onReadyStatechange(e) {\n      var xhr = e.target;\n      if (xhr.readyState === 2) {\n        this._firstRtt < 0 && (this._firstRtt = Date.now());\n      }\n    }\n  }, {\n    key: \"_onLoad\",\n    value: function _onLoad(e) {\n      var _this$_range;\n      var status = e.target.status;\n      if (status < 200 || status > 299) {\n        var error = new NetError(this._url, null, _objectSpread2(_objectSpread2({}, e.target.response), {}, {\n          status\n        }), \"bad response,status:\" + status);\n        error.options = {\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        return this._loadCompleteReject(error);\n      }\n      var data = null;\n      var done = false;\n      var byteStart;\n      var startRange = ((_this$_range = this._range) === null || _this$_range === void 0 ? void 0 : _this$_range.length) > 0 ? this._range[0] : 0;\n      if (this._responseType === ResponseType.ARRAY_BUFFER) {\n        var _this$_range2;\n        var chunk = new Uint8Array(e.target.response);\n        byteStart = startRange + this._receivedLength;\n        if (chunk && chunk.byteLength > 0) {\n          this._receivedLength += chunk.byteLength;\n          var costTime = Date.now() - this._startTime;\n          var speed = calculateSpeed(this._receivedLength, costTime);\n          this.emit(EVENT.REAL_TIME_SPEED, {\n            speed,\n            len: this._receivedLength,\n            time: costTime,\n            vid: this._vid,\n            index: this._index,\n            range: [byteStart, startRange + this._receivedLength],\n            priOptions: this._priOptions\n          });\n        }\n        data = chunk;\n        if (((_this$_range2 = this._range) === null || _this$_range2 === void 0 ? void 0 : _this$_range2.length) > 1 && this._range[1] && this._receivedLength < this._range[1] - this._range[0]) {\n          done = false;\n        } else {\n          done = true;\n        }\n        this._logger.debug(\"[xhr load done->], tast :\", this._range, \", start\", byteStart, \"end \", startRange + this._receivedLength, \",dataLen,\", chunk ? chunk.byteLength : 0, \",receivedLength\", this._receivedLength, \",index,\", this._index, \", done,\", done);\n      } else {\n        done = true;\n        data = e.target.response;\n      }\n      var response = {\n        ok: status >= 200 && status < 300,\n        status,\n        statusText: this._xhr.statusText,\n        url: this._xhr.responseURL,\n        headers: this._getHeaders(this._xhr),\n        body: this._xhr.response\n      };\n      if (this._transformResponse) {\n        response = this._transformResponse(response, this._url) || response;\n      }\n      if (this._onProgress) {\n        this._onProgress(data, done, {\n          index: this._index,\n          vid: this._vid,\n          range: [byteStart, startRange + this._receivedLength],\n          startTime: this._startTime,\n          endTime: Date.now(),\n          priOptions: this._priOptions\n        }, response);\n      }\n      if (!done) {\n        this._startLoad();\n      } else {\n        this._runing = false;\n        this._loadCompleteResolve && this._loadCompleteResolve(createResponse(this._onProgress ? null : data, done, response, response.headers[\"content-length\"], response.headers.age, this._startTime, this._firstRtt, this._index, this._range, this._vid, this._priOptions));\n      }\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      if (this._aborted)\n        return;\n      this._aborted = true;\n      this._runing = false;\n      _get(_getPrototypeOf(XhrLoader2.prototype), \"removeAllListeners\", this).call(this);\n      if (this._onCancel) {\n        this._onCancel({\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        });\n      }\n      if (this._xhr) {\n        return this._xhr.abort();\n      }\n    }\n  }, {\n    key: \"receiveLen\",\n    get: function get() {\n      return this._receivedLength;\n    }\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._running;\n    },\n    set: function set(status) {\n      this._running = status;\n    }\n  }, {\n    key: \"_getHeaders\",\n    value: function _getHeaders(xhr) {\n      var headerLines = xhr.getAllResponseHeaders().trim().split(\"\\r\\n\");\n      var headers = {};\n      var _iterator = _createForOfIteratorHelper(headerLines), _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done; ) {\n          var header = _step.value;\n          var parts = header.split(\": \");\n          headers[parts[0].toLowerCase()] = parts.slice(1).join(\": \");\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return headers;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return typeof XMLHttpRequest !== \"undefined\";\n    }\n  }]);\n  return XhrLoader2;\n}(EventEmitter);\nexport { XhrLoader };\n","import { createClass as _createClass, objectWithoutProperties as _objectWithoutProperties, classCallCheck as _classCallCheck, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { FetchLoader } from \"./fetch.js\";\nimport { XhrLoader } from \"./xhr.js\";\nimport { LoaderType } from \"./types.js\";\nimport { createPublicPromise } from \"../utils.js\";\nimport { Logger } from \"../logger.js\";\nvar _excluded = [\"retry\", \"retryDelay\", \"onRetryError\", \"transformError\"];\nvar Task = /* @__PURE__ */ function() {\n  function Task2(type, config) {\n    _classCallCheck(this, Task2);\n    this.promise = createPublicPromise();\n    this.alive = !!config.onProgress;\n    !config.logger && (config.logger = new Logger(\"Loader\"));\n    this._loaderType = type;\n    this._loader = type === LoaderType.FETCH && typeof fetch !== \"undefined\" ? new FetchLoader() : new XhrLoader();\n    this._config = config;\n    this._retryCount = 0;\n    this._retryTimer = null;\n    this._canceled = false;\n    this._retryCheckFunc = config.retryCheckFunc;\n    this._logger = config.logger;\n  }\n  _createClass(Task2, [{\n    key: \"exec\",\n    value: function exec() {\n      var _this = this;\n      var _this$_config = this._config, retry = _this$_config.retry, retryDelay = _this$_config.retryDelay, onRetryError = _this$_config.onRetryError, transformError = _this$_config.transformError, rest = _objectWithoutProperties(_this$_config, _excluded);\n      var request = /* @__PURE__ */ function() {\n        var _ref = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n          var response, error, isRetry;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1)\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.prev = 0;\n                  _context.next = 3;\n                  return _this._loader.load(rest);\n                case 3:\n                  response = _context.sent;\n                  _this.promise.resolve(response);\n                  _context.next = 27;\n                  break;\n                case 7:\n                  _context.prev = 7;\n                  _context.t0 = _context[\"catch\"](0);\n                  _this._loader.running = false;\n                  _this._logger.debug(\"[task request catch err]\", _context.t0);\n                  if (!_this._canceled) {\n                    _context.next = 13;\n                    break;\n                  }\n                  return _context.abrupt(\"return\");\n                case 13:\n                  _context.t0.loaderType = _this._loaderType;\n                  _context.t0.retryCount = _this._retryCount;\n                  error = _context.t0;\n                  if (transformError) {\n                    error = transformError(error) || error;\n                  }\n                  if (onRetryError && _this._retryCount > 0)\n                    onRetryError(error, _this._retryCount, {\n                      index: rest.index,\n                      vid: rest.vid,\n                      range: rest.range,\n                      priOptions: rest.priOptions\n                    });\n                  _this._retryCount++;\n                  isRetry = true;\n                  if (_this._retryCheckFunc) {\n                    isRetry = _this._retryCheckFunc(_context.t0);\n                  }\n                  if (!(isRetry && _this._retryCount <= retry)) {\n                    _context.next = 26;\n                    break;\n                  }\n                  clearTimeout(_this._retryTimer);\n                  _this._logger.debug(\"[task request setTimeout],retry\", _this._retryCount, \",retry range,\", rest.range);\n                  _this._retryTimer = setTimeout(request, retryDelay);\n                  return _context.abrupt(\"return\");\n                case 26:\n                  _this.promise.reject(error);\n                case 27:\n                case \"end\":\n                  return _context.stop();\n              }\n          }, _callee, null, [[0, 7]]);\n        }));\n        return function request2() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      request();\n      return this.promise;\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                clearTimeout(this._retryTimer);\n                this._canceled = true;\n                this._loader.running = false;\n                return _context2.abrupt(\"return\", this._loader.cancel());\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._loader && this._loader.running;\n    }\n  }, {\n    key: \"loader\",\n    get: function get() {\n      return this._loader;\n    }\n  }]);\n  return Task2;\n}();\nexport { Task };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { FetchLoader } from \"./fetch.js\";\nimport { LoaderType } from \"./types.js\";\nexport { LoaderType, ResponseType } from \"./types.js\";\nimport { getConfig } from \"./config.js\";\nimport { Task } from \"./task.js\";\nimport { isPlainObject } from \"../is.js\";\nimport { sleep } from \"../streaming-helper.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar NetLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(NetLoader2, _EventEmitter);\n  var _super = _createSuper(NetLoader2);\n  function NetLoader2(cfg) {\n    var _this;\n    _classCallCheck(this, NetLoader2);\n    _this = _super.call(this, cfg);\n    _defineProperty(_assertThisInitialized(_this), \"type\", LoaderType.FETCH);\n    _defineProperty(_assertThisInitialized(_this), \"_queue\", []);\n    _defineProperty(_assertThisInitialized(_this), \"_alive\", []);\n    _defineProperty(_assertThisInitialized(_this), \"_currentTask\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_finnalUrl\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_config\", void 0);\n    _this._config = getConfig(cfg);\n    if (_this._config.loaderType === LoaderType.XHR || !FetchLoader.isSupported()) {\n      _this.type = LoaderType.XHR;\n    }\n    _this.log = cfg.logger;\n    return _this;\n  }\n  _createClass(NetLoader2, [{\n    key: \"isFetch\",\n    value: function isFetch() {\n      return this.type === LoaderType.FETCH;\n    }\n  }, {\n    key: \"load\",\n    value: function load(url) {\n      var _this2 = this;\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (typeof url === \"string\" || !url) {\n        config.url = url || config.url || this._config.url;\n      } else {\n        config = url;\n      }\n      config = Object.assign({}, this._config, config);\n      if (config.params)\n        config.params = Object.assign({}, config.params);\n      if (config.headers && isPlainObject(config.headers))\n        config.headers = Object.assign({}, config.headers);\n      if (config.body && isPlainObject(config.body))\n        config.body = Object.assign({}, config.body);\n      if (config.transformRequest) {\n        config = config.transformRequest(config) || config;\n      }\n      config.logger = this.log;\n      var task = new Task(this.type, config);\n      task.loader.on(EVENT.REAL_TIME_SPEED, function(data) {\n        _this2.emit(EVENT.REAL_TIME_SPEED, data);\n      });\n      this._queue.push(task);\n      if (this._queue.length === 1 && (!this._currentTask || !this._currentTask.running)) {\n        this._processTask();\n      }\n      return task.promise;\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n        var cancels;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                cancels = this._queue.map(function(t) {\n                  return t.cancel();\n                }).concat(this._alive.map(function(t) {\n                  return t.cancel();\n                }));\n                if (this._currentTask) {\n                  cancels.push(this._currentTask.cancel());\n                }\n                this._queue = [];\n                this._alive = [];\n                _context.next = 6;\n                return Promise.all(cancels);\n              case 6:\n                _context.next = 8;\n                return sleep();\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"_processTask\",\n    value: function _processTask() {\n      var _this3 = this;\n      this._currentTask = this._queue.shift();\n      if (!this._currentTask)\n        return;\n      if (this._currentTask.alive) {\n        this._alive.push(this._currentTask);\n      }\n      var req = this._currentTask.exec().catch(function(e) {\n      });\n      if (!(req && typeof req.finally === \"function\"))\n        return;\n      req.finally(function() {\n        var _this3$_currentTask, _this3$_alive;\n        if ((_this3$_currentTask = _this3._currentTask) !== null && _this3$_currentTask !== void 0 && _this3$_currentTask.alive && ((_this3$_alive = _this3._alive) === null || _this3$_alive === void 0 ? void 0 : _this3$_alive.length) > 0) {\n          _this3._alive = _this3._alive.filter(function(task) {\n            return task && task !== _this3._currentTask;\n          });\n        }\n        _this3._processTask();\n      });\n    }\n  }], [{\n    key: \"isFetchSupport\",\n    value: function isFetchSupport() {\n      return FetchLoader.isSupported();\n    }\n  }]);\n  return NetLoader2;\n}(EventEmitter);\nexport { NetLoader };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, assertThisInitialized as _assertThisInitialized } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nvar MasterPlaylist = /* @__PURE__ */ _createClass(function MasterPlaylist2() {\n  _classCallCheck(this, MasterPlaylist2);\n  _defineProperty(this, \"version\", 0);\n  _defineProperty(this, \"streams\", []);\n  _defineProperty(this, \"isMaster\", true);\n});\nvar MediaType = {\n  Audio: \"AUDIO\",\n  Video: \"VIDEO\",\n  SubTitle: \"SUBTITLE\",\n  ClosedCaptions: \"CLOSED-CAPTIONS\"\n};\nvar KeySystems = {\n  CLEAR_KEY: \"org.w3.clearkey\",\n  FAIRPLAY: [\"urn:uuid:94ce86fb-07ff-4f43-adb8-93d2fa968ca2\", \"com.apple.streamingkeydelivery\"],\n  WIDEVINE: [\"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed\", \"com.widevine.alpha\", \"com.widevine\"],\n  PLAYREADY: [\"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95\", \"com.microsoft.playready\"]\n};\nfunction flatArray(arr) {\n  var ret = [];\n  for (var i = 0; i < arr.length; i++) {\n    if (Array.isArray(arr[i])) {\n      ret = ret.concat(flatArray(arr[i]));\n    } else {\n      ret.push(arr[i]);\n    }\n  }\n  return ret;\n}\nvar MediaStream = /* @__PURE__ */ _createClass(function MediaStream2() {\n  _classCallCheck(this, MediaStream2);\n  _defineProperty(this, \"id\", 0);\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"default\", false);\n  _defineProperty(this, \"autoSelect\", false);\n  _defineProperty(this, \"forced\", false);\n  _defineProperty(this, \"group\", \"\");\n  _defineProperty(this, \"name\", \"\");\n  _defineProperty(this, \"lang\", \"\");\n  _defineProperty(this, \"segments\", []);\n  _defineProperty(this, \"endSN\", 0);\n});\nvar AudioStream = /* @__PURE__ */ function(_MediaStream) {\n  _inherits(AudioStream2, _MediaStream);\n  var _super = _createSuper(AudioStream2);\n  function AudioStream2() {\n    var _this;\n    _classCallCheck(this, AudioStream2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"mediaType\", MediaType.Audio);\n    _defineProperty(_assertThisInitialized(_this), \"channels\", 0);\n    return _this;\n  }\n  return _createClass(AudioStream2);\n}(MediaStream);\nvar SubTitleStream = /* @__PURE__ */ function(_MediaStream3) {\n  _inherits(SubTitleStream2, _MediaStream3);\n  var _super3 = _createSuper(SubTitleStream2);\n  function SubTitleStream2() {\n    var _this3;\n    _classCallCheck(this, SubTitleStream2);\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    _this3 = _super3.call.apply(_super3, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this3), \"mediaType\", MediaType.SubTitle);\n    return _this3;\n  }\n  return _createClass(SubTitleStream2);\n}(MediaStream);\nvar MasterStream = /* @__PURE__ */ _createClass(function MasterStream2() {\n  _classCallCheck(this, MasterStream2);\n  _defineProperty(this, \"id\", 0);\n  _defineProperty(this, \"bitrate\", 0);\n  _defineProperty(this, \"width\", 0);\n  _defineProperty(this, \"height\", 0);\n  _defineProperty(this, \"name\", \"\");\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"audioCodec\", \"\");\n  _defineProperty(this, \"videoCodec\", \"\");\n  _defineProperty(this, \"textCodec\", \"\");\n  _defineProperty(this, \"audioGroup\", \"\");\n  _defineProperty(this, \"audioStreams\", []);\n  _defineProperty(this, \"subtitleStreams\", []);\n  _defineProperty(this, \"closedCaptionsStream\", []);\n});\nvar MediaPlaylist = /* @__PURE__ */ _createClass(function MediaPlaylist2() {\n  _classCallCheck(this, MediaPlaylist2);\n  _defineProperty(this, \"version\", 0);\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"type\", \"\");\n  _defineProperty(this, \"startCC\", 0);\n  _defineProperty(this, \"endCC\", 0);\n  _defineProperty(this, \"startSN\", 0);\n  _defineProperty(this, \"endSN\", 0);\n  _defineProperty(this, \"totalDuration\", 0);\n  _defineProperty(this, \"targetDuration\", 0);\n  _defineProperty(this, \"partTargetDuration\", 0);\n  _defineProperty(this, \"canSkipUntil\", 0);\n  _defineProperty(this, \"canSkipDateRanges\", false);\n  _defineProperty(this, \"skippedSegments\", 0);\n  _defineProperty(this, \"canBlockReload\", false);\n  _defineProperty(this, \"partHoldBack\", 0);\n  _defineProperty(this, \"live\", true);\n  _defineProperty(this, \"lowLatency\", false);\n  _defineProperty(this, \"endPartIndex\", 0);\n  _defineProperty(this, \"segments\", []);\n  _defineProperty(this, \"dateRanges\", {});\n  _defineProperty(this, \"skippedSegments\", 0);\n});\nvar MediaSegment = /* @__PURE__ */ function() {\n  function MediaSegment2(parentUrl) {\n    _classCallCheck(this, MediaSegment2);\n    _defineProperty(this, \"sn\", 0);\n    _defineProperty(this, \"cc\", 0);\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"parentUrl\", \"\");\n    _defineProperty(this, \"title\", \"\");\n    _defineProperty(this, \"start\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"dataTime\", \"\");\n    _defineProperty(this, \"key\", null);\n    _defineProperty(this, \"byteRange\", null);\n    _defineProperty(this, \"isInitSegment\", false);\n    _defineProperty(this, \"initSegment\", null);\n    _defineProperty(this, \"isLast\", false);\n    _defineProperty(this, \"hasAudio\", false);\n    _defineProperty(this, \"hasVideo\", false);\n    _defineProperty(this, \"independent\", false);\n    _defineProperty(this, \"partIndex\", 0);\n    this.parentUrl = parentUrl;\n  }\n  _createClass(MediaSegment2, [{\n    key: \"end\",\n    get: function get() {\n      return this.start + this.duration;\n    }\n  }, {\n    key: \"setTrackExist\",\n    value: function setTrackExist(v, a) {\n      this.hasVideo = v;\n      this.hasAudio = a;\n    }\n  }, {\n    key: \"setByteRange\",\n    value: function setByteRange(data, prevSegment) {\n      this.byteRange = [0];\n      var bytes = data.split(\"@\");\n      if (bytes.length === 1 && prevSegment && prevSegment.byteRange) {\n        this.byteRange[0] = prevSegment.byteRange[1] || 0;\n        if (this.byteRange[0])\n          this.byteRange[0] += 1;\n      } else {\n        this.byteRange[0] = parseInt(bytes[1]);\n      }\n      this.byteRange[1] = this.byteRange[0] + parseInt(bytes[0]) - 1;\n    }\n  }]);\n  return MediaSegment2;\n}();\nvar MediaSegmentKey = /* @__PURE__ */ function() {\n  function MediaSegmentKey2(segKey) {\n    _classCallCheck(this, MediaSegmentKey2);\n    _defineProperty(this, \"method\", \"\");\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"iv\", null);\n    _defineProperty(this, \"keyFormat\", \"\");\n    _defineProperty(this, \"keyFormatVersions\", \"\");\n    if (segKey instanceof MediaSegmentKey2) {\n      this.method = segKey.method;\n      this.url = segKey.url;\n      this.keyFormat = segKey.keyFormat;\n      this.keyFormatVersions = segKey.keyFormatVersions;\n      if (segKey.iv)\n        this.iv = new Uint8Array(segKey.iv);\n    }\n  }\n  _createClass(MediaSegmentKey2, [{\n    key: \"clone\",\n    value: function clone(sn) {\n      var key = new MediaSegmentKey2(this);\n      if (sn !== null && sn !== void 0)\n        key.setIVFromSN(sn);\n      return key;\n    }\n  }, {\n    key: \"setIVFromSN\",\n    value: function setIVFromSN(sn) {\n      if (!this.iv && this.method === \"AES-128\" && typeof sn === \"number\" && this.url) {\n        this.iv = new Uint8Array(16);\n        for (var i = 12; i < 16; i++) {\n          this.iv[i] = sn >> 8 * (15 - i) & 255;\n        }\n      }\n    }\n  }, {\n    key: \"isSegmentEncrypted\",\n    value: function isSegmentEncrypted() {\n      var method = this.method;\n      return method === \"AES-128\";\n    }\n  }, {\n    key: \"isValidKeySystem\",\n    value: function isValidKeySystem() {\n      var isKeyFormatValid = flatArray([KeySystems.CLEAR_KEY, KeySystems.FAIRPLAY, KeySystems.WIDEVINE, KeySystems.PLAYREADY]).indexOf(this.keyFormat) > -1;\n      if (!isKeyFormatValid) {\n        return false;\n      }\n      var isMethodValid = [\"SAMPLE-AES\", \"SAMPLE-AES-CENC\", \"SAMPLE-AES-CTR\"].indexOf(this.method) > -1;\n      if (!isMethodValid) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"isSupported\",\n    value: function isSupported() {\n      if (!this.method) {\n        return false;\n      }\n      if (this.isSegmentEncrypted()) {\n        return true;\n      } else if (this.isValidKeySystem()) {\n        return true;\n      }\n      return false;\n    }\n  }]);\n  return MediaSegmentKey2;\n}();\nexport { AudioStream, MasterPlaylist, MasterStream, MediaPlaylist, MediaSegment, MediaSegmentKey, MediaStream, SubTitleStream };\n","var REGEXP_TAG = /^#(EXT[^:]*)(?::(.*))?$/;\nvar REGEXP_ATTR = /([^=]+)=(?:\"([^\"]*)\"|([^\",]*))(?:,|$)/g;\nvar REGEXP_ABSOLUTE_URL = /^(?:[a-zA-Z0-9+\\-.]+:)?\\/\\//;\nvar REGEXP_URL_PAIR = /^((?:[a-zA-Z0-9+\\-.]+:)?\\/\\/[^/?#]*)?([^?#]*\\/)?/;\nfunction getLines(text) {\n  return text.split(/[\\r\\n]/).map(function(x) {\n    return x.trim();\n  }).filter(Boolean);\n}\nfunction parseTag(text) {\n  var ret = text.match(REGEXP_TAG);\n  if (!ret || !ret[1])\n    return;\n  return [ret[1].replace(\"EXT-X-\", \"\"), ret[2]];\n}\nfunction parseAttr(text) {\n  var ret = {};\n  var match = REGEXP_ATTR.exec(text);\n  while (match) {\n    ret[match[1]] = match[2] || match[3];\n    match = REGEXP_ATTR.exec(text);\n  }\n  return ret;\n}\nfunction getAbsoluteUrl(url, parentUrl) {\n  if (!parentUrl || !url || REGEXP_ABSOLUTE_URL.test(url))\n    return url;\n  var pairs = REGEXP_URL_PAIR.exec(parentUrl);\n  if (!pairs)\n    return url;\n  if (url[0] === \"/\")\n    return pairs[1] + url;\n  return pairs[1] + pairs[2] + url;\n}\nvar CODECS_REGEXP = {\n  audio: [/^mp4a/, /^vorbis$/, /^opus$/, /^flac$/, /^[ae]c-3$/],\n  video: [/^avc/, /^hev/, /^hvc/, /^vp0?[89]/, /^av1$/],\n  text: [/^vtt$/, /^wvtt/, /^stpp/]\n};\nfunction getCodecs(type, codecs) {\n  var re = CODECS_REGEXP[type];\n  if (!re || !codecs || !codecs.length)\n    return;\n  for (var i = 0; i < re.length; i++) {\n    for (var j = 0; j < codecs.length; j++) {\n      if (re[i].test(codecs[j]))\n        return codecs[j];\n    }\n  }\n}\nfunction isValidDaterange(attr, dateRangeWithSameId) {\n  var _badValueForSameId;\n  if (dateRangeWithSameId) {\n    for (var key in dateRangeWithSameId) {\n      if (Object.prototype.hasOwnProperty.call(dateRangeWithSameId, key) && attr[key] !== dateRangeWithSameId[key]) {\n        _badValueForSameId = key;\n        break;\n      }\n    }\n  }\n  var duration = null;\n  if (attr.DURATION) {\n    duration = parseFloat(attr.DURATION);\n    if (!Number.isFinite(duration)) {\n      duration = null;\n    } else if (attr._endDate) {\n      duration = (attr._endDate.getTime() - attr._startDate.getTime()) / 1e3;\n    }\n  }\n  var cue = enumeratedStringList(attr.CUE || attr[\"X-CUE\"], {\n    pre: false,\n    post: false,\n    once: false\n  });\n  return !!attr.ID && !_badValueForSameId && Number.isFinite(attr._startDate.getTime()) && (duration === null || duration >= 0) && (!(attr.END_ON_NEXT === \"YES\") || !!attr.CLASS) && (!attr.CUE || !cue.pre && !cue.post || cue.pre !== cue.post) && (!(attr.CLASS === \"com.apple.hls.interstitial\") || \"X-ASSET-URI\" in attr || \"X-ASSET-LIST\" in attr);\n}\nfunction enumeratedStringList(attrValue, dict) {\n  return (attrValue ? attrValue.split(/[ ,]+/) : []).reduce(function(result, identifier) {\n    result[identifier.toLowerCase()] = true;\n    return result;\n  }, dict);\n}\nexport { getAbsoluteUrl, getCodecs, getLines, isValidDaterange, parseAttr, parseTag };\n","import { slicedToArray as _slicedToArray } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MasterPlaylist, MediaStream, SubTitleStream, AudioStream, MasterStream } from \"./model.js\";\nimport { parseTag, parseAttr, getAbsoluteUrl, getCodecs } from \"./utils.js\";\nfunction parseMasterPlaylist(lines, parentUrl) {\n  var master = new MasterPlaylist();\n  var index = 0;\n  var line;\n  var audioStreams = [];\n  var subtitleStreams = [];\n  while (line = lines[index++]) {\n    var tag = parseTag(line);\n    if (!tag)\n      continue;\n    var _tag = _slicedToArray(tag, 2), name = _tag[0], data = _tag[1];\n    if (name === \"VERSION\") {\n      master.version = parseInt(data);\n    } else if (name === \"MEDIA\" && data) {\n      var attr = parseAttr(data);\n      var stream = void 0;\n      switch (attr.TYPE) {\n        case \"AUDIO\":\n          stream = new AudioStream();\n          break;\n        case \"SUBTITLES\":\n          stream = new SubTitleStream();\n          break;\n        default:\n          stream = new MediaStream();\n      }\n      stream.url = getAbsoluteUrl(attr.URI, parentUrl);\n      stream.default = attr.DEFAULT === \"YES\";\n      stream.autoSelect = attr.AUTOSELECT === \"YES\";\n      stream.group = attr[\"GROUP-ID\"];\n      stream.name = attr.NAME;\n      stream.lang = attr.LANGUAGE;\n      if (attr.CHANNELS) {\n        stream.channels = Number(attr.CHANNELS.split(\"/\")[0]);\n        if (Number.isNaN(stream.channels))\n          stream.channels = 0;\n      }\n      if (attr.TYPE === \"AUDIO\" && attr.URI) {\n        audioStreams.push(stream);\n      }\n      if (attr.TYPE === \"SUBTITLES\") {\n        subtitleStreams.push(stream);\n      }\n    } else if (name === \"STREAM-INF\" && data) {\n      var _stream = new MasterStream();\n      var _attr = parseAttr(data);\n      _stream.bitrate = parseInt(_attr[\"AVERAGE-BANDWIDTH\"] || _attr.BANDWIDTH);\n      _stream.name = _attr.NAME;\n      _stream.url = getAbsoluteUrl(lines[index++], parentUrl);\n      if (_attr.RESOLUTION) {\n        var _attr$RESOLUTION$spli = _attr.RESOLUTION.split(\"x\"), _attr$RESOLUTION$spli2 = _slicedToArray(_attr$RESOLUTION$spli, 2), w = _attr$RESOLUTION$spli2[0], h = _attr$RESOLUTION$spli2[1];\n        _stream.width = parseInt(w);\n        _stream.height = parseInt(h);\n      }\n      if (_attr.CODECS) {\n        var codecs = _attr.CODECS.split(/[ ,]+/).filter(Boolean);\n        _stream.videoCodec = getCodecs(\"video\", codecs);\n        _stream.audioCodec = getCodecs(\"audio\", codecs);\n        _stream.textCodec = getCodecs(\"text\", codecs);\n      }\n      _stream.audioGroup = _attr.AUDIO;\n      _stream.subtitleGroup = _attr.SUBTITLES;\n      master.streams.push(_stream);\n    }\n  }\n  master.streams.forEach(function(s, i) {\n    s.id = i;\n  });\n  if (audioStreams.length) {\n    audioStreams.forEach(function(s, i) {\n      s.id = i;\n    });\n    master.streams.forEach(function(stream2) {\n      if (stream2.audioGroup) {\n        stream2.audioStreams = audioStreams.filter(function(x) {\n          return x.group === stream2.audioGroup;\n        });\n      }\n    });\n  }\n  if (subtitleStreams.length) {\n    subtitleStreams.forEach(function(s, i) {\n      s.id = i;\n    });\n    master.streams.forEach(function(stream2) {\n      if (stream2.subtitleGroup) {\n        stream2.subtitleStreams = subtitleStreams.filter(function(x) {\n          return x.group === stream2.subtitleGroup;\n        });\n      }\n    });\n  }\n  return master;\n}\nexport { parseMasterPlaylist };\n","import { slicedToArray as _slicedToArray } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MediaPlaylist, MediaSegment, MediaSegmentKey } from \"./model.js\";\nimport { getAbsoluteUrl, parseTag, parseAttr, isValidDaterange } from \"./utils.js\";\nfunction parseMediaPlaylist(lines, parentUrl, useLowLatency) {\n  var media = new MediaPlaylist();\n  media.url = parentUrl;\n  var curSegment = new MediaSegment(parentUrl);\n  var curInitSegment = null;\n  var curKey = null;\n  var totalDuration = 0;\n  var curSN = 0;\n  var curCC = 0;\n  var index = 0;\n  var line;\n  var endOfList = false;\n  var partSegmentIndex = 0;\n  while (line = lines[index++]) {\n    if (line[0] !== \"#\") {\n      if (media.lowLatency) {\n        curSN++;\n        continue;\n      }\n      curSegment.sn = curSN;\n      curSegment.cc = curCC;\n      curSegment.url = getAbsoluteUrl(line, parentUrl);\n      if (curKey)\n        curSegment.key = curKey.clone(curSN);\n      if (curInitSegment)\n        curSegment.initSegment = curInitSegment;\n      media.segments.push(curSegment);\n      curSegment = new MediaSegment(parentUrl);\n      curSN++;\n      continue;\n    }\n    var tag = parseTag(line);\n    if (!tag)\n      continue;\n    var _tag = _slicedToArray(tag, 2), name = _tag[0], data = _tag[1];\n    switch (name) {\n      case \"VERSION\":\n        media.version = parseInt(data);\n        break;\n      case \"PLAYLIST-TYPE\":\n        media.type = data === null || data === void 0 ? void 0 : data.toUpperCase();\n        break;\n      case \"TARGETDURATION\":\n        media.targetDuration = parseFloat(data);\n        break;\n      case \"PART-INF\":\n        {\n          if (useLowLatency) {\n            media.lowLatency = true;\n          }\n          var attr = parseAttr(data);\n          if (attr[\"PART-TARGET\"]) {\n            media.partTargetDuration = parseFloat(attr[\"PART-TARGET\"]);\n          }\n        }\n        break;\n      case \"SERVER-CONTROL\":\n        {\n          var _attr = parseAttr(data);\n          media.canBlockReload = _attr[\"CAN-BLOCK-RELOAD\"] === \"YES\";\n          media.partHoldBack = parseFloat(_attr[\"PART-HOLD-BACK\"] || 0);\n          media.canSkipUntil = parseFloat(_attr[\"CAN-SKIP-UNTIL\"] || 0);\n          media.canSkipDateRanges = _attr[\"CAN-SKIP-DATERANGES\"] === \"YES\";\n        }\n        break;\n      case \"ENDLIST\":\n        {\n          endOfList = true;\n        }\n        break;\n      case \"MEDIA-SEQUENCE\":\n        curSN = media.startSN = parseInt(data);\n        break;\n      case \"DISCONTINUITY-SEQUENCE\":\n        curCC = media.startCC = parseInt(data);\n        break;\n      case \"DISCONTINUITY\":\n        curCC++;\n        break;\n      case \"BYTERANGE\":\n        curSegment.setByteRange(data, media.segments[media.segments.length - 1]);\n        break;\n      case \"PART\":\n        {\n          if (!media.lowLatency)\n            break;\n          var _attr2 = parseAttr(data);\n          curSegment.duration = parseFloat(_attr2[\"DURATION\"]);\n          curSegment.independent = _attr2[\"INDEPENDENT\"] === \"YES\";\n          curSegment.sn = curSN;\n          curSegment.cc = curCC;\n          curSegment.partIndex = partSegmentIndex;\n          curSegment.start = totalDuration;\n          curSegment.duration = parseFloat(_attr2[\"DURATION\"]);\n          totalDuration += curSegment.duration;\n          curSegment.url = getAbsoluteUrl(_attr2[\"URI\"], parentUrl);\n          if (curKey)\n            curSegment.key = curKey.clone(curSN);\n          if (curInitSegment)\n            curSegment.initSegment = curInitSegment;\n          media.segments.push(curSegment);\n          curSegment = new MediaSegment(parentUrl);\n          partSegmentIndex++;\n        }\n        break;\n      case \"PRELOAD-HINT\":\n        break;\n      case \"PROGRAM-DATE-TIME\":\n        curSegment.dataTime = data;\n        break;\n      case \"EXTINF\":\n        {\n          if (media.lowLatency) {\n            partSegmentIndex = 0;\n            break;\n          }\n          var _data$split = data.split(\",\"), _data$split2 = _slicedToArray(_data$split, 2), duration = _data$split2[0], title = _data$split2[1];\n          curSegment.start = totalDuration;\n          curSegment.duration = parseFloat(duration);\n          totalDuration += curSegment.duration;\n          curSegment.title = title;\n        }\n        break;\n      case \"KEY\":\n        {\n          var _attr3 = parseAttr(data);\n          if (_attr3.METHOD === \"NONE\") {\n            curKey = null;\n            break;\n          }\n          curKey = new MediaSegmentKey();\n          curKey.method = _attr3.METHOD;\n          curKey.url = /^blob:/.test(_attr3.URI) ? _attr3.URI : getAbsoluteUrl(_attr3.URI, parentUrl);\n          curKey.keyFormat = _attr3.KEYFORMAT || \"identity\";\n          curKey.keyFormatVersions = _attr3.KEYFORMATVERSIONS;\n          if (!curKey.isSupported()) {\n            throw new Error(\"encrypt \".concat(_attr3.METHOD, \"/\").concat(_attr3.KEYFORMAT, \" is not supported\"));\n          }\n          if (_attr3.IV) {\n            var str = _attr3.IV.slice(2);\n            str = (str.length & 1 ? \"0\" : \"\") + str;\n            curKey.iv = new Uint8Array(str.length / 2);\n            for (var i = 0, l = str.length / 2; i < l; i++) {\n              curKey.iv[i] = parseInt(str.slice(i * 2, i * 2 + 2), 16);\n            }\n          }\n        }\n        break;\n      case \"MAP\":\n        {\n          var _attr4 = parseAttr(data);\n          curSegment.url = getAbsoluteUrl(_attr4.URI, parentUrl);\n          if (_attr4.BYTERANGE)\n            curSegment.setByteRange(_attr4.BYTERANGE);\n          curSegment.isInitSegment = true;\n          curSegment.sn = 0;\n          if (curKey) {\n            curSegment.key = curKey.clone(0);\n          }\n          curInitSegment = curSegment;\n          curSegment = new MediaSegment(parentUrl);\n        }\n        break;\n      case \"SKIP\":\n        {\n          var _attr5 = parseAttr(data);\n          var skippedSegments = parseInt(_attr5[\"SKIPPED-SEGMENTS\"], 10);\n          if (skippedSegments <= Number.MAX_SAFE_INTEGER) {\n            media.skippedSegments += skippedSegments;\n          }\n        }\n        break;\n      case \"DATERANGE\":\n        {\n          var _attr6 = parseAttr(data);\n          var dateRangeWithSameId = media.dateRanges[_attr6.ID];\n          _attr6._startDate = dateRangeWithSameId ? dateRangeWithSameId._startDate : new Date(_attr6[\"START-DATE\"]);\n          var endDate = (dateRangeWithSameId === null || dateRangeWithSameId === void 0 ? void 0 : dateRangeWithSameId._endDate) || new Date(_attr6.END_DATE);\n          if (Number.isFinite(endDate)) {\n            _attr6._endDate = endDate;\n          }\n          if (isValidDaterange(_attr6, dateRangeWithSameId) || media.skippedSegments) {\n            media.dateRanges[_attr6.ID] = _attr6;\n          }\n        }\n        break;\n    }\n  }\n  media.segments = media.segments.filter(function(x) {\n    return x.duration !== 0;\n  });\n  var lastSegment = media.segments[media.segments.length - 1];\n  if (lastSegment) {\n    if (endOfList) {\n      lastSegment.isLast = true;\n    }\n    media.endSN = lastSegment.sn;\n    media.endPartIndex = lastSegment.partIndex;\n  }\n  if (endOfList) {\n    media.live = false;\n  }\n  media.totalDuration = totalDuration;\n  media.endCC = curCC;\n  return media;\n}\nexport { parseMediaPlaylist };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { parseMasterPlaylist } from \"./master.js\";\nimport { parseMediaPlaylist } from \"./media.js\";\nimport { getLines } from \"./utils.js\";\nvar M3U8Parser = /* @__PURE__ */ function() {\n  function M3U8Parser2() {\n    _classCallCheck(this, M3U8Parser2);\n  }\n  _createClass(M3U8Parser2, null, [{\n    key: \"parse\",\n    value: function parse() {\n      var text = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"\";\n      var parentUrl = arguments.length > 1 ? arguments[1] : void 0;\n      var useLowLatency = arguments.length > 2 ? arguments[2] : void 0;\n      if (!text.includes(\"#EXTM3U\"))\n        throw new Error(\"Invalid m3u8 file\");\n      var lines = getLines(text);\n      if (M3U8Parser2.isMediaPlaylist(text)) {\n        return parseMediaPlaylist(lines, parentUrl, useLowLatency);\n      }\n      return parseMasterPlaylist(lines, parentUrl);\n    }\n  }, {\n    key: \"isMediaPlaylist\",\n    value: function isMediaPlaylist(text) {\n      return text.includes(\"#EXTINF:\") || text.includes(\"#EXT-X-TARGETDURATION:\");\n    }\n  }]);\n  return M3U8Parser2;\n}();\nexport { M3U8Parser };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT, StreamingError, NetLoader, ERR } from \"xgplayer-streaming-shared\";\nimport { M3U8Parser } from \"./parser/index.js\";\nimport { Event } from \"../constants.js\";\nvar ManifestLoader = /* @__PURE__ */ function() {\n  function ManifestLoader2(hls) {\n    var _this = this;\n    _classCallCheck(this, ManifestLoader2);\n    _defineProperty(this, \"_emitOnLoaded\", function(res, url) {\n      var response = res.response, options = res.options;\n      var _ref = options || {}, firstByteTime = _ref.firstByteTime, startTime = _ref.startTime, endTime = _ref.endTime, contentLength = _ref.contentLength;\n      var time = endTime - startTime;\n      _this.hls.emit(EVENT.SPEED, {\n        time,\n        byteLength: contentLength,\n        url\n      });\n      _this.hls.emit(EVENT.LOAD_COMPLETE, {\n        url,\n        elapsed: time || 0\n      });\n      _this.hls.emit(EVENT.TTFB, {\n        url,\n        responseUrl: response.url,\n        elapsed: firstByteTime - startTime\n      });\n      _this.hls.emit(EVENT.LOAD_RESPONSE_HEADERS, {\n        headers: response.headers,\n        url\n      });\n    });\n    _defineProperty(this, \"_onLoaderRetry\", function(error, retryTime) {\n      _this.hls.emit(Event.LOAD_RETRY, {\n        error: StreamingError.network(error),\n        retryTime\n      });\n    });\n    this.hls = hls;\n    this._timer = null;\n    this._useLowLatency = hls.config.useLowLatency;\n    var _this$hls$config = this.hls.config, retryCount = _this$hls$config.retryCount, retryDelay = _this$hls$config.retryDelay, manifestLoadTimeout = _this$hls$config.manifestLoadTimeout, fetchOptions = _this$hls$config.fetchOptions;\n    this._loader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._audioLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._subtitleLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n  }\n  _createClass(ManifestLoader2, [{\n    key: \"load\",\n    value: function() {\n      var _load = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(url, audioUrl, subtitleUrl) {\n        var toLoad, videoText, audioText, subtitleText, videoResUrl, audioResUrl, subtitleResUrl, _yield$Promise$all, _yield$Promise$all2, video, audio, subtitle, _audio$response, _subtitle$response, _audio$response2, onPreM3U8Parse, playlist, audioPlaylist, subtitlePlaylist, _playlist;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                toLoad = [this._loader.load(url)];\n                if (audioUrl) {\n                  toLoad.push(this._audioLoader.load(audioUrl));\n                }\n                if (subtitleUrl) {\n                  toLoad.push(this._subtitleLoader.load(subtitleUrl));\n                }\n                _context.prev = 3;\n                _context.next = 6;\n                return Promise.all(toLoad);\n              case 6:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 3);\n                video = _yield$Promise$all2[0];\n                audio = _yield$Promise$all2[1];\n                subtitle = _yield$Promise$all2[2];\n                if (video) {\n                  _context.next = 13;\n                  break;\n                }\n                return _context.abrupt(\"return\", []);\n              case 13:\n                this._emitOnLoaded(video, url);\n                videoText = video.data;\n                videoResUrl = video.response.url || url;\n                if (audioUrl) {\n                  audioText = audio === null || audio === void 0 ? void 0 : audio.data;\n                  subtitleText = subtitle === null || subtitle === void 0 ? void 0 : subtitle.data;\n                  audioResUrl = (audio === null || audio === void 0 ? void 0 : (_audio$response = audio.response) === null || _audio$response === void 0 ? void 0 : _audio$response.url) || audioUrl;\n                  subtitleResUrl = (subtitle === null || subtitle === void 0 ? void 0 : (_subtitle$response = subtitle.response) === null || _subtitle$response === void 0 ? void 0 : _subtitle$response.url) || subtitleUrl;\n                  audioText && this._emitOnLoaded(audio, audioUrl);\n                  subtitleText && this._emitOnLoaded(subtitle, subtitleUrl);\n                } else {\n                  subtitleText = audio === null || audio === void 0 ? void 0 : audio.data;\n                  subtitleResUrl = (audio === null || audio === void 0 ? void 0 : (_audio$response2 = audio.response) === null || _audio$response2 === void 0 ? void 0 : _audio$response2.url) || subtitleUrl;\n                  subtitleText && this._emitOnLoaded(audio, subtitleUrl);\n                }\n                _context.next = 22;\n                break;\n              case 19:\n                _context.prev = 19;\n                _context.t0 = _context[\"catch\"](3);\n                throw StreamingError.network(_context.t0);\n              case 22:\n                onPreM3U8Parse = this.hls.config.onPreM3U8Parse;\n                _context.prev = 23;\n                if (onPreM3U8Parse) {\n                  videoText = onPreM3U8Parse(videoText) || videoText;\n                  if (audioText)\n                    audioText = onPreM3U8Parse(audioText, true) || audioText;\n                  if (subtitleText)\n                    subtitleText = onPreM3U8Parse(subtitleText, true) || subtitleText;\n                }\n                playlist = M3U8Parser.parse(videoText, videoResUrl, this._useLowLatency);\n                if (!(((_playlist = playlist) === null || _playlist === void 0 ? void 0 : _playlist.live) === false && playlist.segments && !playlist.segments.length)) {\n                  _context.next = 28;\n                  break;\n                }\n                throw new Error(\"empty segments list\");\n              case 28:\n                if (audioText) {\n                  audioPlaylist = M3U8Parser.parse(audioText, audioResUrl, this._useLowLatency);\n                }\n                if (subtitleText) {\n                  subtitlePlaylist = M3U8Parser.parse(subtitleText, subtitleResUrl, this._useLowLatency);\n                }\n                _context.next = 35;\n                break;\n              case 32:\n                _context.prev = 32;\n                _context.t1 = _context[\"catch\"](23);\n                throw new StreamingError(ERR.MANIFEST, ERR.SUB_TYPES.HLS, _context.t1);\n              case 35:\n                if (playlist) {\n                  if (playlist.isMaster) {\n                    this.hls.emit(Event.HLS_MANIFEST_LOADED, {\n                      playlist\n                    });\n                  } else {\n                    this.hls.emit(Event.HLS_LEVEL_LOADED, {\n                      playlist\n                    });\n                  }\n                }\n                return _context.abrupt(\"return\", [playlist, audioPlaylist, subtitlePlaylist]);\n              case 37:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this, [[3, 19], [23, 32]]);\n      }));\n      function load(_x, _x2, _x3) {\n        return _load.apply(this, arguments);\n      }\n      return load;\n    }()\n  }, {\n    key: \"parseText\",\n    value: function parseText(videoText, url) {\n      var onPreM3U8Parse = this.hls.config.onPreM3U8Parse;\n      var playlist;\n      try {\n        var _playlist2;\n        if (onPreM3U8Parse) {\n          videoText = onPreM3U8Parse(videoText) || videoText;\n        }\n        playlist = M3U8Parser.parse(videoText, url, this._useLowLatency);\n        if (((_playlist2 = playlist) === null || _playlist2 === void 0 ? void 0 : _playlist2.live) === false && playlist.segments && !playlist.segments.length) {\n          throw new Error(\"empty segments list\");\n        }\n      } catch (error) {\n        throw new StreamingError(ERR.MANIFEST, ERR.SUB_TYPES.HLS, error);\n      }\n      if (playlist) {\n        if (playlist.isMaster) {\n          this.hls.emit(Event.HLS_MANIFEST_LOADED, {\n            playlist\n          });\n        } else {\n          this.hls.emit(Event.HLS_LEVEL_LOADED, {\n            playlist\n          });\n        }\n      }\n      return [playlist];\n    }\n  }, {\n    key: \"poll\",\n    value: function poll(url, audioUrl, subtitleUrl, cb, errorCb, time) {\n      var _this2 = this;\n      clearTimeout(this._timer);\n      time = time || 3e3;\n      var retryCount = this.hls.config.pollRetryCount;\n      var fn = /* @__PURE__ */ function() {\n        var _ref2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n          var res;\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1)\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  clearTimeout(_this2._timer);\n                  _context2.prev = 1;\n                  _context2.next = 4;\n                  return _this2.load(url, audioUrl, subtitleUrl);\n                case 4:\n                  res = _context2.sent;\n                  if (res[0]) {\n                    _context2.next = 7;\n                    break;\n                  }\n                  return _context2.abrupt(\"return\");\n                case 7:\n                  retryCount = _this2.hls.config.pollRetryCount;\n                  cb(res[0], res[1], res[2]);\n                  _context2.next = 15;\n                  break;\n                case 11:\n                  _context2.prev = 11;\n                  _context2.t0 = _context2[\"catch\"](1);\n                  retryCount--;\n                  if (retryCount <= 0) {\n                    errorCb(_context2.t0);\n                  }\n                case 15:\n                  _this2._timer = setTimeout(fn, time);\n                case 16:\n                case \"end\":\n                  return _context2.stop();\n              }\n          }, _callee2, null, [[1, 11]]);\n        }));\n        return function fn2() {\n          return _ref2.apply(this, arguments);\n        };\n      }();\n      this._timer = setTimeout(fn, time);\n    }\n  }, {\n    key: \"stopPoll\",\n    value: function stopPoll() {\n      clearTimeout(this._timer);\n      return this.cancel();\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      return Promise.all([this._loader.cancel(), this._audioLoader.cancel()]);\n    }\n  }]);\n  return ManifestLoader2;\n}();\nexport { ManifestLoader };\n","function clamp(num, min, max) {\n  if (min > max) {\n    max = min;\n  }\n  return Math.min(Math.max(num, min), max);\n}\nexport { clamp };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Logger } from \"xgplayer-streaming-shared\";\nvar logger = new Logger(\"playlist\");\nvar Stream = /* @__PURE__ */ function() {\n  function Stream2(playlist, audioPlaylist, subtitlePlaylist) {\n    _classCallCheck(this, Stream2);\n    _defineProperty(this, \"live\", void 0);\n    _defineProperty(this, \"id\", 0);\n    _defineProperty(this, \"bitrate\", 0);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"name\", \"\");\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"audioCodec\", \"\");\n    _defineProperty(this, \"videoCodec\", \"\");\n    _defineProperty(this, \"textCodec\", \"\");\n    _defineProperty(this, \"startCC\", 0);\n    _defineProperty(this, \"endCC\", 0);\n    _defineProperty(this, \"startSN\", 0);\n    _defineProperty(this, \"endSN\", -1);\n    _defineProperty(this, \"totalDuration\", 0);\n    _defineProperty(this, \"targetDuration\", 0);\n    _defineProperty(this, \"partTargetDuration\", 0);\n    _defineProperty(this, \"canSkipUntil\", 0);\n    _defineProperty(this, \"canSkipDateRanges\", false);\n    _defineProperty(this, \"skippedSegments\", 0);\n    _defineProperty(this, \"canBlockReload\", false);\n    _defineProperty(this, \"partHoldBack\", 0);\n    _defineProperty(this, \"lowLatency\", false);\n    _defineProperty(this, \"endPartIndex\", 0);\n    _defineProperty(this, \"snDiff\", null);\n    _defineProperty(this, \"segments\", []);\n    _defineProperty(this, \"audioStreams\", []);\n    _defineProperty(this, \"subtitleStreams\", []);\n    _defineProperty(this, \"closedCaptions\", []);\n    _defineProperty(this, \"currentAudioStream\", null);\n    _defineProperty(this, \"currentSubtitleStream\", null);\n    this.update(this._setLLPlaybackPoint(playlist), audioPlaylist, subtitlePlaylist);\n  }\n  _createClass(Stream2, [{\n    key: \"lastSegment\",\n    get: function get() {\n      if (this.segments.length) {\n        return this.segments[this.segments.length - 1];\n      }\n      return null;\n    }\n  }, {\n    key: \"segmentDuration\",\n    get: function get() {\n      var _this$segments$;\n      return this.targetDuration || ((_this$segments$ = this.segments[0]) === null || _this$segments$ === void 0 ? void 0 : _this$segments$.duration) || 0;\n    }\n  }, {\n    key: \"liveEdge\",\n    get: function get() {\n      return this.endTime;\n    },\n    set: function set(end) {\n      this.endTime = end;\n    }\n  }, {\n    key: \"endTime\",\n    get: function get() {\n      var _this$lastSegment;\n      return ((_this$lastSegment = this.lastSegment) === null || _this$lastSegment === void 0 ? void 0 : _this$lastSegment.end) || 0;\n    },\n    set: function set(end) {\n      var lastSeg = this.lastSegment;\n      if (lastSeg)\n        lastSeg.duration = end - lastSeg.start;\n    }\n  }, {\n    key: \"currentSubtitleEndSn\",\n    get: function get() {\n      var _this$currentSubtitle;\n      return ((_this$currentSubtitle = this.currentSubtitleStream) === null || _this$currentSubtitle === void 0 ? void 0 : _this$currentSubtitle.endSN) || 0;\n    }\n  }, {\n    key: \"clearOldSegment\",\n    value: function clearOldSegment(startTime, pointer) {\n      if (this.currentAudioStream) {\n        this._clearSegments(startTime, pointer);\n      }\n      return this._clearSegments(startTime, pointer);\n    }\n  }, {\n    key: \"getAudioSegment\",\n    value: function getAudioSegment(seg) {\n      if (!seg || !this.currentAudioStream)\n        return;\n      var sn = seg.sn - this.snDiff;\n      return this.currentAudioStream.segments.find(function(x) {\n        return x.sn === sn;\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update(playlist, audioPlaylist) {\n      this.url = playlist.url;\n      if (Array.isArray(playlist.segments)) {\n        if (this.live === null || this.live === void 0)\n          this.live = playlist.live;\n        this._updateSegments(playlist, this);\n        this.startCC = playlist.startCC;\n        this.endCC = playlist.endCC;\n        this.startSN = playlist.startSN;\n        this.endSN = playlist.endSN || -1;\n        this.totalDuration = playlist.totalDuration;\n        this.targetDuration = playlist.targetDuration;\n        this.live = playlist.live;\n        this.lowLatency = playlist.lowLatency;\n        this.canBlockReload = playlist.canBlockReload;\n        this.canSkipDateRanges = playlist.canSkipDateRanges;\n        this.canSkipUntil = playlist.canSkipUntil;\n        this.partHoldBack = playlist.partHoldBack;\n        this.partTargetDuration = playlist.partTargetDuration;\n        this.skippedSegments = playlist.skippedSegments;\n        this.endPartIndex = playlist.endPartIndex;\n        if (audioPlaylist && this.currentAudioStream && Array.isArray(audioPlaylist.segments)) {\n          this._updateSegments(audioPlaylist, this.currentAudioStream);\n          if ((this.snDiff === null || this.snDiff === void 0) && playlist.segments.length && audioPlaylist.segments.length) {\n            this.snDiff = playlist.segments[0].sn - audioPlaylist.segments[0].sn;\n          }\n        }\n      } else {\n        this.id = playlist.id;\n        this.bitrate = playlist.bitrate;\n        this.width = playlist.width;\n        this.height = playlist.height;\n        this.name = playlist.name;\n        this.audioCodec = playlist.audioCodec;\n        this.videoCodec = playlist.videoCodec;\n        this.textCodec = playlist.textCodec;\n        this.audioStreams = playlist.audioStreams;\n        this.subtitleStreams = playlist.subtitleStreams;\n        if (!this.currentAudioStream && this.audioStreams.length) {\n          this.currentAudioStream = this.audioStreams.find(function(x) {\n            return x.default;\n          }) || this.audioStreams[0];\n        }\n        if (!this.currentSubtitleStream && this.subtitleStreams.length) {\n          this.currentSubtitleStream = this.subtitleStreams.find(function(x) {\n            return x.default;\n          }) || this.subtitleStreams[0];\n        }\n      }\n    }\n  }, {\n    key: \"updateSubtitle\",\n    value: function updateSubtitle(subtitlePlaylist) {\n      var _this = this;\n      if (!(subtitlePlaylist && this.currentSubtitleStream && Array.isArray(subtitlePlaylist.segments)))\n        return;\n      var newSegs = this._updateSegments(subtitlePlaylist, this.currentSubtitleStream);\n      var segs = this.currentSubtitleStream.segments;\n      if (segs.length > 100) {\n        this.currentSubtitleStream.segments = segs.slice(100);\n      }\n      if (!newSegs)\n        return;\n      return newSegs.map(function(x) {\n        return {\n          sn: x.sn,\n          url: x.url,\n          duration: x.duration,\n          start: x.start,\n          end: x.end,\n          lang: _this.currentSubtitleStream.lang\n        };\n      });\n    }\n  }, {\n    key: \"switchSubtitle\",\n    value: function switchSubtitle(lang) {\n      var toSwitch = this.subtitleStreams.find(function(x) {\n        return x.lang === lang;\n      });\n      var origin = this.currentSubtitleStream;\n      if (toSwitch) {\n        this.currentSubtitleStream = toSwitch;\n        origin.segments = [];\n      }\n    }\n  }, {\n    key: \"_setLLPlaybackPoint\",\n    value: function _setLLPlaybackPoint(playlist) {\n      if (!playlist.lowLatency || !playlist.segments.length)\n        return playlist;\n      var maxStartPoint = playlist.totalDuration - playlist.partHoldBack;\n      var segs = playlist.segments;\n      var index = 0;\n      for (var i = 0, l = segs.length; i < l; i++) {\n        if (segs[i].start <= maxStartPoint && segs[i].independent) {\n          index = i;\n        }\n      }\n      var usefulSegs = segs.slice(index);\n      var endTime = 0;\n      usefulSegs.forEach(function(s) {\n        s.start = endTime;\n        endTime = s.end;\n      });\n      playlist.segments = usefulSegs;\n      playlist.totalDuration = endTime;\n      playlist.startSN = usefulSegs[0].sn;\n      playlist.startCC = usefulSegs[0].cc;\n      logger.log(\"set ll-hls playback point: SN=\".concat(playlist.startSN, \" partIndex=\").concat(usefulSegs[0].partIndex, \", duration=\").concat(endTime));\n      return playlist;\n    }\n  }, {\n    key: \"_clearSegments\",\n    value: function _clearSegments(startTime, pointer) {\n      var sliceStart = 0;\n      var segments = this.segments;\n      for (var i = 0, l = segments.length; i < l; i++) {\n        if (segments[i].end >= startTime) {\n          sliceStart = i;\n          break;\n        }\n      }\n      if (sliceStart > pointer) {\n        sliceStart = pointer;\n      }\n      if (sliceStart) {\n        this.segments = this.segments.slice(sliceStart);\n        if (this.currentAudioStream) {\n          this.currentAudioStream.segments = this.currentAudioStream.segments.slice(sliceStart);\n        }\n      }\n      return pointer - sliceStart;\n    }\n  }, {\n    key: \"_updateSegments\",\n    value: function _updateSegments(playlist, segObj) {\n      var segments = segObj.segments;\n      if (this.live) {\n        var _endSeg$sn;\n        var lowLatency = playlist.lowLatency;\n        var endSeg = segments[segments.length - 1];\n        var endSN = (_endSeg$sn = endSeg === null || endSeg === void 0 ? void 0 : endSeg.sn) !== null && _endSeg$sn !== void 0 ? _endSeg$sn : -1;\n        var endPartIndex = (endSeg === null || endSeg === void 0 ? void 0 : endSeg.partIndex) || 0;\n        var hasNew = endSN < playlist.endSN && playlist.segments.length;\n        if (lowLatency) {\n          hasNew = hasNew || endPartIndex < playlist.endPartIndex;\n        }\n        if (hasNew) {\n          logger.log(\"update segments: endSN:\".concat(endSN, \", partIndex:\").concat(endPartIndex, \" --> endSN:\").concat(playlist.endSN, \", partIndex:\").concat(playlist.endPartIndex));\n          var index = playlist.segments.findIndex(function(x) {\n            return x.sn === endSN && x.partIndex === endPartIndex;\n          });\n          var toAppend = index < 0 ? playlist.segments : playlist.segments.slice(index + 1);\n          if (segments.length && toAppend.length) {\n            var endTime = endSeg.end;\n            var endTimeBeforeAppend = endTime;\n            toAppend.forEach(function(seg) {\n              seg.start = endTime;\n              endTime = seg.end;\n            });\n            logger.log(\"liveEdge: \".concat(endTimeBeforeAppend, \" -> \").concat(endTime));\n            var lastCC = (endSeg === null || endSeg === void 0 ? void 0 : endSeg.cc) || -1;\n            if (lastCC > toAppend[0].cc) {\n              toAppend.forEach(function(seg) {\n                return seg.cc += lastCC;\n              });\n            }\n          }\n          segObj.endSN = playlist.endSN;\n          segObj.segments = segments.concat(toAppend);\n          return toAppend;\n        }\n      } else {\n        segObj.segments = playlist.segments;\n      }\n    }\n  }]);\n  return Stream2;\n}();\nexport { Stream };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { clamp } from \"../utils.js\";\nimport { Stream } from \"./stream.js\";\nimport { Event } from \"../constants.js\";\nvar Playlist = /* @__PURE__ */ function() {\n  function Playlist2(hls) {\n    _classCallCheck(this, Playlist2);\n    _defineProperty(this, \"streams\", []);\n    _defineProperty(this, \"currentStream\", null);\n    _defineProperty(this, \"dvrWindow\", 0);\n    _defineProperty(this, \"_segmentPointer\", -1);\n    this.hls = hls;\n  }\n  _createClass(Playlist2, [{\n    key: \"lowLatency\",\n    get: function get() {\n      var _this$currentStream;\n      return (_this$currentStream = this.currentStream) === null || _this$currentStream === void 0 ? void 0 : _this$currentStream.lowLatency;\n    }\n  }, {\n    key: \"lastSegment\",\n    get: function get() {\n      var _this$currentStream2;\n      return (_this$currentStream2 = this.currentStream) === null || _this$currentStream2 === void 0 ? void 0 : _this$currentStream2.lastSegment;\n    }\n  }, {\n    key: \"currentSegment\",\n    get: function get() {\n      var _this$currentSegments;\n      return (_this$currentSegments = this.currentSegments) === null || _this$currentSegments === void 0 ? void 0 : _this$currentSegments[this._segmentPointer];\n    }\n  }, {\n    key: \"nextSegment\",\n    get: function get() {\n      var _this$currentSegments2;\n      return (_this$currentSegments2 = this.currentSegments) === null || _this$currentSegments2 === void 0 ? void 0 : _this$currentSegments2[this._segmentPointer + 1];\n    }\n  }, {\n    key: \"currentSegments\",\n    get: function get() {\n      var _this$currentStream3;\n      return (_this$currentStream3 = this.currentStream) === null || _this$currentStream3 === void 0 ? void 0 : _this$currentStream3.segments;\n    }\n  }, {\n    key: \"currentSubtitleEndSn\",\n    get: function get() {\n      var _this$currentStream4;\n      return (_this$currentStream4 = this.currentStream) === null || _this$currentStream4 === void 0 ? void 0 : _this$currentStream4.currentSubtitleEndSn;\n    }\n  }, {\n    key: \"liveEdge\",\n    get: function get() {\n      var _this$currentStream5;\n      return (_this$currentStream5 = this.currentStream) === null || _this$currentStream5 === void 0 ? void 0 : _this$currentStream5.liveEdge;\n    },\n    set: function set(end) {\n      if (this.currentStream) {\n        this.currentStream.liveEdge = end;\n      }\n    }\n  }, {\n    key: \"totalDuration\",\n    get: function get() {\n      var _this$currentStream6;\n      return ((_this$currentStream6 = this.currentStream) === null || _this$currentStream6 === void 0 ? void 0 : _this$currentStream6.totalDuration) || 0;\n    }\n  }, {\n    key: \"seekRange\",\n    get: function get() {\n      var segments = this.currentSegments;\n      if (!segments || !segments.length)\n        return;\n      return [segments[0].start, segments[segments.length - 1].end];\n    }\n  }, {\n    key: \"nbSegments\",\n    get: function get() {\n      var _this$currentSegments3;\n      return ((_this$currentSegments3 = this.currentSegments) === null || _this$currentSegments3 === void 0 ? void 0 : _this$currentSegments3.length) || 0;\n    }\n  }, {\n    key: \"isEmpty\",\n    get: function get() {\n      var _this$currentSegments4;\n      return !((_this$currentSegments4 = this.currentSegments) !== null && _this$currentSegments4 !== void 0 && _this$currentSegments4.length);\n    }\n  }, {\n    key: \"isLive\",\n    get: function get() {\n      var _this$currentStream7;\n      return (_this$currentStream7 = this.currentStream) === null || _this$currentStream7 === void 0 ? void 0 : _this$currentStream7.live;\n    }\n  }, {\n    key: \"hadSegmentLoaded\",\n    get: function get() {\n      return this._segmentPointer !== -1;\n    }\n  }, {\n    key: \"hasSubtitle\",\n    get: function get() {\n      var _this$currentStream8;\n      return !!((_this$currentStream8 = this.currentStream) !== null && _this$currentStream8 !== void 0 && _this$currentStream8.currentSubtitleStream);\n    }\n  }, {\n    key: \"getAudioSegment\",\n    value: function getAudioSegment(seg) {\n      var _this$currentStream9;\n      return (_this$currentStream9 = this.currentStream) === null || _this$currentStream9 === void 0 ? void 0 : _this$currentStream9.getAudioSegment(seg);\n    }\n  }, {\n    key: \"moveSegmentPointer\",\n    value: function moveSegmentPointer(pos) {\n      var _this$currentSegments5;\n      if (pos === null || pos === void 0)\n        pos = this._segmentPointer + 1;\n      this._segmentPointer = clamp(pos, -1, (_this$currentSegments5 = this.currentSegments) === null || _this$currentSegments5 === void 0 ? void 0 : _this$currentSegments5.length);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.streams = [];\n      this.currentStream = null;\n      this.dvrWindow = 0;\n      this._segmentPointer = -1;\n    }\n  }, {\n    key: \"getSegmentByIndex\",\n    value: function getSegmentByIndex(index) {\n      var _this$currentSegments6;\n      return (_this$currentSegments6 = this.currentSegments) === null || _this$currentSegments6 === void 0 ? void 0 : _this$currentSegments6[index];\n    }\n  }, {\n    key: \"setNextSegmentByIndex\",\n    value: function setNextSegmentByIndex() {\n      var index = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      this._segmentPointer = index - 1;\n    }\n  }, {\n    key: \"setNextSegmentBySN\",\n    value: function setNextSegmentBySN() {\n      var _this$currentSegments7;\n      var sn = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var preIndex = (_this$currentSegments7 = this.currentSegments) === null || _this$currentSegments7 === void 0 ? void 0 : _this$currentSegments7.findIndex(function(x) {\n        return x.sn === sn;\n      });\n      if (preIndex !== -1) {\n        this.setNextSegmentByIndex(preIndex + 1);\n      }\n      return preIndex;\n    }\n  }, {\n    key: \"findSegmentIndexByTime\",\n    value: function findSegmentIndexByTime(time) {\n      var segments = this.currentSegments;\n      if (segments) {\n        for (var i = 0, l = segments.length, seg; i < l; i++) {\n          seg = segments[i];\n          if (time >= seg.start && time < seg.end) {\n            return i;\n          }\n        }\n        var lastSegment = segments[segments.length - 1];\n        if (Math.abs(time - (lastSegment === null || lastSegment === void 0 ? void 0 : lastSegment.end)) < 0.2)\n          return segments.length - 1;\n      }\n    }\n  }, {\n    key: \"upsertPlaylist\",\n    value: function upsertPlaylist(playlist, audioPlaylist, subtitlePlaylist) {\n      var _this = this;\n      if (!playlist)\n        return;\n      if (playlist.isMaster) {\n        this.streams.length = playlist.streams.length;\n        playlist.streams.filter(function(x) {\n          return x.url;\n        }).forEach(function(stream2, i) {\n          if (_this.streams[i]) {\n            _this.streams[i].update(stream2);\n          } else {\n            _this.streams[i] = new Stream(stream2);\n          }\n        });\n        this.currentStream = this.streams[0];\n      } else if (Array.isArray(playlist.segments)) {\n        var stream = this.currentStream;\n        if (stream) {\n          stream.update(playlist, audioPlaylist, subtitlePlaylist);\n          var newSubtitleSegs = stream.updateSubtitle(subtitlePlaylist);\n          if (newSubtitleSegs) {\n            this.hls.emit(Event.SUBTITLE_SEGMENTS, {\n              list: newSubtitleSegs\n            });\n          }\n        } else {\n          this.reset();\n          this.currentStream = this.streams[0] = new Stream(playlist, audioPlaylist, subtitlePlaylist);\n        }\n      }\n      var currentStream = this.currentStream;\n      if (currentStream) {\n        if (this.hls.isLive && !this.dvrWindow) {\n          this.dvrWindow = this.currentSegments.reduce(function(a, c) {\n            a += c.duration;\n            return a;\n          }, 0);\n        }\n      }\n    }\n  }, {\n    key: \"updateSegmentsRanges\",\n    value: function updateSegmentsRanges(sn, start) {\n      var _this$currentSegments8;\n      var segs = (_this$currentSegments8 = this.currentSegments) === null || _this$currentSegments8 === void 0 ? void 0 : _this$currentSegments8.filter(function(x) {\n        return x.sn >= sn;\n      });\n      segs.forEach(function(s) {\n        s.start = start;\n        start = s.end;\n      });\n    }\n  }, {\n    key: \"switchSubtitle\",\n    value: function switchSubtitle(lang) {\n      var _this$currentStream10;\n      (_this$currentStream10 = this.currentStream) === null || _this$currentStream10 === void 0 ? void 0 : _this$currentStream10.switchSubtitle(lang);\n    }\n  }, {\n    key: \"clearOldSegment\",\n    value: function clearOldSegment() {\n      var maxPlaylistSize = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 50;\n      var stream = this.currentStream;\n      if (!this.dvrWindow || !stream)\n        return;\n      var startTime = stream.endTime - this.dvrWindow;\n      if (startTime <= 0)\n        return;\n      var segments = stream.segments;\n      if (segments.length <= maxPlaylistSize)\n        return;\n      this._segmentPointer = stream.clearOldSegment(startTime, this._segmentPointer);\n    }\n  }, {\n    key: \"checkSegmentTrackChange\",\n    value: function checkSegmentTrackChange(cTime, nbSb) {\n      var index = this.findSegmentIndexByTime(cTime);\n      var seg = this.getSegmentByIndex(index);\n      if (!seg)\n        return;\n      if (!seg.hasAudio && !seg.hasVideo)\n        return;\n      if (nbSb !== 2 && seg.hasAudio && seg.hasVideo)\n        return seg;\n      if (seg.end - cTime > 0.3)\n        return;\n      var next = this.getSegmentByIndex(index + 1);\n      if (!next)\n        return;\n      if (!next.hasAudio && !next.hasVideo)\n        return;\n      if (next.hasAudio !== seg.hasAudio || next.hasVideo !== seg.hasVideo)\n        return next;\n    }\n  }, {\n    key: \"feedbackLiveEdge\",\n    value: function feedbackLiveEdge(segment, bufferEnd) {\n      var _this$lastSegment;\n      var segs = this.currentSegments;\n      if (!segs)\n        return;\n      var isLast = ((_this$lastSegment = this.lastSegment) === null || _this$lastSegment === void 0 ? void 0 : _this$lastSegment.sn) === segment.sn;\n      if (isLast) {\n        this.liveEdge = bufferEnd;\n        return;\n      }\n      this.updateSegmentsRanges(segment.sn + 1, bufferEnd);\n    }\n  }]);\n  return Playlist2;\n}();\nexport { Playlist };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar SKIP_SMALL_CHUNK = 1e3;\nvar MAX_CHUNK_SAVE_SIZE = 50;\nvar MAX_SEGMENT_SAVE_SIZE = 3;\nvar LONGTIME_NO_RECEIVE = 3e3;\nvar BandwidthService = /* @__PURE__ */ function() {\n  function BandwidthService2(opts) {\n    _classCallCheck(this, BandwidthService2);\n    _defineProperty(this, \"_chunkSpeed\", 0);\n    _defineProperty(this, \"_chunkCache\", []);\n    _defineProperty(this, \"_speeds\", []);\n    _defineProperty(this, \"_totalSize\", 0);\n    _defineProperty(this, \"_totalCost\", 0);\n    this._opts = opts || {};\n  }\n  _createClass(BandwidthService2, [{\n    key: \"addRecord\",\n    value: function addRecord(totalByte, ms) {\n      if (!totalByte || !ms)\n        return;\n      this._speeds.push(8e3 * totalByte / ms);\n      this._speeds = this._speeds.slice(-MAX_SEGMENT_SAVE_SIZE);\n    }\n  }, {\n    key: \"addChunkRecord\",\n    value: function addChunkRecord(totalByte, ms) {\n      var _this$_opts, _this$_opts2;\n      if (!totalByte || !ms || totalByte < (((_this$_opts = this._opts) === null || _this$_opts === void 0 ? void 0 : _this$_opts.skipChunkSize) || SKIP_SMALL_CHUNK))\n        return;\n      this._totalSize += totalByte;\n      this._totalCost += ms;\n      this._chunkSpeed = 8e3 * totalByte / ms;\n      this._chunkCache.push({\n        size: totalByte,\n        duration: ms,\n        timestamp: performance.now()\n      });\n      var size = ((_this$_opts2 = this._opts) === null || _this$_opts2 === void 0 ? void 0 : _this$_opts2.chunkCountForSpeed) || MAX_CHUNK_SAVE_SIZE;\n      if (this._chunkCache.length > size) {\n        this._chunkCache = this._chunkCache.slice(-size);\n      }\n    }\n  }, {\n    key: \"getAvgSpeed\",\n    value: function getAvgSpeed() {\n      var _this$_opts3;\n      if (!this._chunkCache.length && !this._speeds.length)\n        return 0;\n      if (this._speeds.length) {\n        return this._speeds.reduce(function(a, c) {\n          return a += c;\n        }) / this._speeds.length;\n      }\n      var lastSample = this._chunkCache[this._chunkCache.length - 1];\n      var cost = performance.now() - lastSample.timestamp;\n      if (cost > (((_this$_opts3 = this._opts) === null || _this$_opts3 === void 0 ? void 0 : _this$_opts3.longtimeNoReceived) || LONGTIME_NO_RECEIVE)) {\n        this._chunkCache.push({\n          size: 0,\n          duration: cost,\n          timestamp: performance.now()\n        });\n      }\n      var totalSize = this._chunkCache.reduce(function(a, c) {\n        return a += c.size;\n      }, 0);\n      var totalDuration = this._chunkCache.reduce(function(a, c) {\n        return a += c.duration;\n      }, 0);\n      return 8e3 * totalSize / totalDuration;\n    }\n  }, {\n    key: \"getLatestSpeed\",\n    value: function getLatestSpeed() {\n      if (!this._chunkCache.length && !this._speeds.length)\n        return 0;\n      if (this._speeds.length) {\n        return this._speeds[this._speeds.length - 1];\n      }\n      return this._chunkSpeed;\n    }\n  }, {\n    key: \"getTotalSize\",\n    value: function getTotalSize() {\n      return this._totalSize;\n    }\n  }, {\n    key: \"getTotalCost\",\n    value: function getTotalCost() {\n      return this._totalCost;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._chunkCache = [];\n      this._speeds = [];\n      this._totalSize = 0;\n      this._totalCost = 0;\n    }\n  }]);\n  return BandwidthService2;\n}();\nexport { BandwidthService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT, StreamingError, BandwidthService, NetLoader } from \"xgplayer-streaming-shared\";\nvar SegmentLoader = /* @__PURE__ */ function() {\n  function SegmentLoader2(hls) {\n    var _this = this;\n    _classCallCheck(this, SegmentLoader2);\n    _defineProperty(this, \"error\", null);\n    _defineProperty(this, \"_emitOnLoaded\", function(res, url) {\n      var data = res.data, response = res.response, options = res.options;\n      var _ref = options || {}, firstByteTime = _ref.firstByteTime, startTime = _ref.startTime, endTime = _ref.endTime, contentLength = _ref.contentLength;\n      var time = endTime - startTime;\n      _this._bandwidthService.addRecord(contentLength || data.byteLength, time);\n      _this.hls.emit(EVENT.SPEED, {\n        time,\n        byteLength: contentLength,\n        url\n      });\n      _this.hls.emit(EVENT.LOAD_COMPLETE, {\n        url,\n        elapsed: time || 0\n      });\n      _this.hls.emit(EVENT.TTFB, {\n        url,\n        responseUrl: response.url,\n        elapsed: firstByteTime - startTime\n      });\n      _this.hls.emit(EVENT.LOAD_RESPONSE_HEADERS, {\n        headers: response.headers,\n        url\n      });\n    });\n    _defineProperty(this, \"_onLoaderRetry\", function(error, retryTime) {\n      _this.hls.emit(EVENT.LOAD_RETRY, {\n        error: StreamingError.network(error),\n        retryTime\n      });\n    });\n    this.hls = hls;\n    this._bandwidthService = new BandwidthService();\n    this._mapCache = {};\n    this._keyCache = {};\n    var _this$hls$config = this.hls.config, retryCount = _this$hls$config.retryCount, retryDelay = _this$hls$config.retryDelay, loadTimeout = _this$hls$config.loadTimeout, fetchOptions = _this$hls$config.fetchOptions;\n    this._segmentLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._audioSegmentLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._keyLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n  }\n  _createClass(SegmentLoader2, [{\n    key: \"speedInfo\",\n    value: function speedInfo() {\n      return {\n        speed: this._bandwidthService.getLatestSpeed(),\n        avgSpeed: this._bandwidthService.getAvgSpeed()\n      };\n    }\n  }, {\n    key: \"load\",\n    value: function load(seg, audioSeg, loadInit) {\n      var loadAudioInit = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : loadInit;\n      var toLoad = [];\n      if (seg)\n        toLoad[0] = this.loadVideoSegment(seg, loadInit);\n      if (audioSeg)\n        toLoad[1] = this.loadAudioSegment(audioSeg, loadAudioInit);\n      return Promise.all(toLoad);\n    }\n  }, {\n    key: \"loadVideoSegment\",\n    value: function loadVideoSegment(seg, loadInit) {\n      return this._loadSegment(this._segmentLoader, seg, loadInit);\n    }\n  }, {\n    key: \"loadAudioSegment\",\n    value: function loadAudioSegment(seg, loadInit) {\n      return this._loadSegment(this._audioSegmentLoader, seg, loadInit);\n    }\n  }, {\n    key: \"_loadSegment\",\n    value: function() {\n      var _loadSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(segLoader, seg, loadInit) {\n        var _this2 = this, _seg$key;\n        var map, key, keyIv, mapKey, mapKeyIv, toLoad, _seg$initSegment$key, mapUrl, _keyUrl, keyUrl, _yield$Promise$all, _yield$Promise$all2, s, data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                toLoad = [];\n                this.hls.emit(EVENT.LOAD_START, {\n                  url: seg.url\n                });\n                toLoad[0] = segLoader.load(seg.url);\n                if (loadInit && seg.initSegment) {\n                  mapUrl = seg.initSegment.url;\n                  map = this._mapCache[mapUrl];\n                  if (!map) {\n                    this.hls.emit(EVENT.LOAD_START, {\n                      url: mapUrl\n                    });\n                    toLoad[1] = segLoader.load(mapUrl).then(function(r) {\n                      if (r) {\n                        var l = Object.keys(_this2._mapCache);\n                        if (l > 30)\n                          _this2._mapCache = {};\n                        map = _this2._mapCache[mapUrl] = r.data;\n                        _this2._emitOnLoaded(r, mapUrl);\n                      }\n                    });\n                  }\n                  _keyUrl = (_seg$initSegment$key = seg.initSegment.key) === null || _seg$initSegment$key === void 0 ? void 0 : _seg$initSegment$key.url;\n                  if (_keyUrl) {\n                    mapKeyIv = seg.initSegment.key.iv;\n                    mapKey = this._keyCache[_keyUrl];\n                    if (!mapKey) {\n                      this.hls.emit(EVENT.LOAD_START, {\n                        url: _keyUrl\n                      });\n                      toLoad[2] = this._keyLoader.load(_keyUrl).then(function(r) {\n                        if (r) {\n                          mapKey = _this2._keyCache[_keyUrl] = r.data;\n                          _this2._emitOnLoaded(r, _keyUrl);\n                        }\n                      });\n                    }\n                  }\n                }\n                keyUrl = (_seg$key = seg.key) === null || _seg$key === void 0 ? void 0 : _seg$key.url;\n                if (keyUrl && seg.key.isSegmentEncrypted()) {\n                  keyIv = seg.key.iv;\n                  key = this._keyCache[keyUrl];\n                  if (!key) {\n                    this.hls.emit(EVENT.LOAD_START, {\n                      url: keyUrl\n                    });\n                    toLoad[3] = this._keyLoader.load(keyUrl).then(function(r) {\n                      if (r) {\n                        key = _this2._keyCache[keyUrl] = r.data;\n                        _this2._emitOnLoaded(r, keyUrl);\n                      }\n                    });\n                  }\n                }\n                _context.next = 8;\n                return Promise.all(toLoad);\n              case 8:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 1);\n                s = _yield$Promise$all2[0];\n                if (s) {\n                  _context.next = 13;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 13:\n                data = s.data;\n                this._emitOnLoaded(s, seg.url);\n                return _context.abrupt(\"return\", {\n                  data,\n                  map,\n                  key,\n                  mapKey,\n                  keyIv,\n                  mapKeyIv\n                });\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function _loadSegment(_x, _x2, _x3) {\n        return _loadSegment2.apply(this, arguments);\n      }\n      return _loadSegment;\n    }()\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.error = null;\n      this._mapCache = {};\n      this._keyCache = {};\n      this._bandwidthService.reset();\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return Promise.all([this._keyLoader.cancel(), this._segmentLoader.cancel(), this._audioSegmentLoader.cancel()]);\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }]);\n  return SegmentLoader2;\n}();\nexport { SegmentLoader };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, asyncToGenerator as _asyncToGenerator, slicedToArray as _slicedToArray, regeneratorRuntime as _regeneratorRuntime, typeof as _typeof, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nimport { Logger, Buffer, StreamingError, isMediaPlaying, SeiService, GapService, MediaStatsService, MSE, getVideoPlaybackQuality, ERR } from \"xgplayer-streaming-shared\";\nimport { Logger as Logger$1 } from \"xgplayer-transmuxer\";\nimport { BufferService } from \"./buffer-service/index.js\";\nimport { getConfig } from \"./config.js\";\nexport { getConfig } from \"./config.js\";\nimport { Event } from \"./constants.js\";\nimport { ManifestLoader } from \"./manifest-loader/index.js\";\nexport { ManifestLoader } from \"./manifest-loader/index.js\";\nimport { Playlist } from \"./playlist/index.js\";\nexport { Playlist } from \"./playlist/index.js\";\nimport { SegmentLoader } from \"./segment-loader/index.js\";\nexport { SegmentLoader } from \"./segment-loader/index.js\";\nimport { clamp } from \"./utils.js\";\nvar logger = new Logger(\"hls\");\nvar Hls = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(Hls2, _EventEmitter);\n  var _super = _createSuper(Hls2);\n  function Hls2(_cfg) {\n    var _this;\n    _classCallCheck(this, Hls2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"version\", Hls2.version);\n    _defineProperty(_assertThisInitialized(_this), \"media\", null);\n    _defineProperty(_assertThisInitialized(_this), \"config\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_manifestLoader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_segmentLoader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_playlist\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_bufferService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_gapService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_seiService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_stats\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_prevSegSn\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_prevSegCc\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_tickTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_tickInterval\", 500);\n    _defineProperty(_assertThisInitialized(_this), \"_segmentProcessing\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_reloadOnPlay\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_switchUrlOpts\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_isProcessQuotaExceeded\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_loadSegment\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n      var _this$_playlist, nextSegment, lastSegment, _assertThisInitialize, config, minFrameDuration, maxBufferThroughout, bInfo, bufferThroughout;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1)\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(_this._segmentProcessing || !_this.media)) {\n                _context.next = 2;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 2:\n              _this$_playlist = _this._playlist, nextSegment = _this$_playlist.nextSegment, lastSegment = _this$_playlist.lastSegment;\n              _assertThisInitialize = _assertThisInitialized(_this), config = _assertThisInitialize.config;\n              minFrameDuration = 0.016;\n              maxBufferThroughout = Math.min(Math.max((lastSegment === null || lastSegment === void 0 ? void 0 : lastSegment.duration) - minFrameDuration / 2 || 0, minFrameDuration), 0.1);\n              if (nextSegment) {\n                _context.next = 8;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 8:\n              if (_this.isLive) {\n                _context.next = 18;\n                break;\n              }\n              bInfo = _this.bufferInfo();\n              if (_this.media.paused && !_this.media.currentTime) {\n                bInfo = _this.bufferInfo(bInfo.nextStart || 0.5);\n              }\n              bufferThroughout = Math.abs(bInfo.end - _this.media.duration) < maxBufferThroughout;\n              if (!(bInfo.remaining >= config.preloadTime || bufferThroughout)) {\n                _context.next = 15;\n                break;\n              }\n              _this._tryEos();\n              return _context.abrupt(\"return\");\n            case 15:\n              if (!(config.preferMMSStreaming && !_this._bufferService.msStreaming)) {\n                _context.next = 17;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 17:\n              if (!_this._urlSwitching && _this._prevSegSn !== nextSegment.sn - 1 && bInfo.end && Math.abs(nextSegment.start - bInfo.end) > 1) {\n                _this._playlist.setNextSegmentByIndex(_this._playlist.findSegmentIndexByTime(bInfo.end + 0.1));\n              }\n            case 18:\n              return _context.abrupt(\"return\", _this._loadSegmentDirect());\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n      }, _callee);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onLoadeddata\", function() {\n      if (_this.isLive && !_this.config.mseLowLatency) {\n        if (_this.media.duration !== Infinity) {\n          _this._bufferService.updateDuration(Infinity).catch(function(e) {\n          });\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onPlay\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1)\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(_this.media.seeking && _this.media.currentTime === 0)) {\n                _context2.next = 3;\n                break;\n              }\n              logger.debug(\"replay currentTime 0, return\");\n              return _context2.abrupt(\"return\");\n            case 3:\n              clearTimeout(_this._disconnectTimer);\n              if (!_this._reloadOnPlay) {\n                _context2.next = 9;\n                break;\n              }\n              _this._reloadOnPlay = false;\n              _this.replay(true);\n              _context2.next = 12;\n              break;\n            case 9:\n              _context2.next = 11;\n              return _this._loadSegment();\n            case 11:\n              _this._startTick();\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n      }, _callee2);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onPause\", function() {\n      if (_this.isLive) {\n        if (!_this._reloadOnPlay) {\n          var disconnectTime = _this.config.disconnectTime;\n          if (disconnectTime === null || disconnectTime === void 0)\n            disconnectTime = _this._playlist.dvrWindow;\n          if (!Number.isFinite(disconnectTime))\n            return;\n          clearTimeout(_this._disconnectTimer);\n          _this._disconnectTimer = setTimeout(function() {\n            _this._reloadOnPlay = true;\n            _this._clear();\n          }, disconnectTime || 0);\n        }\n      } else {\n        _this._stopTick();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeking\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n      var seekTime, seekRange, newSeekTime, curSeg, info, segIndex, seg;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1)\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (_this.media) {\n                _context3.next = 2;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 2:\n              _this._onCheckQuotaExceeded();\n              seekTime = _this.media.currentTime;\n              seekRange = _this._playlist.seekRange;\n              if (!seekRange) {\n                _context3.next = 10;\n                break;\n              }\n              newSeekTime = clamp(seekTime, seekRange[0], _this.isLive ? seekRange[1] : _this.media.duration);\n              if (!(newSeekTime >= 0 && Math.abs(seekTime - newSeekTime) >= 0.1)) {\n                _context3.next = 10;\n                break;\n              }\n              _this.media.currentTime = newSeekTime;\n              return _context3.abrupt(\"return\");\n            case 10:\n              curSeg = _this._playlist.currentSegment;\n              info = Buffer.info(Buffer.get(_this.media), seekTime, 0.1);\n              if (!curSeg) {\n                _context3.next = 17;\n                break;\n              }\n              if (!(info.end && Math.abs(info.end - curSeg.end) < 0.2)) {\n                _context3.next = 15;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 15:\n              if (!(_this.isLive && info.end)) {\n                _context3.next = 17;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 17:\n              segIndex = _this._playlist.findSegmentIndexByTime(seekTime);\n              seg = _this._playlist.getSegmentByIndex(segIndex);\n              if (!(segIndex === null || segIndex === void 0 || !seg || _this._segmentProcessing && seg === _this._playlist.nextSegment)) {\n                _context3.next = 21;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 21:\n              logger.debug(\"seek to\", seekTime, seg);\n              _this._playlist.setNextSegmentByIndex(segIndex);\n              _this._stopTick();\n              _context3.next = 26;\n              return _this._segmentLoader.cancel();\n            case 26:\n              _this._segmentProcessing = false;\n              if (!(!info.end || _this.isLive)) {\n                _context3.next = 30;\n                break;\n              }\n              _context3.next = 30;\n              return _this._loadSegmentDirect(true);\n            case 30:\n              _this._startTick();\n            case 31:\n            case \"end\":\n              return _context3.stop();\n          }\n      }, _callee3);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeupdate\", function() {\n      if (!_this.media)\n        return;\n      var cfg = _this.config;\n      if (cfg.isLive && cfg.maxLatency && cfg.targetLatency && _this.media) {\n        var liveEdge = _this._playlist.liveEdge;\n        if (!liveEdge)\n          return;\n        var latency = liveEdge - _this.media.currentTime;\n        if (latency >= cfg.maxLatency) {\n          logger.debug(\"latency jump, currentTime:\".concat(_this.media.currentTime, \", liveEdge:\").concat(liveEdge, \",  latency=\").concat(latency));\n          _this.media.currentTime = liveEdge - cfg.targetLatency;\n        }\n      }\n      if (cfg.seiInTime) {\n        var _this$_seiService;\n        (_this$_seiService = _this._seiService) === null || _this$_seiService === void 0 ? void 0 : _this$_seiService.throw(_this.media.currentTime);\n      }\n      if (_this.config.allowedStreamTrackChange && !_this.config.softDecode) {\n        _this._checkStreamTrackChange(_this.media.currentTime);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_tick\", function() {\n      if (!_this.media)\n        return;\n      _this._startTick();\n      var media = _this.media;\n      var buffered = Buffer.get(media);\n      var segLoaderError = _this._segmentLoader.error;\n      _this._onCheckQuotaExceeded();\n      if (_this._isProcessQuotaExceeded) {\n        if (!_this._bufferService.isFull()) {\n          _this._isProcessQuotaExceeded = false;\n          _this._segmentProcessing = false;\n        }\n      }\n      if (segLoaderError) {\n        var bufferMaxHoleTolerance = 0.5;\n        if (!media.readyState || _this.bufferInfo(bufferMaxHoleTolerance).remaining < 1) {\n          segLoaderError.fatal = true;\n          _this._emitError(StreamingError.network(segLoaderError));\n        }\n        return;\n      }\n      if (Buffer.end(buffered) >= 0.1 && media.readyState) {\n        if (isMediaPlaying(media)) {\n          _this._loadSegment();\n          if (_this._gapService) {\n            _this._gapService.do(media, _this.config.maxJumpDistance, _this.isLive);\n          }\n        } else {\n          if (media.readyState < 2 && _this._gapService) {\n            _this._gapService.do(media, _this.config.maxJumpDistance, !media.currentTime ? true : _this.isLive);\n          }\n        }\n      }\n      if (!_this.isLive) {\n        _this._tryEos();\n      }\n    });\n    _this.config = _cfg = getConfig(_cfg);\n    _this.media = _this.config.media;\n    _this._manifestLoader = new ManifestLoader(_assertThisInitialized(_this));\n    _this._segmentLoader = new SegmentLoader(_assertThisInitialized(_this));\n    _this._playlist = new Playlist(_assertThisInitialized(_this));\n    _this._bufferService = new BufferService(_assertThisInitialized(_this));\n    if (_cfg.seiInTime) {\n      _this._seiService = new SeiService(_assertThisInitialized(_this));\n    }\n    if (!_cfg.softDecode)\n      _this._gapService = new GapService();\n    _this._stats = new MediaStatsService(_assertThisInitialized(_this), 9e4);\n    _this.media.addEventListener(\"loadeddata\", _this._onLoadeddata);\n    _this.media.addEventListener(\"play\", _this._onPlay);\n    _this.media.addEventListener(\"pause\", _this._onPause);\n    _this.media.addEventListener(\"seeking\", _this._onSeeking);\n    _this.media.addEventListener(\"timeupdate\", _this._onTimeupdate);\n    return _this;\n  }\n  _createClass(Hls2, [{\n    key: \"isLive\",\n    get: function get() {\n      return this._playlist.isLive;\n    }\n  }, {\n    key: \"streams\",\n    get: function get() {\n      return this._playlist.streams;\n    }\n  }, {\n    key: \"currentStream\",\n    get: function get() {\n      return this._playlist.currentStream;\n    }\n  }, {\n    key: \"hasSubtitle\",\n    get: function get() {\n      return this._playlist.hasSubtitle;\n    }\n  }, {\n    key: \"totalDuration\",\n    get: function get() {\n      return this._playlist.totalDuration;\n    }\n  }, {\n    key: \"baseDts\",\n    get: function get() {\n      var _this$_bufferService;\n      return (_this$_bufferService = this._bufferService) === null || _this$_bufferService === void 0 ? void 0 : _this$_bufferService.baseDts;\n    }\n  }, {\n    key: \"abrSwitchPoint\",\n    get: function get() {\n      var targetSeg = this._urlSwitching ? this._playlist.currentSegment : this._playlist.nextSegment;\n      return targetSeg ? targetSeg.start + targetSeg.duration / 2 : null;\n    }\n  }, {\n    key: \"speedInfo\",\n    value: function speedInfo() {\n      return this._segmentLoader.speedInfo();\n    }\n  }, {\n    key: \"bufferInfo\",\n    value: function bufferInfo() {\n      var _this$media;\n      var maxHole = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0.1;\n      return Buffer.info(Buffer.get(this.media), (_this$media = this.media) === null || _this$media === void 0 ? void 0 : _this$media.currentTime, maxHole);\n    }\n  }, {\n    key: \"getStats\",\n    value: function getStats() {\n      return this._stats.getStats();\n    }\n  }, {\n    key: \"playbackQuality\",\n    value: function playbackQuality() {\n      return getVideoPlaybackQuality(this.media);\n    }\n  }, {\n    key: \"load\",\n    value: function() {\n      var _load = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee4() {\n        var url, options, reuseMse, _args4 = arguments;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1)\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                url = _args4.length > 0 && _args4[0] !== void 0 ? _args4[0] : \"\";\n                options = _args4.length > 1 && _args4[1] !== void 0 ? _args4[1] : {};\n                reuseMse = typeof options === \"boolean\" ? options : !!(options !== null && options !== void 0 && options.reuseMse);\n                if (_typeof(options) === \"object\" && options !== null && options !== void 0 && options.clearSwitchStatus) {\n                  this._urlSwitching = false;\n                  this._switchUrlOpts = null;\n                  this.config.startTime = void 0;\n                }\n                if (url)\n                  this.config.url = url;\n                url = this.config.url;\n                _context4.next = 8;\n                return this._reset(reuseMse);\n              case 8:\n                _context4.next = 10;\n                return this._loadData(url);\n              case 10:\n                this._startTick();\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n        }, _callee4, this);\n      }));\n      function load() {\n        return _load.apply(this, arguments);\n      }\n      return load;\n    }()\n  }, {\n    key: \"_loadData\",\n    value: function() {\n      var _loadData2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee5(url) {\n        var manifest, currentStream, preIndex, _this$_switchUrlOpts, _this$_switchUrlOpts3, _this$_switchUrlOpts4, _this$_switchUrlOpts2, switchTimePoint, segIdx, nextSeg, bufferClearStartPoint, startTime, _this$_switchUrlOpts5;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1)\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                try {\n                  if (url)\n                    url = url.trim();\n                } catch (e) {\n                }\n                if (url) {\n                  _context5.next = 3;\n                  break;\n                }\n                throw this._emitError(new StreamingError(ERR.OTHER, ERR.SUB_TYPES.OPTION, null, null, \"m3u8 url is missing\"));\n              case 3:\n                _context5.next = 5;\n                return this._loadM3U8(url);\n              case 5:\n                manifest = _context5.sent;\n                currentStream = this._playlist.currentStream;\n                if (!this._urlSwitching) {\n                  _context5.next = 23;\n                  break;\n                }\n                if (!this.isLive) {\n                  _context5.next = 14;\n                  break;\n                }\n                preIndex = this._playlist.setNextSegmentBySN(this._prevSegSn);\n                logger.log(\"segment nb=\".concat(this._prevSegSn, \" index of \").concat(preIndex, \" in the new playlist\"));\n                if (preIndex === -1) {\n                  this._prevSegCc = null;\n                  this._prevSegSn = null;\n                }\n                _context5.next = 23;\n                break;\n              case 14:\n                if (currentStream.bitrate === 0 && (_this$_switchUrlOpts = this._switchUrlOpts) !== null && _this$_switchUrlOpts !== void 0 && _this$_switchUrlOpts.bitrate) {\n                  currentStream.bitrate = (_this$_switchUrlOpts2 = this._switchUrlOpts) === null || _this$_switchUrlOpts2 === void 0 ? void 0 : _this$_switchUrlOpts2.bitrate;\n                }\n                switchTimePoint = typeof ((_this$_switchUrlOpts3 = this._switchUrlOpts) === null || _this$_switchUrlOpts3 === void 0 ? void 0 : _this$_switchUrlOpts3.startTime) === \"number\" ? (_this$_switchUrlOpts4 = this._switchUrlOpts) === null || _this$_switchUrlOpts4 === void 0 ? void 0 : _this$_switchUrlOpts4.startTime : this._getSeamlessSwitchPoint();\n                this.config.startTime = switchTimePoint;\n                segIdx = this._playlist.findSegmentIndexByTime(switchTimePoint);\n                nextSeg = this._playlist.getSegmentByIndex(segIdx + 1);\n                if (!nextSeg) {\n                  _context5.next = 23;\n                  break;\n                }\n                bufferClearStartPoint = nextSeg.start;\n                _context5.next = 23;\n                return this._bufferService.removeBuffer(bufferClearStartPoint);\n              case 23:\n                if (manifest) {\n                  _context5.next = 25;\n                  break;\n                }\n                return _context5.abrupt(\"return\");\n              case 25:\n                if (!this.isLive) {\n                  _context5.next = 36;\n                  break;\n                }\n                this._bufferService.setLiveSeekableRange(0, 4294967295);\n                logger.log(\"totalDuration first time got:\", this._playlist.totalDuration);\n                logger.log(\"nb segments got:\", this._playlist.nbSegments);\n                if (this.config.targetLatency < this._playlist.totalDuration) {\n                  this.config.targetLatency = this._playlist.totalDuration;\n                  this.config.maxLatency = 1.5 * this.config.targetLatency;\n                }\n                if (!manifest.isMaster)\n                  this._pollM3U8(url);\n                if (!(this._playlist.nbSegments < this.config.minSegmentsStartPlay)) {\n                  _context5.next = 33;\n                  break;\n                }\n                return _context5.abrupt(\"return\");\n              case 33:\n                _context5.next = 35;\n                return this._loadSegment();\n              case 35:\n                return _context5.abrupt(\"return\");\n              case 36:\n                _context5.next = 38;\n                return this._bufferService.updateDuration(currentStream.totalDuration);\n              case 38:\n                startTime = this.config.startTime;\n                if (startTime) {\n                  if (!((_this$_switchUrlOpts5 = this._switchUrlOpts) !== null && _this$_switchUrlOpts5 !== void 0 && _this$_switchUrlOpts5.seamless)) {\n                    this.media.currentTime = startTime;\n                  }\n                  this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(startTime) || 0);\n                }\n                _context5.next = 42;\n                return this._loadSegment();\n              case 42:\n              case \"end\":\n                return _context5.stop();\n            }\n        }, _callee5, this);\n      }));\n      function _loadData(_x) {\n        return _loadData2.apply(this, arguments);\n      }\n      return _loadData;\n    }()\n  }, {\n    key: \"replay\",\n    value: function() {\n      var _replay = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee6(isPlayEmit) {\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1)\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                this.config.startTime = 0;\n                this._urlSwitching = false;\n                this._switchUrlOpts = null;\n                _context6.next = 5;\n                return this.load();\n              case 5:\n                this._reloadOnPlay = false;\n                return _context6.abrupt(\"return\", this.media.play(!isPlayEmit));\n              case 7:\n              case \"end\":\n                return _context6.stop();\n            }\n        }, _callee6, this);\n      }));\n      function replay(_x2) {\n        return _replay.apply(this, arguments);\n      }\n      return replay;\n    }()\n  }, {\n    key: \"switchURL\",\n    value: function() {\n      var _switchURL = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee7(url) {\n        var options, defaultOpts, key, _options, seamless, startTime, appended, _args7 = arguments;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1)\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                options = _args7.length > 1 && _args7[1] !== void 0 ? _args7[1] : {};\n                defaultOpts = {\n                  seamless: false,\n                  startTime: 0,\n                  bitrate: 0\n                };\n                _context7.t0 = _typeof(options);\n                _context7.next = _context7.t0 === \"number\" ? 5 : _context7.t0 === \"boolean\" ? 7 : _context7.t0 === \"object\" ? 9 : 11;\n                break;\n              case 5:\n                options = {\n                  startTime: options\n                };\n                return _context7.abrupt(\"break\", 12);\n              case 7:\n                options = {\n                  seamless: options\n                };\n                return _context7.abrupt(\"break\", 12);\n              case 9:\n                for (key in options) {\n                  if (options[key] === void 0 || options[key] === null) {\n                    delete options[key];\n                  }\n                }\n                return _context7.abrupt(\"break\", 12);\n              case 11:\n                throw \"unsupported switchURL args: \".concat(options);\n              case 12:\n                options = Object.assign({}, defaultOpts, options);\n                _options = options, seamless = _options.seamless, startTime = _options.startTime;\n                this.config.url = url;\n                this.config.startTime = startTime;\n                this._switchUrlOpts = options;\n                if (seamless) {\n                  _context7.next = 38;\n                  break;\n                }\n                _context7.prev = 18;\n                if (!this.config.softDecode) {\n                  _context7.next = 23;\n                  break;\n                }\n                _context7.t1 = this.load(url);\n                _context7.next = 26;\n                break;\n              case 23:\n                _context7.next = 25;\n                return this.load(url);\n              case 25:\n                _context7.t1 = _context7.sent;\n              case 26:\n                appended = _context7.t1;\n                _context7.next = 33;\n                break;\n              case 29:\n                _context7.prev = 29;\n                _context7.t2 = _context7[\"catch\"](18);\n                this.emit(Event.SWITCH_URL_FAILED, _context7.t2);\n                throw _context7.t2;\n              case 33:\n                this._reloadOnPlay = false;\n                if (appended) {\n                  this.emit(Event.SWITCH_URL_SUCCESS, {\n                    url\n                  });\n                }\n                return _context7.abrupt(\"return\", this.media.play(true));\n              case 38:\n                this._urlSwitching = true;\n                if (!this.isLive) {\n                  this._prevSegSn = null;\n                  this._prevSegCc = null;\n                }\n                this._playlist.reset();\n                this._bufferService.seamlessSwitch();\n                _context7.next = 44;\n                return this._clear();\n              case 44:\n                _context7.next = 46;\n                return this._loadData(url);\n              case 46:\n                this._startTick();\n              case 47:\n                this._switchUrlOpts = null;\n              case 48:\n              case \"end\":\n                return _context7.stop();\n            }\n        }, _callee7, this, [[18, 29]]);\n      }));\n      function switchURL(_x3) {\n        return _switchURL.apply(this, arguments);\n      }\n      return switchURL;\n    }()\n  }, {\n    key: \"switchStream\",\n    value: function() {\n      var _switchStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee8(id) {\n        var force, curStream, streams, toSwitch, curId, _args8 = arguments;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1)\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                force = _args8.length > 1 && _args8[1] !== void 0 ? _args8[1] : true;\n                curStream = this.currentStream;\n                streams = this.streams;\n                if (!(!curStream || curStream.id === id || !streams || streams.length < 2)) {\n                  _context8.next = 5;\n                  break;\n                }\n                return _context8.abrupt(\"return\");\n              case 5:\n                toSwitch = streams.find(function(x) {\n                  return x.id === id;\n                });\n                if (toSwitch) {\n                  _context8.next = 8;\n                  break;\n                }\n                return _context8.abrupt(\"return\");\n              case 8:\n                _context8.prev = 8;\n                _context8.next = 11;\n                return this._clear();\n              case 11:\n                if (!force) {\n                  _context8.next = 14;\n                  break;\n                }\n                _context8.next = 14;\n                return this._bufferService.clearAllBuffer();\n              case 14:\n                _context8.next = 19;\n                break;\n              case 16:\n                _context8.prev = 16;\n                _context8.t0 = _context8[\"catch\"](8);\n                throw this._emitError(StreamingError.create(_context8.t0));\n              case 19:\n                if (curStream.currentAudioStream && toSwitch.audioStreams.length > 2) {\n                  curId = curStream.currentAudioStream.id;\n                  toSwitch.currentAudioStream = toSwitch.audioStreams.find(function(x) {\n                    return x.id === curId;\n                  }) || toSwitch.currentAudioStream;\n                }\n                this._playlist.currentStream = toSwitch;\n                _context8.prev = 21;\n                if (!(this.isLive || !toSwitch.segments.length)) {\n                  _context8.next = 25;\n                  break;\n                }\n                _context8.next = 25;\n                return this._refreshM3U8();\n              case 25:\n                this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(this.media.currentTime) || 0);\n                this._prevSegCc = null;\n                _context8.next = 29;\n                return this._loadSegmentDirect();\n              case 29:\n                _context8.next = 35;\n                break;\n              case 31:\n                _context8.prev = 31;\n                _context8.t1 = _context8[\"catch\"](21);\n                this._playlist.currentStream = curStream;\n                throw _context8.t1;\n              case 35:\n                this._startTick();\n                return _context8.abrupt(\"return\", toSwitch);\n              case 37:\n              case \"end\":\n                return _context8.stop();\n            }\n        }, _callee8, this, [[8, 16], [21, 31]]);\n      }));\n      function switchStream(_x4) {\n        return _switchStream.apply(this, arguments);\n      }\n      return switchStream;\n    }()\n  }, {\n    key: \"switchAudioStream\",\n    value: function() {\n      var _switchAudioStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee9(id) {\n        var force, curStream, audioStream, toSwitch, _args9 = arguments;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1)\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                force = _args9.length > 1 && _args9[1] !== void 0 ? _args9[1] : true;\n                curStream = this.currentStream;\n                if (curStream) {\n                  _context9.next = 4;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 4:\n                audioStream = curStream.currentAudioStream;\n                if (!(!audioStream || audioStream.id === id || curStream.audioStreams.length < 2)) {\n                  _context9.next = 7;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 7:\n                toSwitch = curStream.audioStreams.find(function(x) {\n                  return x.id === id;\n                });\n                if (toSwitch) {\n                  _context9.next = 10;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 10:\n                _context9.prev = 10;\n                _context9.next = 13;\n                return this._clear();\n              case 13:\n                if (!force) {\n                  _context9.next = 16;\n                  break;\n                }\n                _context9.next = 16;\n                return this._bufferService.clearAllBuffer();\n              case 16:\n                _context9.next = 21;\n                break;\n              case 18:\n                _context9.prev = 18;\n                _context9.t0 = _context9[\"catch\"](10);\n                throw this._emitError(StreamingError.create(_context9.t0));\n              case 21:\n                curStream.currentAudioStream = toSwitch;\n                _context9.prev = 22;\n                if (!(this.isLive || !toSwitch.segments.length)) {\n                  _context9.next = 26;\n                  break;\n                }\n                _context9.next = 26;\n                return this._refreshM3U8();\n              case 26:\n                this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(this.media.currentTime) || 0);\n                this._prevSegCc = null;\n                _context9.next = 30;\n                return this._loadSegmentDirect();\n              case 30:\n                _context9.next = 36;\n                break;\n              case 32:\n                _context9.prev = 32;\n                _context9.t1 = _context9[\"catch\"](22);\n                curStream.currentAudioStream = audioStream;\n                throw _context9.t1;\n              case 36:\n                this._startTick();\n                return _context9.abrupt(\"return\", toSwitch);\n              case 38:\n              case \"end\":\n                return _context9.stop();\n            }\n        }, _callee9, this, [[10, 18], [22, 32]]);\n      }));\n      function switchAudioStream(_x5) {\n        return _switchAudioStream.apply(this, arguments);\n      }\n      return switchAudioStream;\n    }()\n  }, {\n    key: \"switchSubtitleStream\",\n    value: function() {\n      var _switchSubtitleStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee10(lang) {\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1)\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                this._playlist.switchSubtitle(lang);\n                _context10.next = 3;\n                return this._manifestLoader.stopPoll();\n              case 3:\n                _context10.next = 5;\n                return this._refreshM3U8();\n              case 5:\n              case \"end\":\n                return _context10.stop();\n            }\n        }, _callee10, this);\n      }));\n      function switchSubtitleStream(_x6) {\n        return _switchSubtitleStream.apply(this, arguments);\n      }\n      return switchSubtitleStream;\n    }()\n  }, {\n    key: \"detachMedia\",\n    value: function() {\n      var _detachMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee11() {\n        return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n          while (1)\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                if (!this._bufferService) {\n                  _context11.next = 3;\n                  break;\n                }\n                _context11.next = 3;\n                return this._bufferService.detachMedia();\n              case 3:\n              case \"end\":\n                return _context11.stop();\n            }\n        }, _callee11, this);\n      }));\n      function detachMedia() {\n        return _detachMedia.apply(this, arguments);\n      }\n      return detachMedia;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function() {\n      var _destroy = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee12() {\n        var _this$_seiService2;\n        return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n          while (1)\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                if (this.media) {\n                  _context12.next = 2;\n                  break;\n                }\n                return _context12.abrupt(\"return\");\n              case 2:\n                this.removeAllListeners();\n                this._playlist.reset();\n                this._segmentLoader.reset();\n                (_this$_seiService2 = this._seiService) === null || _this$_seiService2 === void 0 ? void 0 : _this$_seiService2.reset();\n                this.media.removeEventListener(\"loadeddata\", this._onLoadeddata);\n                this.media.removeEventListener(\"play\", this._onPlay);\n                this.media.removeEventListener(\"pause\", this._onPause);\n                this.media.removeEventListener(\"seeking\", this._onSeeking);\n                this.media.removeEventListener(\"timeupdate\", this._onTimeupdate);\n                _context12.next = 13;\n                return Promise.all([this._clear(), this._bufferService.destroy()]);\n              case 13:\n                this.media = null;\n              case 14:\n              case \"end\":\n                return _context12.stop();\n            }\n        }, _callee12, this);\n      }));\n      function destroy() {\n        return _destroy.apply(this, arguments);\n      }\n      return destroy;\n    }()\n  }, {\n    key: \"_loadM3U8\",\n    value: function() {\n      var _loadM3U = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee13(url) {\n        var playlist, _this$config$manifest, _this$config$manifest2, manifest, _ref4, _ref5, _this$_playlist$curre;\n        return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n          while (1)\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                _context13.prev = 0;\n                manifest = (_this$config$manifest = this.config.manifestList) === null || _this$config$manifest === void 0 ? void 0 : (_this$config$manifest2 = _this$config$manifest.filter(function(x) {\n                  return x.url === url;\n                })[0]) === null || _this$config$manifest2 === void 0 ? void 0 : _this$config$manifest2.manifest;\n                if (!manifest) {\n                  _context13.next = 6;\n                  break;\n                }\n                _context13.t0 = this._manifestLoader.parseText(manifest, url);\n                _context13.next = 9;\n                break;\n              case 6:\n                _context13.next = 8;\n                return this._manifestLoader.load(url);\n              case 8:\n                _context13.t0 = _context13.sent;\n              case 9:\n                _ref4 = _context13.t0;\n                _ref5 = _slicedToArray(_ref4, 1);\n                playlist = _ref5[0];\n                _context13.next = 17;\n                break;\n              case 14:\n                _context13.prev = 14;\n                _context13.t1 = _context13[\"catch\"](0);\n                throw this._emitError(StreamingError.create(_context13.t1));\n              case 17:\n                if (playlist) {\n                  _context13.next = 19;\n                  break;\n                }\n                return _context13.abrupt(\"return\");\n              case 19:\n                this._playlist.upsertPlaylist(playlist);\n                if (!playlist.isMaster) {\n                  _context13.next = 24;\n                  break;\n                }\n                if ((_this$_playlist$curre = this._playlist.currentStream.subtitleStreams) !== null && _this$_playlist$curre !== void 0 && _this$_playlist$curre.length) {\n                  this.emit(Event.SUBTITLE_PLAYLIST, {\n                    list: this._playlist.currentStream.subtitleStreams\n                  });\n                }\n                _context13.next = 24;\n                return this._refreshM3U8();\n              case 24:\n                this.emit(Event.STREAM_PARSED);\n                return _context13.abrupt(\"return\", playlist);\n              case 26:\n              case \"end\":\n                return _context13.stop();\n            }\n        }, _callee13, this, [[0, 14]]);\n      }));\n      function _loadM3U8(_x7) {\n        return _loadM3U.apply(this, arguments);\n      }\n      return _loadM3U8;\n    }()\n  }, {\n    key: \"_refreshM3U8\",\n    value: function _refreshM3U8() {\n      var _stream$currentAudioS, _stream$currentSubtit, _this2 = this;\n      var stream = this._playlist.currentStream;\n      if (!stream || !stream.url)\n        throw this._emitError(StreamingError.create(null, null, new Error(\"m3u8 url is not defined\")));\n      var url = stream.url;\n      var audioUrl = (_stream$currentAudioS = stream.currentAudioStream) === null || _stream$currentAudioS === void 0 ? void 0 : _stream$currentAudioS.url;\n      var subtitleUrl = (_stream$currentSubtit = stream.currentSubtitleStream) === null || _stream$currentSubtit === void 0 ? void 0 : _stream$currentSubtit.url;\n      return this._manifestLoader.load(url, audioUrl, subtitleUrl).then(function(_ref6) {\n        var _ref7 = _slicedToArray(_ref6, 3), mediaPlaylist = _ref7[0], audioPlaylist = _ref7[1], subtitlePlaylist = _ref7[2];\n        if (!mediaPlaylist)\n          return;\n        _this2._playlist.upsertPlaylist(mediaPlaylist, audioPlaylist, subtitlePlaylist);\n        if (!_this2.isLive)\n          return;\n        _this2._pollM3U8(url, audioUrl, subtitleUrl);\n      }).catch(function(err) {\n        throw _this2._emitError(StreamingError.create(err));\n      });\n    }\n  }, {\n    key: \"_pollM3U8\",\n    value: function _pollM3U8(url, audioUrl, subtitleUrl) {\n      var _this3 = this;\n      var isEmpty = this._playlist.isEmpty;\n      var pollInterval;\n      if (this._playlist.lowLatency) {\n        pollInterval = (this._playlist.currentStream.partTargetDuration || 0) * 1e3;\n      } else {\n        var _this$_playlist$lastS;\n        pollInterval = (((_this$_playlist$lastS = this._playlist.lastSegment) === null || _this$_playlist$lastS === void 0 ? void 0 : _this$_playlist$lastS.duration) || 0) * 1e3;\n      }\n      this._manifestLoader.poll(\n        url,\n        audioUrl,\n        subtitleUrl,\n        function(p1, p2, p3) {\n          _this3._playlist.upsertPlaylist(p1, p2, p3);\n          _this3._playlist.clearOldSegment();\n          var switchToNoEmpty = p1 && isEmpty && !_this3._playlist.isEmpty;\n          if (switchToNoEmpty || !_this3._playlist.hadSegmentLoaded && _this3._playlist.nbSegments >= _this3.config.minSegmentsStartPlay) {\n            _this3._loadSegment();\n          }\n          if (isEmpty)\n            isEmpty = _this3._playlist.isEmpty;\n        },\n        function(err) {\n          _this3._emitError(StreamingError.create(err));\n        },\n        pollInterval\n      );\n    }\n  }, {\n    key: \"_loadSegmentDirect\",\n    value: function() {\n      var _loadSegmentDirect2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee14(loadOnce) {\n        var seg, appended, cachedError, _this$_playlist$curre2, bufferEnd, sameStream;\n        return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n          while (1)\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                seg = this._playlist.nextSegment;\n                if (seg) {\n                  _context14.next = 3;\n                  break;\n                }\n                return _context14.abrupt(\"return\");\n              case 3:\n                appended = false;\n                cachedError = null;\n                _context14.prev = 5;\n                this._segmentProcessing = true;\n                logger.log(\"load segment, sn:\".concat(seg.sn, \", [\").concat(seg.start, \", \").concat(seg.end, \"], partIndex:\").concat(seg.partIndex));\n                _context14.next = 10;\n                return this._reqAndBufferSegment(seg, this._playlist.getAudioSegment(seg));\n              case 10:\n                appended = _context14.sent;\n                _context14.next = 16;\n                break;\n              case 13:\n                _context14.prev = 13;\n                _context14.t0 = _context14[\"catch\"](5);\n                cachedError = _context14.t0;\n              case 16:\n                _context14.prev = 16;\n                this._segmentProcessing = false;\n                return _context14.finish(16);\n              case 19:\n                if (!cachedError) {\n                  _context14.next = 26;\n                  break;\n                }\n                if (!this._bufferService.isFull()) {\n                  _context14.next = 25;\n                  break;\n                }\n                logger.log(\"load segment, sn:\".concat(seg.sn, \", partIndex:\").concat(seg.partIndex));\n                this._segmentProcessing = true;\n                this._isProcessQuotaExceeded = true;\n                return _context14.abrupt(\"return\", false);\n              case 25:\n                return _context14.abrupt(\"return\", this._emitError(StreamingError.create(cachedError)));\n              case 26:\n                if (appended) {\n                  bufferEnd = this.bufferInfo().end;\n                  if (this.isLive && !this.media.seeking && bufferEnd && Math.abs(seg.end - bufferEnd) > 1) {\n                    logger.warn(\"segment: \".concat(seg.sn, \" expected end=\").concat(seg.end, \", real end=\").concat(bufferEnd));\n                    this._playlist.feedbackLiveEdge(seg, bufferEnd);\n                  }\n                  sameStream = ((_this$_playlist$curre2 = this._playlist.currentStream) === null || _this$_playlist$curre2 === void 0 ? void 0 : _this$_playlist$curre2.url) === seg.parentUrl;\n                  if (this._urlSwitching && !sameStream) {\n                    logger.warn(\"pre playlist segment appended!\");\n                    this._bufferService.seamlessSwitch();\n                  }\n                  if (this.isLive && this._urlSwitching && sameStream) {\n                    this._urlSwitching = false;\n                    this.emit(Event.SWITCH_URL_SUCCESS, {\n                      url: this.config.url\n                    });\n                  }\n                  this._playlist.moveSegmentPointer();\n                  if (seg.isLast) {\n                    this._end();\n                  } else if (!loadOnce) {\n                    this._loadSegment();\n                  }\n                }\n                return _context14.abrupt(\"return\", appended);\n              case 28:\n              case \"end\":\n                return _context14.stop();\n            }\n        }, _callee14, this, [[5, 13, 16, 19]]);\n      }));\n      function _loadSegmentDirect(_x8) {\n        return _loadSegmentDirect2.apply(this, arguments);\n      }\n      return _loadSegmentDirect;\n    }()\n  }, {\n    key: \"_reqAndBufferSegment\",\n    value: function() {\n      var _reqAndBufferSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee15(seg, audioSeg) {\n        var _this$_bufferService2;\n        var cc, discontinuity, responses, data, sn, start, stream, before, contiguous, segStart;\n        return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n          while (1)\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                cc = seg ? seg.cc : audioSeg.cc;\n                discontinuity = this._prevSegCc !== cc;\n                responses = [];\n                _context15.prev = 3;\n                _context15.next = 6;\n                return this._segmentLoader.load(seg, audioSeg, discontinuity);\n              case 6:\n                responses = _context15.sent;\n                _context15.next = 14;\n                break;\n              case 9:\n                _context15.prev = 9;\n                _context15.t0 = _context15[\"catch\"](3);\n                _context15.t0.fatal = false;\n                this._segmentLoader.error = _context15.t0;\n                throw _context15.t0;\n              case 14:\n                if (responses[0]) {\n                  _context15.next = 16;\n                  break;\n                }\n                return _context15.abrupt(\"return\");\n              case 16:\n                _context15.next = 18;\n                return (_this$_bufferService2 = this._bufferService).decryptBuffer.apply(_this$_bufferService2, _toConsumableArray(responses));\n              case 18:\n                data = _context15.sent;\n                if (data) {\n                  _context15.next = 21;\n                  break;\n                }\n                return _context15.abrupt(\"return\");\n              case 21:\n                sn = seg ? seg.sn : audioSeg.sn;\n                start = seg ? seg.start : audioSeg.start;\n                stream = this._playlist.currentStream;\n                this._bufferService.createSource(data[0], data[1], stream === null || stream === void 0 ? void 0 : stream.videoCodec, stream === null || stream === void 0 ? void 0 : stream.audioCodec);\n                before = Date.now();\n                contiguous = this._prevSegSn === sn - 1;\n                if (this.isLive && this._urlSwitching) {\n                  segStart = this.bufferInfo().end;\n                  this._playlist.updateSegmentsRanges(sn, segStart);\n                  logger.warn(\"update the new playlist liveEdge, segment id=\".concat(sn, \", buffer start=\").concat(segStart, \", liveEdge=\").concat(this._playlist.liveEdge));\n                  start = segStart;\n                }\n                _context15.next = 30;\n                return this._bufferService.appendBuffer(seg, audioSeg, data[0], data[1], discontinuity, contiguous, start);\n              case 30:\n                this.emit(Event.APPEND_COST, {\n                  elapsed: Date.now() - before,\n                  url: seg.url\n                });\n                _context15.next = 33;\n                return this._bufferService.evictBuffer(this.config.bufferBehind);\n              case 33:\n                this._prevSegCc = cc;\n                this._prevSegSn = sn;\n                return _context15.abrupt(\"return\", true);\n              case 36:\n              case \"end\":\n                return _context15.stop();\n            }\n        }, _callee15, this, [[3, 9]]);\n      }));\n      function _reqAndBufferSegment(_x9, _x10) {\n        return _reqAndBufferSegment2.apply(this, arguments);\n      }\n      return _reqAndBufferSegment;\n    }()\n  }, {\n    key: \"_onCheckQuotaExceeded\",\n    value: function() {\n      var _onCheckQuotaExceeded2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee16() {\n        var seekTime, buffered, inBuffered, i, bufferBehind, mediaTime;\n        return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n          while (1)\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                seekTime = this.media.currentTime;\n                buffered = this.media.buffered;\n                inBuffered = false;\n                i = 0;\n              case 4:\n                if (!(i < buffered.length)) {\n                  _context16.next = 11;\n                  break;\n                }\n                if (!(buffered.start(0) >= seekTime && seekTime < buffered.end(i))) {\n                  _context16.next = 8;\n                  break;\n                }\n                inBuffered = true;\n                return _context16.abrupt(\"break\", 11);\n              case 8:\n                i++;\n                _context16.next = 4;\n                break;\n              case 11:\n                if (!this._bufferService.isFull()) {\n                  _context16.next = 17;\n                  break;\n                }\n                bufferBehind = inBuffered ? this.config.bufferBehind : 5;\n                mediaTime = this.media.currentTime;\n                if (!(mediaTime - bufferBehind > 0)) {\n                  _context16.next = 17;\n                  break;\n                }\n                _context16.next = 17;\n                return this._bufferService.removeBuffer(0, mediaTime - bufferBehind);\n              case 17:\n              case \"end\":\n                return _context16.stop();\n            }\n        }, _callee16, this);\n      }));\n      function _onCheckQuotaExceeded() {\n        return _onCheckQuotaExceeded2.apply(this, arguments);\n      }\n      return _onCheckQuotaExceeded;\n    }()\n  }, {\n    key: \"_checkStreamTrackChange\",\n    value: function _checkStreamTrackChange(time) {\n      var changedSeg = this._playlist.checkSegmentTrackChange(time, this._bufferService.nbSb);\n      if (!changedSeg)\n        return;\n      this.switchURL(this.config.url, changedSeg.start + 0.2);\n    }\n  }, {\n    key: \"_clear\",\n    value: function() {\n      var _clear2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee17() {\n        return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n          while (1)\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                clearTimeout(this._disconnectTimer);\n                this._stopTick();\n                _context17.next = 4;\n                return Promise.all([this._segmentLoader.cancel(), this._manifestLoader.stopPoll()]);\n              case 4:\n                this._segmentProcessing = false;\n              case 5:\n              case \"end\":\n                return _context17.stop();\n            }\n        }, _callee17, this);\n      }));\n      function _clear() {\n        return _clear2.apply(this, arguments);\n      }\n      return _clear;\n    }()\n  }, {\n    key: \"_reset\",\n    value: function() {\n      var _reset2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee18() {\n        var _this$_seiService3;\n        var reuseMse, _args18 = arguments;\n        return _regeneratorRuntime().wrap(function _callee18$(_context18) {\n          while (1)\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                reuseMse = _args18.length > 0 && _args18[0] !== void 0 ? _args18[0] : false;\n                this._reloadOnPlay = false;\n                this._prevSegSn = null;\n                this._prevSegCc = null;\n                this._switchUrlOpts = null;\n                this._playlist.reset();\n                this._segmentLoader.reset();\n                (_this$_seiService3 = this._seiService) === null || _this$_seiService3 === void 0 ? void 0 : _this$_seiService3.reset();\n                this._stats.reset();\n                _context18.next = 11;\n                return this._clear();\n              case 11:\n                return _context18.abrupt(\"return\", this._bufferService.reset(reuseMse));\n              case 12:\n              case \"end\":\n                return _context18.stop();\n            }\n        }, _callee18, this);\n      }));\n      function _reset() {\n        return _reset2.apply(this, arguments);\n      }\n      return _reset;\n    }()\n  }, {\n    key: \"_end\",\n    value: function _end() {\n      this._clear();\n      this._bufferService.endOfStream();\n      if (this.media.readyState <= 2 || this.media.buffered.length > 1) {\n        this._startTick();\n      }\n    }\n  }, {\n    key: \"_stopTick\",\n    value: function _stopTick() {\n      if (this._tickTimer) {\n        clearTimeout(this._tickTimer);\n      }\n      this._tickTimer = null;\n    }\n  }, {\n    key: \"_startTick\",\n    value: function _startTick() {\n      this._stopTick();\n      this._tickTimer = setTimeout(this._tick, this._tickInterval);\n    }\n  }, {\n    key: \"_emitError\",\n    value: function _emitError(error) {\n      var _error$originError;\n      var endOfStream = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      if (((_error$originError = error.originError) === null || _error$originError === void 0 ? void 0 : _error$originError.fatal) === false) {\n        logger.warn(error);\n      } else {\n        var _this$media2, _this$media3, _this$_seiService4;\n        logger.table(error);\n        logger.error(error);\n        logger.error((_this$media2 = this.media) === null || _this$media2 === void 0 ? void 0 : _this$media2.error);\n        if ((_this$media3 = this.media) !== null && _this$media3 !== void 0 && _this$media3.readyState) {\n          this.media.pause();\n        }\n        this._stopTick();\n        if (this._urlSwitching) {\n          this._urlSwitching = false;\n          this.emit(Event.SWITCH_URL_FAILED, error);\n        }\n        this.emit(Event.ERROR, error);\n        if (endOfStream)\n          this._end();\n        (_this$_seiService4 = this._seiService) === null || _this$_seiService4 === void 0 ? void 0 : _this$_seiService4.reset();\n      }\n      return error;\n    }\n  }, {\n    key: \"_getSeamlessSwitchPoint\",\n    value: function _getSeamlessSwitchPoint() {\n      var media = this.media;\n      var nextLoadPoint = media.currentTime;\n      if (!media.paused) {\n        var _this$_stats;\n        var segIdx = this._playlist.findSegmentIndexByTime(media.currentTime);\n        var curSeg = this._playlist.getSegmentByIndex(segIdx);\n        var latestKbps = (_this$_stats = this._stats) === null || _this$_stats === void 0 ? void 0 : _this$_stats.getStats().downloadSpeed;\n        if (latestKbps && curSeg) {\n          var delay = curSeg.duration * this._playlist.currentStream.bitrate / latestKbps + 1;\n          nextLoadPoint += delay;\n        } else {\n          nextLoadPoint += 5;\n        }\n      }\n      return nextLoadPoint;\n    }\n  }, {\n    key: \"_tryEos\",\n    value: function _tryEos() {\n      var _this$_bufferService3, _this$_bufferService4;\n      var media = this.media;\n      var _this$_playlist2 = this._playlist, nextSegment = _this$_playlist2.nextSegment, lastSegment = _this$_playlist2.lastSegment;\n      var eosAllowed = (!nextSegment || lastSegment && Buffer.isBuffered(media, lastSegment.start + lastSegment.duration / 2)) && media.readyState && media.duration > 0 && ((_this$_bufferService3 = this._bufferService) === null || _this$_bufferService3 === void 0 ? void 0 : _this$_bufferService3.msIsOpened) && !((_this$_bufferService4 = this._bufferService) !== null && _this$_bufferService4 !== void 0 && _this$_bufferService4.msHasOpTasks);\n      if (!eosAllowed) {\n        return;\n      }\n      var bInfo = this.bufferInfo();\n      if (media.paused && !media.currentTime) {\n        bInfo = this.bufferInfo(bInfo.nextStart || 0.5);\n      }\n      var bufferThroughout = Math.abs(bInfo.end - media.duration) < 0.1 || !this.isLive && lastSegment && bInfo.end >= lastSegment.start + lastSegment.duration;\n      if (bufferThroughout) {\n        this._bufferService.endOfStream();\n      }\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported(mediaType) {\n      if (!mediaType || mediaType === \"video\" || mediaType === \"audio\") {\n        return MSE.isSupported();\n      }\n      return typeof WebAssembly !== \"undefined\";\n    }\n  }, {\n    key: \"enableLogger\",\n    value: function enableLogger() {\n      Logger.enable();\n      Logger$1.enable();\n    }\n  }, {\n    key: \"disableLogger\",\n    value: function disableLogger() {\n      Logger.disable();\n      Logger$1.disable();\n    }\n  }]);\n  return Hls2;\n}(EventEmitter);\n_defineProperty(Hls, \"version\", \"3.0.20\");\ntry {\n  if (localStorage.getItem(\"xgd\")) {\n    Hls.enableLogger();\n  } else {\n    Hls.disableLogger();\n  }\n} catch (error) {\n}\nexport { Hls, logger };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { Event } from \"./hls/constants.js\";\nvar PluginExtension = /* @__PURE__ */ function() {\n  function PluginExtension2(opts, plugin) {\n    var _this = this;\n    _classCallCheck(this, PluginExtension2);\n    _defineProperty(this, \"_opts\", null);\n    _defineProperty(this, \"_plugin\", null);\n    _defineProperty(this, \"_onLowDecode\", function() {\n      var _this$_plugin, _this$_plugin$player, _this$_plugin2, _this$_plugin2$player;\n      var _this$_opts = _this._opts, media = _this$_opts.media, innerDegrade = _this$_opts.innerDegrade;\n      (_this$_plugin = _this._plugin) === null || _this$_plugin === void 0 ? void 0 : (_this$_plugin$player = _this$_plugin.player) === null || _this$_plugin$player === void 0 ? void 0 : _this$_plugin$player.emit(\"lowdecode\", media.degradeInfo);\n      (_this$_plugin2 = _this._plugin) === null || _this$_plugin2 === void 0 ? void 0 : (_this$_plugin2$player = _this$_plugin2.player) === null || _this$_plugin2$player === void 0 ? void 0 : _this$_plugin2$player.emit(\"core_event\", _objectSpread2(_objectSpread2({}, media.degradeInfo), {}, {\n        eventName: Event.LOWDECODE\n      }));\n      if (innerDegrade === 1) {\n        _this._degrade(media.src);\n      }\n    });\n    _defineProperty(this, \"_degrade\", function(url) {\n      var player = _this._plugin.player;\n      var originVideo = player.video;\n      if (originVideo && originVideo.TAG !== \"MVideo\")\n        return;\n      var newVideo = player.video.degradeVideo;\n      player.video = newVideo;\n      originVideo.degrade(url);\n      if (url) {\n        player.config.url = url;\n      }\n      var firstChild = player.root.firstChild;\n      if (firstChild.TAG === \"MVideo\") {\n        player.root.replaceChild(newVideo, firstChild);\n      }\n      var hlsPlugin = _this._plugin.constructor.pluginName.toLowerCase();\n      player.unRegisterPlugin(hlsPlugin);\n      player.once(\"canplay\", function() {\n        player.play();\n      });\n    });\n    _defineProperty(this, \"forceDegradeToVideo\", function(url) {\n      var innerDegrade = _this._opts.innerDegrade;\n      if (innerDegrade === 1) {\n        _this._degrade(url);\n      }\n    });\n    this._opts = opts;\n    this._plugin = plugin;\n    this._init();\n  }\n  _createClass(PluginExtension2, [{\n    key: \"_init\",\n    value: function _init() {\n      var _this$_opts2 = this._opts, media = _this$_opts2.media, preloadTime = _this$_opts2.preloadTime, innerDegrade = _this$_opts2.innerDegrade, isLive = _this$_opts2.isLive;\n      if (!media)\n        return;\n      if (!isLive && media.setPlayMode) {\n        media.setPlayMode(\"VOD\");\n        return;\n      }\n      if (innerDegrade) {\n        media.setAttribute(\"innerdegrade\", innerDegrade);\n      }\n      if (preloadTime) {\n        media.setAttribute(\"preloadtime\", preloadTime);\n      }\n      this._bindEvents();\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var media = this._opts.media;\n      media.addEventListener(\"lowdecode\", this._onLowDecode);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$_opts3, _this$_opts3$media;\n      (_this$_opts3 = this._opts) === null || _this$_opts3 === void 0 ? void 0 : (_this$_opts3$media = _this$_opts3.media) === null || _this$_opts3$media === void 0 ? void 0 : _this$_opts3$media.removeEventListener(\"lowdecode\", this._onLowDecode);\n      this._plugin = null;\n    }\n  }]);\n  return PluginExtension2;\n}();\nexport { PluginExtension as default };\n","import { defineProperty as _defineProperty, typeof as _typeof, objectWithoutProperties as _objectWithoutProperties, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { BasePlugin, Events, Errors } from \"xgplayer\";\nimport { MSE, EVENT } from \"xgplayer-streaming-shared\";\nimport { Hls, logger } from \"./hls/index.js\";\nimport { Event } from \"./hls/constants.js\";\nimport PluginExtension from \"./plugin-extension.js\";\nvar _excluded = [\"currentTime\"];\nfunction parseSwitchUrlArgs(args, plugin) {\n  var player = plugin.player;\n  var curTime = player.currentTime;\n  var options = {\n    startTime: curTime\n  };\n  switch (_typeof(args)) {\n    case \"boolean\":\n      options.seamless = args;\n      break;\n    case \"object\": {\n      var currentTime = args.currentTime, rest = _objectWithoutProperties(args, _excluded);\n      Object.assign(options, rest);\n      if (typeof currentTime === \"number\") {\n        options.startTime = currentTime;\n      }\n      break;\n    }\n  }\n  return options;\n}\nvar HlsPlugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(HlsPlugin2, _BasePlugin);\n  var _super = _createSuper(HlsPlugin2);\n  function HlsPlugin2() {\n    var _this;\n    _classCallCheck(this, HlsPlugin2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"logger\", logger);\n    _defineProperty(_assertThisInitialized(_this), \"hls\", null);\n    _defineProperty(_assertThisInitialized(_this), \"pluginExtension\", null);\n    _defineProperty(_assertThisInitialized(_this), \"getStats\", function() {\n      var _this$hls;\n      return (_this$hls = _this.hls) === null || _this$hls === void 0 ? void 0 : _this$hls.getStats();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSwitchSubtitle\", function(_ref) {\n      var _this$hls2;\n      var lang = _ref.lang;\n      (_this$hls2 = _this.hls) === null || _this$hls2 === void 0 ? void 0 : _this$hls2.switchSubtitleStream(lang);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_keepPauseStatus\", function() {\n      var paused = _this.player.paused;\n      if (!paused)\n        return;\n      _this.player.once(\"canplay\", function() {\n        _this.player.pause();\n      });\n    });\n    return _this;\n  }\n  _createClass(HlsPlugin2, [{\n    key: \"core\",\n    get: function get() {\n      return this.hls;\n    }\n  }, {\n    key: \"version\",\n    get: function get() {\n      var _this$hls3;\n      return (_this$hls3 = this.hls) === null || _this$hls3 === void 0 ? void 0 : _this$hls3.version;\n    }\n  }, {\n    key: \"softDecode\",\n    get: function get() {\n      var _this$player, _this$player$config;\n      var mediaType = (_this$player = this.player) === null || _this$player === void 0 ? void 0 : (_this$player$config = _this$player.config) === null || _this$player$config === void 0 ? void 0 : _this$player$config.mediaType;\n      return !!mediaType && mediaType !== \"video\" && mediaType !== \"audio\";\n    }\n  }, {\n    key: \"beforePlayerInit\",\n    value: function beforePlayerInit() {\n      var _this2 = this;\n      var config = this.player.config;\n      var mediaElem = this.player.media || this.player.video;\n      var hlsOpts = config.hls || {};\n      if (!config.url && !config.__allowHlsEmptyUrl__ || !hlsOpts.preferMMS && MSE.isMMSOnly()) {\n        return;\n      }\n      if (this.hls)\n        this.hls.destroy();\n      var descriptor = Object.getOwnPropertyDescriptor(this.player, \"switchURL\");\n      if (!descriptor || descriptor.writable) {\n        this.player.switchURL = function(url, args) {\n          return new Promise(function(resolve, reject) {\n            var player = _this2.player, hls = _this2.hls;\n            if (hls) {\n              var _this2$player$config, _this2$player$config$;\n              var options = parseSwitchUrlArgs(args, _this2);\n              player.config.url = url;\n              hls.switchURL(url, options).then(function() {\n                return resolve(true);\n              }).catch(reject);\n              if (!options.seamless && (_this2$player$config = _this2.player.config) !== null && _this2$player$config !== void 0 && (_this2$player$config$ = _this2$player$config.hls) !== null && _this2$player$config$ !== void 0 && _this2$player$config$.keepStatusAfterSwitch) {\n                _this2._keepPauseStatus();\n              }\n            } else {\n              reject();\n            }\n          });\n        };\n      }\n      var onSwitchUrl = this.player.switchURL;\n      this.player.handleSource = false;\n      hlsOpts.innerDegrade = hlsOpts.innerDegrade || config.innerDegrade;\n      if (hlsOpts.disconnectTime === null || hlsOpts.disconnectTime === void 0)\n        hlsOpts.disconnectTime = 0;\n      this.hls = new Hls(_objectSpread2({\n        softDecode: this.softDecode,\n        isLive: config.isLive,\n        media: mediaElem,\n        startTime: config.startTime,\n        url: config.url\n      }, hlsOpts));\n      if (!this.softDecode) {\n        BasePlugin.defineGetterOrSetter(this.player, {\n          url: {\n            get: function get() {\n              var _this2$hls, _this2$hls$media;\n              return (_this2$hls = _this2.hls) === null || _this2$hls === void 0 ? void 0 : (_this2$hls$media = _this2$hls.media) === null || _this2$hls$media === void 0 ? void 0 : _this2$hls$media.src;\n            },\n            configurable: true\n          }\n        });\n      }\n      if (this.softDecode) {\n        this.pluginExtension = new PluginExtension(_objectSpread2({\n          isLive: config.isLive,\n          media: mediaElem\n        }, hlsOpts), this);\n        this.player.forceDegradeToVideo = function() {\n          var _this2$pluginExtensio;\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          return (_this2$pluginExtensio = _this2.pluginExtension) === null || _this2$pluginExtensio === void 0 ? void 0 : _this2$pluginExtensio.forceDegradeToVideo.apply(_this2$pluginExtensio, args);\n        };\n      }\n      if (config.isLive) {\n        var _this$player2;\n        (_this$player2 = this.player) === null || _this$player2 === void 0 ? void 0 : _this$player2.useHooks(\"replay\", function() {\n          var _this2$hls2;\n          return (_this2$hls2 = _this2.hls) === null || _this2$hls2 === void 0 ? void 0 : _this2$hls2.replay();\n        });\n      }\n      this.on(Events.URL_CHANGE, onSwitchUrl);\n      this.on(Events.SWITCH_SUBTITLE || \"switch_subtitle\", this._onSwitchSubtitle);\n      this.on(Events.DESTROY, this.destroy.bind(this));\n      this._transError();\n      this._transCoreEvent(EVENT.TTFB);\n      this._transCoreEvent(EVENT.LOAD_START);\n      this._transCoreEvent(EVENT.LOAD_RESPONSE_HEADERS);\n      this._transCoreEvent(EVENT.LOAD_COMPLETE);\n      this._transCoreEvent(EVENT.LOAD_RETRY);\n      this._transCoreEvent(EVENT.SOURCEBUFFER_CREATED);\n      this._transCoreEvent(EVENT.MEDIASOURCE_OPENED);\n      this._transCoreEvent(EVENT.APPEND_BUFFER);\n      this._transCoreEvent(EVENT.REMOVE_BUFFER);\n      this._transCoreEvent(EVENT.BUFFEREOS);\n      this._transCoreEvent(EVENT.KEYFRAME);\n      this._transCoreEvent(EVENT.METADATA_PARSED);\n      this._transCoreEvent(EVENT.DEMUXED_TRACK);\n      this._transCoreEvent(EVENT.SEI);\n      this._transCoreEvent(EVENT.SEI_IN_TIME);\n      this._transCoreEvent(EVENT.SPEED);\n      this._transCoreEvent(EVENT.HLS_MANIFEST_LOADED);\n      this._transCoreEvent(EVENT.HLS_LEVEL_LOADED);\n      this._transCoreEvent(EVENT.STREAM_EXCEPTION);\n      this._transCoreEvent(EVENT.SWITCH_URL_SUCCESS);\n      this._transCoreEvent(EVENT.SWITCH_URL_FAILED);\n      this._transCoreEvent(Event.NO_AUDIO_TRACK);\n      this._transCoreEvent(Event.STREAM_PARSED);\n      this._transCoreEvent(Event.SUBTITLE_SEGMENTS);\n      this._transCoreEvent(Event.SUBTITLE_PLAYLIST);\n      this._transCoreEvent(Event.APPEND_COST);\n      if (config.url) {\n        this.hls.load(config.url, {\n          reuseMse: true\n        }).catch(function(e) {\n        });\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$pluginExtension;\n      if (this.hls) {\n        this.hls.destroy();\n        this.hls = null;\n      }\n      (_this$pluginExtension = this.pluginExtension) === null || _this$pluginExtension === void 0 ? void 0 : _this$pluginExtension.destroy();\n      this.pluginExtension = null;\n    }\n  }, {\n    key: \"_transError\",\n    value: function _transError() {\n      var _this3 = this;\n      this.hls.on(Event.ERROR, function(err) {\n        if (_this3.player) {\n          _this3.player.emit(Events.ERROR, new Errors(_this3.player, err));\n        }\n      });\n    }\n  }, {\n    key: \"_transCoreEvent\",\n    value: function _transCoreEvent(eventName) {\n      var _this4 = this;\n      this.hls.on(eventName, function(e) {\n        if (_this4.player) {\n          _this4.player.emit(\"core_event\", _objectSpread2(_objectSpread2({}, e), {}, {\n            eventName\n          }));\n          if (eventName === EVENT.SEI_IN_TIME && _this4.hls.hasSubtitle) {\n            _this4._emitSeiPaylodTime(e);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_emitSeiPaylodTime\",\n    value: function _emitSeiPaylodTime(e) {\n      try {\n        var seiJson = JSON.parse(Array.from(e.data.payload).map(function(x) {\n          return String.fromCharCode(x);\n        }).join(\"\").slice(0, -1));\n        if (!seiJson[\"rtmp_dts\"])\n          return;\n        this.player.emit(\"core_event\", {\n          eventName: Event.SEI_PAYLOAD_TIME,\n          time: seiJson[\"rtmp_dts\"]\n        });\n      } catch (e2) {\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"hls\";\n    }\n  }, {\n    key: \"isSupported\",\n    value: function isSupported(mediaType, codec) {\n      return Hls.isSupported(mediaType, codec);\n    }\n  }]);\n  return HlsPlugin2;\n}(BasePlugin);\n_defineProperty(HlsPlugin, \"Hls\", Hls);\n_defineProperty(HlsPlugin, \"EVENT\", Event);\nexport { HlsPlugin, parseSwitchUrlArgs };\n","import { render } from \"./index.vue?vue&type=template&id=711367ec&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=711367ec&scoped=true&lang=scss\"\nimport \"./index.vue?vue&type=style&index=1&id=711367ec&lang=scss&scoped=true\"\nimport \"./index.vue?vue&type=style&index=2&id=711367ec&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-711367ec\"]])\n\nexport default __exports__"],"names":["DOCUMENT_NODE_TYPE","Element","prototype","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","closest","element","selector","nodeType","parentNode","module","exports","require","_delegate","type","callback","useCapture","listenerFn","listener","apply","this","arguments","addEventListener","destroy","removeEventListener","delegate","elements","bind","document","querySelectorAll","Array","map","call","e","delegateTarget","target","root","factory","define","download","data","strFileName","strMimeType","blob","reader","self","window","defaultMime","mimeType","payload","url","anchor","createElement","toString","a","String","myBlob","Blob","MozBlob","WebKitBlob","fileName","length","split","pop","href","indexOf","ajax","XMLHttpRequest","open","responseType","onload","response","setTimeout","send","test","navigator","msSaveBlob","dataUrlToBlob","saver","i","tempUiArr","Uint8Array","mx","charCodeAt","strUrl","parts","decoder","atob","decodeURIComponent","binData","uiArr","winMode","setAttribute","className","innerHTML","style","display","body","appendChild","click","removeChild","URL","revokeObjectURL","userAgent","replace","confirm","location","f","src","createObjectURL","constructor","btoa","y","encodeURIComponent","FileReader","result","readAsDataURL","has","Object","hasOwnProperty","prefix","Events","EE","fn","context","once","addListener","emitter","event","TypeError","evt","_events","push","_eventsCount","clearEvent","EventEmitter","create","__proto__","eventNames","events","name","names","slice","getOwnPropertySymbols","concat","listeners","handlers","l","ee","listenerCount","emit","a1","a2","a3","a4","a5","args","len","removeListener","undefined","j","on","removeAllListeners","off","prefixed","class","_createElementBlock","_hoisted_1","_createElementVNode","disabled","$props","currentPage","onClick","_cache","$options","goToPreviousTenPages","_createVNode","_component_van_icon","_hoisted_2","key","$data","componentKey","_Fragment","_renderList","visiblePages","page","_normalizeClass","active","_ctx","activePages","$event","goToPage","_hoisted_3","totalPages","goToNextTenPages","_hoisted_4","props","Number","required","emits","watch","handler","newVal","updateActivePages","immediate","computed","startPage","Math","floor","endPage","min","from","_","methods","forEach","$emit","newPage","max","__exports__","render","goHome","goCategory","classifyName","_createTextVNode","_toDisplayString","title","_hoisted_5","id","_hoisted_6","language","_hoisted_7","_createCommentVNode","_hoisted_8","titleUs","_hoisted_9","titleCn","_hoisted_10","_hoisted_11","_imports_0","alt","watchTimes","_hoisted_12","_imports_1","formatTime","createdAt","titleChinese","_hoisted_13","_ads","_hoisted_14","item","_hoisted_15","_component_van_image","goAd","link","fit","position","picUrl","loading","_withCtx","_component_van_loading","size","videos","idx","_hoisted_16","_createBlock","_component_Card","classifyId","specialId","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_component_Pagination","total","pageNum","onPageChange","handlePageChange","XG_DEBUG_OPEN","STYLE","info","error","warn","XGTAG","XG_DEBUG","config","debug","logInfo","message","optionalParams","console","log","logWarn","logError","_fun","bindDebug","player","XgplayerTimeRange","bufferedList","start","index","end","util","checkIsIn","list","isObject","value","debounce","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","useRAF","requestAnimationFrame","invokeFunc","time","thisArg","startTimer","pendingFunc","wait2","cancelAnimationFrame","cancelTimer","clearTimeout","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","Date","now","trailingEdge","cancel","flush","pending","debounced","isInvoking","throttle","getLang","lang","documentElement","getAttribute","toLocaleLowerCase","checkIsCurrentVideo","playerId","pid","tagName","createDom","el","tpl","attrs","cname","dom","keys","createDomFromHtml","html","classname","doc","children","addClass","err","hasClass","some","classList","orgClassName","match","RegExp","add","removeClass","remove","reg","toggleClass","classNames","typeOf","join","findDom","sel","querySelector","getElementById","getCss","currentStyle","defaultView","getComputedStyle","padStart","str","pad","charstr","maxlen","ceil","chars","r","substring","format","isNaN","round","hour","minute","second","touches","touch","changedTouches","clientX","clientY","offsetX","pageX","offsetLeft","offsetY","pageY","offsetTop","_target","srcElement","obj","deepCopy","dst","Node","deepMerge","getBgImage","backgroundImage","copyDom","back","attributes","node","setInterval","eventName","intervalFunc","frequency","_interval","clearInterval","fun","_timers","splice","clearAllTimers","_timerIds","createImgBtn","imgUrl","width","height","btn","w","h","unit","every","parseFloat","trim","backgroundSize","margin","Hex2RGBA","hex","alpha","rgb","sixHex","kw","parseInt","getFullScreenEl","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","checkIsFunction","checkIsObject","hide","show","isUndefined","val","isNotNull","setStyleFromCsstext","text","styleArr","arr","filterStyleFromText","_cssText","cssText","ret","remain","getStyleFromCsstext","preloadImg","onerror","img","Image","stopPropagation","scrollTop","pageYOffset","scrollLeft","pageXOffset","checkTouchSupport","getBuffered2","vbuffered","maxHoleDuration","buffered","sort","b","diff","buffered2","buf2len","buf2end","getEventPos","zoom","x","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","getHostFromUrl","results","domain","frameId","mozCancelAnimationFrame","cancelRequestAnimationFrame","isMSE","video","media","HTMLMediaElement","currentSrc","isBlob","generateSessionId","did","d","getTime","performance","uuid","c","random","createEvent","Event","initEvent","adjustTimeByDuration","duration","isEnded","createPositionBar","getTransformStyle","pos","scale","rotate","transformValue","styles","translate","stylesKeys","lastIndex","convertDeg","abs","getIndexByTime","segments","_len","_index","getOffsetCurrentTime","currentTime","cTime","offset","getCurrentTimeByOffset","offsetTime","VERSION_REG","android","ios","H264_MIMETYPES","sniffer","device","os","isPc","browser","ua","toLowerCase","ie","firefox","chrome","opera","safari","filter","isWindowsPhone","isSymbian","isAndroid","isFireFox","isIpad","platform","maxTouchPoints","isTablet","isPhone","isIos","osVersion","_match","exec","version","isWeixin","isSupportMP4","isSupport","mime","supportResult","canPlayType","isMSESupport","MediaSource","isTypeSupported","_logger","isHevcSupported","probeConfigSupported","defaults","supported","smooth","powerEfficient","Promise","resolve","mediaCapabilities","decodingInfo","videoConfig","audioConfig","audio","videoSupported","contentType","audioSupported","ERROR_TYPE_MAP","ERROR_MAP","Errors","errorInfo","errorType","errorCode","errorMessage","originError","ext","mediaError","ERROR_TYPES","i18n","ended","readyState","networkState","_errc","code","playerVersion","stack","host","ex","msg","PLAY","PLAYING","ENDED","PAUSE","ERROR","SEEKING","SEEKED","TIME_UPDATE","WAITING","CANPLAY","CANPLAY_THROUGH","DURATION_CHANGE","VOLUME_CHANGE","LOADED_DATA","LOADED_METADATA","RATE_CHANGE","PROGRESS","LOAD_START","EMPTIED","STALLED","SUSPEND","ABORT","BUFFER_CHANGE","PLAYER_FOCUS","PLAYER_BLUR","READY","URL_NULL","AUTOPLAY_STARTED","AUTOPLAY_PREVENTED","COMPLETE","REPLAY","DESTROY","URL_CHANGE","DOWNLOAD_SPEED_CHANGE","LEAVE_PLAYER","ENTER_PLAYER","LOADING","FULLSCREEN_CHANGE","CSS_FULLSCREEN_CHANGE","MINI_STATE_CHANGE","DEFINITION_CHANGE","BEFORE_DEFINITION_CHANGE","AFTER_DEFINITION_CHANGE","SEI_PARSED","RETRY","VIDEO_RESIZE","PIP_CHANGE","ROTATE","SCREEN_SHOT","PLAYNEXT","SHORTCUT","XGLOG","USER_ACTION","RESET","SOURCE_ERROR","SOURCE_SUCCESS","SWITCH_SUBTITLE","VIDEO_EVENTS","STATS_EVENTS","STATS_INFO","STATS_DOWNLOAD","STATS_RESET","FPS_STUCK","emitVideoEvent","eventKey","errorHandler","getVideoEventHandler","_err","eData","originalEvent","detail","timeStamp","paused","isInternalOp","_internalOp","muted","volume","vtype","removeInnerOP","_currentTime","_rate","playbackRate","_duration","isMutedChange","_lastMuted","mediaEventMiddleware","MediaProxy","super","_hasStart","mediaConfig","assign","controls","autoplay","playsinline","x5VideoPlayerFullscreen","x5VideoOrientation","airplay","tabindex","mediaType","videoAttributes","playerType","x5VideoPlayerType","loop","autoplayMuted","defaultPlaybackRate","attachVideoEvents","setEventsMiddleware","middlewares","removeEventsMiddleware","_evHandlers","funName","charAt","toUpperCase","detachVideoEvents","_attachSourceEvents","urls","removeAttribute","load","_c","_videoSourceCount","_videoSourceIndex","_vLoadeddata","_eHandler","_sourceError","_dIndex","_detachSourceEvents","_e","pause","k","play","getBufferedRange","range","isTrue","bufferedPoint","_buffered","crossOrigin","defaultMuted","errorNote","status","rate","Infinity","played","preload","seekable","seeking","onWaiting","vol","aspectRatio","videoWidth","videoHeight","addInnerOP","offAll","INDEXDB","mydb","db","ojstore","keypath","indexedDB","webkitindexedDB","IDBKeyRange","webkitIDBKeyRange","myDB","openDB","request","onsuccess","onupgradeneeded","transaction","objectStoreNames","contains","createObjectStore","keyPath","deletedb","deleteDatabase","closeDB","close","addData","storename","store","objectStore","putData","put","getDataByKey","get","deleteData","delete","clearData","clear","FULLSCREEN_EVENTS","GET_FULLSCREEN_API","EXIT_FULLSCREEN_API","PLATER_ID","callHandler","next","then","args2","hook","hookName","preset","pre","__hooks","pluginName","preRet","isContinue","catch","useHooks","removeHooks","usePluginHooks","plugins","plugin","removePluginHooks","hooksDescriptor","instance","presetHooks","defineProperty","delHooksDescriptor","runHooks","showErrorMsg","BasePlugin","defineGetterOrSetter","Obj","defaultConfig","beforeCreate","__args","__events","__onceEvents","playerConfig","__init","afterCreate","beforePlayerInit","onPluginsReady","afterPlayerInit","logger","updateLang","i18nKeys","domEventType","isArray","res","emitUserAction","action","params","nParams","registerPlugin","getPlugin","__destroy","unRegisterPlugin","ROOT_TYPES","CONTROLS","ROOT","POSITIONS","ROOT_LEFT","ROOT_RIGHT","ROOT_TOP","CONTROLS_LEFT","CONTROLS_RIGTH","CONTROLS_RIGHT","CONTROLS_CENTER","PLUGIN_STATE_CLASS","ICON_DISABLE","ICON_HIDE","isUrl","mergeIconClass","icon","mergeIconAttr","attr","createIcon","newIcon","key2","tag","registerIconsObj","iconsConfig","_icons","icons","orgIcon","registerTextObj","textConfig","langText","Plugin","insert","parent","insertIdx","isDomElement","coordinate","mode","curIdx","insertBefore","insertAdjacentHTML","eventType","capture","dels","__delegates","_parent","_el","_orgicons","registerIcons","defaultTexConfig","registerLanguageTexts","renderStr","Error","setAttr","setStyle","__registerChildren","_children","_plugin","Plugin2","checkChildren","langKey","langTextShow","changeLangTextKey","disable","find","enable","qs","bindEL","unbind","unbindEL","setHtml","htmlStr","eventHandle","isBubble","cs","cssDisplayValue","getPropertyValue","pdom","child","__defProp","__defNormalProp","enumerable","configurable","writable","__publicField","ResizeObserver","entries","t","__runHandler","__handlers","observer","__trigger","addObserver","observe","_pid","unObserver","unobserve","destroyObserver","disconnect","resizeObserver","pluginsManager","pluginGroup","init","cgid","_pluginInfoId","closeResizeObserver","resize","_originalOptions","_plugins","formatPluginInfo","PLUFGIN","checkPluginIfExits","getRootByConfig","_pConfig","lazyRegister","lazyPlugin","timeout","race","loader","__esModule","default","register","reject","originalOptions","isSupported","codecType","unRegister","_instance","deletePlugin","getPlugins","findPlugin","cName","beforeInit","retPromise","prevTask","_loadingPlugins","all","pluginsRet","pName","afterInit","setLang","reRender","_pList","STATE_CLASS","DEFAULT","DEFAULT_SKIN","ENTER","PAUSED","NO_START","ACTIVE","INACTIVE","FULLSCREEN","CSS_FULLSCREEN","ROTATE_FULLSCREEN","PARENT_ROTATE_FULLSCREEN","PARENT_FULLSCREEN","INNER_FULLSCREEN","NO_CONTROLS","FLEX_CONTROLS","CONTROLS_FOLLOW","CONTROLS_AUTOHIDE","TOP_BAR_AUTOHIDE","NOT_ALLOW_AUTOPLAY","PC","BUILTIN_CLASS","MOBILE","MINI","getDefaultConfig","isNoRoot","isCustomRoot","nullUrlStart","fluid","fitVideoSize","videoFillMode","isLive","videoInit","poster","isMobileSimulateMode","execBeforePluginsCall","allowSeekAfterEnded","enableContextmenu","closeVideoClick","closeVideoDblclick","closePlayerBlur","closeDelayBlur","leavePlayerTime","closePlayVideoFocus","closePauseVideoFocus","closeFocusVideoFocus","closeControlsBlur","topBarAutoHide","startTime","seekedStatus","miniprogress","disableSwipeHandler","enableSwipeHandler","preProcessUrl","ignores","whitelist","inactive","marginControls","fullscreenTarget","screenShot","pip","mini","cssFullscreen","keyShortcut","presets","definition","customDuration","timeOffset","thumbnail","isHideTips","minWaitDelay","commonStyle","progressColor","playedColor","cachedColor","sliderBtnStyle","volumeColor","usePreset","Preset","presetInst","_ci18n","EN","LANG","TEXT","network","mse","parse","runtime","other","HAVE_NOTHING","HAVE_METADATA","HAVE_CURRENT_DATA","HAVE_FUTURE_DATA","HAVE_ENOUGH_DATA","NETWORK_EMPTY","NETWORK_IDLE","NETWORK_LOADING","NETWORK_NO_SOURCE","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","PLAY_TIPS","PAUSE_TIPS","PLAYNEXT_TIPS","DOWNLOAD_TIPS","ROTATE_TIPS","RELOAD_TIPS","FULLSCREEN_TIPS","EXITFULLSCREEN_TIPS","CSSFULLSCREEN_TIPS","EXITCSSFULLSCREEN_TIPS","TEXTTRACK","PIP","SCREENSHOT","LIVE","OFF","OPEN","MINI_DRAG","MINISCREEN","REFRESH_TIPS","REFRESH","FORWARD","LIVE_TIP","XGI18nLang","langKeys","textKeys","_s","_t","updateKeys","en","extend","i18nTextList","i18nLangs","lang2","keyLang","use","langData","_clang","texts","pId","I18N","zh","STATES","INITIAL","ATTACHING","ATTACHED","NOTALLOW","RUNNING","DESTROYED","STATE_ARRAY","InstManager","getInstance","setActive","isUserActive","_iterate","endEarly","flag","findAll","isActive","inst","isInstNext","getActiveId","setNext","isNext","checkPlayerRoot","p","PlAYER_HOOKS","REAL_TIME_SPEED","AVG_SPEED","instManager","_Player","__startTime","_useAutoplay","mediaPlay","canPlayFunc","isFullScreen","delayResize","fullEl","_fullActionFrom","prop","to","isVideo","_fullscreenEl","focus","fullscreen","changeFullStyle","_fullScreenOffset","cssfullscreen","exitCssFullscreen","needFullscreenScroll","scrollTo","left","top","recoverFullStyle","onFullscreenChange","defaultPreset","defaultIdx","userTimer","waitTimer","handleSource","_state","isError","isSeeking","isCanplay","rotateDeg","isRotateFullscreen","timeSegments","_cssfullscreenEl","curDefinition","_orgCss","_videoHeight","_videoWidth","videoPos","pi","vy","vx","sizeInfo","_accPlayed","acc","loopAcc","_offsetInfo","innerContainer","topBar","__i18n","database","_onceSeekCanplay","_isPauseBeforeSeek","innerStates","isActiveLocked","_initMedia","rootInit","_initDOM","defaultDefinitionObj","defaultDefinition","_bindEvents","_registerPresets","_registerPlugins","getInitDefinition","setState","onReady","hasStart","state","debugger","getCurrentUserActivePlayerId","setCurrentUserActive","XgVideoProxy","_nVideo","vid","line","handle","_initBaseDoms","width2","height2","getBoundingClientRect","leftBar","rightBar","_onWebkitbeginfullscreen","_onWebkitendfullscreen","playFunc","_unbindEvents","mousemoveFunc","_clearUserTimer","_startInit","_root","firstChild","isInit","ignoresStr","cuPlugins","lazy","loadingPlugin","forceBeforeInit","_getRootByPosition","_retPlugin","exits","deregister","removedFromConfig","removePluginFromConfig","plugin2","_furl","_preProcessUrl","lineNumber","switchURL","_src","curTime","isPaused","_error","_canplay","videoPlay","playPromise","onError","_errorTimer","mediaPause","videoPause","seek","isSeekedPlay","_status","changeDefinition","bitrate","seamless","reload","reloadFunc","resetState","REPLAY2","ERROR2","LOADING2","clsList","cls","reset","unregisterPlugins","isResetConfig","pn","de","updateAcc","exitFullscreen","cList","isBuildIn","replay","onPlay","retry","cur","_srcRet","rootClass","pClassName","_orgPCss","getFullscreen","webkitRequestFullscreen","ALLOW_KEYBOARD_INPUT","fullscreenEnabled","webkitSupportsFullscreen","webkitEnterFullscreen","exitRotateFullscreen","webkitExitFullScreen","getCssFullscreen","_class","useCssFullscreen","getRotateFullscreen","setRotateDeg","_rootStyle","innerHeight","deg","orientation","autoHide","delay","onFocus","blur","ignorePaused","onBlur","isLock","onEmptied","onCanplay","onDurationchange","onLoadeddata","onLoadstart","onPause","onEnded","onSeeking","onSeeked","onPlaying","onTimeupdate","onVolumechange","onRatechange","endType","_at","checkBuffer","resizePosition","_pi","_pos","offsetWidth","offsetHeight","rHeight","rWidth","formStyle","transform","webkitTransform","setConfig","playNext","containerSize","controlsHeight","videoFit","_style","paddingTop","videoScale","vWidth","vHeight","cWidth","cHeight","updateObjectPosition","objectPosition","newState","isFullscreen","isCssfullScreen","bool","isPlaying","definitionList","curDef","targetDef","_a","videoFrameInfo","dropped","corrupted","droppedRate","droppedDuration","getVideoPlaybackQuality","_quality","droppedVideoFrames","totalVideoFrames","corruptedVideoFrames","cumulateTime","_l","__url","posterUrl","update","fullscreenChanging","videoRotateDeg","avgSpeed","realTimeSpeed","offsetCurrentTime","offsetDuration","setUserActive","isMuted","Boolean","install","descriptor","Player","Controls","initShow","center","right","innerRoot","isMini","onMouseEnter","onMouseLeave","focusAwhile","recoverAutoHide","pauseAutoHide","LOG_TYPES","FIRST_FRAME","WAIT_START","WAIT_END","SEEK_START","SEEK_END","XGLogger","isTimeUpdate","autoplayStart","_sendFF","vt","isFFLoading","isFFSend","isLs","pt","fvt","newPointTime","loadedCostTime","startCostTime","_isSeeking","seekingStart","waitingStart","fixedWaitingStart","_isWaiting","_waitTimer","_waittTimer","_waitType","suspendWaitingStatus","emitLog","suspendSeekingStatus","fixedStart","_startWaitTimeout","waitTimeout","_onReset","_initOnceEvents","_onWaitingLoadStart","_onSeeking","_onSeeked","endState","_onPlaying","_onWaiting","_onError","_onAutoplayStart","_onTimeupdate","s","costTime","_now","_cost","_fixedCost","fixedCostTime","ReplaySvg","DOMParser","parseFromString","Replay","__handleReplay","preventDefault","path","handleReplay","Poster","isEndedShow","hideCanplay","notHidden","fillMode","onTimeUpdate","getBgSize","_bg","PlaySvg","PauseSvg","AnimateMap","addAnimate","seconds","clearAnimation","Start","autoPlayStart","onPlayPause","isShowPause","isShowEnd","disableAnimate","initIcons","onAutoplayStart","onPlayerReset","clickHandler","switchPausePlay","cancelable","startPlay","startPause","focusHide","recover","switchStatus","isAnimate","animate","endShow","_animateId","endAnimate","Enter","innerHtml","logo","HTMLElement","barStr","xgIconTips","textKey","isShow","MiniScreenIcon","getMini","exitMini","getStyleSize","num","isValid","measurements","measurementsLength","getZeroSize","innerWidth","outerWidth","outerHeight","measurement","getStyle","elem","getSize","isBorderBox","boxSizing","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderWidth","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","getTouch","dentifier","identifier","EVENTS","START","MOVE","POST_START_EVENTS","mousedown","touchstart","pointerdown","Draggabilly","isEnabled","isDragging","isDown","downPoint","dragPoint","startPos","_handlerDom","_bindStartEvent","_startKey","_unbindStartEvent","_bindPostStartEvents","_boundPointerEvents","_unbindPostStartEvents","onUp","onDocUp","positionDrag","webKitTransform","setLeftTop","onmousedown","dragStart","onmousemove","dragMove","onmouseup","dragEnd","ontouchstart","touchIdentifier","pointerId","ontouchmove","ontouchend","ontouchcancel","dragCancel","pointer","_getPosition","maxY","maxX","dragRealStart","presetInfo","_dragPointerMove","moveVector","hasDragStarted","dragX","dragY","checkContain","axis","drag","grid","_getPositionCoord","_addTransformPosition","matrixValues","xIndex","translateX","translateY","styleSide","measure","parentSize","MiniScreen","isClose","scrollY","scrollHeight","lastStyle","isShowIcon","isScrollSwitch","disableDrag","onCancelClick","onCenterClick","_draggabilly","onScroll","MOUSE_EVENTS","mouseenter","mouseleave","mousemove","HOOKS","PCPlugin","__canvas","closeVideoStopPropagation","_clickCount","clickTimer","switchPlayPause","initEvents","onVideoClick","onVideoDblClick","onContextmenu","returnValue","cancelBubble","PRESS","PRESS_END","DOUBlE_CLICK","CLICK","TOUCH_MOVE","TOUCH_START","TOUCH_END","TOUCHS","move","MOUSES","pressDelay","dbClickDelay","disablePress","disableDbClick","miniStep","needPreventDefault","Touche","__setPress","onTouchEnd","onTouchCancel","onTouchMove","trigger","__clearPress","moving","press","__setDb","diffx","diffy","pressIntrvalId","dbIntrvalId","_initEvent","onTouchStart","__clearDb","touchend","touchmove","SeekTipIcon","ACTIONS","AUTO","PLAYBACK","LIGHT","MobilePlugin","touche","getTouche","disableGesture","isStart","timer","rect","_x","_y","scopeL","scopeR","scopeM1","scopeM","scopeM2","miniMoveStep","hideControlsActive","scope","checkScope","gestureY","gestureX","executeMove","resetSeekState","endLastMove","resetPos","changeAction","checkIsRootTarget","light","gradient","isTouchingSeek","miniYPer","pressRate","darkness","maxDarkness","disableActive","disableTimeProgress","hideControlsEnd","moveDuration","closedbClick","disableSeekIcon","focusVideoClick","seekTipIcon","xgMask","initCustomStyle","registerThumbnail","onRootTouchMove","onRootTouchEnd","player2","config2","eventsMap","pressend","doubleclick","progressPlugin","progress","addCallBack","activeSeekNote","forward","usable","createThumbnail","timePreview","timePreviewStyle","curTimeColor","durationColor","backgroundColor","previewDom","curColor","durColor","color","startPlugin","mold","updateTime","updateBrightness","updateVolume","lastScope","toFixed","sendUseAction","dbClickHandler","onDbClick","onPress","onPressEnd","percent","updatePercent","isForward","updateThumbnails","enableGesture","isDisableTag","isContentEditable","Keyboard","keyCode","_keyState","disableBodyTrigger","isIgnoreUserActive","checkIsVisible","metaKey","altKey","ctrlKey","isBodyKeyDown","repeat","isKeyDown","isGlobalTrigger","checkCode","onBodyKeyUp","handleKeyDown","handleKeyUp","disableRootTrigger","onKeyup","seekStep","checkVisible","keyCodeMap","mergekeyCodeMap","extendkeyCodeMap","key1","space","noBodyTarget","up","down","pressAction","esc","isPress","tt","onKeydown","onBodyKeyDown","newConfig","rec","bottom","isBodyTarget","downVolume","upVolume","_time","_step","_seekTime","seekBack","changePlaybackRate","playPause","handleKeyCode","curKeyCode","_action","loadingIcon","Loading","TPL","styleKey","InnerList","fragments","_callBack","actionCallback","fragConfig","fragFocusClass","fragAutoFocus","fragClass","cachedIndex","playedIndex","focusIndex","updateDuration","updateProgress","newIndex","curIndex","millisecond","progressList","curPFrag","per","updateFocus","unHightLight","_data","preIndex","fragment","newPIndex","findIndex","setHightLight","cached","newCIndex","findHightLight","findFragment","newOptions","inner","isFocus","item2","FRAGMENT_FOCUS_CLASS","POINT","HIGHLIGHT","Progress","_ePos","computeTime","triggerCallbacks","_updateInnerFocus","isLocked","updateWidth","seekTime","isPauseMoving","closeMoveSeek","onMoveStart","prePlayTime","isProgressMoving","progressBtn","_mouseDownHandlerHook","onMouseMove","onMouseUp","onMoveOnly","onMoveEnd","_mouseUpHandlerHook","isEnter","miniStartStep","_mouseMoveHandlerHook","unlock","useable","__dragCallBacks","direc","_disableBlur","isDragingSeek","isCloseClickSeek","endedDiff","changeState","_initInner","innerList","outer","isMobile","onCacheUpdate","onReset","onVideoResize","bindDomEvents","frags","boxShadow","removeCallBack","_mouseDownHandler","_mouseUpHandler","_mouseMoveHandler","onMouseDown","onMouseOver","onMouseOut","onBodyClick","disableBlur","enableBlur","realTime","rLeft","timeIcon","resetActive","notSeek","_end","thumbnailPlugin","controlsMode","Icon","_onMouseenter","_onMouseLeave","Play","btnClick","tipDom","BackSVG","TopBackIcon","screenBack","FullScreenSvg","ExitFullScreenSvg","Fullscreen","rotateFullscreen","useScreenOrientation","lockOrientationType","switchCallback","needBackIcon","handleFullscreen","toggleFullScreen","tipsDom","topBackIcon","_onOrientationChange","unlockScreen","e2","lockScreen","screen","lock","Time","isActiving","constrolsMode","createCenterTime","durationDom","timeDom","centerCurDom","centerDurDom","current","minWidthTime","changeLiveState","timeStr","updateState","TimeSegmentsControls","updateSegments","_checkIfEnabled","changeIndex","curPos","lastCurrentTime","getSeekTime","_onDurationChange","_onLoadedData","_onPlay","_segs","formatTimeSegments","_item","_segDuration","segDuration","last","diff2","volumeLargeSvg","volumeSmallSvg","volumeMutedSvg","Volume","bar","barRect","barH","updateVolumePos","onBarMouseUp","_d","isMoving","unFocus","showValueLabel","updateVolumeValue","miniVolume","volumeSmall","volumeLarge","volumeMuted","_timerId","changeMutedHandler","changeMuted","_onMouseenterHandler","onMouseenter","_onMouseleaveHandler","onMouseleave","onBarMousedown","onBarMouseMove","onVolumeChange","$labelValue","innerText","isForce","isShowVolumeValue","RotateSvg","Rotate","innerRotate","clockwise","onBtnClick","updateRotateDeg","rootWidth","clientWidth","rootHeight","clientHeight","_transform","_styles","transformOrigin","times","factor","PipIcon","PipIconExit","PresentationMode","INLINE","isPIPAvailable","isPip","exitPIP","requestPIP","showIcon","preferDocument","docPiPNode","docPiPStyle","checkWebkitSetPresentationMode","webkitSetPresentationMode","pMode","initPipEvents","switchPIP","pipIcon","pipIconExit","leavePIPCallback","pipWindow","enterPIPCallback","pictureInPictureWindow","onWebkitpresentationmodechanged","webkitPresentationMode","copyStyleIntoPiPWindow","pipWin","textContent","styleSheets","style2","cssRules","rule","rel","head","isDocPIPAvailable","pipOptions","playerRect","documentPictureInPicture","requestWindow","pipRoot","parentElement","previousSibling","nextSibling","append","cssContent","requestPictureInPicture","reason","exitPictureInPicture","pictureInPictureElement","_isEnabled","pictureInPictureEnabled","disablePictureInPicture","webkitSupportsPresentationMode","protocol","Next","PlayNextIcon","urlList","nextHandler","changeSrc","DownloadSvg","Download","dUrl","newUrl","getAbsoluteURL","downloadUtil","_handler","div","ScreenShot","quality","saveImg","fitVideo","screenshotIcon","initSize","onClickBtn","saveScreenShot","filename","saveLink","initMouseEvent","dispatchEvent","createCanvas","canvas","canvasCtx","getContext","imageSmoothingEnabled","imageSmoothingQuality","shot","option","mediaRatio","canvasRatio","sx","sy","sw","sh","dx","dy","dw","dh","drawImage","toDataURL","OptionList","maxHeight","onItemClick","renderItemList","_delegates","attrKeys","selected","showText","changeCallback","curSelected","getAttrObj","LIST_TYPES","SIDE","MIDDLE","TOGGLE_MODES","HOVER","getListClassName","listType","IS_MOBILE","OptionsIcon","switchActiveState","toggleMode","toggle","enterType","isIcons","curValue","listStyle","hidePortrait","isItemClickHide","heightLimit","_resizeList","optionsList","activeEvent","onEnter","onLeave","onIconClick","_isIcons","getTextByLang","curItem","changeCurrentText","itemList","_maxH","DefinitionIcon","changeDefinitionList","initDefinition","items","showItem","PlaybackRate","curRate","itemInfo","_text","CssFullSceenSvg","ExitCssFullSceenSvg","CssFullScreen","handleCssFullscreen","contentIcon","switchTips","ErrorPlugin","errorRetry","handleError","Prompt","interval","highlight","intervalId","customConfig","customOnClick","showPrompt","hidePrompt","hideinterval","ISPOT","mergeISPOT","iSpot","APIS","_updateDotDom","dotDom","calcuPosition","initDots","_ispots","createDot","ispotsInit","isNew","template","positionDot","findDot","updateDot","needShow","dot","showDot","deleteDot","del","deleteAllDots","dotDoms","getElementsByTagName","updateAllDots","iSpots","ispot","positionDots","playerSize","_pop","pRect","rect1","_left","_diff","getAllDotsDom","getDotDom","initDotsAPI","ispots","progressDot","CALLBACK_MAP","dragmove","dragstart","dragend","mouseover","ProgressPreview","isHideThumbnailHover","isDrag","_curDot","onDotMouseLeave","blurDot","focusDot","videoPreview","videothumbnail","miniWidth","defaultText","isFocusDots","isShowThumbnail","isShowCoverPreview","handlerSpotClick","_event","transformTimeHook","setTimeContent","extTextRoot","previewLine","timePoint","timeText","tipText","_hasThumnail","bindEvents","onMousemove","onMousedown","onMouseup","handlerPreviewClick","onProgressMove","updatePosition","onProgressDragStart","onProgressDragEnd","onProgressClick","updateLinePos","cwidth","isflex","lwidth","updateTimeText","showTips","hideTips","thumbnailConfig","tRoot","totalWidth","widthPerSeconds","_activeDotId","isDefault","Thumbnail","pic_num","col","row","ratio","_preloadMark","initThumbnail","getUrlByIndex","getPosition","containerWidth","containerHeight","urlIndex","indexInPage","rowIndex","colIndex","swidth","sHeight","backgroundPosition","customStyle","changeConfig","getBgColor","MiniProgress","stateClass","MODES","REAL_TIME","FRAME_RATE","POSTER","nowTime","checkIsSupportCanvas","ctx","isSupportCanvas","DynamicBg","_frameCount","startFrameCount","stop","renderOnTimeupdate","visibilityState","_checkIfCanStart","renderOnce","_isLoaded","startInterval","_sVideo","checkVideoIsSupport","videoPI","preTime","_loopType","isInnerRender","frameRate","addMask","multiple","maskBg","supportCanvasFilter","dynamicBg","rwidth","rheight","renderByPoster","onLoadedData","onVisibilitychange","canvasFilter","webkitFilter","mask","background","_p","_tVideo","HTMLVideoElement","flyVideo","_tagName","updateImg","image","sourcePI","ZH","INFO","Stats","actionData","_getTime","_stats","stats","getStats","JSON","stringify","downloadUrl","timestamp","timeFormat","toISOString","_recordUserActions","_recordInfo","_downloadStats","downloadStats","profile","_infoProfile","_info","startMs","endMs","dur","cat","ph","tid","ts","mediaElem","mediaInfo","raw","timestat","_getTimeStats","_getProfile","allStat","msgs","stat","traceEvents","GapJump","seekingEventReceived","hasPlayed","smallGapLimit","gapDetectionThreshold","_getIndex","jumpTo","seekEnd","jumpSize","isGapSmall","BROWSER_GAP_TOLERANCE","useGapJump","isSafari","end_type","video_postion","onGapJump","threshold","bufferedInfo","_getBuffered","WaitingTimeoutJump","jumpCnt","jumpCntMax","useWaitingTimeoutJump","onJump","waitingTime","DEFAULT_SPEED_TYPE","SPEED_TYPE","TestSpeed","speedListCache","initSpeedList","cnt","testSpeed","testTimeStep","speed","appendList","openSpeed","loadSize","testCnt","testSpeedUrl","xhr","headers","Range","setRequestHeader","onreadystatechange","getResponseHeader","saveSpeedMax","shift","getSpeedName","updateSpeed","getSpeed","speedName","addSpeedTypeList","_onRealSpeedChange","namePrefix","FpsDetect","tick","stuckCount","reportFrame","_lastDecodedFrames","_currentStuckCount","_lastCheckPoint","_payload","_startTick","_stopTick","_timer","_checkDecodeFPS","_checkBuffer","enoughBuffer","buffers","_checkStuck","curDecodedFrames","checkInterval","hidden","_reset","currTime","curDecoded","DefaultPreset","simulateMode","basePlugin","vodPlugins","contolsIcons","layers","PresetPlayer","_iterableToArrayLimit","_i","Symbol","iterator","_r","_arr","_n","done","return","ownKeys","object","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","source","_defineProperty","getOwnPropertyDescriptors","defineProperties","_regeneratorRuntime","Op","hasOwn","desc","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","makeInvokeMethod","tryCatch","arg","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","value2","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","methodName","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","next2","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","awrap","async","iter","reverse","skipTempReset","prev","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","_typeof","obj2","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","_classCallCheck","Constructor","_defineProperties","_toPropertyKey","_createClass","protoProps","staticProps","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","o","o2","p2","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","valueOf","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","Super","NewTarget","_slicedToArray","_arrayWithHoles","_unsupportedIterableToArray","_nonIterableRest","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_arrayLikeToArray","minLen","n","arr2","_toPrimitive","input","hint","prim","toPrimitive","_construct","Parent","Class","Parent2","Class2","Function","_isNativeFunction","_wrapNativeSuper","Map","set","Wrapper","_superPropBase","property","_get","receiver","base","_createForOfIteratorHelper","allowArrayLike","it","F","normalCompletion","didErr","step","_ERR_CODE","Buffer","Buffer2","buf","maxHole","buffers2","bufLen","lastEnd","reduce","nextStart","nextEnd","prevStart","prevEnd","behind","remaining","totalLength","isBrowser","ERR","MANIFEST","NETWORK","NETWORK_TIMEOUT","NETWORK_FORBIDDEN","NETWORK_NOTFOUND","NETWROK_RANGE_NOT_SATISFIABLE","DEMUX","REMUX","MEDIA","DRM","OTHER","RUNTIME","SUB_TYPES","FLV","HLS","MP4","FMP4","MSE_ADD_SB","MSE_APPEND_BUFFER","MSE_OTHER","MSE_FULL","MSE_CHANGE_TYPE","OPTION","DASH","LICENSE","CUSTOM_LICENSE","MSE_HIJACK","EME_HIJACK","SIDX","NO_CANPLAY_ERROR","BUFFERBREAK_ERROR","WAITING_TIMEOUT_ERROR","MEDIA_ERR_CODEC_NOT_SUPPORTED","MEDIA_ERR_URL_EMPTY","ERR_CODE","StreamingError","_Error","StreamingError2","_super","subType","origin","_this","_error$response","isTimeout","httpCode","LogCacheLevel","LOG_MAX_SIZE","SIMPLE_TYPE","Logger","Logger2","_prefix","logCacheLevel","logMaxSize","logSize","logTextArray","_console","_key","logCache","DEBUG","_console2","_len2","_key2","LOG","_console3","_len3","_key3","WARN","_console4","_len4","_key4","_len5","logText","_key5","finLogText","logable","delLog","_console5","group","table","groupEnd","toLocaleString","reduceDepth","objType","maxDepth","depth","includes","createPublicPromise","rej","promise","used","SafeJSON","getMediaSource","preferMMS","ManagedMediaSource","isMMS","mediaSource","getTimeRanges","ranges","TimeRanges","OP_NAME","APPEND","REMOVE","UPDATE_DURATION","MSE","MSE2","_this2","queue","_queue","op","opName","_this2$_sourceBuffer$","_op$context","costtime","_opst","_sourceBuffer","_startQueue","_config","bindMedia","openLog","_this$mediaSource","_this3","_url","_this$mediaSource2","streaming","_mseFullFlag","VIDEO","_this4","isReduceDuration","bufferEnd","_enqueueBlockingOp","_this5","_openPromise","isOpened","ms","onOpen","onOpen2","_st","_bindMedia","_callee","MediaSource2","useMMS","_this6","_context","unbindMedia","_onStartStreaming","_onEndStreaming","disableRemotePlayback","_unbindMedia","_callee2","hasMetadata","mseOpen","_this7","_context2","_x$promise","_x$promise$resolve","endOfStream","removeSourceBuffer","sb","addSourceBuffer","_onSBUpdateEnd","_onSBUpdateError","_this8","changeType","_enqueueOp","createSource","buffer","_this9","byteLength","_this9$_sourceBuffer$","appendBuffer","endTime","_this10","isInsertHead","_this11","_this12","allClear","_this$_queue$type","initQueue","isinit","_this13","setLiveSeekableRange","_this14","_enqueueBlockingOp2","_callee3","types","waiters","_this15","_context3","prom","updating","_x2","_x3","_x4","isFull","timestampOffset","_this16","_this17","abort","EVENT","TTFB","LOAD_RESPONSE_HEADERS","LOAD_COMPLETE","LOAD_RETRY","SOURCEBUFFER_CREATED","MEDIASOURCE_OPENED","ANALYZE_DURATION_EXCEEDED","APPEND_BUFFER","REMOVE_BUFFER","BUFFEREOS","KEYFRAME","CHASEFRAME","METADATA_PARSED","SEI","SEI_IN_TIME","FLV_SCRIPT_DATA","LOWDECODE","SWITCH_URL_SUCCESS","SWITCH_URL_FAILED","SPEED","HLS_MANIFEST_LOADED","HLS_LEVEL_LOADED","DEMUXED_TRACK","STREAM_EXCEPTION","LARGE_AV_FIRST_FRAME_GAP_DETECT","LARGE_VIDEO_DTS_GAP_DETECT","LARGE_AUDIO_DTS_GAP_DETECT","AUDIO_GAP_DETECT","AUDIO_OVERLAP_DETECT","MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT","isMediaPlaying","creationTime","webkitDroppedFrameCount","webkitDecodedFrameCount","concatUint8Array","prevLen","sleep","SeiService","SeiService2","Set","sei","_seiSet","toThrow","GapService","GapService2","maxJumpDistance","seekThreshold","_prevCurrentTime","Stats2","timescale","_timescale","encodeType","audioCodec","videoCodec","fps","samplerate","channelCount","gop","encode","_ref","_data$onMetaData","onMetaData","framerate","track","codec","fpsNum","fpsDen","sampleRate","responseUrl","samples","sample","_startGopId","gopId","_bitsAccumulateDuration","_bitsAccumulateSize","units","MediaStatsService","MediaStatsService2","core","_core","_this$_core","_this$_core2","_this$_core2$speedInf","_this$_core3","_this$_core3$speedInf","_this$_core4","_this$_core4$speedInf","_this$_core5","_this$_core5$speedInf","_this$_core6","_this$_core6$bufferIn","_ref2","_ref2$currentTime","_ref2$decodeFps","decodeFps","downloadSpeed","speedInfo","totalReceivedByte","totalSize","totalReceivedCost","totalCost","bufferInfo","_ref3","videoTrack","updateBitrate","setFpsFromScriptData","setVideoMeta","setAudioMeta","setDomain","_samples","TrackType","AUDIO","METADATA","VideoCodecType","AV1","AVC","HEVC","AudioCodecType","AAC","G711PCMA","G711PCMU","OPUS","WarningType","LARGE_AV_SHIFT","LARGE_VIDEO_GAP","LARGE_VIDEO_GAP_BETWEEN_CHUNK","LARGE_AUDIO_GAP","AUDIO_FILLED","AUDIO_DROPPED","AudioSample","AudioSample2","pts","sampleOffset","dependsOn","isNonSyncSample","originPts","dts","isFirefox","AAC2","FREQ","skip","frames","samplingFrequencyIndex","protectionSkipBytes","frameLength","objectType","_AAC$_getConfig","_getConfig","frameIndex","getFrameDuration","subarray","originCodec","_AAC$_getConfig2","samplingIndex","originObjectType","extensionSamplingIndex","LARGE_AV_FIRST_FRAME_GAP","AUDIO_GAP_OVERLAP_THRESHOLD_COUNT","MAX_SILENT_FRAME_DURATION","AUDIO_EXCETION_LOG_EMIT_DURATION","MAX_VIDEO_FRAME_DURATION","MAX_DTS_DELTA_WITH_NEXT_CHUNK","LARGE_AV_FIRST_FRAME_FORCE_FIX_THRESHOLD","TsFixer","TsFixer2","audioTrack","metadataTrack","fixerConfig","_baseDts","_baseVideoDts","_baseAudioDts","_baseDtsInited","_audioNextPts","_videoNextDts","_audioTimestampBreak","_videoTimestampBreak","_lastAudioExceptionGapDot","_lastAudioExceptionOverlapDot","_lastAudioExceptionLargeGapDot","_needForceFixLargeGap","forceFixLargeGap","_largeGapThreshold","largeGapThreshold","discontinuity","contiguous","vSamples","aSamples","firstVideoSample","firstAudioSample","vaDelta","_calculateBaseDts","vDeltaToNextDts","aDeltaToNextDts","_resetBaseDtsWhenStreamBreaked","_fixAudio","_fixVideo","exist","seiSamples","baseMediaDecodeTime","samp0","_samples$","refSampleDurationInt","sampleDuration","firstSample","nextSample","vDelta","warnings","nextDts","firstSampleDts","nextSampleDts","i2","_samples$i","prevDts","first","_dts","_nextSample","expectFragEnd","originDts","refSampleDuration","_doFixAudioInternal","audioSamps","videoSamps","audioBasePts","videoBaseDts","baseDts","delta","largeGap","isFinite","calc","_audioLastSample","_videoLastSample","nextPts","silentFrame","getSilentFrame","count","silentSample","MAX_SIZE","pow","readBig16","readBig24","readBig32","readBig64","getAvcCodec","codecs","combineToFloat","integer","decimal","toDegree","matrix","scaled0","hypot","scaled1","atan2","PI","NALu","NALu2","dataLen","isHevc","uint","emulationPreventionBytesPositions","newLength","newData","sourceIndex","ExpGolomb","ExpGolomb2","_bytesAvailable","_loadWord","_bitsAvailable","availableBytes","workingBytes","_word","DataView","getUint32","skipBytes","bits","readBits","leadingZeroCount","skipLZ","skipBits","clz","readUEG","deltaScale","lastScale","nextScale","readEG","AVC2","spsParsed","spsSize","nalUnitSize","spsArr","ppsArr","spsCount","sps","parseSPS","removeEPB","ppsSize","ppsCount","eg","readUByte","profileIdc","profileCompatibility","levelIdc","skipUEG","chromaFormat","chromaFormatIdc","readBool","scalingListCount","skipScalingList","picOrderCntType","numRefFramesInPicOrderCntCycle","_i2","picWidthInMbsMinus1","picHeightInMapUnitsMinus1","frameMbsOnlyFlag","sarRatio","fixedFrame","frameCropLeftOffset","frameCropRightOffset","frameCropTopOffset","frameCropBottomOffset","aspectRatioIdc","numUnitsInTick","timeScale","HEVC2","hvcC","vpsParsed","nalUnitType","numNalus","nalSize","vpsArr","numOfArrays","vps","parseVPS","vpsMaxSubLayersMinus1","numTemporalLayers","_parseProfileTierLevel","spsMaxSubLayersMinus1","temporalIdNested","separateColourPlaneFlag","confWinLeftOffset","confWinRightOffset","confWinTopOffset","confWinBottomOffset","conformanceWindowFlag","bitDepthLumaMinus8","bitDepthChromaMinus8","subWidthC","subHeightC","maxSubLayersMinus1","generalTierFlag","generalProfileSpace","generalProfileIdc","generalProfileCompatibilityFlags","generalConstraintIndicatorFlags","generalLevelIdc","subLayerProfilePresentFlag","subLayerLevelPresentFlag","bitsAvailable","VideoTrack","VideoTrack2","sequenceNumber","present","pps","isVideoEncryption","AudioTrack","AudioTrack2","isAudioEncryption","VideoSample","VideoSample2","keyframe","Sample","Sample2","SeiSample","_Sample2","SeiSample2","_super2","MetadataTrack","MetadataTrack2","flvScriptSamples","TsDemuxer","TsDemuxer2","_fixer","_pmtId","_remainingPacketData","_videoPesData","_audioPesData","remainingLength","videoPid","audioPid","payloadUnitStartIndicator","adaptationFiledControl","tableEnd","programInfoLength","esPid","_parseVideoData","_parseAudioData","formatTimescale","fix","demux","pes","_parsePES","parseAnnexB","_createVideoSample","setToKeyframe","_gopId","parseSEI","spsInfo","ffByteFound","_pushVideoSample","lastSample","_parseAacData","_track$samples","parseADTS","sampleRateIndex","headerDataLen","startPrefix","pesLen","ptsDtsFlags","ByteReader","ByteReader2","dv","byteOffset","byteNum","getFloat32","getFloat64","getInt8","getInt16","getInt32","getUint8","getUint16","read","setUint8","setUint16","setUint32","uint8","unreadLength","fromCharCode","v","concatUint8s","BitReader","BitReader2","byte","MP4Parser","MP4Parser2","headerSize","subData","findBox","box","parseBox","trackId","baseDataOffsetPresent","flags","sampleDescriptionIndexPresent","defaultSampleDurationPresent","defaultSampleSizePresent","defaultSampleFlagsPresent","baseDataOffset","sampleDescriptionIndex","defaultSampleDuration","defaultSampleSize","defaultSampleFlags","reference_ID","earliest_presentation_time","first_offset","references","ref","tmp32","reference_type","referenced_size","subsegment_duration","starts_with_SAP","SAP_type","SAP_delta_time","mvhd","trak","pssh","nextTrackId","tkhd","mdia","fromUint8","int32","caculatedMatrix","readInt","rotation","mdhd","hdlr","minf","handlerType","vmhd","smhd","stbl","graphicsmode","opcolor","balance","_ret$stsd$entries$","_ret$stsd$entries$$si","_ret$stsd$entries$$si2","stsd","stts","ctts","stsc","stsz","stco","co64","default_IV_size","sinf","schi","tenc","stss","senc","iv","sampleCount","InitializationVector","subsamples","subsampleCount","_j","subsample","BytesOfClearData","BytesOfProtectedData","keyIds","systemId","toHex","numKeyIds","keyId","dataSize","data_size","kid","system_id","entryCount","av01","avc1","hvc1","mp4a","alaw","ret2","data2","start2","samplesize","esds","horizresolution","vertresolution","avcC","pasp","default_IsEncrypted","default_KID","frma","data_format","colorType","readString","colorPrimaries","transferCharacteristics","matrixCoefficients","fullRangeFlag","iccProfile","readToUint8","bodyStart","parseVisualSampleEntry","bodyData","av1C","colr","bitdepth","bit","fromByte","marker","seqProfile","seqLevelIdx0","seqTier0","highBitdepth","twelveBit","monochrome","chromaSubsamplingX","chromaSubsamplingY","chromaSamplePosition","reserved","initialPresentationDelayPresent","initialPresentationDelayMinusOne","configOBUs","configurationVersion","AVCProfileIndication","AVCLevelIndication","lengthSizeMinusOne","spsLength","ppsLength","_i3","_size","tmp","generalProfileCompatibility","avgFrameRate","_ret$vps","nalus","_ret$sps","_ret$pps","hSpacing","vSpacing","parseAudioSampleEntry","byteRead","_i4","firstChunk","samplesPerChunk","sampleSize","entrySizes","mfhd","traf","tfhd","tfdt","trun","dataOffset","firstSampleFlags","cts","isLeading","isDependedOn","hasRedundancy","paddingValue","degradationPriority","moov","_e$esds","_e$esds2","tracks","vTrack","_t$mdia","_t$mdia$hdlr","aTrack","_t$mdia2","_t$mdia2$hdlr","_vTrack$tkhd","_vTrack$mdia","_vTrack$mdia$minf","_vTrack$mdia$minf$stb","_vTrack$mdia2","_vTrack$mdia2$minf","_vTrack$mdia2$minf$st","_vTrackId","tkhdDuration","mvhdDurtion","mvhdTimecale","_e1$sinf","_e1$sinf$schi","_e1$sinf2","_e1$sinf2$schi","_e1$sinf3","_e1$sinf3$schi","_e1$sinf4","_e1$sinf4$frma","e1","videoSenc","useEME","kidValue","encv","_aTrack$tkhd","_e$esds3","_e$esds4","_aTrack$mdia","_aTrack$mdia$minf","_aTrack$mdia$minf$stb","_aTrack$mdia2","_aTrack$mdia2$minf","_aTrack$mdia2$minf$st","_aTrackId","_e$sinf","_e$sinf$frma","_e$sinf2","_e$sinf2$schi","_e$sinf3","_e$sinf3$schi","_e$sinf4","_e$sinf4$schi","getRateIndexByRate","audioSenc","enca","_videoTrack$encv","_audioTrack$enca","vkid","akid","videoSampleCount","_audioTrack$samples","audioSampleCount","segmentDuration","moof","defaultSize","defaultDuration","evaluateDefaultDuration","_t$mdia3","_t$mdia3$hdlr","_t$mdia4","_t$mdia4$hdlr","videoSamples","audioSamples","_vTrack$mdia3","_vTrack$mdia3$minf","videoStbl","getSamples","_aTrack$mdia3","_aTrack$mdia3$minf","_aTrack$mdia$mdhd","audioStbl","_stts","_stsc","_stsz","_stco","keyframeMap","cttsArr","cttsEntries","stscEntries","stcoEntries","stszEntrySizes","stssEntries","chunkIndex","chunkRunIndex","offsetInChunk","lastSampleInChunk","lastChunkInRun","dataReferenceIndex","frameCount","isFullBox","Decryptor","Decryptor2","crypto","msCrypto","subtle","webkitSubtle","externalDecryptor","_this$externalDecrypt","_decryptSegment","_decryptSegment2","seg","_decryptData","keyIv","_decryptData2","aesKey","decrypt","importKey","t0","t1","_x5","_x6","_x7","FMP4Demuxer","FMP4Demuxer2","partData","partDataStart","videoExist","audioExist","isAV01","dataStart","__lastRemainData","lastRemainDataEnd","__lastRemainDataStart","continuous","noDuplicateData","__nextMoofStart","moovBox","dataEnd","moovToTrack","moofBoxes","moofBox","__loadedMoofWraps","nextMoofStart","_iterator","_loop","moofWrap","moofStart","moofToSamples","videoBaseMediaDecodeTime","audioBaseMediaDecodeTime","xStart","sampleData","videoData","audioData","baseOffset","_moovBox","_moofBox","_baseOffset","probe","Concat","ResultConstructor","arrays","UINT32_MAX","MP42","FTYPHEV1","FTYPAVC1","ftyp","content","mvex","mvhd2","trak2","tkhd2","mdia2","mdhd2","hdlr2","HDLR_TYPES","minf2","VMHD","SMHD","DINF","extBox","stbl2","STTS","STSC","STSZ","STCO","opus","avc1hev1","stsd2","_concat$concat","avcc","btrt","schm","typ","boxes","fiel","_concat$concat2","hvcC2","ArrayBuffer","pcf","cif","write","_ref4","esds2","opusAudioDescription","opusSpecificConfig","dOps","Opus","mvex2","trex","trex2","moof2","mfhd2","sencLength","videoSencLength","saiz","saio","trun1","traf2","_sbgp","sbgp","_saiz","_saio","_senc","_trun2","_traf","_trun","_trun3","_sbgp2","_saiz2","_saio2","_senc2","_trun4","_traf2","sdtp","extension","writeUint32","samplesLength","writeUint16","upperWordBaseMediaDecodeTime","lowerWordBaseMediaDecodeTime","sampleLen","_samples$i$flag","_samples$i$cts","trackMP4","mdiaMP4","minfMP4","stblMP4","_ref5","_ref6","sampleDescIndex","samplesSizes","offsets","keyframeIndexes","_ref7","styp","durationCount","earliestTime","mdatSize","sidx","mdat2","mdat","dinf","dref","StblTable","FMP4Remuxer","FMP4Remuxer2","browserVersions","forceFirstIDR","videoInitSegment","audioInitSegment","initSegment","videoSegment","audioSegment","createInit","hasVideo","hasAudio","initMerge","hasSample","_remuxVideo","_remuxAudio","mdata","_sample","mdatView","_offset2","_sample2","u","_offset","STREAM_PARSED","NO_AUDIO_TRACK","SUBTITLE_SEGMENTS","SUBTITLE_PLAYLIST","SEI_PAYLOAD_TIME","APPEND_COST","Transmuxer","Transmuxer2","hls","isMP4","needRemux","_demuxer","_isMP4","_remuxer","videoChunk","audioChunk","needInit","demuxer","demuxAndFix","vParsed","firstDts","firstPts","samplesDuration","aParsed","newId","_initSegmentId","_fireEvents","mseLowLatency","totalDuration","_this$_remuxer$remux","remux","logCC","meta","_excluded","_excluded2","BufferService","BufferService2","softDecode","_softVideo","_mse","decryptor","_decryptor","_this$_transmuxer","_this$_transmuxer$_de","_this$_transmuxer$_de2","_transmuxer","_this$_mse","_this$_mse2","_this$_mse3","hasOpTasks","_this$_mse4","_updateDuration","_sourceCreated","chunk","_directAppend","mix","_createMseSource","_appendBuffer","segment","afterAppend","_this$_transmuxer$tra","_this$_transmuxer$tra2","isFirstAppend","videoRest","audioRest","_this2$hls","_this2$hls2","_needInitSegment","transmux","setTrackExist","_handleCodecChange","task","_x8","_removeBuffer","_args3","clearBuffer","removeEnd","removeBuffer","_evictBuffer","_callee4","bufferBehind","_context4","evictBuffer","_x9","_clearAllBuffer","_callee5","_context5","clearAllBuffer","_callee6","reuseMse","_args6","_context6","_endOfStream","_callee7","_context7","_setLiveSeekableRange","_callee8","_context8","_x10","_x11","_detachMedia","_callee9","_context9","detachMedia","_destroy","_callee10","_this$_decryptor","_context10","tasks","codecList","sourceBuffer","getSourceBuffer","_this$_mse5","getConfig","cfg","maxPlaylistSize","retryCount","retryDelay","pollRetryCount","loadTimeout","manifestLoadTimeout","preloadTime","useLowLatency","targetLatency","maxLatency","allowedStreamTrackChange","seiInTime","manifestList","minSegmentsStartPlay","preferMMSStreaming","LoaderType","FETCH","XHR","ResponseType","ARRAY_BUFFER","NetError","NetError2","isPlainObject","isDate","getRangeValue","setUrlParams","hashIndex","createResponse","contentLength","age","firstByteTime","priOptions","calculateSpeed","byteLen","milliSecond","CACHESIZE","FetchLoader","_EventEmitter","FetchLoader2","_this$_abortControlle","onProgress","onTimeout","onCancel","transformResponse","credentials","cache","redirect","referrer","referrerPolicy","onProcessMinLen","_aborted","_onProcessMinLen","_onCancel","_abortController","AbortController","_running","_range","_vid","_priOptions","signal","_timeoutTimer","rangeValue","Headers","fetch","_response","ok","json","_loadChunk","arrayBuffer","_cancel","_reader","st","getReader","_writeIdx","pump","_this3$_range","startRange","startByte","curLen","retData","temp","_receivedLength","loaderType","onRetryError","transformRequest","transformError","integrity","XhrLoader","XhrLoader2","req","_onProgress","_headers","_withCredentials","_body","_method","_timeout","_runing","_responseType","_firstRtt","_onTimeout","_request","_loadCompleteResolve","_loadCompleteReject","_startLoad","chunkSize","_currentChunkSizeKB","_internalOpen","_startTime","_xhr","withCredentials","_onLoad","_onReadyStatechange","errorEvent","_errorEvent$currentTa","_errorEvent$currentTa2","_errorEvent$currentTa3","currentTarget","statusText","ontimeout","_this$_range","byteStart","_this$_range2","responseURL","_getHeaders","_transformResponse","headerLines","getAllResponseHeaders","header","Task","Task2","alive","_loaderType","_loader","_retryCount","_retryTimer","_canceled","_retryCheckFunc","retryCheckFunc","_this$_config","rest","isRetry","running","NetLoader","NetLoader2","_currentTask","_processTask","cancels","_alive","finally","_this3$_currentTask","_this3$_alive","MasterPlaylist","MasterPlaylist2","MediaType","Audio","Video","SubTitle","ClosedCaptions","KeySystems","CLEAR_KEY","FAIRPLAY","WIDEVINE","PLAYREADY","flatArray","MediaStream","MediaStream2","AudioStream","_MediaStream","AudioStream2","SubTitleStream","_MediaStream3","SubTitleStream2","_super3","MasterStream","MasterStream2","MediaPlaylist","MediaPlaylist2","MediaSegment","MediaSegment2","parentUrl","prevSegment","byteRange","bytes","MediaSegmentKey","MediaSegmentKey2","segKey","keyFormat","keyFormatVersions","sn","setIVFromSN","isKeyFormatValid","isMethodValid","isSegmentEncrypted","isValidKeySystem","REGEXP_TAG","REGEXP_ATTR","REGEXP_ABSOLUTE_URL","REGEXP_URL_PAIR","getLines","parseTag","parseAttr","getAbsoluteUrl","pairs","CODECS_REGEXP","getCodecs","re","isValidDaterange","dateRangeWithSameId","_badValueForSameId","DURATION","_endDate","_startDate","cue","enumeratedStringList","CUE","post","ID","END_ON_NEXT","CLASS","attrValue","dict","parseMasterPlaylist","lines","master","audioStreams","subtitleStreams","_tag","stream","TYPE","URI","autoSelect","AUTOSELECT","NAME","LANGUAGE","CHANNELS","channels","_stream","_attr","BANDWIDTH","RESOLUTION","_attr$RESOLUTION$spli","_attr$RESOLUTION$spli2","CODECS","textCodec","audioGroup","subtitleGroup","SUBTITLES","streams","stream2","parseMediaPlaylist","curSegment","curInitSegment","curKey","curSN","curCC","endOfList","partSegmentIndex","targetDuration","lowLatency","partTargetDuration","canBlockReload","partHoldBack","canSkipUntil","canSkipDateRanges","startSN","startCC","setByteRange","_attr2","independent","cc","partIndex","clone","dataTime","_data$split","_data$split2","_attr3","METHOD","KEYFORMAT","KEYFORMATVERSIONS","IV","_attr4","BYTERANGE","isInitSegment","_attr5","skippedSegments","MAX_SAFE_INTEGER","_attr6","dateRanges","endDate","END_DATE","lastSegment","isLast","endSN","endPartIndex","live","endCC","M3U8Parser","M3U8Parser2","isMediaPlaylist","ManifestLoader","ManifestLoader2","elapsed","retryTime","_useLowLatency","_this$hls$config","fetchOptions","_onLoaderRetry","_audioLoader","_subtitleLoader","_load","audioUrl","subtitleUrl","toLoad","videoText","audioText","subtitleText","videoResUrl","audioResUrl","subtitleResUrl","_yield$Promise$all","_yield$Promise$all2","subtitle","_audio$response","_subtitle$response","_audio$response2","onPreM3U8Parse","playlist","audioPlaylist","subtitlePlaylist","_playlist","_emitOnLoaded","isMaster","_playlist2","cb","errorCb","clamp","Stream","Stream2","_setLLPlaybackPoint","_this$segments$","_this$lastSegment","lastSeg","_this$currentSubtitle","currentSubtitleStream","currentAudioStream","_clearSegments","snDiff","_updateSegments","newSegs","segs","toSwitch","maxStartPoint","usefulSegs","sliceStart","segObj","_endSeg$sn","endSeg","hasNew","toAppend","endTimeBeforeAppend","lastCC","Playlist","Playlist2","_this$currentStream","currentStream","_this$currentStream2","_this$currentSegments","currentSegments","_segmentPointer","_this$currentSegments2","_this$currentStream3","_this$currentStream4","currentSubtitleEndSn","_this$currentStream5","liveEdge","_this$currentStream6","_this$currentSegments3","_this$currentSegments4","_this$currentStream7","_this$currentStream8","_this$currentStream9","getAudioSegment","_this$currentSegments5","dvrWindow","_this$currentSegments6","_this$currentSegments7","setNextSegmentByIndex","newSubtitleSegs","updateSubtitle","_this$currentSegments8","_this$currentStream10","switchSubtitle","clearOldSegment","nbSb","findSegmentIndexByTime","getSegmentByIndex","updateSegmentsRanges","SKIP_SMALL_CHUNK","MAX_CHUNK_SAVE_SIZE","MAX_SEGMENT_SAVE_SIZE","LONGTIME_NO_RECEIVE","BandwidthService","BandwidthService2","opts","_opts","totalByte","_speeds","_this$_opts","_this$_opts2","skipChunkSize","_totalSize","_totalCost","_chunkSpeed","_chunkCache","chunkCountForSpeed","_this$_opts3","cost","longtimeNoReceived","SegmentLoader","SegmentLoader2","_bandwidthService","addRecord","_mapCache","_keyCache","_segmentLoader","_audioSegmentLoader","_keyLoader","getLatestSpeed","getAvgSpeed","audioSeg","loadInit","loadAudioInit","loadVideoSegment","loadAudioSegment","_loadSegment","_loadSegment2","segLoader","_seg$key","mapKey","mapKeyIv","_seg$initSegment$key","mapUrl","_keyUrl","keyUrl","Hls","Hls2","_cfg","_this$_playlist","nextSegment","_assertThisInitialize","minFrameDuration","maxBufferThroughout","bInfo","bufferThroughout","_segmentProcessing","_tryEos","_bufferService","msStreaming","_urlSwitching","_prevSegSn","_loadSegmentDirect","_disconnectTimer","_reloadOnPlay","disconnectTime","_clear","seekRange","newSeekTime","curSeg","segIndex","_onCheckQuotaExceeded","currentSegment","_this$_seiService","latency","_seiService","throw","_checkStreamTrackChange","segLoaderError","_isProcessQuotaExceeded","bufferMaxHoleTolerance","fatal","_emitError","_gapService","do","_manifestLoader","_onLoadeddata","_onPause","hasSubtitle","_this$_bufferService","targetSeg","_this$media","_args4","clearSwitchStatus","_switchUrlOpts","_loadData","_loadData2","manifest","_this$_switchUrlOpts","_this$_switchUrlOpts3","_this$_switchUrlOpts4","_this$_switchUrlOpts2","switchTimePoint","segIdx","nextSeg","bufferClearStartPoint","_this$_switchUrlOpts5","_loadM3U8","setNextSegmentBySN","_prevSegCc","_getSeamlessSwitchPoint","nbSegments","_pollM3U8","_replay","isPlayEmit","_switchURL","defaultOpts","_options","appended","_args7","t2","seamlessSwitch","_switchStream","force","curStream","curId","_args8","_refreshM3U8","switchStream","_switchAudioStream","audioStream","_args9","switchAudioStream","_switchSubtitleStream","stopPoll","switchSubtitleStream","_callee11","_context11","_callee12","_this$_seiService2","_context12","_loadM3U","_callee13","_this$config$manifest","_this$config$manifest2","_this$_playlist$curre","_context13","parseText","upsertPlaylist","_stream$currentAudioS","_stream$currentSubtit","mediaPlaylist","pollInterval","_this$_playlist$lastS","isEmpty","poll","p1","p3","switchToNoEmpty","hadSegmentLoaded","_loadSegmentDirect2","_callee14","loadOnce","cachedError","_this$_playlist$curre2","sameStream","_context14","_reqAndBufferSegment","feedbackLiveEdge","moveSegmentPointer","_reqAndBufferSegment2","_callee15","_this$_bufferService2","responses","before","segStart","_context15","decryptBuffer","_onCheckQuotaExceeded2","_callee16","inBuffered","mediaTime","_context16","changedSeg","checkSegmentTrackChange","_clear2","_callee17","_context17","_reset2","_callee18","_this$_seiService3","_args18","_context18","_tickTimer","_tick","_tickInterval","_error$originError","_this$media2","_this$media3","_this$_seiService4","nextLoadPoint","_this$_stats","latestKbps","_this$_bufferService3","_this$_bufferService4","_this$_playlist2","eosAllowed","isBuffered","msIsOpened","msHasOpTasks","WebAssembly","Logger$1","localStorage","getItem","enableLogger","disableLogger","PluginExtension","PluginExtension2","_this$_plugin","_this$_plugin$player","_this$_plugin2","_this$_plugin2$player","innerDegrade","degradeInfo","_degrade","originVideo","TAG","newVideo","degradeVideo","degrade","replaceChild","hlsPlugin","_init","setPlayMode","_onLowDecode","_this$_opts3$media","parseSwitchUrlArgs","HlsPlugin","_BasePlugin","HlsPlugin2","_this$hls","_this$hls2","_this$hls3","_this$player","_this$player$config","hlsOpts","__allowHlsEmptyUrl__","isMMSOnly","_this2$player$config","_this2$player$config$","keepStatusAfterSwitch","_keepPauseStatus","_this$player2","onSwitchUrl","_this2$hls$media","pluginExtension","forceDegradeToVideo","_this2$pluginExtensio","_onSwitchSubtitle","_transError","_transCoreEvent","_this$pluginExtension","_emitSeiPaylodTime","seiJson","components","Title","Card","Pagination","relatedMap","moreRelatedMap","pageSize","mapState","ads","common","menus","nv","$route","query","initData","mapActions","toggleLoading","getVideos","moment","getVideoInfo","api","initPlayer","getMenuInfo","classifyInfo","rows","getAds","$router","videoCover","dispose","$nextTick","beforeUnmount"],"sourceRoot":""}