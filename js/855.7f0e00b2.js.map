{"version":3,"file":"js/855.7f0e00b2.js","mappings":"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,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,OAEF,OAAO2mG,CACT,GACC,CACDjiH,IAAK,OACLmH,MAAO,SAAcouF,GACnB,IAAI2sB,EAAQP,EAAKxU,IAAIwU,EAAK7wB,MAAMge,KAAM6S,EAAK1S,KAAK1Z,EAAMt1F,GAAIs1F,EAAMojB,cAAgB,EAAGpjB,EAAM5/E,MAAO4/E,EAAM3/E,QAAS+rG,EAAKzS,KAAK3Z,IACzH,OAAO2sB,CACT,GACC,CACDliH,IAAK,OACLmH,MAAO,SAAclH,EAAIqb,GACvB,IAAI3F,EAAQtgB,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,EACzEugB,EAASvgB,UAAUwC,OAAS,QAAsB,IAAjBxC,UAAU,GAAgBA,UAAU,GAAK,EAC1E8sH,EAAQR,EAAKxU,IAAIwU,EAAK7wB,MAAMme,KAAM,IAAIh2G,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAgH,GAAM,GAAK,IACXA,GAAM,GAAK,IACXA,GAAM,EAAI,IACL,IAALA,EACA,EACA,EACA,EACA,EACAqb,GAAY,GAAK,IACjBA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EA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EACA,EACA,EACA,EACA,EACA,EACA,EACAs8F,EAAM5/E,OAAS,EAAI,IACL,IAAd4/E,EAAM5/E,MACN4/E,EAAM3/E,QAAU,EAAI,IACL,IAAf2/E,EAAM3/E,OACN,EACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,KACE2/E,EAAM0e,KAAM1e,EAAM2e,KACxB,GACC,CACDl0G,IAAK,WACLmH,MAAO,SAAkBouF,GACvB,IAAI+L,EAAS/L,EAAMv8D,YAAcw/D,GAAeG,KAC5C8qB,EAAMniB,EAASqgB,EAAK7wB,MAAMyhB,KAAOoP,EAAK7wB,MAAMwhB,KAC5CtnG,EAASs2F,EAASqgB,EAAKlc,KAAKlQ,GAASosB,EAAK3O,KAAKzd,GAC/CmuB,EAAQ,CAAC,IAAIzqH,WAAW,CAC1B,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAs8F,EAAM5/E,OAAS,EAAI,IACL,IAAd4/E,EAAM5/E,MACN4/E,EAAM3/E,QAAU,EAAI,IACL,IAAf2/E,EAAM3/E,OACN,EACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,KACE5K,GAMJ,OALIs2F,EACFoiB,EAAMtnH,KAAKulH,EAAKxU,IAAIwU,EAAK7wB,MAAM6yB,KAAM,IAAI1qH,WAAW,CAAC,EAAG,MAC/Cs8F,EAAMwP,UAAYxP,EAAMwP,SAASltG,OAAS,GACnD6rH,EAAMtnH,KAAKulH,EAAK1O,KAAK1d,EAAMwP,WAEtB4c,EAAKxU,IAAIh4G,MAAMwsH,EAAM,CAAC8B,GAAKzmH,OAAO0mH,GAC3C,GACC,CACD1jH,IAAK,OACLmH,MAAO,SAAcouF,GACnB,IAAIquB,EAAiBjxE,EAGjB90C,EAFA4lG,EAAM,GACNsE,EAAM,GAcV,OAZAxS,EAAMkO,IAAI39F,SAAQ,SAAS2zC,GACzB57C,EAAM47C,EAAEy2C,WACRuT,EAAIrnG,KAAKyB,IAAQ,EAAI,KACrB4lG,EAAIrnG,KAAW,IAANyB,GACT4lG,EAAIrnG,KAAKjH,MAAMsuG,EAAKr6F,GAAmBqwC,GACzC,IACA87C,EAAMwS,IAAIjiG,SAAQ,SAAS+B,GACzBhK,EAAMgK,EAAEqoF,WACR6X,EAAI3rG,KAAKyB,IAAQ,EAAI,KACrBkqG,EAAI3rG,KAAW,IAANyB,GACTkqG,EAAI3rG,KAAKjH,MAAM4yG,EAAK3+F,GAAmBvB,GACzC,IACO85G,EAAKxU,IAAIwU,EAAK7wB,MAAMkiB,KAAM,IAAI/5G,YAAY2qH,GAAmBjxE,EAAQ,CAC1E,EACA8wD,EAAI,GACJA,EAAI,GACJA,EAAI,GACJ,IACA,IAAMlO,EAAMkO,IAAI5rG,SACfmF,OAAO7H,MAAMw9C,EAAO8wD,GAAKzmG,OAAO,CAACu4F,EAAMwS,IAAIlwG,UAAUmF,OAAO7H,MAAMyuH,EAAiB7b,IACxF,GACC,CACD/nG,IAAK,OACLmH,MAAO,SAAcouF,GACnB,IAAIsuB,EAAQtuB,EAAMkQ,KAClB,GAAIoe,aAAiBC,aAAeD,aAAiB5qH,WACnD,OAAO4qH,EACT,IACIrtH,EADAwvG,EAAMzQ,EAAMyQ,IAAKvC,EAAMlO,EAAMkO,IAAKsE,EAAMxS,EAAMwS,IAElD,GAAI8b,EAAO,CACT,IAAIE,EAAMF,EAAMxc,iCACZ2c,EAAMH,EAAMvc,gCACZvB,GAAeC,EAAInuG,QAAU,IAAM4rG,EAAI5rG,QAAU,IAAMkwG,EAAIlwG,QAAU,GACzErB,EAAO,CACL,EACAqtH,EAAM1c,qBAAuB,EAAI0c,EAAM3c,iBAAmB,EAAI2c,EAAMzc,kBACpE2c,IAAQ,GACRA,IAAQ,GACRA,IAAQ,EACRA,EACAC,EAAI,GACJA,EAAI,GACJA,EAAI,GACJA,EAAI,GACJA,EAAI,GACJA,EAAI,GACJH,EAAMtc,gBACN,IACA,EACA,IACwB,IAAxBsc,EAAMxf,gBACqB,IAA3Bwf,EAAMhd,mBACuB,IAA7Bgd,EAAM/c,qBACN,EACA,EACA+c,EAAM1d,mBAAqB,EAAI0d,EAAMvd,kBAAoB,EAAI,EAC7DP,GAEF,IAAIke,EAAQ,SAAgBxqG,GAC1B,IAAIs5C,EACJv8D,EAAK4F,KAAKqd,EAAE5hB,QAAU,EAAG4hB,EAAE5hB,SAC1Bk7D,EAAQv8D,GAAM4F,KAAKjH,MAAM49D,EAAO3pD,GAAmBqQ,GACtD,EACIusF,EAAInuG,SACNrB,EAAK4F,KAAK,IAAK,EAAG4pG,EAAInuG,QACtBmuG,EAAIlgG,QAAQm+G,IAEVxgB,EAAI5rG,SACNrB,EAAK4F,KAAK,IAAK,EAAGqnG,EAAI5rG,QACtB4rG,EAAI39F,QAAQm+G,IAEVlc,EAAIlwG,SACNrB,EAAK4F,KAAK,IAAK,EAAG2rG,EAAIlwG,QACtBkwG,EAAIjiG,QAAQm+G,GAEhB,MACEztH,EAAO,CACL,EACA,EACA,GACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,EACA,IACA,IACA,IACA,IACA,EACA,EACA,GACA,EACA,IACA,EACA,EACA,EACA,GACA,GACA,EACA,GACA,EACA,IACA,IACA,EACA,GACA,EACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,EACA,IACA,EACA,EACA,EACA,GACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,EACA,IACA,IACA,GACA,GACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IA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","sources":["webpack://new-web/./node_modules/delegate/src/closest.js","webpack://new-web/./node_modules/delegate/src/delegate.js","webpack://new-web/./node_modules/downloadjs/download.js","webpack://new-web/./node_modules/eventemitter3/index.js","webpack://new-web/./src/components/Sidebar.vue","webpack://new-web/./src/components/Sidebar.vue?5d01","webpack://new-web/./src/views/info/index.vue","webpack://new-web/./node_modules/xgplayer/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/xgplayer/es/utils/debug.js","webpack://new-web/./node_modules/xgplayer/es/utils/xgplayerTimeRange.js","webpack://new-web/./node_modules/xgplayer/es/utils/util.js","webpack://new-web/./node_modules/xgplayer/es/utils/sniffer.js","webpack://new-web/./node_modules/xgplayer/es/version.js","webpack://new-web/./node_modules/xgplayer/es/error.js","webpack://new-web/./node_modules/xgplayer/es/events.js","webpack://new-web/./node_modules/xgplayer/es/mediaProxy.js","webpack://new-web/./node_modules/xgplayer/es/utils/database.js","webpack://new-web/./node_modules/xgplayer/es/constant.js","webpack://new-web/./node_modules/xgplayer/es/plugin/hooksDescriptor.js","webpack://new-web/./node_modules/xgplayer/es/plugin/basePlugin.js","webpack://new-web/./node_modules/xgplayer/es/plugin/plugin.js","webpack://new-web/./node_modules/xgplayer/es/plugin/resizeObserver.js","webpack://new-web/./node_modules/xgplayer/es/plugin/pluginsManager.js","webpack://new-web/./node_modules/xgplayer/es/stateClassMap.js","webpack://new-web/./node_modules/xgplayer/es/defaultConfig.js","webpack://new-web/./node_modules/xgplayer/es/plugin/preset.js","webpack://new-web/./node_modules/xgplayer/es/plugins/controls/index.js","webpack://new-web/./node_modules/xgplayer/es/lang/en.js","webpack://new-web/./node_modules/xgplayer/es/lang/i18n.js","webpack://new-web/./node_modules/xgplayer/es/state.js","webpack://new-web/./node_modules/xgplayer/es/instManager.js","webpack://new-web/./node_modules/xgplayer/es/player.js","webpack://new-web/./node_modules/xgplayer/es/plugins/logger/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/replay.js","webpack://new-web/./node_modules/xgplayer/es/plugins/replay/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/poster/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/play.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/pause.js","webpack://new-web/./node_modules/xgplayer/es/plugins/start/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/enter/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/iconTools.js","webpack://new-web/./node_modules/xgplayer/es/plugins/miniScreen/miniScreenIcon.js","webpack://new-web/./node_modules/xgplayer/es/utils/draggabilly.js","webpack://new-web/./node_modules/xgplayer/es/plugins/miniScreen/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/pc/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/mobile/touch.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/seekicon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/mobile/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/keyboard/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/loading.js","webpack://new-web/./node_modules/xgplayer/es/plugins/loading/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progress/innerList.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progress/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/iconPlugin.js","webpack://new-web/./node_modules/xgplayer/es/plugins/play/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/back.js","webpack://new-web/./node_modules/xgplayer/es/plugins/fullscreen/backicon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/requestFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/exitFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/fullscreen/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/time/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/time/timesegments.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/volumeLarge.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/volumeSmall.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/volumeMuted.js","webpack://new-web/./node_modules/xgplayer/es/plugins/volume/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/rotate.js","webpack://new-web/./node_modules/xgplayer/es/plugins/rotate/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/pipIcon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/pipIconExit.js","webpack://new-web/./node_modules/xgplayer/es/plugins/pip/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/playNext.js","webpack://new-web/./node_modules/xgplayer/es/plugins/playNext/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/download.js","webpack://new-web/./node_modules/xgplayer/es/plugins/download/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/screenShot/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/optionList.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/optionsIcon.js","webpack://new-web/./node_modules/xgplayer/es/plugins/definition/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/playbackRate/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/requestCssFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/assets/exitCssFull.js","webpack://new-web/./node_modules/xgplayer/es/plugins/cssFullScreen/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/error/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/prompt/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progressPreview/dotsApi.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progressPreview/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/common/thumbnail.js","webpack://new-web/./node_modules/xgplayer/es/plugins/progress/miniProgress.js","webpack://new-web/./node_modules/xgplayer/es/plugins/dynamicBg/index.js","webpack://new-web/./node_modules/xgplayer/es/lang/zh-cn.js","webpack://new-web/./node_modules/xgplayer/es/plugins/stats/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/gapJump/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/waitingTimeoutJump/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/testspeed/index.js","webpack://new-web/./node_modules/xgplayer/es/plugins/fpsDetect/index.js","webpack://new-web/./node_modules/xgplayer/es/presets/default.js","webpack://new-web/./node_modules/xgplayer/es/index.umd.js","webpack://new-web/./node_modules/xgplayer-hls/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/error.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/buffer.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/env.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/logger.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/utils.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/mse.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/event.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/streaming-helper.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/sei.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/gap.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/stats.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/_virtual/_rollupPluginBabelHelpers.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/logger.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/types.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/audio-sample.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/env.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/aac.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mpeg-ts/fixer.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/index.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/nalu.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/exp-golomb.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/avc.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/codec/hevc.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/video-track.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/audio-track.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/video-sample.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/model/metadata-track.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mpeg-ts/index.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/byte-reader.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/utils/bit-reader.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/mp4-parser.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/buffer-service/decrypt/index.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/fmp4-demuxer.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/buffer.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/mp4.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/logger.js","webpack://new-web/./node_modules/xgplayer-transmuxer/es/mp4/fmp4-remuxer.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/constants.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/buffer-service/transmuxer/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/buffer-service/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/config.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/types.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/error.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/is.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/helper.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/fetch.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/config.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/xhr.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/task.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/net/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/model.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/utils.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/master.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/media.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/manifest-loader/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/utils.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/playlist/stream.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/playlist/index.js","webpack://new-web/./node_modules/xgplayer-streaming-shared/es/services/bandwidth.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/segment-loader/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/hls/index.js","webpack://new-web/./node_modules/xgplayer-hls/es/plugin-extension.js","webpack://new-web/./node_modules/xgplayer-hls/es/plugin.js","webpack://new-web/./src/views/info/index.vue?dbd0"],"sourcesContent":["var DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n","var closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","<template>\r\n  <div class=\"sidebar\">\r\n    <div class=\"ads\">\r\n      <div class=\"ads-item\" v-for=\"item in ads.slice(1, 6)\">\r\n        <van-image\r\n          @click=\"goAd(item.link)\"\r\n          fit=\"cover\"\r\n          position=\"center\"\r\n          :lazy-load=\"true\"\r\n          :src=\"item.picUrl\"\r\n        >\r\n          <template v-slot:loading>\r\n            <van-loading type=\"spinner\" size=\"20\" />\r\n          </template>\r\n        </van-image>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"category-part\" v-for=\"item in data\" :key=\"item.id\">\r\n      <Title class=\"page-title\" :name=\"item.category.classifyName + ' ' + titleMap[language]\" :item=\"item.category\" size=\"small\" suffix=\"\"></Title>\r\n      <div class=\"list\">\r\n        <div class=\"video-card-wrapper\" v-for=\"v in item.videos.slice(0, 6)\">\r\n          <Card class=\"video-card\" size=\"small\" :item=\"v\"></Card>\r\n        </div>\r\n      </div>\r\n      <div class=\"ads\">\r\n        <div class=\"ads-item\" v-for=\"(a, idx) in item.adsSide\" :key=\"a.title + '_' + idx\">\r\n          <van-image\r\n            @click=\"goAd(a.link)\"\r\n            fit=\"cover\"\r\n            position=\"center\"\r\n            :lazy-load=\"true\"\r\n            :src=\"a.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import * as api from '@/api'\r\n  import Card from \"@/components/Card.vue\";\r\n  import Title from \"@/components/Title.vue\";\r\n  import {mapState} from 'vuex';\r\n  export default {\r\n    name: \"Sidebar\",\r\n    components: {Card, Title},\r\n    props: {\r\n      processedData: {\r\n        type: [Array, Boolean],\r\n        default() {\r\n          return false;\r\n        }\r\n      },\r\n    },\r\n    data() {\r\n      return {\r\n        _ads: [],\r\n        data: [],\r\n        titleMap: {\r\n          'ko-KR': '',\r\n          'en-US': 'Hot',\r\n          'zh-CN': ''\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState({\r\n        ads: state => state.common.ads,\r\n        menus: state => state.common.menus,\r\n        language: state => state.common.language,\r\n      }),\r\n    },\r\n    methods: {\r\n      goAd(url) {\r\n        window.open(url)\r\n      },\r\n      async initData() {\r\n        if (this.menus && this.menus.length) {\r\n          let count = (this.menus.length + 1) * 5 + 1;\r\n          let times = Math.ceil(count / this.ads.length);\r\n          let ads = [];\r\n          for (let i = 0;i < times;i++) {\r\n            ads = ads.concat(this.ads);\r\n          }\r\n          ads.shift()\r\n          this._ads = ads;\r\n          const func = async (menu, i) => {\r\n            let {rows, code} = await api.getVideos({\r\n              page:0,\r\n              pageSize:8,\r\n              classifyId: menu.classifyId,\r\n              specialId: menu.specialId\r\n            })\r\n            if (code == 200) {\r\n              this.data.push({\r\n                id: menu.id,\r\n                category: menu,\r\n                adsSide: ads.slice((i + 1) * 5, (i + 2) * 5),\r\n                videos: rows,\r\n              })\r\n            }\r\n          }\r\n          for (let i = 0; i < this.menus.length; i++) {\r\n            await func(this.menus[i], i);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    mounted() {\r\n      if (this.processedData) {\r\n        this.data = this.processedData\r\n      } else {\r\n        this.initData();\r\n      }\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .sidebar{\r\n    width: 305px;\r\n    .ads{\r\n      width: 100%;\r\n      padding-top: 23px;\r\n      margin-bottom: 33px;\r\n      .ads-item{\r\n        width: 100%;\r\n        height: 102px;\r\n        @include border;\r\n        box-sizing: border-box;\r\n        cursor: pointer;\r\n        :deep(.van-image){\r\n          width: 100%;\r\n          height: 100%;\r\n          .van-image__loading{\r\n            background: none;\r\n          }\r\n          .van-image__error{\r\n            background: none;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .page-title{\r\n      margin-bottom: 13px;\r\n    }\r\n    .list{\r\n      width: 100%;\r\n      @include clear;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      flex-wrap: wrap;\r\n      .video-card-wrapper{\r\n        width: 50%;\r\n        height: 95px;\r\n        margin-bottom: 8px;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import { render } from \"./Sidebar.vue?vue&type=template&id=15c160be&scoped=true\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js\"\n\nimport \"./Sidebar.vue?vue&type=style&index=0&id=15c160be&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-15c160be\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"info-container\">\r\n    <div class=\"info-wrapper\">\r\n      <div class=\"ads pc-hide\" style=\"padding-top: 0;margin-top: 0px;\">\r\n        <div class=\"ads-item\" v-for=\"item in _ads.slice(0, 4)\">\r\n          <van-image\r\n            @click=\"goAd(item.link)\"\r\n            fit=\"cover\"\r\n            position=\"center\"\r\n            :lazy-load=\"true\"\r\n            :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n      <div class=\"video-info\">\r\n        <div class=\"info-h5 pc-hide\">\r\n          <div class=\"viewed\">\r\n            <img src=\"@/assets/imgs/eye.png\" alt=\"\">\r\n            <span>{{data.watchTimes}}</span>\r\n          </div>\r\n          <div class=\"time\">\r\n            {{formatTime(data.createdAt)}}\r\n          </div>\r\n        </div>\r\n        <div  id=\"mse\"></div>\r\n        <div class=\"video-img\" id=\"video-info\"></div>\r\n        <div class=\"info h5-hide\">\r\n          <div class=\"viewed\">\r\n            <img src=\"@/assets/imgs/eye-large.png\" alt=\"\">\r\n            <span>{{data.watchTimes}}</span>\r\n          </div>\r\n          <div class=\"time\">\r\n            {{formatTime(data.createdAt)}}\r\n          </div>\r\n        </div>\r\n        <div class=\"video-name\">\r\n           <span v-if=\"language == 'ko-KR'\">\r\n            {{data.title}}\r\n          </span>\r\n          <span v-if=\"language == 'en-US'\">\r\n            {{data.titleUs}}\r\n          </span>\r\n          <span v-if=\"language == 'zh-CN'\">\r\n            {{data.titleCn}}\r\n          </span>\r\n        </div>\r\n        <div class=\"video-desc\" v-if=\"data.titleChinese\">\r\n          {{data.titleChinese}}\r\n        </div>\r\n      </div>\r\n      <div class=\"ads h5-hide\">\r\n        <div class=\"ads-item\" v-for=\"item in _ads.slice(0, 24)\">\r\n          <van-image\r\n            @click=\"goAd(item.link)\"\r\n            fit=\"cover\"\r\n            position=\"center\"\r\n            :lazy-load=\"true\"\r\n            :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n      <Title class=\"page-title h5-hide\" :name=\"relatedMap[language]\" :more=\"false\"></Title>\r\n      <div class=\"list\">\r\n        <Card class=\"video-card\" v-for=\"item in videos\" :item=\"item\" :key=\"item.id\"></Card>\r\n      </div>\r\n      <div class=\"ads\">\r\n        <div class=\"ads-item\" v-for=\"item in _ads.slice(24, 48)\">\r\n          <van-image\r\n            @click=\"goAd(item.link)\"\r\n            fit=\"cover\"\r\n            position=\"center\"\r\n            :lazy-load=\"true\"\r\n            :src=\"item.picUrl\"\r\n          >\r\n            <template v-slot:loading>\r\n              <van-loading type=\"spinner\" size=\"20\" />\r\n            </template>\r\n          </van-image>\r\n        </div>\r\n      </div>\r\n      <div class=\"more\" @click=\"goCategory\">{{moreRelatedMap[language]}}</div>\r\n    </div>\r\n    <Sidebar></Sidebar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import * as api from '@/api'\r\n  import moment from 'moment';\r\n  import Sidebar from \"@/components/Sidebar.vue\";\r\n  import Card from \"@/components/Card.vue\";\r\n  import Title from \"@/components/Title.vue\";\r\n  import {mapActions,mapState} from 'vuex';\r\n  import 'video.js/dist/video-js.css';\r\n  import VideoJs from 'video.js';\r\n  import Player from 'xgplayer';\r\n  import 'xgplayer/dist/index.min.css';\r\n  import HlsPlugin from 'xgplayer-hls'\r\n  import MobilePreset from 'xgplayer/es/presets/mobile'\r\n  export default {\r\n    name: \"Info\",\r\n    components: {Sidebar,Title,Card},\r\n    data() {\r\n      return {\r\n        id: '',\r\n        data: {},\r\n        _ads: [],\r\n        videos: [],\r\n        player: null,\r\n        relatedMap: {\r\n          'ko-KR': '',\r\n          'en-US': 'Related videos',\r\n          'zh-CN': ''\r\n        },\r\n        moreRelatedMap: {\r\n          'ko-KR': '   ',\r\n          'en-US': 'More related videos',\r\n          'zh-CN': ''\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState({\r\n        ads: state => state.common.ads,\r\n        menus: state => state.common.menus,\r\n        language: state => state.common.language,\r\n      }),\r\n    },\r\n    watch: {\r\n      '$route': {\r\n        handler(nv) {\r\n          if(nv.name == 'info') {\r\n            this.id = this.$route.query.id\r\n            this.initData();\r\n          }\r\n        },\r\n        immediate: true\r\n      },\r\n      ads(nv) {\r\n        this._ads = JSON.parse(JSON.stringify(nv));\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapActions({\r\n        toggleLoading: 'common/toggleLoading',\r\n      }),\r\n      goAd(url) {\r\n        window.open(url)\r\n      },\r\n      formatTime(time) {\r\n        return moment(time).format('YYYY-MM-DD')\r\n      },\r\n      async getVideoInfo() {\r\n        this.toggleLoading(true);\r\n        try {\r\n          let {data, code} = await api.getVideoInfo({id: this.id})\r\n          if (code == 200) {\r\n            this.data = data;\r\n            this.initPlayer()\r\n            this.getMenuInfo()\r\n          }\r\n        } catch (e) {\r\n        } finally {\r\n          this.toggleLoading(false);\r\n        }\r\n      },\r\n      async getMenuInfo() {\r\n        try {\r\n          let {data, code} = await api.getMenuInfo({id: this.data.classifyId})\r\n          if (code == 200) {\r\n            this.classifyInfo = data;\r\n          }\r\n        } catch (e) {\r\n        } finally {\r\n          this.toggleLoading(false);\r\n        }\r\n      },\r\n      async getVideos() {\r\n        try {\r\n          let {rows, code} = await api.getVideos({\r\n            pageNum: 1,\r\n            pageSize: 20,\r\n            classifyId: this.data.classifyId,\r\n            specialId: this.data.specialId\r\n          })\r\n          if (code == 200) {\r\n            this.videos = rows\r\n          }\r\n        } catch (e) {\r\n\r\n        } finally {\r\n        }\r\n      },\r\n      goCategory() {\r\n        this.$router.push({\r\n          name: 'category',\r\n          query: {\r\n            classifyId: this.data.classifyId,\r\n            specialId: this.data.specialId,\r\n            classifyName: ''\r\n          }\r\n        })\r\n      },\r\n      initPlayer() {\r\n        const config = {\r\n          \"id\": \"video-info\",\r\n          fluid: true,\r\n          volume: 0.9,\r\n          autoplay: true,\r\n          videoInit: true,\r\n          loop:true,\r\n          playbackRate: [0.5, 0.75, 1, 1.5, 2],\r\n          defaultPlaybackRate: 1,\r\n          \"url\": this.data.video,\r\n          \"playsinline\": true,\r\n          \"poster\": this.data.videoCover,\r\n          \"plugins\": [HlsPlugin],\r\n          \"isLive\": false,\r\n          \"playbackRate\": [\r\n                    null\r\n          ],\r\n          \"rotate\": {\r\n                    \"clockwise\": false,\r\n                    \"innerRotate\": false\r\n          },\r\n          \"pip\": true\r\n        }\r\n        let player = new Player(config)\r\n        // setTimeout(() => {\r\n        // let player = new Player(config)},0)\r\n        \r\n\r\n\r\n\r\n\r\n        // document.getElementById('video-info').innerHTML = `<video id=\"video-js\" class=\"video-js\"></video>`\r\n        // setTimeout(() => {\r\n        //   this.player = VideoJs(document.getElementById('video-js'), {\r\n        //     controls: true,\r\n        //     muted: true,\r\n        //     fluid: true,\r\n        //     reload: \"auto\",\r\n        //     poster: this.data.videoCover,\r\n        //     sources: [\r\n        //       {\r\n        //         src: this.data.video,\r\n        //         type: 'application/x-mpegURL',\r\n        //       },\r\n        //     ],\r\n        //   }, function onPlayerReady() {\r\n        //   })\r\n        // }, 0)\r\n      },\r\n      initData() {\r\n        if (this.player) {\r\n          this.player.dispose()\r\n        }\r\n        this.id = this.$route.query.id\r\n        this.getVideoInfo()\r\n        if (this.menus && this.menus.length) {\r\n          let count = (this.menus.length + 1) * 24 + 1;\r\n          let times = Math.ceil(count / this.ads.length);\r\n          let ads = [];\r\n          for (let i = 0;i < times;i++) {\r\n            ads = ads.concat(this.ads);\r\n          }\r\n          ads.shift()\r\n          this._ads = ads;\r\n        }\r\n        this.getVideos();\r\n      }\r\n    },\r\n    beforeUnmount() {\r\n      if (this.player) {\r\n        this.player.dispose()\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .info-container{\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    .info-wrapper{\r\n      width: 1230px;\r\n      padding-top: 23px;\r\n      .video-info{\r\n        width: 100%;\r\n        padding-bottom: 50px;\r\n        .video-img{\r\n          width: 100%;\r\n          background: #333;\r\n          .video-js{\r\n            width: 100%;\r\n            /*object-fit: cover;*/\r\n            /*object-position: center;*/\r\n          }\r\n        }\r\n        .info-h5{\r\n          width: 100%;\r\n          font-size: 12px;\r\n          color: #adadad;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          box-sizing: border-box;\r\n          padding: 10px;\r\n          .viewed{\r\n            display: flex;\r\n            align-items: center;\r\n            img{\r\n              margin-right: 5px;\r\n            }\r\n          }\r\n        }\r\n        .info{\r\n          width: 100%;\r\n          height: 76px;\r\n          font-size: 30px;\r\n          color: #adadad;\r\n          box-sizing: border-box;\r\n          padding: 0px 55px 0 38px;\r\n          background: #343945;\r\n          line-height: 76px;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          .viewed{\r\n            display: flex;\r\n            align-items: center;\r\n            img{\r\n              margin-right: 15px;\r\n            }\r\n          }\r\n        }\r\n        .video-name{\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n          font-size: 30px;\r\n          color: #fff;\r\n          padding: 25px;\r\n        }\r\n        .video-desc{\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n          padding: 0 150px 0 25px;\r\n          font-size: 24px;\r\n          color: #8b8b8b;\r\n        }\r\n      }\r\n      .ads{\r\n        width: 100%;\r\n        padding: 23px 0px;\r\n        margin-bottom: 55px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-wrap: wrap;\r\n        .ads-item{\r\n          width: 25%;\r\n          height: 102px;\r\n          @include border;\r\n          box-sizing: border-box;\r\n          cursor: pointer;\r\n          :deep(.van-image){\r\n            width: 100%;\r\n            height: 100%;\r\n            .van-image__loading{\r\n              background: none;\r\n            }\r\n            .van-image__error{\r\n              background: none;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .page-title{\r\n        margin-bottom: 16px;\r\n      }\r\n      .list{\r\n        width: 100%;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-wrap: wrap;\r\n        .video-card{\r\n          margin-bottom: 30px;\r\n        }\r\n      }\r\n      .more{\r\n        width: 788px;\r\n        height: 74px;\r\n        line-height: 74px;\r\n        font-size: 30px;\r\n        color: #fff;\r\n        cursor: pointer;\r\n        text-align: center;\r\n        background: #343945;\r\n        margin: 0 auto;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n  @media screen and (min-width: 1280px) and (max-width: 1600px) {\r\n    .info-container{\r\n      .info-wrapper{\r\n        width: 915px;\r\n        .video-info{\r\n          .video-img{}\r\n          .video-desc{\r\n            padding: 0 25px 0 25px;\r\n          }\r\n        }\r\n        .ads{\r\n          .ads-item{\r\n            width: 33.33%;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  @media screen and (min-width: 750px) and (max-width: 1280px) {\r\n    .info-container{\r\n      .info-wrapper{\r\n        width: 750px;\r\n        .video-info{\r\n          .video-img{}\r\n          .info{\r\n            height: 50px;\r\n            line-height: 50px;\r\n            font-size: 24px;\r\n          }\r\n          .video-name{\r\n            font-size: 24px;\r\n          }\r\n          .video-desc{\r\n            font-size: 21px;\r\n            padding: 0 25px 0 25px;\r\n          }\r\n        }\r\n        .ads{\r\n          .ads-item{\r\n            width: 33.33%;\r\n          }\r\n        }\r\n        .more{\r\n          width: 750px;\r\n        }\r\n      }\r\n    }\r\n    .sidebar{\r\n      display: none;\r\n    }\r\n  }\r\n  @media screen and (max-width: 750px) {\r\n    .h5-hide{\r\n      display: none!important;\r\n    }\r\n    .pc-hide{\r\n      display: flex!important;\r\n    }\r\n    .info-container{\r\n      width: 100%;\r\n      .info-wrapper{\r\n        width: 100%;\r\n        box-sizing: border-box;\r\n        padding-left: 2px;\r\n        padding-right: 2px;\r\n        .ads{\r\n          margin-bottom: 25px;\r\n          margin-top: 25px;\r\n          .ads-item{\r\n            width: calc(50% - 1px);\r\n            height: 17vw;\r\n            margin-bottom: 2px;\r\n            display: none;\r\n            &:nth-child(1), &:nth-child(2), &:nth-child(3), &:nth-child(4), {\r\n              display: block;\r\n            }\r\n          }\r\n        }\r\n        .list{\r\n          padding-top: 0px;\r\n          .video-card{\r\n            margin-bottom: 2px;\r\n          }\r\n        }\r\n        .more{\r\n          display: none;\r\n        }\r\n        .video-info{\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n          padding-bottom: 15px;\r\n          .info-h5{\r\n            display: flex!important;\r\n          }\r\n          .info{\r\n            display: none!important;\r\n          }\r\n          .video-img{\r\n            @include border;\r\n          }\r\n          .video-name{\r\n            font-size: 12px;\r\n            color: #fff;\r\n            padding: 10px;\r\n            font-weight: bold;\r\n          }\r\n          .video-desc{\r\n            font-size: 12px;\r\n            color: #fff;\r\n            padding: 10px;\r\n            padding-top: 0px;\r\n          }\r\n        }\r\n\r\n      }\r\n      .sidebar{\r\n        display: none;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null)\n      break;\n  }\n  return object;\n}\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get2(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base)\n        return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _classCallCheck as classCallCheck, _createClass as createClass, _createSuper as createSuper, _defineProperty as defineProperty, _get as get, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _nonIterableSpread as nonIterableSpread, _objectSpread2 as objectSpread2, _possibleConstructorReturn as possibleConstructorReturn, _setPrototypeOf as setPrototypeOf, _superPropBase as superPropBase, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray };\n","var XG_DEBUG_OPEN = typeof window !== \"undefined\" && window.location && window.location.href.indexOf(\"xgplayerdebugger=1\") > -1;\nvar STYLE = {\n  info: \"color: #525252; background-color: #90ee90;\",\n  error: \"color: #525252; background-color: red;\",\n  warn: \"color: #525252; background-color: yellow; \"\n};\nvar XGTAG = \"%c[xgplayer]\";\nvar XG_DEBUG = {\n  config: {\n    debug: XG_DEBUG_OPEN ? 3 : 0\n  },\n  logInfo: function logInfo(message) {\n    var _console;\n    for (var _len = arguments.length, optionalParams = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      optionalParams[_key - 1] = arguments[_key];\n    }\n    this.config.debug >= 3 && (_console = console).log.apply(_console, [XGTAG, STYLE.info, message].concat(optionalParams));\n  },\n  logWarn: function logWarn(message) {\n    var _console2;\n    for (var _len2 = arguments.length, optionalParams = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      optionalParams[_key2 - 1] = arguments[_key2];\n    }\n    this.config.debug >= 1 && (_console2 = console).warn.apply(_console2, [XGTAG, STYLE.warn, message].concat(optionalParams));\n  },\n  logError: function logError(message) {\n    var _console3;\n    if (this.config.debug < 1) {\n      return;\n    }\n    var _fun = this.config.debug >= 2 ? \"trace\" : \"error\";\n    for (var _len3 = arguments.length, optionalParams = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      optionalParams[_key3 - 1] = arguments[_key3];\n    }\n    (_console3 = console)[_fun].apply(_console3, [XGTAG, STYLE.error, message].concat(optionalParams));\n  }\n};\nfunction bindDebug(player) {\n  player.logInfo = XG_DEBUG.logInfo.bind(player);\n  player.logWarn = XG_DEBUG.logWarn.bind(player);\n  player.logError = XG_DEBUG.logError.bind(player);\n}\nexport { bindDebug, XG_DEBUG as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar XgplayerTimeRange = /* @__PURE__ */ function() {\n  function XgplayerTimeRange2(bufferedList) {\n    _classCallCheck(this, XgplayerTimeRange2);\n    this.bufferedList = bufferedList;\n  }\n  _createClass(XgplayerTimeRange2, [{\n    key: \"start\",\n    value: function start(index) {\n      return this.bufferedList[index].start;\n    }\n  }, {\n    key: \"end\",\n    value: function end(index) {\n      return this.bufferedList[index].end;\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this.bufferedList.length;\n    }\n  }]);\n  return XgplayerTimeRange2;\n}();\nexport { XgplayerTimeRange as default };\n","import { typeof as _typeof, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport XG_DEBUG from \"./debug.js\";\nimport XgplayerTimeRange from \"./xgplayerTimeRange.js\";\nvar util = {};\nutil.createDom = function() {\n  var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"div\";\n  var tpl = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n  var attrs = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n  var cname = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : \"\";\n  var dom = document.createElement(el);\n  dom.className = cname;\n  dom.innerHTML = tpl;\n  Object.keys(attrs).forEach(function(item) {\n    var key = item;\n    var value = attrs[item];\n    if (el === \"video\" || el === \"audio\" || el === \"live-video\") {\n      if (value) {\n        dom.setAttribute(key, value);\n      }\n    } else {\n      dom.setAttribute(key, value);\n    }\n  });\n  return dom;\n};\nutil.createDomFromHtml = function(html) {\n  var attrs = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n  var classname = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n  try {\n    var doc = document.createElement(\"div\");\n    doc.innerHTML = html;\n    var dom = doc.children;\n    doc = null;\n    if (dom.length > 0) {\n      dom = dom[0];\n      classname && util.addClass(dom, classname);\n      if (attrs) {\n        Object.keys(attrs).forEach(function(key) {\n          dom.setAttribute(key, attrs[key]);\n        });\n      }\n      return dom;\n    }\n    return null;\n  } catch (err) {\n    XG_DEBUG.logError(\"util.createDomFromHtml\", err);\n    return null;\n  }\n};\nutil.hasClass = function(el, className) {\n  if (!el || !className) {\n    return false;\n  }\n  try {\n    return Array.prototype.some.call(el.classList, function(item) {\n      return item === className;\n    });\n  } catch (e) {\n    var orgClassName = el.className && _typeof(el.className) === \"object\" ? el.getAttribute(\"class\") : el.className;\n    return orgClassName && !!orgClassName.match(new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"));\n  }\n};\nutil.addClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach(function(item) {\n      item && el.classList.add(item);\n    });\n  } catch (e) {\n    if (!util.hasClass(el, className)) {\n      if (el.className && _typeof(el.className) === \"object\") {\n        el.setAttribute(\"class\", el.getAttribute(\"class\") + \" \" + className);\n      } else {\n        el.className += \" \" + className;\n      }\n    }\n  }\n};\nutil.removeClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach(function(item) {\n      item && el.classList.remove(item);\n    });\n  } catch (e) {\n    if (util.hasClass(el, className)) {\n      className.split(/\\s+/g).forEach(function(item) {\n        var reg = new RegExp(\"(\\\\s|^)\" + item + \"(\\\\s|$)\");\n        if (el.className && _typeof(el.className) === \"object\") {\n          el.setAttribute(\"class\", el.getAttribute(\"class\").replace(reg, \" \"));\n        } else {\n          el.className = el.className.replace(reg, \" \");\n        }\n      });\n    }\n  }\n};\nutil.toggleClass = function(el, className) {\n  if (!el) {\n    return;\n  }\n  className.split(/\\s+/g).forEach(function(item) {\n    if (util.hasClass(el, item)) {\n      util.removeClass(el, item);\n    } else {\n      util.addClass(el, item);\n    }\n  });\n};\nutil.classNames = function() {\n  var _arguments = arguments;\n  var classname = [];\n  var _loop = function _loop2(i2) {\n    if (util.typeOf(_arguments[i2]) === \"String\") {\n      classname.push(_arguments[i2]);\n    } else if (util.typeOf(_arguments[i2]) === \"Object\") {\n      Object.keys(_arguments[i2]).map(function(key) {\n        if (_arguments[i2][key]) {\n          classname.push(key);\n        }\n      });\n    }\n  };\n  for (var i = 0; i < arguments.length; i++) {\n    _loop(i);\n  }\n  return classname.join(\" \");\n};\nutil.findDom = function() {\n  var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : document;\n  var sel = arguments.length > 1 ? arguments[1] : void 0;\n  var dom;\n  try {\n    dom = el.querySelector(sel);\n  } catch (e) {\n    XG_DEBUG.logError(\"util.findDom\", e);\n    if (sel.indexOf(\"#\") === 0) {\n      dom = el.getElementById(sel.slice(1));\n    }\n  }\n  return dom;\n};\nutil.getCss = function(dom, key) {\n  return dom.currentStyle ? dom.currentStyle[key] : document.defaultView.getComputedStyle(dom, false)[key];\n};\nutil.padStart = function(str, length, pad) {\n  var charstr = String(pad);\n  var len = length >> 0;\n  var maxlen = Math.ceil(len / charstr.length);\n  var chars = [];\n  var r = String(str);\n  while (maxlen--) {\n    chars.push(charstr);\n  }\n  return chars.join(\"\").substring(0, len - r.length) + r;\n};\nutil.format = function(time) {\n  if (window.isNaN(time)) {\n    return \"\";\n  }\n  time = Math.round(time);\n  var hour = util.padStart(Math.floor(time / 3600), 2, 0);\n  var minute = util.padStart(Math.floor((time - hour * 3600) / 60), 2, 0);\n  var second = util.padStart(Math.floor(time - hour * 3600 - minute * 60), 2, 0);\n  return (hour === \"00\" ? [minute, second] : [hour, minute, second]).join(\":\");\n};\nutil.event = function(e) {\n  if (e.touches) {\n    var touch = e.touches[0] || e.changedTouches[0];\n    e.clientX = touch.clientX || 0;\n    e.clientY = touch.clientY || 0;\n    e.offsetX = touch.pageX - touch.target.offsetLeft;\n    e.offsetY = touch.pageY - touch.target.offsetTop;\n  }\n  e._target = e.target || e.srcElement;\n};\nutil.typeOf = function(obj) {\n  return Object.prototype.toString.call(obj).match(/([^\\s.*]+)(?=]$)/g)[0];\n};\nutil.deepCopy = function(dst, src) {\n  if (util.typeOf(src) === \"Object\" && util.typeOf(dst) === \"Object\") {\n    Object.keys(src).forEach(function(key) {\n      if (util.typeOf(src[key]) === \"Object\" && !(src[key] instanceof Node)) {\n        if (dst[key] === void 0 || dst[key] === void 0) {\n          dst[key] = src[key];\n        } else {\n          util.deepCopy(dst[key], src[key]);\n        }\n      } else if (util.typeOf(src[key]) === \"Array\") {\n        dst[key] = util.typeOf(dst[key]) === \"Array\" ? dst[key].concat(src[key]) : src[key];\n      } else {\n        dst[key] = src[key];\n      }\n    });\n    return dst;\n  }\n};\nutil.deepMerge = function(dst, src) {\n  Object.keys(src).map(function(key) {\n    if (util.typeOf(src[key]) === \"Array\" && util.typeOf(dst[key]) === \"Array\") {\n      if (util.typeOf(dst[key]) === \"Array\") {\n        var _dst$key;\n        (_dst$key = dst[key]).push.apply(_dst$key, _toConsumableArray(src[key]));\n      }\n    } else if (util.typeOf(dst[key]) === util.typeOf(src[key]) && dst[key] !== null && util.typeOf(dst[key]) === \"Object\" && !(src[key] instanceof window.Node)) {\n      util.deepMerge(dst[key], src[key]);\n    } else {\n      src[key] !== null && (dst[key] = src[key]);\n    }\n  });\n  return dst;\n};\nutil.getBgImage = function(el) {\n  var url = (el.currentStyle || window.getComputedStyle(el, null)).backgroundImage;\n  if (!url || url === \"none\") {\n    return \"\";\n  }\n  var a = document.createElement(\"a\");\n  a.href = url.replace(/url\\(\"|\"\\)/g, \"\");\n  return a.href;\n};\nutil.copyDom = function(dom) {\n  if (dom && dom.nodeType === 1) {\n    var back = document.createElement(dom.tagName);\n    Array.prototype.forEach.call(dom.attributes, function(node) {\n      back.setAttribute(node.name, node.value);\n    });\n    if (dom.innerHTML) {\n      back.innerHTML = dom.innerHTML;\n    }\n    return back;\n  } else {\n    return \"\";\n  }\n};\nutil.setInterval = function(context, eventName, intervalFunc, frequency) {\n  if (!context._interval[eventName]) {\n    context._interval[eventName] = window.setInterval(intervalFunc.bind(context), frequency);\n  }\n};\nutil.clearInterval = function(context, eventName) {\n  clearInterval(context._interval[eventName]);\n  context._interval[eventName] = null;\n};\nutil.setTimeout = function(context, fun, time) {\n  if (!context._timers) {\n    context._timers = [];\n  }\n  var id = setTimeout(function() {\n    fun();\n    util.clearTimeout(context, id);\n  }, time);\n  context._timers.push(id);\n  return id;\n};\nutil.clearTimeout = function(context, id) {\n  var _timers = context._timers;\n  if (util.typeOf(_timers) === \"Array\") {\n    for (var i = 0; i < _timers.length; i++) {\n      if (_timers[i] === id) {\n        _timers.splice(i, 1);\n        clearTimeout(id);\n        break;\n      }\n    }\n  } else {\n    clearTimeout(id);\n  }\n};\nutil.clearAllTimers = function(context) {\n  var _timers = context._timers;\n  if (util.typeOf(_timers) === \"Array\") {\n    _timers.map(function(item) {\n      clearTimeout(item);\n    });\n    context._timerIds = [];\n  }\n};\nutil.createImgBtn = function(name, imgUrl, width, height) {\n  var btn = util.createDom(\"xg-\".concat(name), \"\", {}, \"xgplayer-\".concat(name, \"-img\"));\n  btn.style.backgroundImage = 'url(\"'.concat(imgUrl, '\")');\n  if (width && height) {\n    var w, h, unit;\n    [\"px\", \"rem\", \"em\", \"pt\", \"dp\", \"vw\", \"vh\", \"vm\", \"%\"].every(function(item) {\n      if (width.indexOf(item) > -1 && height.indexOf(item) > -1) {\n        w = parseFloat(width.slice(0, width.indexOf(item)).trim());\n        h = parseFloat(height.slice(0, height.indexOf(item)).trim());\n        unit = item;\n        return false;\n      } else {\n        return true;\n      }\n    });\n    btn.style.width = \"\".concat(w).concat(unit);\n    btn.style.height = \"\".concat(h).concat(unit);\n    btn.style.backgroundSize = \"\".concat(w).concat(unit, \" \").concat(h).concat(unit);\n    if (name === \"start\") {\n      btn.style.margin = \"-\".concat(h / 2).concat(unit, \" auto auto -\").concat(w / 2).concat(unit);\n    } else {\n      btn.style.margin = \"auto 5px auto 5px\";\n    }\n  }\n  return btn;\n};\nutil.Hex2RGBA = function(hex, alpha) {\n  var rgb = [];\n  if (/^\\#[0-9A-F]{3}$/i.test(hex)) {\n    var sixHex = \"#\";\n    hex.replace(/[0-9A-F]/ig, function(kw) {\n      sixHex += kw + kw;\n    });\n    hex = sixHex;\n  }\n  if (/^#[0-9A-F]{6}$/i.test(hex)) {\n    hex.replace(/[0-9A-F]{2}/ig, function(kw) {\n      rgb.push(parseInt(kw, 16));\n    });\n    return \"rgba(\".concat(rgb.join(\",\"), \", \").concat(alpha, \")\");\n  } else {\n    return \"rgba(255, 255, 255, 0.1)\";\n  }\n};\nutil.getFullScreenEl = function() {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n};\nutil.checkIsFunction = function(fun) {\n  return fun && typeof fun === \"function\";\n};\nutil.checkIsObject = function(obj) {\n  return obj !== null && _typeof(obj) === \"object\";\n};\nutil.hide = function(dom) {\n  dom.style.display = \"none\";\n};\nutil.show = function(dom, display) {\n  dom.style.display = display || \"block\";\n};\nutil.isUndefined = function(val) {\n  if (typeof val === \"undefined\" || val === null) {\n    return true;\n  }\n};\nutil.isNotNull = function(val) {\n  return !(val === void 0 || val === null);\n};\nutil.setStyleFromCsstext = function(dom, text) {\n  if (!text) {\n    return;\n  }\n  if (util.typeOf(text) === \"String\") {\n    var styleArr = text.replace(/\\s+/g, \"\").split(\";\");\n    styleArr.map(function(item) {\n      if (item) {\n        var arr = item.split(\":\");\n        if (arr.length > 1) {\n          dom.style[arr[0]] = arr[1];\n        }\n      }\n    });\n  } else {\n    Object.keys(text).map(function(key) {\n      dom.style[key] = text[key];\n    });\n  }\n};\nfunction checkIsIn(key, list) {\n  for (var i = 0, len = list.length; i < len; i++) {\n    if (key.indexOf(list[i]) > -1) {\n      return true;\n    }\n  }\n  return false;\n}\nutil.filterStyleFromText = function(dom) {\n  var list = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [\"width\", \"height\", \"top\", \"left\", \"bottom\", \"right\", \"position\", \"z-index\", \"padding\", \"margin\", \"transform\"];\n  var _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  var styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  var ret = {};\n  var remain = {};\n  styleArr.map(function(item) {\n    if (item) {\n      var arr = item.split(\":\");\n      if (arr.length > 1) {\n        if (checkIsIn(arr[0], list)) {\n          ret[arr[0]] = arr[1];\n        } else {\n          remain[arr[0]] = arr[1];\n        }\n      }\n    }\n  });\n  dom.setAttribute(\"style\", \"\");\n  Object.keys(remain).map(function(key) {\n    dom.style[key] = remain[key];\n  });\n  return ret;\n};\nutil.getStyleFromCsstext = function(dom) {\n  var _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  var styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  var ret = {};\n  styleArr.map(function(item) {\n    if (item) {\n      var arr = item.split(\":\");\n      if (arr.length > 1) {\n        ret[arr[0]] = arr[1];\n      }\n    }\n  });\n  return ret;\n};\nutil.preloadImg = function(url) {\n  var onload = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : function() {\n  };\n  var onerror = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : function() {\n  };\n  if (!url) {\n    return;\n  }\n  var img = new window.Image();\n  img.onload = function(e) {\n    img = null;\n    onload && onload(e);\n  };\n  img.onerror = function(e) {\n    img = null;\n    onerror && onerror(e);\n  };\n  img.src = url;\n};\nutil.stopPropagation = function(e) {\n  if (e) {\n    e.stopPropagation();\n  }\n};\nutil.scrollTop = function() {\n  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n};\nutil.scrollLeft = function() {\n  return window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n};\nutil.checkTouchSupport = function() {\n  return \"ontouchstart\" in window;\n};\nutil.getBuffered2 = function(vbuffered) {\n  var maxHoleDuration = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0.5;\n  var buffered = [];\n  for (var i = 0; i < vbuffered.length; i++) {\n    buffered.push({\n      start: vbuffered.start(i) < 0.5 ? 0 : vbuffered.start(i),\n      end: vbuffered.end(i)\n    });\n  }\n  buffered.sort(function(a, b) {\n    var diff = a.start - b.start;\n    if (diff) {\n      return diff;\n    } else {\n      return b.end - a.end;\n    }\n  });\n  var buffered2 = [];\n  if (maxHoleDuration) {\n    for (var _i = 0; _i < buffered.length; _i++) {\n      var buf2len = buffered2.length;\n      if (buf2len) {\n        var buf2end = buffered2[buf2len - 1].end;\n        if (buffered[_i].start - buf2end < maxHoleDuration) {\n          if (buffered[_i].end > buf2end) {\n            buffered2[buf2len - 1].end = buffered[_i].end;\n          }\n        } else {\n          buffered2.push(buffered[_i]);\n        }\n      } else {\n        buffered2.push(buffered[_i]);\n      }\n    }\n  } else {\n    buffered2 = buffered;\n  }\n  return new XgplayerTimeRange(buffered2);\n};\nutil.getEventPos = function(e) {\n  var zoom = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;\n  if (e.touches && e.touches.length > 0) {\n    e = e.touches[0];\n  }\n  return {\n    x: e.x / zoom,\n    y: e.y / zoom,\n    clientX: e.clientX / zoom,\n    clientY: e.clientY / zoom,\n    offsetX: e.offsetX / zoom,\n    offsetY: e.offsetY / zoom,\n    pageX: e.pageX / zoom,\n    pageY: e.pageY / zoom\n  };\n};\nutil.requestAnimationFrame = function(callback) {\n  var _fun = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;\n  if (_fun) {\n    return _fun(callback);\n  }\n};\nutil.getHostFromUrl = function(url) {\n  if (util.typeOf(url) !== \"String\") {\n    return \"\";\n  }\n  var results = url.split(\"/\");\n  var domain = \"\";\n  if (results.length > 3 && results[2]) {\n    domain = results[2];\n  }\n  return domain;\n};\nutil.cancelAnimationFrame = function(frameId) {\n  var _fun = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.cancelRequestAnimationFrame;\n  _fun && _fun(frameId);\n};\nutil.isMSE = function(video) {\n  if (video.media) {\n    video = video.media;\n  }\n  if (!video || !(video instanceof HTMLMediaElement)) {\n    return false;\n  }\n  return /^blob/.test(video.currentSrc) || /^blob/.test(video.src);\n};\nutil.isBlob = function(url) {\n  return typeof url === \"string\" && /^blob/.test(url);\n};\nutil.generateSessionId = function() {\n  var did = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n  var d = new Date().getTime();\n  try {\n    did = parseInt(did);\n  } catch (e) {\n    did = 0;\n  }\n  d += did;\n  if (window.performance && typeof window.performance.now === \"function\") {\n    d += parseInt(window.performance.now());\n  }\n  var uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n    var r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === \"x\" ? r : r & 3 | 8).toString(16);\n  });\n  return uuid;\n};\nutil.createEvent = function(eventName) {\n  var event;\n  if (typeof window.Event === \"function\") {\n    event = new Event(eventName);\n  } else {\n    event = document.createEvent(\"Event\");\n    event.initEvent(eventName, true, true);\n  }\n  return event;\n};\nutil.adjustTimeByDuration = function(time, duration, isEnded) {\n  if (!duration || !time) {\n    return time;\n  }\n  if (time > duration || isEnded && time < duration) {\n    return duration;\n  }\n  return time;\n};\nutil.createPositionBar = function(className, root) {\n  var dom = util.createDom(\"xg-bar\", \"\", {\n    \"data-index\": -1\n  }, className);\n  root.appendChild(dom);\n  return dom;\n};\nutil.getTransformStyle = function() {\n  var pos = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n    x: 0,\n    y: 0,\n    scale: 1,\n    rotate: 0\n  };\n  var transformValue = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n  var styles = {\n    scale: \"\".concat(pos.scale || 1),\n    translate: \"\".concat(pos.x || 0, \"%, \").concat(pos.y || 0, \"%\"),\n    rotate: \"\".concat(pos.rotate || 0, \"deg\")\n  };\n  var stylesKeys = Object.keys(styles);\n  stylesKeys.forEach(function(key) {\n    var reg = new RegExp(\"\".concat(key, \"\\\\([^\\\\(]+\\\\)\"), \"g\");\n    var fn = \"\".concat(key, \"(\").concat(styles[key], \")\");\n    if (reg.test(transformValue)) {\n      reg.lastIndex = -1;\n      transformValue = transformValue.replace(reg, fn);\n    } else {\n      transformValue += \"\".concat(fn, \" \");\n    }\n  });\n  return transformValue;\n};\nutil.convertDeg = function(val) {\n  if (Math.abs(val) <= 1) {\n    return val * 360;\n  }\n  return val % 360;\n};\nutil.getIndexByTime = function(time, segments) {\n  var _len = segments.length;\n  var _index = -1;\n  if (_len < 1) {\n    return _index;\n  }\n  if (time <= segments[0].end || _len < 2) {\n    _index = 0;\n  } else if (time > segments[_len - 1].end) {\n    _index = _len - 1;\n  } else {\n    for (var i = 1; i < _len; i++) {\n      if (time > segments[i - 1].end && time <= segments[i].end) {\n        _index = i;\n        break;\n      }\n    }\n  }\n  return _index;\n};\nutil.getOffsetCurrentTime = function(currentTime, segments) {\n  var index = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : -1;\n  var _index = -1;\n  if (index >= 0 && index < segments.length) {\n    _index = index;\n  } else {\n    _index = util.getIndexByTime(currentTime, segments);\n  }\n  if (_index < 0) {\n    return -1;\n  }\n  var _len = segments.length;\n  var _segments$_index = segments[_index], start = _segments$_index.start, end = _segments$_index.end, cTime = _segments$_index.cTime, offset = _segments$_index.offset;\n  if (currentTime < start) {\n    return cTime;\n  } else if (currentTime >= start && currentTime <= end) {\n    return currentTime - offset;\n  } else if (currentTime > end && _index >= _len - 1) {\n    return end;\n  }\n  return -1;\n};\nutil.getCurrentTimeByOffset = function(offsetTime, segments) {\n  var _index = -1;\n  if (!segments || segments.length < 0) {\n    return offsetTime;\n  }\n  for (var i = 0; i < segments.length; i++) {\n    if (offsetTime <= segments[i].duration) {\n      _index = i;\n      break;\n    }\n  }\n  if (_index !== -1) {\n    var start = segments[_index].start;\n    if (_index - 1 < 0) {\n      return start + offsetTime;\n    } else {\n      return start + (offsetTime - segments[_index - 1].duration);\n    }\n  }\n  return offsetTime;\n};\nfunction isObject(value) {\n  var type = _typeof(value);\n  return value !== null && (type === \"object\" || type === \"function\");\n}\nfunction debounce(func, wait, options) {\n  var lastArgs, lastThis, maxWait, result, timerId, lastCallTime;\n  var lastInvokeTime = 0;\n  var leading = false;\n  var maxing = false;\n  var trailing = true;\n  var useRAF = !wait && wait !== 0 && typeof window.requestAnimationFrame === \"function\";\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  wait = +wait || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = \"maxWait\" in options;\n    maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  function invokeFunc(time) {\n    var args = lastArgs;\n    var thisArg = lastThis;\n    lastArgs = lastThis = void 0;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n  function startTimer(pendingFunc, wait2) {\n    if (useRAF) {\n      window.cancelAnimationFrame(timerId);\n      return window.requestAnimationFrame(pendingFunc);\n    }\n    return setTimeout(pendingFunc, wait2);\n  }\n  function cancelTimer(id) {\n    if (useRAF) {\n      return window.cancelAnimationFrame(id);\n    }\n    clearTimeout(id);\n  }\n  function leadingEdge(time) {\n    lastInvokeTime = time;\n    timerId = startTimer(timerExpired, wait);\n    return leading ? invokeFunc(time) : result;\n  }\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime;\n    var timeSinceLastInvoke = time - lastInvokeTime;\n    var timeWaiting = wait - timeSinceLastCall;\n    return maxing ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime;\n    var timeSinceLastInvoke = time - lastInvokeTime;\n    return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n  function timerExpired() {\n    var time = Date.now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    timerId = startTimer(timerExpired, remainingWait(time));\n  }\n  function trailingEdge(time) {\n    timerId = void 0;\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = void 0;\n    return result;\n  }\n  function cancel() {\n    if (timerId !== void 0) {\n      cancelTimer(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = void 0;\n  }\n  function flush() {\n    return timerId === void 0 ? result : trailingEdge(Date.now());\n  }\n  function pending() {\n    return timerId !== void 0;\n  }\n  function debounced() {\n    var time = Date.now();\n    var isInvoking = shouldInvoke(time);\n    for (var _len2 = arguments.length, args = new Array(_len2), _key = 0; _key < _len2; _key++) {\n      args[_key] = arguments[_key];\n    }\n    lastArgs = args;\n    lastThis = this;\n    lastCallTime = time;\n    if (isInvoking) {\n      if (timerId === void 0) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        timerId = startTimer(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === void 0) {\n      timerId = startTimer(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  debounced.pending = pending;\n  return debounced;\n}\nfunction throttle(func, wait, options) {\n  var leading = true;\n  var trailing = true;\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  if (isObject(options)) {\n    leading = \"leading\" in options ? !!options.leading : leading;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    leading,\n    trailing,\n    maxWait: wait\n  });\n}\nfunction getLang() {\n  var lang = (document.documentElement.getAttribute(\"lang\") || navigator.language || \"zh-cn\").toLocaleLowerCase();\n  if (lang === \"zh-cn\") {\n    lang = \"zh\";\n  }\n  return lang;\n}\nfunction checkIsCurrentVideo(element, playerId, key) {\n  if (!element) {\n    return;\n  }\n  var pid = element.getAttribute(key);\n  if (pid && pid === playerId && (element.tagName === \"VIDEO\" || element.tagName === \"AUDIO\")) {\n    return true;\n  }\n  return false;\n}\nexport { checkIsCurrentVideo, debounce, util as default, getLang, throttle };\n","var VERSION_REG = {\n  android: /(Android)\\s([\\d.]+)/,\n  ios: /(Version)\\/([\\d.]+)/\n};\nvar H264_MIMETYPES = [\"avc1.42E01E, mp4a.40.2\", \"avc1.58A01E, mp4a.40.2\", \"avc1.4D401E, mp4a.40.2\", \"avc1.64001E, mp4a.40.2\", \"avc1.42E01E\", \"mp4v.20.8\", \"mp4v.20.8, mp4a.40.2\", \"mp4v.20.240, mp4a.40.2\"];\nvar sniffer = {\n  get device() {\n    var r = sniffer.os;\n    return r.isPc ? \"pc\" : \"mobile\";\n  },\n  get browser() {\n    if (typeof navigator === \"undefined\") {\n      return \"\";\n    }\n    var ua = navigator.userAgent.toLowerCase();\n    var reg = {\n      ie: /rv:([\\d.]+)\\) like gecko/,\n      firefox: /firefox\\/([\\d.]+)/,\n      chrome: /chrome\\/([\\d.]+)/,\n      opera: /opera.([\\d.]+)/,\n      safari: /version\\/([\\d.]+).*safari/\n    };\n    return [].concat(Object.keys(reg).filter(function(key) {\n      return reg[key].test(ua);\n    }))[0];\n  },\n  get os() {\n    if (typeof navigator === \"undefined\") {\n      return {};\n    }\n    var ua = navigator.userAgent;\n    var isWindowsPhone = /(?:Windows Phone)/.test(ua);\n    var isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone;\n    var isAndroid = /(?:Android)/.test(ua);\n    var isFireFox = /(?:Firefox)/.test(ua);\n    var isIpad = /(?:iPad|PlayBook)/.test(ua) || navigator.platform === \"MacIntel\" && navigator.maxTouchPoints > 1;\n    var isTablet = isIpad || isAndroid && !/(?:Mobile)/.test(ua) || isFireFox && /(?:Tablet)/.test(ua);\n    var isPhone = /(?:iPhone)/.test(ua) && !isTablet;\n    var isPc = !isPhone && !isAndroid && !isSymbian && !isTablet;\n    return {\n      isTablet,\n      isPhone,\n      isIpad,\n      isIos: isPhone || isIpad,\n      isAndroid,\n      isPc,\n      isSymbian,\n      isWindowsPhone,\n      isFireFox\n    };\n  },\n  get osVersion() {\n    if (typeof navigator === \"undefined\") {\n      return 0;\n    }\n    var ua = navigator.userAgent;\n    var reg = \"\";\n    if (/(?:iPhone)|(?:iPad|PlayBook)/.test(ua)) {\n      reg = VERSION_REG.ios;\n    } else {\n      reg = VERSION_REG.android;\n    }\n    var _match = reg ? reg.exec(ua) : [];\n    if (_match && _match.length >= 3) {\n      var version = _match[2].split(\".\");\n      return version.length > 0 ? parseInt(version[0]) : 0;\n    }\n    return 0;\n  },\n  get isWeixin() {\n    if (typeof navigator === \"undefined\") {\n      return false;\n    }\n    var reg = /(micromessenger)\\/([\\d.]+)/;\n    var match = reg.exec(navigator.userAgent.toLocaleLowerCase());\n    if (match) {\n      return true;\n    }\n    return false;\n  },\n  isSupportMP4: function isSupportMP4() {\n    var result = {\n      isSupport: false,\n      mime: \"\"\n    };\n    if (typeof document === \"undefined\") {\n      return result;\n    }\n    if (this.supportResult) {\n      return this.supportResult;\n    }\n    var a = document.createElement(\"video\");\n    if (typeof a.canPlayType === \"function\") {\n      H264_MIMETYPES.map(function(key) {\n        if (a.canPlayType('video/mp4; codecs=\"'.concat(key, '\"')) === \"probably\") {\n          result.isSupport = true;\n          result.mime += \"||\".concat(key);\n        }\n      });\n    }\n    this.supportResult = result;\n    a = null;\n    return result;\n  },\n  isMSESupport: function isMSESupport() {\n    var mime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 'video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"';\n    if (typeof MediaSource === \"undefined\" || !MediaSource)\n      return false;\n    try {\n      return MediaSource.isTypeSupported(mime);\n    } catch (error) {\n      this._logger.error(mime, error);\n      return false;\n    }\n  },\n  isHevcSupported: function isHevcSupported() {\n    if (typeof MediaSource === \"undefined\" || !MediaSource.isTypeSupported) {\n      return false;\n    }\n    return MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.1.6.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.2.4.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.3.E.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.4.10.L120.90\"');\n  },\n  probeConfigSupported: function probeConfigSupported(info) {\n    var defaults = {\n      supported: false,\n      smooth: false,\n      powerEfficient: false\n    };\n    if (!info || typeof navigator === \"undefined\") {\n      return Promise.resolve(defaults);\n    }\n    if (navigator.mediaCapabilities && navigator.mediaCapabilities.decodingInfo) {\n      return navigator.mediaCapabilities.decodingInfo(info);\n    } else {\n      var videoConfig = info.video || {};\n      var audioConfig = info.audio || {};\n      try {\n        var videoSupported = MediaSource.isTypeSupported(videoConfig.contentType);\n        var audioSupported = MediaSource.isTypeSupported(audioConfig.contentType);\n        return Promise.resolve({\n          supported: videoSupported && audioSupported,\n          smooth: false,\n          powerEfficient: false\n        });\n      } catch (e) {\n        return Promise.resolve(defaults);\n      }\n    }\n  }\n};\nexport { sniffer as default };\n","var version = \"3.0.20\";\nexport { version as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport version from \"./version.js\";\nimport util from \"./utils/util.js\";\nvar ERROR_TYPE_MAP = {\n  1: \"media\",\n  2: \"media\",\n  3: \"media\",\n  4: \"media\",\n  5: \"media\",\n  6: \"media\"\n};\nvar ERROR_MAP = {\n  1: 5101,\n  2: 5102,\n  3: 5103,\n  4: 5104,\n  5: 5105,\n  6: 5106\n};\nvar Errors = /* @__PURE__ */ _createClass(\n  function Errors2(player) {\n    var errorInfo = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n      errorType: \"\",\n      errorCode: 0,\n      errorMessage: \"\",\n      originError: \"\",\n      ext: {},\n      mediaError: null\n    };\n    _classCallCheck(this, Errors2);\n    var ERROR_TYPES = player && player.i18n ? player.i18n.ERROR_TYPES : null;\n    if (player.media) {\n      var mediaError = errorInfo.mediaError ? errorInfo.mediaError : player.media.error || {};\n      var duration = player.duration, currentTime = player.currentTime, ended = player.ended, src = player.src, currentSrc = player.currentSrc;\n      var _player$media = player.media, readyState = _player$media.readyState, networkState = _player$media.networkState;\n      var _errc = errorInfo.errorCode || mediaError.code;\n      if (ERROR_MAP[_errc]) {\n        _errc = ERROR_MAP[_errc];\n      }\n      var r = {\n        playerVersion: version,\n        currentTime,\n        duration,\n        ended,\n        readyState,\n        networkState,\n        src: src || currentSrc,\n        errorType: errorInfo.errorType,\n        errorCode: _errc,\n        message: errorInfo.errorMessage || mediaError.message,\n        mediaError,\n        originError: errorInfo.originError ? errorInfo.originError.stack : \"\",\n        host: util.getHostFromUrl(src || currentSrc)\n      };\n      errorInfo.ext && Object.keys(errorInfo.ext).map(function(key) {\n        r[key] = errorInfo.ext[key];\n      });\n      return r;\n    } else {\n      if (arguments.length > 1) {\n        var _r = {\n          playerVersion: version,\n          domain: document.domain\n        };\n        var arr = [\"errorType\", \"currentTime\", \"duration\", \"networkState\", \"readyState\", \"src\", \"currentSrc\", \"ended\", \"errd\", \"errorCode\", \"mediaError\"];\n        for (var i = 0; i < arguments.length; i++) {\n          _r[arr[i]] = arguments[i];\n        }\n        _r.ex = ERROR_TYPES ? (ERROR_TYPES[arguments[0]] || {}).msg : \"\";\n        return _r;\n      }\n    }\n  }\n);\nexport { ERROR_TYPE_MAP, Errors as default };\n","var PLAY = \"play\";\nvar PLAYING = \"playing\";\nvar ENDED = \"ended\";\nvar PAUSE = \"pause\";\nvar ERROR = \"error\";\nvar SEEKING = \"seeking\";\nvar SEEKED = \"seeked\";\nvar TIME_UPDATE = \"timeupdate\";\nvar WAITING = \"waiting\";\nvar CANPLAY = \"canplay\";\nvar CANPLAY_THROUGH = \"canplaythrough\";\nvar DURATION_CHANGE = \"durationchange\";\nvar VOLUME_CHANGE = \"volumechange\";\nvar LOADED_DATA = \"loadeddata\";\nvar LOADED_METADATA = \"loadedmetadata\";\nvar RATE_CHANGE = \"ratechange\";\nvar PROGRESS = \"progress\";\nvar LOAD_START = \"loadstart\";\nvar EMPTIED = \"emptied\";\nvar STALLED = \"stalled\";\nvar SUSPEND = \"suspend\";\nvar ABORT = \"abort\";\nvar BUFFER_CHANGE = \"bufferedChange\";\nvar PLAYER_FOCUS = \"focus\";\nvar PLAYER_BLUR = \"blur\";\nvar READY = \"ready\";\nvar URL_NULL = \"urlNull\";\nvar AUTOPLAY_STARTED = \"autoplay_started\";\nvar AUTOPLAY_PREVENTED = \"autoplay_was_prevented\";\nvar COMPLETE = \"complete\";\nvar REPLAY = \"replay\";\nvar DESTROY = \"destroy\";\nvar URL_CHANGE = \"urlchange\";\nvar DOWNLOAD_SPEED_CHANGE = \"download_speed_change\";\nvar LEAVE_PLAYER = \"leaveplayer\";\nvar ENTER_PLAYER = \"enterplayer\";\nvar LOADING = \"loading\";\nvar FULLSCREEN_CHANGE = \"fullscreen_change\";\nvar CSS_FULLSCREEN_CHANGE = \"cssFullscreen_change\";\nvar MINI_STATE_CHANGE = \"mini_state_change\";\nvar DEFINITION_CHANGE = \"definition_change\";\nvar BEFORE_DEFINITION_CHANGE = \"before_definition_change\";\nvar AFTER_DEFINITION_CHANGE = \"after_definition_change\";\nvar SEI_PARSED = \"SEI_PARSED\";\nvar RETRY = \"retry\";\nvar VIDEO_RESIZE = \"video_resize\";\nvar PIP_CHANGE = \"pip_change\";\nvar ROTATE = \"rotate\";\nvar SCREEN_SHOT = \"screenShot\";\nvar PLAYNEXT = \"playnext\";\nvar SHORTCUT = \"shortcut\";\nvar XGLOG = \"xglog\";\nvar USER_ACTION = \"user_action\";\nvar RESET = \"reset\";\nvar SOURCE_ERROR = \"source_error\";\nvar SOURCE_SUCCESS = \"source_success\";\nvar SWITCH_SUBTITLE = \"switch_subtitle\";\nvar VIDEO_EVENTS = [\"play\", \"playing\", \"ended\", \"pause\", \"error\", \"seeking\", \"seeked\", \"timeupdate\", \"waiting\", \"canplay\", \"canplaythrough\", \"durationchange\", \"volumechange\", \"loadeddata\", \"loadedmetadata\", \"ratechange\", \"progress\", \"loadstart\", \"emptied\", \"stalled\", \"suspend\", \"abort\", \"lowdecode\"];\nvar STATS_EVENTS = {\n  STATS_INFO: \"stats_info\",\n  STATS_DOWNLOAD: \"stats_download\",\n  STATS_RESET: \"stats_reset\"\n};\nvar FPS_STUCK = \"fps_stuck\";\nexport { ABORT, AFTER_DEFINITION_CHANGE, AUTOPLAY_PREVENTED, AUTOPLAY_STARTED, BEFORE_DEFINITION_CHANGE, BUFFER_CHANGE, CANPLAY, CANPLAY_THROUGH, COMPLETE, CSS_FULLSCREEN_CHANGE, DEFINITION_CHANGE, DESTROY, DOWNLOAD_SPEED_CHANGE, DURATION_CHANGE, EMPTIED, ENDED, ENTER_PLAYER, ERROR, FPS_STUCK, FULLSCREEN_CHANGE, LEAVE_PLAYER, LOADED_DATA, LOADED_METADATA, LOADING, LOAD_START, MINI_STATE_CHANGE, PAUSE, PIP_CHANGE, PLAY, PLAYER_BLUR, PLAYER_FOCUS, PLAYING, PLAYNEXT, PROGRESS, RATE_CHANGE, READY, REPLAY, RESET, RETRY, ROTATE, SCREEN_SHOT, SEEKED, SEEKING, SEI_PARSED, SHORTCUT, SOURCE_ERROR, SOURCE_SUCCESS, STALLED, STATS_EVENTS, SUSPEND, SWITCH_SUBTITLE, TIME_UPDATE, URL_CHANGE, URL_NULL, USER_ACTION, VIDEO_EVENTS, VIDEO_RESIZE, VOLUME_CHANGE, WAITING, XGLOG };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, defineProperty as _defineProperty, get as _get, getPrototypeOf as _getPrototypeOf } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nimport util from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport Errors, { ERROR_TYPE_MAP } from \"./error.js\";\nimport { VIDEO_EVENTS, SOURCE_SUCCESS, SOURCE_ERROR, URL_CHANGE, WAITING } from \"./events.js\";\nfunction emitVideoEvent(eventKey, e) {\n  if (!this || !this.emit) {\n    return;\n  }\n  if (eventKey === \"error\") {\n    this.errorHandler(eventKey, e.error);\n  } else {\n    this.emit(eventKey, e);\n  }\n}\nfunction getVideoEventHandler(eventKey, player) {\n  return function(e, _err) {\n    var eData = {\n      player,\n      eventName: eventKey,\n      originalEvent: e,\n      detail: e.detail || {},\n      timeStamp: e.timeStamp,\n      currentTime: player.currentTime,\n      duration: player.duration,\n      paused: player.paused,\n      ended: player.ended,\n      isInternalOp: !!player._internalOp[e.type],\n      muted: player.muted,\n      volume: player.volume,\n      host: util.getHostFromUrl(player.currentSrc),\n      vtype: player.vtype\n    };\n    player.removeInnerOP(e.type);\n    if (eventKey === \"timeupdate\") {\n      player._currentTime = player.media && player.media.currentTime;\n    }\n    if (eventKey === \"ratechange\") {\n      var _rate = player.media ? player.media.playbackRate : 0;\n      if (_rate && player._rate === _rate) {\n        return;\n      }\n      player._rate = player.media && player.media.playbackRate;\n    }\n    if (eventKey === \"durationchange\") {\n      player._duration = player.media.duration;\n    }\n    if (eventKey === \"volumechange\") {\n      eData.isMutedChange = player._lastMuted !== player.muted;\n      player._lastMuted = player.muted;\n    }\n    if (eventKey === \"error\") {\n      eData.error = _err || player.video.error;\n    }\n    if (player.mediaEventMiddleware[eventKey]) {\n      var callback = emitVideoEvent.bind(player, eventKey, eData);\n      try {\n        player.mediaEventMiddleware[eventKey].call(player, eData, callback);\n      } catch (err) {\n        emitVideoEvent.call(player, eventKey, eData);\n        throw err;\n      }\n    } else {\n      emitVideoEvent.call(player, eventKey, eData);\n    }\n  };\n}\nvar MediaProxy = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(MediaProxy2, _EventEmitter);\n  var _super = _createSuper(MediaProxy2);\n  function MediaProxy2(options) {\n    var _this;\n    _classCallCheck(this, MediaProxy2);\n    _this = _super.call(this, options);\n    _this._hasStart = false;\n    _this._currentTime = 0;\n    _this._duration = 0;\n    _this._internalOp = {};\n    _this._lastMuted = false;\n    _this.vtype = \"MP4\";\n    _this._rate = -1;\n    _this.mediaConfig = Object.assign({}, {\n      controls: false,\n      autoplay: options.autoplay,\n      playsinline: options.playsinline,\n      \"x5-playsinline\": options.playsinline,\n      \"webkit-playsinline\": options.playsinline,\n      \"x5-video-player-fullscreen\": options[\"x5-video-player-fullscreen\"] || options.x5VideoPlayerFullscreen,\n      \"x5-video-orientation\": options[\"x5-video-orientation\"] || options.x5VideoOrientation,\n      airplay: options.airplay,\n      \"webkit-airplay\": options.airplay,\n      tabindex: options.tabindex | 0,\n      mediaType: options.mediaType || \"video\",\n      \"data-index\": -1\n    }, options.videoConfig, options.videoAttributes);\n    var playerType = options[\"x5-video-player-type\"] || options.x5VideoPlayerType;\n    if (sniffer.isWeixin && sniffer.os.isAndroid && playerType) {\n      _this.mediaConfig[\"x5-video-player-type\"] = playerType;\n      delete _this.mediaConfig.playsinline;\n      delete _this.mediaConfig[\"webkit-playsinline\"];\n      delete _this.mediaConfig[\"x5-playsinline\"];\n    }\n    if (options.loop) {\n      _this.mediaConfig.loop = \"loop\";\n    }\n    if (options.autoplayMuted && !Object.prototype.hasOwnProperty.call(_this.mediaConfig, \"muted\")) {\n      _this.mediaConfig.muted = true;\n    }\n    _this.media = util.createDom(_this.mediaConfig.mediaType, \"\", _this.mediaConfig, \"\");\n    if (options.defaultPlaybackRate) {\n      _this.media.defaultPlaybackRate = _this.media.playbackRate = options.defaultPlaybackRate;\n    }\n    if (util.typeOf(options.volume) === \"Number\") {\n      _this.volume = options.volume;\n    }\n    if (options.autoplayMuted) {\n      _this.media.muted = true;\n      _this._lastMuted = true;\n    }\n    if (options.autoplay) {\n      _this.media.autoplay = true;\n    }\n    _this._interval = {};\n    _this.mediaEventMiddleware = {};\n    _this.attachVideoEvents();\n    return _this;\n  }\n  _createClass(MediaProxy2, [{\n    key: \"setEventsMiddleware\",\n    value: function setEventsMiddleware(middlewares) {\n      var _this2 = this;\n      Object.keys(middlewares).map(function(key) {\n        _this2.mediaEventMiddleware[key] = middlewares[key];\n      });\n    }\n  }, {\n    key: \"removeEventsMiddleware\",\n    value: function removeEventsMiddleware(middlewares) {\n      var _this3 = this;\n      Object.keys(middlewares).map(function(key) {\n        delete _this3.mediaEventMiddleware[key];\n      });\n    }\n  }, {\n    key: \"attachVideoEvents\",\n    value: function attachVideoEvents() {\n      var _this4 = this;\n      var media = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.media;\n      if (!this._evHandlers) {\n        this._evHandlers = VIDEO_EVENTS.map(function(eventKey) {\n          var funName = \"on\".concat(eventKey.charAt(0).toUpperCase()).concat(eventKey.slice(1));\n          if (typeof _this4[funName] === \"function\") {\n            _this4.on(eventKey, _this4[funName]);\n          }\n          return _defineProperty({}, eventKey, getVideoEventHandler(eventKey, _this4));\n        });\n      }\n      this._evHandlers.forEach(function(item) {\n        var eventKey = Object.keys(item)[0];\n        media.addEventListener(eventKey, item[eventKey], false);\n      });\n    }\n  }, {\n    key: \"detachVideoEvents\",\n    value: function detachVideoEvents() {\n      var _this5 = this;\n      var media = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.media;\n      this._evHandlers.forEach(function(item) {\n        var eventKey = Object.keys(item)[0];\n        media.removeEventListener(eventKey, item[eventKey], false);\n      });\n      this._evHandlers.forEach(function(item) {\n        var eventKey = Object.keys(item)[0];\n        var funName = \"on\".concat(eventKey.charAt(0).toUpperCase()).concat(eventKey.slice(1));\n        if (typeof _this5[funName] === \"function\") {\n          _this5.off(eventKey, _this5[funName]);\n        }\n      });\n      this._evHandlers = null;\n    }\n  }, {\n    key: \"_attachSourceEvents\",\n    value: function _attachSourceEvents(video, urls) {\n      var _this6 = this;\n      video.removeAttribute(\"src\");\n      video.load();\n      urls.forEach(function(item, index) {\n        _this6.media.appendChild(util.createDom(\"source\", \"\", {\n          src: \"\".concat(item.src),\n          type: \"\".concat(item.type || \"\"),\n          \"data-index\": index + 1\n        }));\n      });\n      var _c = video.children;\n      if (!_c) {\n        return;\n      }\n      this._videoSourceCount = _c.length;\n      this._videoSourceIndex = _c.length;\n      this._vLoadeddata = function(e) {\n        _this6.emit(SOURCE_SUCCESS, {\n          src: e.target.currentSrc,\n          host: util.getHostFromUrl(e.target.currentSrc)\n        });\n      };\n      var _eHandler = null;\n      for (var i = 0; i < this._evHandlers.length; i++) {\n        if (Object.keys(this._evHandlers[i])[0] === \"error\") {\n          _eHandler = this._evHandlers[i];\n          break;\n        }\n      }\n      !this._sourceError && (this._sourceError = function(e) {\n        var _dIndex = parseInt(e.target.getAttribute(\"data-index\"), 10);\n        _this6._videoSourceIndex--;\n        if (_this6._videoSourceIndex === 0 || _dIndex >= _this6._videoSourceCount) {\n          var _err = {\n            code: 4,\n            message: \"sources_load_error\"\n          };\n          _eHandler ? _eHandler.error(e, _err) : _this6.errorHandler(\"error\", _err);\n        }\n        var type = ERROR_TYPE_MAP[4];\n        _this6.emit(SOURCE_ERROR, new Errors(_this6, {\n          errorType: type,\n          errorCode: 4,\n          errorMessage: \"sources_load_error\",\n          mediaError: {\n            code: 4,\n            message: \"sources_load_error\"\n          },\n          src: e.target.src\n        }));\n      });\n      for (var _i = 0; _i < _c.length; _i++) {\n        _c[_i].addEventListener(\"error\", this._sourceError);\n      }\n      video.addEventListener(\"loadeddata\", this._vLoadeddata);\n    }\n  }, {\n    key: \"_detachSourceEvents\",\n    value: function _detachSourceEvents(video) {\n      var _c = video.children;\n      if (!_c || _c.length === 0 || !this._sourceError) {\n        return;\n      }\n      for (var i = 0; i < _c.length; i++) {\n        _c[i].removeEventListener(\"error\", this._sourceError);\n      }\n      while (_c.length > 0) {\n        video.removeChild(_c[0]);\n      }\n      this._vLoadeddata && video.removeEventListener(\"loadeddata\", this._vLoadeddata);\n    }\n  }, {\n    key: \"errorHandler\",\n    value: function errorHandler(name) {\n      var error = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n      if (this.media && (this.media.error || error)) {\n        var _e = this.media.error || error;\n        var type = _e.code ? ERROR_TYPE_MAP[_e.code] : \"other\";\n        var message = _e.message;\n        if (!this.media.currentSrc) {\n          message = \"empty_src\";\n          _e = {\n            code: 6,\n            message\n          };\n        }\n        this.emit(name, new Errors(this, {\n          errorType: type,\n          errorCode: _e.code,\n          errorMessage: _e.message || \"\",\n          mediaError: _e\n        }));\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.media) {\n        if (this.media.pause) {\n          this.media.pause();\n          this.media.muted = true;\n        }\n        this.media.removeAttribute(\"src\");\n        this.media.load();\n      }\n      this._currentTime = 0;\n      this._duration = 0;\n      this.mediaConfig = null;\n      for (var k in this._interval) {\n        if (Object.prototype.hasOwnProperty.call(this._interval, k)) {\n          clearInterval(this._interval[k]);\n          this._interval[k] = null;\n        }\n      }\n      this.detachVideoEvents();\n      this.media = null;\n      this.mediaEventMiddleware = {};\n      this.removeAllListeners();\n    }\n  }, {\n    key: \"video\",\n    get: function get() {\n      return this.media;\n    },\n    set: function set(media) {\n      this.media = media;\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var ret = this.media ? this.media.play() : null;\n      return ret;\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.media && this.media.pause();\n    }\n  }, {\n    key: \"load\",\n    value: function load() {\n      this.media && this.media.load();\n    }\n  }, {\n    key: \"canPlayType\",\n    value: function canPlayType(type) {\n      return this.media ? this.media.canPlayType(type) : false;\n    }\n  }, {\n    key: \"getBufferedRange\",\n    value: function getBufferedRange(buffered) {\n      var range = [0, 0];\n      if (!this.media) {\n        return range;\n      }\n      if (!buffered) {\n        buffered = this.media.buffered;\n      }\n      var currentTime = this.media.currentTime;\n      if (buffered) {\n        for (var i = 0, len = buffered.length; i < len; i++) {\n          range[0] = buffered.start(i);\n          range[1] = buffered.end(i);\n          if (range[0] <= currentTime && currentTime <= range[1]) {\n            break;\n          }\n        }\n      }\n      if (range[0] - currentTime <= 0 && currentTime - range[1] <= 0) {\n        return range;\n      } else {\n        return [0, 0];\n      }\n    }\n  }, {\n    key: \"autoplay\",\n    get: function get() {\n      return this.media ? this.media.autoplay : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.autoplay = isTrue);\n    }\n  }, {\n    key: \"buffered\",\n    get: function get() {\n      return this.media ? this.media.buffered : null;\n    }\n  }, {\n    key: \"buffered2\",\n    get: function get() {\n      return this.media && this.media.buffered ? util.getBuffered2(this.media.buffered) : null;\n    }\n  }, {\n    key: \"bufferedPoint\",\n    get: function get() {\n      var ret = {\n        start: 0,\n        end: 0\n      };\n      if (!this.media) {\n        return ret;\n      }\n      var _buffered = this.media.buffered;\n      if (!_buffered || _buffered.length === 0) {\n        return ret;\n      }\n      for (var i = 0; i < _buffered.length; i++) {\n        if ((_buffered.start(i) <= this.currentTime || _buffered.start(i) < 0.1) && _buffered.end(i) >= this.currentTime) {\n          return {\n            start: _buffered.start(i),\n            end: _buffered.end(i)\n          };\n        }\n      }\n      return ret;\n    }\n  }, {\n    key: \"crossOrigin\",\n    get: function get() {\n      return this.media ? this.media.crossOrigin : \"\";\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.crossOrigin = isTrue);\n    }\n  }, {\n    key: \"currentSrc\",\n    get: function get() {\n      return this.media ? this.media.currentSrc : \"\";\n    },\n    set: function set(src) {\n      this.media && (this.media.currentSrc = src);\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      if (!this.media) {\n        return 0;\n      }\n      return this.media.currentTime !== void 0 ? this.media.currentTime : this._currentTime;\n    },\n    set: function set(time) {\n      this.media && (this.media.currentTime = time);\n    }\n  }, {\n    key: \"defaultMuted\",\n    get: function get() {\n      return this.media ? this.media.defaultMuted : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.defaultMuted = isTrue);\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      return this._duration;\n    }\n  }, {\n    key: \"ended\",\n    get: function get() {\n      return this.media ? this.media.ended : false;\n    }\n  }, {\n    key: \"error\",\n    get: function get() {\n      return this.media.error;\n    }\n  }, {\n    key: \"errorNote\",\n    get: function get() {\n      var err = this.media.error;\n      if (!err) {\n        return \"\";\n      }\n      var status = [\"MEDIA_ERR_ABORTED\", \"MEDIA_ERR_NETWORK\", \"MEDIA_ERR_DECODE\", \"MEDIA_ERR_SRC_NOT_SUPPORTED\"];\n      return status[this.media.error.code - 1];\n    }\n  }, {\n    key: \"loop\",\n    get: function get() {\n      return this.media ? this.media.loop : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.loop = isTrue);\n    }\n  }, {\n    key: \"muted\",\n    get: function get() {\n      return this.media ? this.media.muted : false;\n    },\n    set: function set(isTrue) {\n      if (!this.media || this.media.muted === isTrue) {\n        return;\n      }\n      this._lastMuted = this.media.muted;\n      this.media.muted = isTrue;\n    }\n  }, {\n    key: \"networkState\",\n    get: function get() {\n      return this.media.networkState;\n    }\n  }, {\n    key: \"paused\",\n    get: function get() {\n      return this.media ? this.media.paused : true;\n    }\n  }, {\n    key: \"playbackRate\",\n    get: function get() {\n      return this.media ? this.media.playbackRate : 0;\n    },\n    set: function set(rate) {\n      if (!this.media || rate === Infinity) {\n        return;\n      }\n      this.media.defaultPlaybackRate = rate;\n      this.media.playbackRate = rate;\n    }\n  }, {\n    key: \"played\",\n    get: function get() {\n      return this.media ? this.media.played : null;\n    }\n  }, {\n    key: \"preload\",\n    get: function get() {\n      return this.media ? this.media.preload : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.preload = isTrue);\n    }\n  }, {\n    key: \"readyState\",\n    get: function get() {\n      return this.media.readyState;\n    }\n  }, {\n    key: \"seekable\",\n    get: function get() {\n      return this.media ? this.media.seekable : false;\n    }\n  }, {\n    key: \"seeking\",\n    get: function get() {\n      return this.media ? this.media.seeking : false;\n    }\n  }, {\n    key: \"src\",\n    get: function get() {\n      return this.media ? this.media.src : \"\";\n    },\n    set: function set(url) {\n      if (!this.media) {\n        return;\n      }\n      this.emit(URL_CHANGE, url);\n      this.emit(WAITING);\n      this._currentTime = 0;\n      this._duration = 0;\n      if (util.isMSE(this.media)) {\n        this.onWaiting();\n        return;\n      }\n      this._detachSourceEvents(this.media);\n      if (util.typeOf(url) === \"Array\") {\n        this._attachSourceEvents(this.media, url);\n      } else if (url) {\n        this.media.src = url;\n      } else {\n        this.media.removeAttribute(\"src\");\n      }\n      this.load();\n    }\n  }, {\n    key: \"volume\",\n    get: function get() {\n      return this.media ? this.media.volume : 0;\n    },\n    set: function set(vol) {\n      if (vol === Infinity || !this.media) {\n        return;\n      }\n      this.media.volume = vol;\n    }\n  }, {\n    key: \"aspectRatio\",\n    get: function get() {\n      return this.media ? this.media.videoWidth / this.media.videoHeight : 0;\n    }\n  }, {\n    key: \"addInnerOP\",\n    value: function addInnerOP(event) {\n      this._internalOp[event] = true;\n    }\n  }, {\n    key: \"removeInnerOP\",\n    value: function removeInnerOP(event) {\n      delete this._internalOp[event];\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event, data) {\n      var _get2;\n      for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        args[_key - 2] = arguments[_key];\n      }\n      (_get2 = _get(_getPrototypeOf(MediaProxy2.prototype), \"emit\", this)).call.apply(_get2, [this, event, data].concat(args));\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      var _get3;\n      for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n      (_get3 = _get(_getPrototypeOf(MediaProxy2.prototype), \"on\", this)).call.apply(_get3, [this, event, callback].concat(args));\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, callback) {\n      var _get4;\n      for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n        args[_key3 - 2] = arguments[_key3];\n      }\n      (_get4 = _get(_getPrototypeOf(MediaProxy2.prototype), \"once\", this)).call.apply(_get4, [this, event, callback].concat(args));\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, callback) {\n      var _get5;\n      for (var _len4 = arguments.length, args = new Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) {\n        args[_key4 - 2] = arguments[_key4];\n      }\n      (_get5 = _get(_getPrototypeOf(MediaProxy2.prototype), \"off\", this)).call.apply(_get5, [this, event, callback].concat(args));\n    }\n  }, {\n    key: \"offAll\",\n    value: function offAll() {\n      _get(_getPrototypeOf(MediaProxy2.prototype), \"removeAllListeners\", this).call(this);\n    }\n  }]);\n  return MediaProxy2;\n}(EventEmitter);\nexport { MediaProxy as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar INDEXDB = /* @__PURE__ */ function() {\n  function INDEXDB2() {\n    var mydb = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n      name: \"xgplayer\",\n      version: 1,\n      db: null,\n      ojstore: {\n        name: \"xg-m4a\",\n        keypath: \"vid\"\n      }\n    };\n    _classCallCheck(this, INDEXDB2);\n    this.indexedDB = window.indexedDB || window.webkitindexedDB;\n    this.IDBKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange;\n    this.myDB = mydb;\n  }\n  _createClass(INDEXDB2, [{\n    key: \"openDB\",\n    value: function openDB(callback) {\n      var _this = this;\n      var self = this;\n      var version = this.myDB.version || 1;\n      var request = self.indexedDB.open(self.myDB.name, version);\n      request.onerror = function(e) {\n      };\n      request.onsuccess = function(e) {\n        _this.myDB.db = e.target.result;\n        callback.call(self);\n      };\n      request.onupgradeneeded = function(e) {\n        var db = e.target.result;\n        e.target.transaction;\n        if (!db.objectStoreNames.contains(self.myDB.ojstore.name)) {\n          db.createObjectStore(self.myDB.ojstore.name, {\n            keyPath: self.myDB.ojstore.keypath\n          });\n        }\n      };\n    }\n  }, {\n    key: \"deletedb\",\n    value: function deletedb() {\n      var self = this;\n      self.indexedDB.deleteDatabase(this.myDB.name);\n    }\n  }, {\n    key: \"closeDB\",\n    value: function closeDB() {\n      this.myDB.db.close();\n    }\n  }, {\n    key: \"addData\",\n    value: function addData(storename, data) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      var request;\n      for (var i = 0; i < data.length; i++) {\n        request = store.add(data[i]);\n        request.onerror = function() {\n        };\n        request.onsuccess = function() {\n        };\n      }\n    }\n  }, {\n    key: \"putData\",\n    value: function putData(storename, data) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      var request;\n      for (var i = 0; i < data.length; i++) {\n        request = store.put(data[i]);\n        request.onerror = function() {\n        };\n        request.onsuccess = function() {\n        };\n      }\n    }\n  }, {\n    key: \"getDataByKey\",\n    value: function getDataByKey(storename, key, callback) {\n      var self = this;\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      var request = store.get(key);\n      request.onerror = function() {\n        callback.call(self, null);\n      };\n      request.onsuccess = function(e) {\n        var result = e.target.result;\n        callback.call(self, result);\n      };\n    }\n  }, {\n    key: \"deleteData\",\n    value: function deleteData(storename, key) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      store.delete(key);\n    }\n  }, {\n    key: \"clearData\",\n    value: function clearData(storename) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      store.clear();\n    }\n  }]);\n  return INDEXDB2;\n}();\nexport { INDEXDB as default };\n","var FULLSCREEN_EVENTS = [\"fullscreenchange\", \"webkitfullscreenchange\", \"mozfullscreenchange\", \"MSFullscreenChange\"];\nvar GET_FULLSCREEN_API = [\"requestFullscreen\", \"webkitRequestFullscreen\", \"mozRequestFullScreen\", \"msRequestFullscreen\"];\nvar EXIT_FULLSCREEN_API = [\"exitFullscreen\", \"webkitExitFullscreen\", \"mozCancelFullScreen\", \"msExitFullscreen\"];\nvar PLATER_ID = \"data-xgplayerid\";\nexport { EXIT_FULLSCREEN_API, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, PLATER_ID };\n","import { toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction callHandler(obj, handler, next) {\n  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    args[_key - 3] = arguments[_key];\n  }\n  var ret = handler.call.apply(handler, [obj].concat(args));\n  if (!next || typeof next !== \"function\") {\n    return;\n  }\n  if (ret && ret.then) {\n    ret.then(function() {\n      for (var _len2 = arguments.length, args2 = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args2[_key2] = arguments[_key2];\n      }\n      next.call.apply(next, [obj].concat(args2));\n    });\n  } else {\n    next.call.apply(next, [obj].concat(args));\n  }\n}\nfunction hook(hookName, handler) {\n  var preset = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {\n    pre: null,\n    next: null\n  };\n  if (!this.__hooks) {\n    this.__hooks = {};\n  }\n  !this.__hooks[hookName] && (this.__hooks[hookName] = null);\n  return function() {\n    var _arguments = arguments, _this = this;\n    if (preset.pre) {\n      try {\n        var _preset$pre;\n        (_preset$pre = preset.pre).call.apply(_preset$pre, [this].concat(Array.prototype.slice.call(arguments)));\n      } catch (e) {\n        e.message = \"[pluginName: \".concat(this.pluginName, \":\").concat(hookName, \":pre error] >> \").concat(e.message);\n        throw e;\n      }\n    }\n    if (this.__hooks && this.__hooks[hookName]) {\n      try {\n        var preRet = runHooks(this, hookName, handler);\n        if (preRet) {\n          if (preRet.then) {\n            preRet.then(function(isContinue) {\n              if (isContinue !== false) {\n                callHandler.apply(void 0, [_this, handler, preset.next].concat(_toConsumableArray(_arguments)));\n              }\n            }).catch(function(e) {\n              throw e;\n            });\n          } else {\n            callHandler.apply(void 0, [this, handler, preset.next].concat(Array.prototype.slice.call(arguments)));\n          }\n        } else if (preRet === void 0) {\n          callHandler.apply(void 0, [this, handler, preset.next].concat(Array.prototype.slice.call(arguments)));\n        }\n      } catch (e) {\n        e.message = \"[pluginName: \".concat(this.pluginName, \":\").concat(hookName, \"] >> \").concat(e.message);\n        throw e;\n      }\n    } else {\n      callHandler.apply(void 0, [this, handler, preset.next].concat(Array.prototype.slice.call(arguments)));\n    }\n  }.bind(this);\n}\nfunction findHookIndex(hookName, handler) {\n  var __hooks = this.__hooks;\n  if (!__hooks || !Array.isArray(__hooks[hookName])) {\n    return -1;\n  }\n  var hookHandlers = __hooks[hookName];\n  for (var i = 0; i < hookHandlers.length; i++) {\n    if (hookHandlers[i] === handler) {\n      return i;\n    }\n  }\n  return -1;\n}\nfunction useHooks(hookName, handler) {\n  var __hooks = this.__hooks;\n  if (!__hooks) {\n    return;\n  }\n  if (!__hooks.hasOwnProperty(hookName)) {\n    console.warn(\"has no supported hook which name [\".concat(hookName, \"]\"));\n    return false;\n  }\n  if (!Array.isArray(__hooks[hookName])) {\n    __hooks[hookName] = [];\n  }\n  if (findHookIndex.call(this, hookName, handler) === -1) {\n    __hooks[hookName].push(handler);\n  }\n  return true;\n}\nfunction removeHooks(hookName, handler) {\n  var __hooks = this.__hooks;\n  if (!__hooks) {\n    return;\n  }\n  if (Array.isArray(__hooks[hookName])) {\n    var hooks = __hooks[hookName];\n    var index = findHookIndex.call(this, hookName, handler);\n    if (index !== -1) {\n      hooks.splice(index, 1);\n    }\n  }\n  delete __hooks[hookName];\n}\nfunction usePluginHooks(pluginName) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  var plugin = this.plugins[pluginName.toLowerCase()];\n  for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    args[_key3 - 1] = arguments[_key3];\n  }\n  return plugin.useHooks && plugin.useHooks.apply(plugin, args);\n}\nfunction removePluginHooks(pluginName) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  var plugin = this.plugins[pluginName.toLowerCase()];\n  if (plugin) {\n    for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n      args[_key4 - 1] = arguments[_key4];\n    }\n    return plugin.removeHooks && plugin.removeHooks.apply(plugin, args);\n  }\n}\nfunction hooksDescriptor(instance) {\n  var presetHooks = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];\n  instance.__hooks = {};\n  presetHooks && presetHooks.map(function(item) {\n    instance.__hooks[item] = null;\n  });\n  Object.defineProperty(instance, \"hooks\", {\n    get: function get() {\n      return instance.__hooks && Object.keys(instance.__hooks).map(function(key) {\n        if (instance.__hooks[key]) {\n          return key;\n        }\n      });\n    }\n  });\n}\nfunction delHooksDescriptor(instance) {\n  instance.__hooks = null;\n}\nfunction runHooks(obj, hookName, handler) {\n  for (var _len5 = arguments.length, args = new Array(_len5 > 3 ? _len5 - 3 : 0), _key5 = 3; _key5 < _len5; _key5++) {\n    args[_key5 - 3] = arguments[_key5];\n  }\n  if (obj.__hooks && Array.isArray(obj.__hooks[hookName])) {\n    var hooks = obj.__hooks[hookName];\n    var index = -1;\n    var runHooksRecursive = function runHooksRecursive2(obj2, hookName2, handler2) {\n      for (var _len6 = arguments.length, args2 = new Array(_len6 > 3 ? _len6 - 3 : 0), _key6 = 3; _key6 < _len6; _key6++) {\n        args2[_key6 - 3] = arguments[_key6];\n      }\n      index++;\n      if (hooks.length === 0 || index === hooks.length) {\n        return handler2.call.apply(handler2, [obj2, obj2].concat(args2));\n      }\n      var hook2 = hooks[index];\n      var ret = hook2.call.apply(hook2, [obj2, obj2].concat(args2));\n      if (ret && ret.then) {\n        return ret.then(function(data) {\n          return data === false ? null : runHooksRecursive2.apply(void 0, [obj2, hookName2, handler2].concat(args2));\n        }).catch(function(e) {\n          console.warn(\"[runHooks]\".concat(hookName2, \" reject\"), e.message);\n        });\n      } else if (ret !== false) {\n        return runHooksRecursive2.apply(void 0, [obj2, hookName2, handler2].concat(args2));\n      }\n    };\n    return runHooksRecursive.apply(void 0, [obj, hookName, handler].concat(args));\n  } else {\n    return handler.call.apply(handler, [obj, obj].concat(args));\n  }\n}\nexport { hooksDescriptor as default, delHooksDescriptor, hook, removeHooks, removePluginHooks, runHooks, useHooks, usePluginHooks };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../utils/util.js\";\nexport { default as Util } from \"../utils/util.js\";\nimport XG_DEBUG from \"../utils/debug.js\";\nexport { default as XG_DEBUG } from \"../utils/debug.js\";\nimport hooksDescriptor, { hook, useHooks, removeHooks, delHooksDescriptor } from \"./hooksDescriptor.js\";\nfunction showErrorMsg(pluginName, msg) {\n  XG_DEBUG.logError(\"[\".concat(pluginName, \"] event or callback cant be undefined or null when call \").concat(msg));\n}\nvar BasePlugin = /* @__PURE__ */ function() {\n  function BasePlugin2(args) {\n    _classCallCheck(this, BasePlugin2);\n    if (util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate(args);\n    }\n    hooksDescriptor(this);\n    this.__args = args;\n    this.__events = {};\n    this.__onceEvents = {};\n    this.config = args.config || {};\n    this.player = null;\n    this.playerConfig = {};\n    this.pluginName = \"\";\n    this.__init(args);\n  }\n  _createClass(BasePlugin2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n    }\n  }, {\n    key: \"beforePlayerInit\",\n    value: function beforePlayerInit() {\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n    }\n  }, {\n    key: \"afterPlayerInit\",\n    value: function afterPlayerInit() {\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n    }\n  }, {\n    key: \"__init\",\n    value: function __init(args) {\n      this.player = args.player;\n      this.playerConfig = args.player && args.player.config;\n      this.pluginName = args.pluginName ? args.pluginName.toLowerCase() : this.constructor.pluginName.toLowerCase();\n      this.logger = args.player && args.player.logger;\n    }\n  }, {\n    key: \"updateLang\",\n    value: function updateLang(lang) {\n      if (!lang) {\n        lang = this.lang;\n      }\n    }\n  }, {\n    key: \"lang\",\n    get: function get() {\n      return this.player.lang;\n    }\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      return this.player.i18n;\n    }\n  }, {\n    key: \"i18nKeys\",\n    get: function get() {\n      return this.player.i18nKeys;\n    }\n  }, {\n    key: \"domEventType\",\n    get: function get() {\n      var _e = util.checkTouchSupport() ? \"touch\" : \"mouse\";\n      if (this.playerConfig && (this.playerConfig.domEventType === \"touch\" || this.playerConfig.domEventType === \"mouse\")) {\n        _e = this.playerConfig.domEventType;\n      }\n      return _e;\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      var _this = this;\n      if (!event || !callback || !this.player) {\n        showErrorMsg(this.pluginName, \"plugin.on(event, callback)\");\n        return;\n      }\n      if (typeof event === \"string\") {\n        this.__events[event] = callback;\n        this.player.on(event, callback);\n      } else if (Array.isArray(event)) {\n        event.forEach(function(item) {\n          _this.__events[item] = callback;\n          _this.player.on(item, callback);\n        });\n      }\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, callback) {\n      var _this2 = this;\n      if (!event || !callback || !this.player) {\n        showErrorMsg(this.pluginName, \"plugin.once(event, callback)\");\n        return;\n      }\n      if (typeof event === \"string\") {\n        this.__onceEvents[event] = callback;\n        this.player.once(event, callback);\n      } else if (Array.isArray(event)) {\n        event.forEach(function(item) {\n          _this2.__onceEvents[item] = callback;\n          _this2.player.once(event, callback);\n        });\n      }\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, callback) {\n      var _this3 = this;\n      if (!event || !callback || !this.player) {\n        showErrorMsg(this.pluginName, \"plugin.off(event, callback)\");\n        return;\n      }\n      if (typeof event === \"string\") {\n        delete this.__events[event];\n        this.player.off(event, callback);\n      } else if (Array.isArray(event)) {\n        event.forEach(function(item) {\n          delete _this3.__events[event];\n          _this3.player.off(item, callback);\n        });\n      }\n    }\n  }, {\n    key: \"offAll\",\n    value: function offAll() {\n      var _this4 = this;\n      [\"__events\", \"__onceEvents\"].forEach(function(key) {\n        Object.keys(_this4[key]).forEach(function(item) {\n          _this4[key][item] && _this4.off(item, _this4[key][item]);\n          item && delete _this4[key][item];\n        });\n      });\n      this.__events = {};\n      this.__onceEvents = {};\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      var _this$player;\n      if (!this.player) {\n        return;\n      }\n      for (var _len = arguments.length, res = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        res[_key - 1] = arguments[_key];\n      }\n      (_this$player = this.player).emit.apply(_this$player, [event].concat(res));\n    }\n  }, {\n    key: \"emitUserAction\",\n    value: function emitUserAction(event, action) {\n      var params = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n      if (!this.player) {\n        return;\n      }\n      var nParams = _objectSpread2(_objectSpread2({}, params), {}, {\n        pluginName: this.pluginName\n      });\n      this.player.emitUserAction(event, action, nParams);\n    }\n  }, {\n    key: \"hook\",\n    value: function hook$1(hookName, handler) {\n      return hook.call.apply(hook, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"useHooks\",\n    value: function useHooks$1(hookName, handler) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n      return useHooks.call.apply(useHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"removeHooks\",\n    value: function removeHooks$1(hookName, handler) {\n      for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n        args[_key3 - 2] = arguments[_key3];\n      }\n      return removeHooks.call.apply(removeHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var name = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n      if (!this.player) {\n        return;\n      }\n      name && (options.pluginName = name);\n      return this.player.registerPlugin({\n        plugin,\n        options\n      });\n    }\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(name) {\n      return this.player ? this.player.getPlugin(name) : null;\n    }\n  }, {\n    key: \"__destroy\",\n    value: function __destroy() {\n      var _this5 = this;\n      var player = this.player;\n      var pluginName = this.pluginName;\n      this.offAll();\n      util.clearAllTimers(this);\n      if (util.checkIsFunction(this.destroy)) {\n        this.destroy();\n      }\n      [\"player\", \"playerConfig\", \"pluginName\", \"logger\", \"__args\", \"__hooks\"].map(function(item) {\n        _this5[item] = null;\n      });\n      player.unRegisterPlugin(pluginName);\n      delHooksDescriptor(this);\n    }\n  }], [{\n    key: \"defineGetterOrSetter\",\n    value: function defineGetterOrSetter(Obj, map) {\n      for (var key in map) {\n        if (Object.prototype.hasOwnProperty.call(map, key)) {\n          Object.defineProperty(Obj, key, map[key]);\n        }\n      }\n    }\n  }, {\n    key: \"defineMethod\",\n    value: function defineMethod(Obj, map) {\n      for (var key in map) {\n        if (Object.prototype.hasOwnProperty.call(map, key) && typeof map[key] === \"function\") {\n          Object.defineProperty(Obj, key, {\n            configurable: true,\n            value: map[key]\n          });\n        }\n      }\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }, {\n    key: \"pluginName\",\n    get: function get() {\n      return \"pluginName\";\n    }\n  }]);\n  return BasePlugin2;\n}();\nexport { BasePlugin as default };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, get as _get, getPrototypeOf as _getPrototypeOf, typeof as _typeof } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport BasePlugin from \"./basePlugin.js\";\nimport _delegate from \"delegate\";\nimport XG_DEBUG from \"../utils/debug.js\";\nimport util from \"../utils/util.js\";\nvar ROOT_TYPES = {\n  CONTROLS: \"controls\",\n  ROOT: \"root\"\n};\nvar POSITIONS = {\n  ROOT: \"root\",\n  ROOT_LEFT: \"rootLeft\",\n  ROOT_RIGHT: \"rootRight\",\n  ROOT_TOP: \"rootTop\",\n  CONTROLS_LEFT: \"controlsLeft\",\n  CONTROLS_RIGTH: \"controlsRight\",\n  CONTROLS_RIGHT: \"controlsRight\",\n  CONTROLS_CENTER: \"controlsCenter\",\n  CONTROLS: \"controls\"\n};\nvar PLUGIN_STATE_CLASS = {\n  ICON_DISABLE: \"xg-icon-disable\",\n  ICON_HIDE: \"xg-icon-hide\"\n};\nfunction isUrl(str) {\n  if (!str) {\n    return false;\n  }\n  return str.indexOf && /^(?:http|data:|\\/)/.test(str);\n}\nfunction mergeIconClass(icon, classname) {\n  if (_typeof(icon) === \"object\" && icon.class && typeof icon.class === \"string\") {\n    return \"\".concat(classname, \" \").concat(icon.class);\n  }\n  return classname;\n}\nfunction mergeIconAttr(icon, attr) {\n  if (_typeof(icon) === \"object\" && icon.attr && _typeof(icon.attr) === \"object\") {\n    Object.keys(icon.attr).map(function(key) {\n      attr[key] = icon.attr[key];\n    });\n  }\n  return attr;\n}\nfunction createIcon(icon, key) {\n  var classname = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n  var attr = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};\n  var pluginName = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : \"\";\n  var newIcon = null;\n  if (icon instanceof window.Element) {\n    util.addClass(icon, classname);\n    Object.keys(attr).map(function(key2) {\n      icon.setAttribute(key2, attr[key2]);\n    });\n    return icon;\n  }\n  if (isUrl(icon) || isUrl(icon.url)) {\n    attr.src = isUrl(icon) ? icon : icon.url || \"\";\n    newIcon = util.createDom(icon.tag || \"img\", \"\", attr, \"xg-img \".concat(classname));\n    return newIcon;\n  }\n  if (typeof icon === \"function\") {\n    try {\n      newIcon = icon();\n      if (newIcon instanceof window.Element) {\n        util.addClass(newIcon, classname);\n        Object.keys(attr).map(function(key2) {\n          newIcon.setAttribute(key2, attr[key2]);\n        });\n        return newIcon;\n      } else {\n        XG_DEBUG.logWarn(\"warn>>icons.\".concat(key, \" in config of plugin named [\").concat(pluginName, \"] is a function mast return an Element Object\"));\n      }\n      return null;\n    } catch (e) {\n      XG_DEBUG.logError(\"Plugin named [\".concat(pluginName, \"]:createIcon\"), e);\n      return null;\n    }\n  }\n  if (typeof icon === \"string\") {\n    return util.createDomFromHtml(icon, attr, classname);\n  }\n  XG_DEBUG.logWarn(\"warn>>icons.\".concat(key, \" in config of plugin named [\").concat(pluginName, \"] is invalid\"));\n  return null;\n}\nfunction registerIconsObj(iconsConfig, plugin) {\n  var _icons = plugin.config.icons || plugin.playerConfig.icons;\n  Object.keys(iconsConfig).map(function(key) {\n    var orgIcon = iconsConfig[key];\n    var classname = orgIcon && orgIcon.class ? orgIcon.class : \"\";\n    var attr = orgIcon && orgIcon.attr ? orgIcon.attr : {};\n    var newIcon = null;\n    if (_icons && _icons[key]) {\n      classname = mergeIconClass(_icons[key], classname);\n      attr = mergeIconAttr(_icons[key], attr);\n      newIcon = createIcon(_icons[key], key, classname, attr, plugin.pluginName);\n    }\n    if (!newIcon && orgIcon) {\n      newIcon = createIcon(orgIcon.icon ? orgIcon.icon : orgIcon, attr, classname, {}, plugin.pluginName);\n    }\n    plugin.icons[key] = newIcon;\n  });\n}\nfunction registerTextObj(textConfig, plugin) {\n  Object.keys(textConfig).map(function(key) {\n    Object.defineProperty(plugin.langText, key, {\n      get: function get() {\n        var lang = plugin.lang, i18n = plugin.i18n;\n        if (i18n[key]) {\n          return i18n[key];\n        } else {\n          return textConfig[key] ? textConfig[key][lang] || \"\" : \"\";\n        }\n      }\n    });\n  });\n}\nvar Plugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Plugin2, _BasePlugin);\n  var _super = _createSuper(Plugin2);\n  function Plugin2() {\n    var _this;\n    var args = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    _classCallCheck(this, Plugin2);\n    _this = _super.call(this, args);\n    _this.__delegates = [];\n    return _this;\n  }\n  _createClass(Plugin2, [{\n    key: \"__init\",\n    value: function __init(args) {\n      _get(_getPrototypeOf(Plugin2.prototype), \"__init\", this).call(this, args);\n      if (!args.root) {\n        return;\n      }\n      var _parent = args.root;\n      var _el = null;\n      this.icons = {};\n      this.root = null;\n      this.parent = null;\n      var _orgicons = this.registerIcons() || {};\n      registerIconsObj(_orgicons, this);\n      this.langText = {};\n      var defaultTexConfig = this.registerLanguageTexts() || {};\n      registerTextObj(defaultTexConfig, this);\n      var renderStr = \"\";\n      try {\n        renderStr = this.render();\n      } catch (e) {\n        XG_DEBUG.logError(\"Plugin:\".concat(this.pluginName, \":render\"), e);\n        throw new Error(\"Plugin:\".concat(this.pluginName, \":render:\").concat(e.message));\n      }\n      if (renderStr) {\n        _el = Plugin2.insert(renderStr, _parent, args.index);\n        _el.setAttribute(\"data-index\", args.index);\n      } else if (args.tag) {\n        _el = util.createDom(args.tag, \"\", args.attr, args.name);\n        _el.setAttribute(\"data-index\", args.index);\n        _parent.appendChild(_el);\n      } else {\n        return;\n      }\n      this.root = _el;\n      this.parent = _parent;\n      var attr = this.config.attr || {};\n      var style = this.config.style || {};\n      this.setAttr(attr);\n      this.setStyle(style);\n      if (this.config.index) {\n        this.root.setAttribute(\"data-index\", this.config.index);\n      }\n      this.__registerChildren();\n    }\n  }, {\n    key: \"__registerChildren\",\n    value: function __registerChildren() {\n      var _this2 = this;\n      if (!this.root) {\n        return;\n      }\n      this._children = [];\n      var children = this.children();\n      if (children && _typeof(children) === \"object\") {\n        if (Object.keys(children).length > 0) {\n          Object.keys(children).map(function(item) {\n            var name = item;\n            var _plugin = children[name];\n            var options = {\n              root: _this2.root\n            };\n            var config, _Plugin;\n            if (typeof _plugin === \"function\") {\n              config = _this2.config[name] || {};\n              _Plugin = _plugin;\n            } else if (_typeof(_plugin) === \"object\" && typeof _plugin.plugin === \"function\") {\n              config = _plugin.options ? util.deepCopy(_this2.config[name] || {}, _plugin.options) : _this2.config[name] || {};\n              _Plugin = _plugin.plugin;\n            }\n            options.config = config;\n            config.index !== void 0 && (options.index = config.index);\n            config.root && (options.root = config.root);\n            _this2.registerPlugin(_Plugin, options, name);\n          });\n        }\n      }\n    }\n  }, {\n    key: \"updateLang\",\n    value: function updateLang(lang) {\n      if (!lang) {\n        lang = this.lang;\n      }\n      function checkChildren(node, callback) {\n        for (var i = 0; i < node.children.length; i++) {\n          if (node.children[i].children.length > 0) {\n            checkChildren(node.children[i], callback);\n          } else {\n            callback(node.children[i]);\n          }\n        }\n      }\n      var root = this.root, i18n = this.i18n, langText = this.langText;\n      if (root) {\n        checkChildren(root, function(node) {\n          var langKey = node.getAttribute && node.getAttribute(\"lang-key\");\n          if (!langKey) {\n            return;\n          }\n          var langTextShow = i18n[langKey.toUpperCase()] || langText[langKey];\n          if (langTextShow) {\n            node.innerHTML = typeof langTextShow === \"function\" ? langTextShow(lang) : langTextShow;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"lang\",\n    get: function get() {\n      return this.player.lang;\n    }\n  }, {\n    key: \"changeLangTextKey\",\n    value: function changeLangTextKey(dom) {\n      var key = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n      var i18n = this.i18n || {};\n      var langText = this.langText;\n      dom.setAttribute && dom.setAttribute(\"lang-key\", key);\n      var text = i18n[key] || langText[key] || \"\";\n      if (text) {\n        dom.innerHTML = text;\n      }\n    }\n  }, {\n    key: \"plugins\",\n    value: function plugins() {\n      return this._children;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n      util.addClass(this.find(\".xgplayer-icon\"), PLUGIN_STATE_CLASS.ICON_DISABLE);\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.config.disable = false;\n      util.removeClass(this.find(\".xgplayer-icon\"), PLUGIN_STATE_CLASS.ICON_DISABLE);\n    }\n  }, {\n    key: \"children\",\n    value: function children() {\n      return {};\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var name = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n      options.root = options.root || this.root;\n      var _c = _get(_getPrototypeOf(Plugin2.prototype), \"registerPlugin\", this).call(this, plugin, options, name);\n      this._children.push(_c);\n      return _c;\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {};\n    }\n  }, {\n    key: \"registerLanguageTexts\",\n    value: function registerLanguageTexts() {\n      return {};\n    }\n  }, {\n    key: \"find\",\n    value: function find(qs) {\n      if (!this.root) {\n        return;\n      }\n      return this.root.querySelector(qs);\n    }\n  }, {\n    key: \"bind\",\n    value: function bind(querySelector, eventType, callback) {\n      var _this3 = this;\n      if (arguments.length < 3 && typeof eventType === \"function\") {\n        if (Array.isArray(querySelector)) {\n          querySelector.forEach(function(item) {\n            _this3.bindEL(item, eventType);\n          });\n        } else {\n          this.bindEL(querySelector, eventType);\n        }\n      } else {\n        var ret = Plugin2.delegate.call(this, this.root, querySelector, eventType, callback);\n        this.__delegates = this.__delegates.concat(ret);\n      }\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind(querySelector, eventType) {\n      var _this4 = this;\n      if (arguments.length < 3 && typeof eventType === \"function\") {\n        if (Array.isArray(querySelector)) {\n          querySelector.forEach(function(item) {\n            _this4.unbindEL(item, eventType);\n          });\n        } else {\n          this.unbindEL(querySelector, eventType);\n        }\n      } else {\n        var key = \"\".concat(querySelector, \"_\").concat(eventType);\n        for (var i = 0; i < this.__delegates.length; i++) {\n          if (this.__delegates[i].key === key) {\n            this.__delegates[i].destroy();\n            this.__delegates.splice(i, 1);\n            break;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(name, value) {\n      var _this5 = this;\n      if (!this.root) {\n        return;\n      }\n      if (util.typeOf(name) === \"String\") {\n        return this.root.style[name] = value;\n      } else if (util.typeOf(name) === \"Object\") {\n        Object.keys(name).map(function(key) {\n          _this5.root.style[key] = name[key];\n        });\n      }\n    }\n  }, {\n    key: \"setAttr\",\n    value: function setAttr(name, value) {\n      var _this6 = this;\n      if (!this.root) {\n        return;\n      }\n      if (util.typeOf(name) === \"String\") {\n        return this.root.setAttribute(name, value);\n      } else if (util.typeOf(name) === \"Object\") {\n        Object.keys(name).map(function(key) {\n          _this6.root.setAttribute(key, name[key]);\n        });\n      }\n    }\n  }, {\n    key: \"setHtml\",\n    value: function setHtml(htmlStr, callback) {\n      if (!this.root) {\n        return;\n      }\n      this.root.innerHTML = htmlStr;\n      if (typeof callback === \"function\") {\n        callback();\n      }\n    }\n  }, {\n    key: \"bindEL\",\n    value: function bindEL(event, eventHandle) {\n      var isBubble = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n      if (!this.root) {\n        return;\n      }\n      if (\"on\".concat(event) in this.root && typeof eventHandle === \"function\") {\n        this.root.addEventListener(event, eventHandle, isBubble);\n      }\n    }\n  }, {\n    key: \"unbindEL\",\n    value: function unbindEL(event, eventHandle) {\n      var isBubble = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n      if (!this.root) {\n        return;\n      }\n      if (\"on\".concat(event) in this.root && typeof eventHandle === \"function\") {\n        this.root.removeEventListener(event, eventHandle, isBubble);\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      if (!this.root) {\n        return;\n      }\n      this.root.style.display = value !== void 0 ? value : \"block\";\n      var cs = window.getComputedStyle(this.root, null);\n      var cssDisplayValue = cs.getPropertyValue(\"display\");\n      if (cssDisplayValue === \"none\") {\n        return this.root.style.display = \"block\";\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.root && (this.root.style.display = \"none\");\n    }\n  }, {\n    key: \"appendChild\",\n    value: function appendChild(pdom, child) {\n      if (!this.root) {\n        return null;\n      }\n      if (arguments.length < 2 && arguments[0] instanceof window.Element) {\n        return this.root.appendChild(arguments[0]);\n      }\n      if (!child || !(child instanceof window.Element)) {\n        return null;\n      }\n      try {\n        if (typeof pdom === \"string\") {\n          return this.find(pdom).appendChild(child);\n        } else {\n          return pdom.appendChild(child);\n        }\n      } catch (err) {\n        XG_DEBUG.logError(\"Plugin:appendChild\", err);\n        return null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return \"\";\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n    }\n  }, {\n    key: \"__destroy\",\n    value: function __destroy() {\n      var _this7 = this;\n      var player = this.player;\n      this.__delegates.map(function(item) {\n        item.destroy();\n      });\n      this.__delegates = [];\n      if (this._children instanceof Array) {\n        this._children.map(function(item) {\n          player.unRegisterPlugin(item.pluginName);\n        });\n        this._children = null;\n      }\n      if (this.root) {\n        if (this.root.hasOwnProperty(\"remove\")) {\n          this.root.remove();\n        } else if (this.root.parentNode) {\n          this.root.parentNode.removeChild(this.root);\n        }\n      }\n      _get(_getPrototypeOf(Plugin2.prototype), \"__destroy\", this).call(this);\n      this.icons = {};\n      [\"root\", \"parent\"].map(function(item) {\n        _this7[item] = null;\n      });\n    }\n  }], [{\n    key: \"insert\",\n    value: function insert(html, parent) {\n      var index = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var len = parent.children.length;\n      var insertIdx = Number(index);\n      var isDomElement = html instanceof window.Node;\n      if (len) {\n        var i = 0;\n        var coordinate = null;\n        var mode = \"\";\n        for (; i < len; i++) {\n          coordinate = parent.children[i];\n          var curIdx = Number(coordinate.getAttribute(\"data-index\"));\n          if (curIdx >= insertIdx) {\n            mode = \"beforebegin\";\n            break;\n          } else if (curIdx < insertIdx) {\n            mode = \"afterend\";\n          }\n        }\n        if (isDomElement) {\n          if (mode === \"afterend\") {\n            parent.appendChild(html);\n          } else {\n            parent.insertBefore(html, coordinate);\n          }\n        } else {\n          coordinate.insertAdjacentHTML(mode, html);\n        }\n        return mode === \"afterend\" ? parent.children[parent.children.length - 1] : parent.children[i];\n      } else {\n        isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML(\"beforeend\", html);\n        return parent.children[parent.children.length - 1];\n      }\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }, {\n    key: \"delegate\",\n    value: function delegate(root, querySelector, eventType, callback) {\n      var capture = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : false;\n      var dels = [];\n      if (root instanceof window.Node && typeof callback === \"function\") {\n        if (Array.isArray(eventType)) {\n          eventType.forEach(function(item) {\n            var ret2 = _delegate(root, querySelector, item, callback, capture);\n            ret2.key = \"\".concat(querySelector, \"_\").concat(item);\n            dels.push(ret2);\n          });\n        } else {\n          var ret = _delegate(root, querySelector, eventType, callback, capture);\n          ret.key = \"\".concat(querySelector, \"_\").concat(eventType);\n          dels.push(ret);\n        }\n      }\n      return dels;\n    }\n  }, {\n    key: \"ROOT_TYPES\",\n    get: function get() {\n      return ROOT_TYPES;\n    }\n  }, {\n    key: \"POSITIONS\",\n    get: function get() {\n      return POSITIONS;\n    }\n  }]);\n  return Plugin2;\n}(BasePlugin);\nexport { PLUGIN_STATE_CLASS, POSITIONS, ROOT_TYPES, Plugin as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { throttle } from \"../utils/util.js\";\nimport { PLATER_ID } from \"../constant.js\";\nvar ResizeObserver = /* @__PURE__ */ function() {\n  function ResizeObserver2() {\n    var _this = this;\n    _classCallCheck(this, ResizeObserver2);\n    _defineProperty(this, \"__trigger\", function(entries) {\n      var t = new Date().getTime();\n      _this.timeStamp = t;\n      for (var i = 0; i < entries.length; i++) {\n        _this.__runHandler(entries[i].target);\n      }\n    });\n    this.__handlers = [];\n    this.timeStamp = 0;\n    this.observer = null;\n    if (!window.ResizeObserver) {\n      return;\n    }\n    try {\n      this.observer = new window.ResizeObserver(throttle(this.__trigger, 100, {\n        trailing: true\n      }));\n      this.timeStamp = new Date().getTime();\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  _createClass(ResizeObserver2, [{\n    key: \"addObserver\",\n    value: function addObserver2(target, handler) {\n      if (!this.observer) {\n        return;\n      }\n      this.observer.observe(target);\n      var _pid = target.getAttribute(PLATER_ID);\n      var __handlers = this.__handlers;\n      var index = -1;\n      for (var i = 0; i < __handlers.length; i++) {\n        if (__handlers[i] && target === __handlers[i].target) {\n          index = i;\n        }\n      }\n      if (index > -1) {\n        this.__handlers[index].handler = handler;\n      } else {\n        this.__handlers.push({\n          target,\n          handler,\n          playerId: _pid\n        });\n      }\n    }\n  }, {\n    key: \"unObserver\",\n    value: function unObserver2(target) {\n      var i = -1;\n      this.__handlers.map(function(item, index) {\n        if (target === item.target) {\n          i = index;\n        }\n      });\n      try {\n        var _this$observer;\n        (_this$observer = this.observer) === null || _this$observer === void 0 ? void 0 : _this$observer.unobserve(target);\n      } catch (e) {\n      }\n      i > -1 && this.__handlers.splice(i, 1);\n    }\n  }, {\n    key: \"destroyObserver\",\n    value: function destroyObserver() {\n      var _this$observer2;\n      (_this$observer2 = this.observer) === null || _this$observer2 === void 0 ? void 0 : _this$observer2.disconnect();\n      this.observer = null;\n      this.__handlers = null;\n    }\n  }, {\n    key: \"__runHandler\",\n    value: function __runHandler(target) {\n      var __handlers = this.__handlers;\n      for (var i = 0; i < __handlers.length; i++) {\n        if (__handlers[i] && target === __handlers[i].target) {\n          try {\n            __handlers[i].handler(target);\n          } catch (error) {\n            console.error(error);\n          }\n          return true;\n        }\n      }\n      return false;\n    }\n  }]);\n  return ResizeObserver2;\n}();\nvar resizeObserver = null;\nfunction addObserver(target, handler) {\n  if (!resizeObserver) {\n    resizeObserver = new ResizeObserver();\n  }\n  resizeObserver.addObserver(target, handler);\n  return resizeObserver;\n}\nfunction unObserver(target, handler) {\n  var _resizeObserver;\n  (_resizeObserver = resizeObserver) === null || _resizeObserver === void 0 ? void 0 : _resizeObserver.unObserver(target, handler);\n}\nexport { addObserver, unObserver };\n","import { addObserver, unObserver } from \"./resizeObserver.js\";\nimport util from \"../utils/util.js\";\nvar pluginsManager = {\n  pluginGroup: {},\n  init: function init(player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid) {\n      cgid = new Date().getTime();\n      player._pluginInfoId = cgid;\n    }\n    !player.config.closeResizeObserver && addObserver(player.root, function() {\n      player.resize();\n    });\n    this.pluginGroup[cgid] = {\n      _originalOptions: player.config || {},\n      _plugins: {}\n    };\n  },\n  formatPluginInfo: function formatPluginInfo(plugin, config) {\n    var PLUFGIN = null;\n    var options = null;\n    if (plugin.plugin && typeof plugin.plugin === \"function\") {\n      PLUFGIN = plugin.plugin;\n      options = plugin.options;\n    } else {\n      PLUFGIN = plugin;\n      options = {};\n    }\n    if (config) {\n      options.config = config || {};\n    }\n    return {\n      PLUFGIN,\n      options\n    };\n  },\n  checkPluginIfExits: function checkPluginIfExits(pluginName, plugins) {\n    for (var i = 0; i < plugins.length; i++) {\n      if (pluginName.toLowerCase() === plugins[i].pluginName.toLowerCase()) {\n        return true;\n      }\n    }\n    return false;\n  },\n  getRootByConfig: function getRootByConfig(pluginName, playerConfig) {\n    var keys = Object.keys(playerConfig);\n    var _pConfig = null;\n    for (var i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        _pConfig = playerConfig[keys[i]];\n        break;\n      }\n    }\n    if (util.typeOf(_pConfig) === \"Object\") {\n      return {\n        root: _pConfig.root,\n        position: _pConfig.position\n      };\n    }\n    return {};\n  },\n  lazyRegister: function lazyRegister(player, lazyPlugin) {\n    var _this = this;\n    var timeout = lazyPlugin.timeout || 1500;\n    return Promise.race([lazyPlugin.loader().then(function(plugin) {\n      var result;\n      if (plugin && plugin.__esModule) {\n        result = plugin.default;\n      } else {\n        result = plugin;\n      }\n      _this.register(player, result, plugin.options);\n    }), new Promise(function(resolve, reject) {\n      setTimeout(function() {\n        reject(new Error(\"timeout\"));\n      }, timeout);\n    })]);\n  },\n  register: function register(player, plugin) {\n    var options = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n    if (!player || !plugin || typeof plugin !== \"function\" || plugin.prototype === void 0) {\n      return;\n    }\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = {};\n    }\n    var plugins = this.pluginGroup[cgid]._plugins;\n    var originalOptions = this.pluginGroup[cgid]._originalOptions;\n    options.player = player;\n    var pluginName = options.pluginName || plugin.pluginName;\n    if (!pluginName) {\n      throw new Error(\"The property pluginName is necessary\");\n    }\n    if (plugin.isSupported && !plugin.isSupported(player.config.mediaType, player.config.codecType)) {\n      console.warn(\"not supported plugin [\".concat(pluginName, \"]\"));\n      return;\n    }\n    if (!options.config) {\n      options.config = {};\n    }\n    var keys = Object.keys(originalOptions);\n    for (var i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        var config = originalOptions[keys[i]];\n        if (util.typeOf(config) === \"Object\") {\n          options.config = Object.assign({}, options.config, originalOptions[keys[i]]);\n        } else if (util.typeOf(config) === \"Boolean\") {\n          options.config.disable = !config;\n        }\n        break;\n      }\n    }\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).forEach(function(key) {\n        if (typeof options.config[key] === \"undefined\") {\n          options.config[key] = plugin.defaultConfig[key];\n        }\n      });\n    }\n    if (!options.root) {\n      options.root = player.root;\n    } else if (typeof options.root === \"string\") {\n      options.root = player[options.root];\n    }\n    options.index = options.config.index || 0;\n    try {\n      if (plugins[pluginName.toLowerCase()]) {\n        this.unRegister(cgid, pluginName.toLowerCase());\n        console.warn(\"the is one plugin with same pluginName [\".concat(pluginName, \"] exist, destroy the old instance\"));\n      }\n      var _instance = new plugin(options);\n      plugins[pluginName.toLowerCase()] = _instance;\n      plugins[pluginName.toLowerCase()].func = plugin;\n      if (_instance && typeof _instance.afterCreate === \"function\") {\n        _instance.afterCreate();\n      }\n      return _instance;\n    } catch (err) {\n      console.error(err);\n      throw err;\n    }\n  },\n  unRegister: function unRegister(cgid, name) {\n    if (cgid._pluginInfoId) {\n      cgid = cgid._pluginInfoId;\n    }\n    name = name.toLowerCase();\n    try {\n      var plugin = this.pluginGroup[cgid]._plugins[name];\n      if (plugin) {\n        plugin.pluginName && plugin.__destroy();\n        delete this.pluginGroup[cgid]._plugins[name];\n      }\n    } catch (e) {\n      console.error(\"[unRegister:\".concat(name, \"] cgid:[\").concat(cgid, \"] error\"), e);\n    }\n  },\n  deletePlugin: function deletePlugin(player, name) {\n    var cgid = player._pluginInfoId;\n    if (cgid && this.pluginGroup[cgid] && this.pluginGroup[cgid]._plugins) {\n      delete this.pluginGroup[cgid]._plugins[name];\n    }\n  },\n  getPlugins: function getPlugins(player) {\n    var cgid = player._pluginInfoId;\n    return cgid && this.pluginGroup[cgid] ? this.pluginGroup[cgid]._plugins : {};\n  },\n  findPlugin: function findPlugin(player, name) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return null;\n    }\n    var cName = name.toLowerCase();\n    return this.pluginGroup[cgid]._plugins[cName];\n  },\n  beforeInit: function beforeInit(player) {\n    var _this2 = this;\n    function retPromise(fun) {\n      if (!fun || !fun.then) {\n        return new Promise(function(resolve) {\n          resolve();\n        });\n      } else {\n        return fun;\n      }\n    }\n    return new Promise(function(resolve) {\n      if (!_this2.pluginGroup) {\n        return;\n      }\n      var prevTask;\n      if (player._loadingPlugins && player._loadingPlugins.length) {\n        prevTask = Promise.all(player._loadingPlugins);\n      } else {\n        prevTask = Promise.resolve();\n      }\n      return prevTask.then(function() {\n        var cgid = player._pluginInfoId;\n        if (!_this2.pluginGroup[cgid]) {\n          resolve();\n          return;\n        }\n        var plugins = _this2.pluginGroup[cgid]._plugins;\n        var pluginsRet = [];\n        Object.keys(plugins).forEach(function(pName) {\n          if (plugins[pName] && plugins[pName].beforePlayerInit) {\n            try {\n              var ret = plugins[pName].beforePlayerInit();\n              pluginsRet.push(retPromise(ret));\n            } catch (e) {\n              pluginsRet.push(retPromise(null));\n              throw e;\n            }\n          }\n        });\n        Promise.all([].concat(pluginsRet)).then(function() {\n          resolve();\n        }).catch(function(e) {\n          console.error(e);\n          resolve();\n        });\n      });\n    });\n  },\n  afterInit: function afterInit(player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach(function(pName) {\n      if (plugins[pName] && plugins[pName].afterPlayerInit) {\n        plugins[pName].afterPlayerInit();\n      }\n    });\n  },\n  setLang: function setLang(lang, player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach(function(item) {\n      if (plugins[item].updateLang) {\n        plugins[item].updateLang(lang);\n      } else {\n        try {\n          plugins[item].lang = lang;\n        } catch (error) {\n          console.warn(\"\".concat(item, \" setLang\"));\n        }\n      }\n    });\n  },\n  reRender: function reRender(player) {\n    var _this3 = this;\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var _pList = [];\n    var plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach(function(pName) {\n      if (pName !== \"controls\" && plugins[pName]) {\n        _pList.push({\n          plugin: plugins[pName].func,\n          options: plugins[pName].__args\n        });\n        _this3.unRegister(cgid, pName);\n      }\n    });\n    _pList.forEach(function(item) {\n      _this3.register(player, item.plugin, item.options);\n    });\n  },\n  onPluginsReady: function onPluginsReady(player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var plugins = this.pluginGroup[cgid]._plugins || {};\n    Object.keys(plugins).forEach(function(key) {\n      if (plugins[key].onPluginsReady && typeof plugins[key].onPluginsReady === \"function\") {\n        plugins[key].onPluginsReady();\n      }\n    });\n  },\n  destroy: function destroy(player) {\n    var cgid = player._pluginInfoId;\n    if (!this.pluginGroup[cgid]) {\n      return;\n    }\n    unObserver(player.root);\n    var plugins = this.pluginGroup[cgid]._plugins;\n    for (var _i = 0, _Object$keys = Object.keys(plugins); _i < _Object$keys.length; _i++) {\n      var item = _Object$keys[_i];\n      this.unRegister(cgid, item);\n    }\n    delete this.pluginGroup[cgid];\n    delete player._pluginInfoId;\n  }\n};\nexport { pluginsManager as default };\n","var STATE_CLASS = {\n  DEFAULT: \"xgplayer\",\n  DEFAULT_SKIN: \"xgplayer-skin-default\",\n  ENTER: \"xgplayer-is-enter\",\n  PAUSED: \"xgplayer-pause\",\n  PLAYING: \"xgplayer-playing\",\n  ENDED: \"xgplayer-ended\",\n  CANPLAY: \"xgplayer-canplay\",\n  LOADING: \"xgplayer-isloading\",\n  ERROR: \"xgplayer-is-error\",\n  REPLAY: \"xgplayer-replay\",\n  NO_START: \"xgplayer-nostart\",\n  ACTIVE: \"xgplayer-active\",\n  INACTIVE: \"xgplayer-inactive\",\n  FULLSCREEN: \"xgplayer-is-fullscreen\",\n  CSS_FULLSCREEN: \"xgplayer-is-cssfullscreen\",\n  ROTATE_FULLSCREEN: \"xgplayer-rotate-fullscreen\",\n  PARENT_ROTATE_FULLSCREEN: \"xgplayer-rotate-parent\",\n  PARENT_FULLSCREEN: \"xgplayer-fullscreen-parent\",\n  INNER_FULLSCREEN: \"xgplayer-fullscreen-inner\",\n  NO_CONTROLS: \"no-controls\",\n  FLEX_CONTROLS: \"flex-controls\",\n  CONTROLS_FOLLOW: \"controls-follow\",\n  CONTROLS_AUTOHIDE: \"controls-autohide\",\n  TOP_BAR_AUTOHIDE: \"top-bar-autohide\",\n  NOT_ALLOW_AUTOPLAY: \"not-allow-autoplay\",\n  SEEKING: \"seeking\",\n  PC: \"xgplayer-pc\",\n  MOBILE: \"xgplayer-mobile\",\n  MINI: \"xgplayer-mini\"\n};\nexport { STATE_CLASS as default };\n","import { getLang } from \"./utils/util.js\";\nfunction getDefaultConfig() {\n  return {\n    id: \"\",\n    el: null,\n    url: \"\",\n    domEventType: \"default\",\n    nullUrlStart: false,\n    width: 600,\n    height: 337.5,\n    fluid: false,\n    fitVideoSize: \"fixed\",\n    videoFillMode: \"auto\",\n    volume: 0.6,\n    autoplay: false,\n    autoplayMuted: false,\n    loop: false,\n    isLive: false,\n    zoom: 1,\n    videoInit: true,\n    poster: \"\",\n    isMobileSimulateMode: false,\n    defaultPlaybackRate: 1,\n    execBeforePluginsCall: null,\n    allowSeekAfterEnded: true,\n    enableContextmenu: true,\n    closeVideoClick: false,\n    closeVideoDblclick: false,\n    closePlayerBlur: false,\n    closeDelayBlur: false,\n    leavePlayerTime: 3e3,\n    closePlayVideoFocus: false,\n    closePauseVideoFocus: false,\n    closeFocusVideoFocus: true,\n    closeControlsBlur: true,\n    topBarAutoHide: true,\n    videoAttributes: {},\n    startTime: 0,\n    seekedStatus: \"play\",\n    miniprogress: false,\n    disableSwipeHandler: function disableSwipeHandler() {\n    },\n    enableSwipeHandler: function enableSwipeHandler() {\n    },\n    preProcessUrl: null,\n    ignores: [],\n    whitelist: [],\n    inactive: 3e3,\n    lang: getLang(),\n    controls: true,\n    marginControls: false,\n    fullscreenTarget: null,\n    screenShot: false,\n    rotate: false,\n    pip: false,\n    download: false,\n    mini: false,\n    cssFullscreen: true,\n    keyShortcut: true,\n    presets: [],\n    plugins: [],\n    playbackRate: 1,\n    definition: {\n      list: []\n    },\n    playsinline: true,\n    customDuration: 0,\n    timeOffset: 0,\n    icons: {},\n    i18n: [],\n    tabindex: 0,\n    thumbnail: null,\n    videoConfig: {},\n    isHideTips: false,\n    minWaitDelay: 200,\n    commonStyle: {\n      progressColor: \"\",\n      playedColor: \"\",\n      cachedColor: \"\",\n      sliderBtnStyle: {},\n      volumeColor: \"\"\n    }\n  };\n}\nexport { getDefaultConfig as default };\n","import { toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar usePreset = function usePreset2(player, Preset) {\n  var _player$config$plugin, _player$config$ignore;\n  var presetInst;\n  if (Preset.preset && Preset.options) {\n    presetInst = new Preset.preset(Preset.options, player.config);\n  } else {\n    presetInst = new Preset({}, player.config);\n  }\n  var _presetInst = presetInst, _presetInst$plugins = _presetInst.plugins, plugins = _presetInst$plugins === void 0 ? [] : _presetInst$plugins, _presetInst$ignores = _presetInst.ignores, ignores = _presetInst$ignores === void 0 ? [] : _presetInst$ignores, _presetInst$icons = _presetInst.icons, icons = _presetInst$icons === void 0 ? {} : _presetInst$icons, _presetInst$i18n = _presetInst.i18n, i18n = _presetInst$i18n === void 0 ? [] : _presetInst$i18n;\n  if (!player.config.plugins) {\n    player.config.plugins = [];\n  }\n  if (!player.config.ignores) {\n    player.config.ignores = [];\n  }\n  (_player$config$plugin = player.config.plugins).push.apply(_player$config$plugin, _toConsumableArray(plugins));\n  (_player$config$ignore = player.config.ignores).push.apply(_player$config$ignore, _toConsumableArray(ignores));\n  Object.keys(icons).map(function(key) {\n    if (!player.config.icons[key]) {\n      player.config.icons[key] = icons[key];\n    }\n  });\n  var _ci18n = player.config.i18n || [];\n  i18n.push.apply(i18n, _toConsumableArray(_ci18n));\n  player.config.i18n = i18n;\n};\nexport { usePreset };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nvar Controls = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Controls2, _Plugin);\n  var _super = _createSuper(Controls2);\n  function Controls2() {\n    var _this;\n    _classCallCheck(this, Controls2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, playerConfig = _assertThisInitialize.playerConfig;\n      playerConfig.closeControlsBlur && player.focus({\n        autoHide: false\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function(e) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), player = _assertThisInitialize2.player;\n      player.focus();\n    });\n    return _this;\n  }\n  _createClass(Controls2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (!args.config.mode && sniffer.device === \"mobile\") {\n        args.config.mode = \"flex\";\n      }\n      if (args.player.config.marginControls) {\n        args.config.autoHide = false;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var _this$config = this.config, disable = _this$config.disable, height = _this$config.height, mode = _this$config.mode;\n      if (disable) {\n        return;\n      }\n      mode === \"flex\" && this.player.addClass(STATE_CLASS.FLEX_CONTROLS);\n      var style = {\n        height: \"\".concat(height, \"px\")\n      };\n      Object.keys(style).map(function(key) {\n        _this2.root.style[key] = style[key];\n      });\n      this.left = this.find(\"xg-left-grid\");\n      this.center = this.find(\"xg-center-grid\");\n      this.right = this.find(\"xg-right-grid\");\n      this.innerRoot = this.find(\"xg-inner-controls\");\n      this.on(MINI_STATE_CHANGE, function(isMini) {\n        isMini ? util.addClass(_this2.root, \"mini-controls\") : util.removeClass(_this2.root, \"mini-controls\");\n      });\n      var isMobileSimulateMode = this.playerConfig.isMobileSimulateMode;\n      if (sniffer.device !== \"mobile\" && isMobileSimulateMode !== \"mobile\") {\n        this.bind(\"mouseenter\", this.onMouseEnter);\n        this.bind(\"mouseleave\", this.onMouseLeave);\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.player.focus({\n        autoHide: false\n      });\n    }\n  }, {\n    key: \"focusAwhile\",\n    value: function focusAwhile() {\n      this.player.focus({\n        autoHide: true\n      });\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.player.blur({\n        ignorePaused: true\n      });\n    }\n  }, {\n    key: \"recoverAutoHide\",\n    value: function recoverAutoHide() {\n      this.config.autoHide && util.addClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n    }\n  }, {\n    key: \"pauseAutoHide\",\n    value: function pauseAutoHide() {\n      util.removeClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      this.root.style.display = \"\";\n      this.player.focus();\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.root.style.display = \"none\";\n    }\n  }, {\n    key: \"mode\",\n    get: function get() {\n      return this.config.mode;\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var name = arguments.length > 2 ? arguments[2] : void 0;\n      if (!this.root) {\n        return;\n      }\n      var defaultConfig = plugin.defaultConfig || {};\n      if (!options.root) {\n        var position = options.position ? options.position : options.config && options.config.position ? options.config.position : defaultConfig.position;\n        switch (position) {\n          case POSITIONS.CONTROLS_LEFT:\n            options.root = this.left;\n            break;\n          case POSITIONS.CONTROLS_RIGHT:\n            options.root = this.right;\n            break;\n          case POSITIONS.CONTROLS_CENTER:\n            options.root = this.center;\n            break;\n          case POSITIONS.CONTROLS:\n            options.root = this.root;\n            break;\n          default:\n            options.root = this.left;\n        }\n        return _get(_getPrototypeOf(Controls2.prototype), \"registerPlugin\", this).call(this, plugin, options, name);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (sniffer.device !== \"mobile\") {\n        this.unbind(\"mouseenter\", this.onMouseEnter);\n        this.unbind(\"mouseleave\", this.onMouseLeave);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$config2 = this.config, mode = _this$config2.mode, autoHide = _this$config2.autoHide, initShow = _this$config2.initShow, disable = _this$config2.disable;\n      if (disable) {\n        return;\n      }\n      var className = util.classNames({\n        \"xgplayer-controls\": true\n      }, {\n        \"flex-controls\": mode === \"flex\"\n      }, {\n        \"bottom-controls\": mode === \"bottom\"\n      }, _defineProperty({}, STATE_CLASS.CONTROLS_AUTOHIDE, autoHide), {\n        \"xgplayer-controls-initshow\": initShow || !autoHide\n      });\n      return '<xg-controls class=\"'.concat(className, '\" unselectable=\"on\">\\n    <xg-inner-controls class=\"xg-inner-controls xg-pos\">\\n      <xg-left-grid class=\"xg-left-grid\">\\n      </xg-left-grid>\\n      <xg-center-grid class=\"xg-center-grid\"></xg-center-grid>\\n      <xg-right-grid class=\"xg-right-grid\">\\n      </xg-right-grid>\\n    </xg-inner-controls>\\n    </xg-controls>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"controls\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disable: false,\n        autoHide: true,\n        mode: \"\",\n        initShow: false\n      };\n    }\n  }]);\n  return Controls2;\n}(Plugin);\nexport { Controls as default };\n","var EN = {\n  LANG: \"en\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"video download error\"\n      },\n      mse: {\n        code: 2,\n        msg: \"stream append error\"\n      },\n      parse: {\n        code: 3,\n        msg: \"parsing error\"\n      },\n      format: {\n        code: 4,\n        msg: \"wrong format\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"decoding error\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"grammatical errors\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"play timeout\"\n      },\n      other: {\n        code: 8,\n        msg: \"other errors\"\n      }\n    },\n    HAVE_NOTHING: \"There is no information on whether audio/video is ready\",\n    HAVE_METADATA: \"Audio/video metadata is ready \",\n    HAVE_CURRENT_DATA: \"Data about the current play location is available, but there is not enough data to play the next frame/millisecond\",\n    HAVE_FUTURE_DATA: \"Current and at least one frame of data is available\",\n    HAVE_ENOUGH_DATA: \"The available data is sufficient to start playing\",\n    NETWORK_EMPTY: \"Audio/video has not been initialized\",\n    NETWORK_IDLE: \"Audio/video is active and has been selected for resources, but no network is used\",\n    NETWORK_LOADING: \"The browser is downloading the data\",\n    NETWORK_NO_SOURCE: \"No audio/video source was found\",\n    MEDIA_ERR_ABORTED: \"The fetch process is aborted by the user\",\n    MEDIA_ERR_NETWORK: \"An error occurred while downloading\",\n    MEDIA_ERR_DECODE: \"An error occurred while decoding\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"Audio/video is not supported\",\n    REPLAY: \"Replay\",\n    ERROR: \"Network is offline\",\n    PLAY_TIPS: \"Play\",\n    PAUSE_TIPS: \"Pause\",\n    PLAYNEXT_TIPS: \"Play next\",\n    DOWNLOAD_TIPS: \"Download\",\n    ROTATE_TIPS: \"Rotate\",\n    RELOAD_TIPS: \"Reload\",\n    FULLSCREEN_TIPS: \"Fullscreen\",\n    EXITFULLSCREEN_TIPS: \"Exit fullscreen\",\n    CSSFULLSCREEN_TIPS: \"Cssfullscreen\",\n    EXITCSSFULLSCREEN_TIPS: \"Exit cssfullscreen\",\n    TEXTTRACK: \"Caption\",\n    PIP: \"PIP\",\n    SCREENSHOT: \"Screenshot\",\n    LIVE: \"LIVE\",\n    OFF: \"Off\",\n    OPEN: \"Open\",\n    MINI_DRAG: \"Click and hold to drag\",\n    MINISCREEN: \"Miniscreen\",\n    REFRESH_TIPS: \"Please Try\",\n    REFRESH: \"Refresh\",\n    FORWARD: \"forward\",\n    LIVE_TIP: \"Live\"\n  }\n};\nexport { EN as default };\n","import { toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../utils/util.js\";\nimport EN from \"./en.js\";\nvar XGI18nLang = {\n  lang: {},\n  langKeys: [],\n  textKeys: []\n};\nfunction deepMerge(dst, src) {\n  Object.keys(src).forEach(function(key) {\n    var _s = util.typeOf(src[key]);\n    var _t = util.typeOf(dst[key]);\n    if (_s === \"Array\") {\n      var _dst$key;\n      if (_t !== \"Array\") {\n        dst[key] = [];\n      }\n      (_dst$key = dst[key]).push.apply(_dst$key, _toConsumableArray(src[key]));\n    } else if (_s === \"Object\") {\n      if (_t !== \"Object\") {\n        dst[key] = {};\n      }\n      deepMerge(dst[key], src[key]);\n    } else {\n      dst[key] = src[key];\n    }\n  });\n  return dst;\n}\nfunction updateKeys() {\n  Object.keys(XGI18nLang.lang.en).map(function(key) {\n    XGI18nLang.textKeys[key] = key;\n  });\n}\nfunction extend(i18nTextList, i18nLangs) {\n  var ext = [];\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  if (util.typeOf(i18nTextList) !== \"Array\") {\n    ext = Object.keys(i18nTextList).map(function(lang2) {\n      var keyLang = lang2 === \"zh\" ? \"zh-cn\" : lang2;\n      return {\n        LANG: keyLang,\n        TEXT: i18nTextList[lang2]\n      };\n    });\n  } else {\n    ext = i18nTextList;\n  }\n  var _i18nLangs = i18nLangs, lang = _i18nLangs.lang;\n  ext.map(function(item) {\n    if (item.LANG === \"zh\") {\n      item.LANG = \"zh-cn\";\n    }\n    if (!lang[item.LANG]) {\n      use(item, i18nLangs);\n    } else {\n      deepMerge(lang[item.LANG] || {}, item.TEXT || {});\n    }\n  });\n  updateKeys();\n}\nfunction use(langData, i18nLangs) {\n  var _clang = langData.LANG;\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  var texts = langData.TEXT || {};\n  if (_clang === \"zh\") {\n    _clang = \"zh-cn\";\n  }\n  if (!i18nLangs.lang[_clang]) {\n    i18nLangs.langKeys.push(_clang);\n    i18nLangs.lang[_clang] = texts;\n  } else {\n    deepMerge(i18nLangs.lang[_clang], texts);\n  }\n  updateKeys();\n}\nfunction init(id) {\n  var _ret$langKeys;\n  var ret = {\n    lang: {},\n    langKeys: [],\n    textKeys: {},\n    pId: id\n  };\n  deepMerge(ret.lang, XGI18nLang.lang);\n  (_ret$langKeys = ret.langKeys).push.apply(_ret$langKeys, _toConsumableArray(XGI18nLang.langKeys));\n  deepMerge(ret.textKeys, XGI18nLang.textKeys);\n  return ret;\n}\nuse(EN);\nvar I18N = {\n  get textKeys() {\n    return XGI18nLang.textKeys;\n  },\n  get langKeys() {\n    return XGI18nLang.langKeys;\n  },\n  get lang() {\n    var ret = {};\n    XGI18nLang.langKeys.map(function(key) {\n      ret[key] = XGI18nLang.lang[key];\n    });\n    if (XGI18nLang.lang[\"zh-cn\"]) {\n      ret.zh = XGI18nLang.lang[\"zh-cn\"] || {};\n    }\n    return ret;\n  },\n  extend,\n  use,\n  init\n};\nexport { I18N as default };\n","var STATES = {\n  INITIAL: 1,\n  READY: 2,\n  ATTACHING: 3,\n  ATTACHED: 4,\n  NOTALLOW: 5,\n  RUNNING: 6,\n  ENDED: 7,\n  DESTROYED: 8\n};\nvar STATE_ARRAY = [\"ERROR\", \"INITIAL\", \"READY\", \"ATTACHING\", \"ATTACHED\", \"NOTALLOW\", \"RUNNING\", \"ENDED\", \"DESTROYED\"];\nexport { STATES, STATE_ARRAY };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { EventEmitter } from \"eventemitter3\";\nvar store = {};\nvar instance = null;\nvar InstManager = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(InstManager2, _EventEmitter);\n  var _super = _createSuper(InstManager2);\n  function InstManager2() {\n    _classCallCheck(this, InstManager2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(InstManager2, [{\n    key: \"add\",\n    value: function add(player) {\n      if (!player) {\n        return;\n      }\n      store[player.playerId] = player;\n      if (Object.keys(store).length === 1) {\n        this.setActive(player.playerId, true);\n      }\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(player) {\n      if (!player) {\n        return;\n      }\n      player.isUserActive;\n      delete store[player.playerId];\n    }\n  }, {\n    key: \"_iterate\",\n    value: function _iterate(fn) {\n      var endEarly = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      for (var key in store) {\n        if (Object.prototype.hasOwnProperty.call(store, key)) {\n          var player = store[key];\n          if (endEarly) {\n            if (fn(player)) {\n              break;\n            }\n          } else {\n            fn(player);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"forEach\",\n    value: function forEach(fn) {\n      this._iterate(fn);\n    }\n  }, {\n    key: \"find\",\n    value: function find(fn) {\n      var result = null;\n      this._iterate(function(player) {\n        var flag = fn(player);\n        if (flag) {\n          result = player;\n        }\n        return flag;\n      }, true);\n      return result;\n    }\n  }, {\n    key: \"findAll\",\n    value: function findAll(fn) {\n      var results = [];\n      this._iterate(function(player) {\n        if (fn(player)) {\n          results.push(player);\n        }\n      });\n      return results;\n    }\n  }, {\n    key: \"setActive\",\n    value: function setActive(playerId) {\n      var isActive = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      if (!store[playerId]) {\n        return;\n      }\n      if (isActive) {\n        this.forEach(function(inst) {\n          if (playerId === inst.playerId) {\n            inst.isUserActive = true;\n            inst.isInstNext = false;\n          } else {\n            inst.isUserActive = false;\n          }\n        });\n      } else {\n        store[playerId].isUserActive = isActive;\n      }\n      return playerId;\n    }\n  }, {\n    key: \"getActiveId\",\n    value: function getActiveId() {\n      var keys = Object.keys(store);\n      for (var i = 0; i < keys.length; i++) {\n        var c = store[keys[i]];\n        if (c && c.isUserActive) {\n          return keys[i];\n        }\n      }\n      return null;\n    }\n  }, {\n    key: \"setNext\",\n    value: function setNext(playerId) {\n      var isNext = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      if (!store[playerId]) {\n        return;\n      }\n      if (isNext) {\n        this.forEach(function(inst) {\n          if (playerId === inst.playerId) {\n            inst.isUserActive = false;\n            inst.isInstNext = true;\n          } else {\n            inst.isInstNext = false;\n          }\n        });\n      } else {\n        store[playerId].isInstNext = isNext;\n      }\n      return playerId;\n    }\n  }], [{\n    key: \"getInstance\",\n    value: function getInstance() {\n      instance || (instance = new InstManager2());\n      return instance;\n    }\n  }]);\n  return InstManager2;\n}(EventEmitter);\nfunction checkPlayerRoot(root) {\n  var keys = Object.keys(store);\n  for (var i = 0; i < keys.length; i++) {\n    var p = store[keys[i]];\n    if (p.root === root) {\n      return p;\n    }\n  }\n  return null;\n}\nexport { InstManager, checkPlayerRoot };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, possibleConstructorReturn as _possibleConstructorReturn, get as _get, getPrototypeOf as _getPrototypeOf, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport MediaProxy from \"./mediaProxy.js\";\nimport util, { checkIsCurrentVideo } from \"./utils/util.js\";\nexport { default as Util } from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nexport { default as Sniffer } from \"./utils/sniffer.js\";\nimport INDEXDB from \"./utils/database.js\";\nimport Errors from \"./error.js\";\nexport { default as Errors } from \"./error.js\";\nimport { CANPLAY, USER_ACTION, FULLSCREEN_CHANGE, READY, ERROR, LOADED_DATA, PLAY, URL_NULL, COMPLETE, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, SEEKED, DEFINITION_CHANGE, AFTER_DEFINITION_CHANGE, RESET, DESTROY, CSS_FULLSCREEN_CHANGE, PLAYER_FOCUS, PLAYER_BLUR, DURATION_CHANGE, LOADING, VIDEO_RESIZE, REPLAY, PLAYNEXT } from \"./events.js\";\nimport * as events from \"./events.js\";\nexport { events as Events };\nimport { PLATER_ID, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, EXIT_FULLSCREEN_API } from \"./constant.js\";\nimport { POSITIONS } from \"./plugin/plugin.js\";\nexport { default as Plugin } from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nexport { default as BasePlugin } from \"./plugin/basePlugin.js\";\nimport pluginsManager from \"./plugin/pluginsManager.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nexport { default as STATE_CLASS } from \"./stateClassMap.js\";\nimport getDefaultConfig from \"./defaultConfig.js\";\nimport { usePreset } from \"./plugin/preset.js\";\nimport hooksDescriptor, { runHooks, delHooksDescriptor, hook, useHooks, removeHooks, usePluginHooks, removePluginHooks } from \"./plugin/hooksDescriptor.js\";\nimport Controls from \"./plugins/controls/index.js\";\nimport XG_DEBUG, { bindDebug } from \"./utils/debug.js\";\nimport I18N from \"./lang/i18n.js\";\nexport { default as I18N } from \"./lang/i18n.js\";\nimport version from \"./version.js\";\nimport { STATES, STATE_ARRAY } from \"./state.js\";\nimport { InstManager, checkPlayerRoot } from \"./instManager.js\";\nvar PlAYER_HOOKS = [\"play\", \"pause\", \"replay\", \"retry\"];\nvar REAL_TIME_SPEED = 0;\nvar AVG_SPEED = 0;\nvar instManager = null;\nvar Player = /* @__PURE__ */ function(_MediaProxy) {\n  _inherits(Player2, _MediaProxy);\n  var _super = _createSuper(Player2);\n  function Player2(options) {\n    var _this;\n    _classCallCheck(this, Player2);\n    var _config = util.deepMerge(getDefaultConfig(), options);\n    _this = _super.call(this, _config);\n    _defineProperty(_assertThisInitialized(_this), \"canPlayFunc\", function() {\n      if (!_this.config) {\n        return;\n      }\n      var _this$config = _this.config, autoplay = _this$config.autoplay, defaultPlaybackRate = _this$config.defaultPlaybackRate;\n      XG_DEBUG.logInfo(\"player\", \"canPlayFunc, startTime\", _this.__startTime);\n      _this._seekToStartTime();\n      _this.playbackRate = defaultPlaybackRate;\n      (autoplay || _this._useAutoplay) && _this.mediaPlay();\n      _this.off(CANPLAY, _this.canPlayFunc);\n      _this.removeClass(STATE_CLASS.ENTER);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onFullscreenChange\", function(event, isFullScreen) {\n      var delayResize = function delayResize2() {\n        util.setTimeout(_assertThisInitialized(_this), function() {\n          _this.resize();\n        }, 100);\n      };\n      var fullEl = util.getFullScreenEl();\n      if (_this._fullActionFrom) {\n        _this._fullActionFrom = \"\";\n      } else {\n        _this.emit(USER_ACTION, {\n          eventType: \"system\",\n          action: \"switch_fullscreen\",\n          pluginName: \"player\",\n          currentTime: _this.currentTime,\n          duration: _this.duration,\n          props: [{\n            prop: \"fullscreen\",\n            from: true,\n            to: false\n          }]\n        });\n      }\n      var isVideo = checkIsCurrentVideo(fullEl, _this.playerId, PLATER_ID);\n      if (isFullScreen || fullEl && (fullEl === _this._fullscreenEl || isVideo)) {\n        delayResize();\n        !_this.config.closeFocusVideoFocus && _this.media.focus();\n        _this.fullscreen = true;\n        _this.changeFullStyle(_this.root, fullEl, STATE_CLASS.FULLSCREEN);\n        _this.emit(FULLSCREEN_CHANGE, true, _this._fullScreenOffset);\n        if (_this.cssfullscreen) {\n          _this.exitCssFullscreen();\n        }\n      } else if (_this.fullscreen) {\n        delayResize();\n        var _assertThisInitialize = _assertThisInitialized(_this), _fullScreenOffset = _assertThisInitialize._fullScreenOffset, config = _assertThisInitialize.config;\n        if (config.needFullscreenScroll) {\n          window.scrollTo(_fullScreenOffset.left, _fullScreenOffset.top);\n          util.setTimeout(_assertThisInitialized(_this), function() {\n            _this.fullscreen = false;\n            _this._fullScreenOffset = null;\n          }, 100);\n        } else {\n          !_this.config.closeFocusVideoFocus && _this.media.focus();\n          _this.fullscreen = false;\n          _this._fullScreenOffset = null;\n        }\n        if (!_this.cssfullscreen) {\n          var el = _this._fullscreenEl;\n          if (!el && (_this.root.contains(event.target) || event.target === _this.root)) {\n            el = event.target;\n          }\n          _this.recoverFullStyle(_this.root, el, STATE_CLASS.FULLSCREEN);\n        } else {\n          _this.removeClass(STATE_CLASS.FULLSCREEN);\n        }\n        _this._fullscreenEl = null;\n        _this.emit(FULLSCREEN_CHANGE, false);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWebkitbeginfullscreen\", function(e) {\n      _this._fullscreenEl = _this.media;\n      _this.onFullscreenChange(e, true);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWebkitendfullscreen\", function(e) {\n      _this.onFullscreenChange(e, false);\n    });\n    hooksDescriptor(_assertThisInitialized(_this), PlAYER_HOOKS);\n    _this.config = _config;\n    _this._pluginInfoId = util.generateSessionId();\n    bindDebug(_assertThisInitialized(_this));\n    var defaultPreset = _this.constructor.defaultPreset;\n    if (_this.config.presets.length) {\n      var defaultIdx = _this.config.presets.indexOf(\"default\");\n      if (defaultIdx >= 0 && defaultPreset) {\n        _this.config.presets[defaultIdx] = defaultPreset;\n      }\n    } else if (defaultPreset) {\n      _this.config.presets.push(defaultPreset);\n    }\n    _this.userTimer = null;\n    _this.waitTimer = null;\n    _this.handleSource = true;\n    _this._state = STATES.INITIAL;\n    _this.isAd = false;\n    _this.isError = false;\n    _this._hasStart = false;\n    _this.isSeeking = false;\n    _this.isCanplay = false;\n    _this._useAutoplay = false;\n    _this.__startTime = -1;\n    _this.rotateDeg = 0;\n    _this.isActive = false;\n    _this.fullscreen = false;\n    _this.cssfullscreen = false;\n    _this.isRotateFullscreen = false;\n    _this._fullscreenEl = null;\n    _this.timeSegments = [];\n    _this._cssfullscreenEl = null;\n    _this.curDefinition = null;\n    _this._orgCss = \"\";\n    _this._fullScreenOffset = null;\n    _this._videoHeight = 0;\n    _this._videoWidth = 0;\n    _this.videoPos = {\n      pi: 1,\n      scale: 0,\n      rotate: -1,\n      x: 0,\n      y: 0,\n      h: -1,\n      w: -1,\n      vy: 0,\n      vx: 0\n    };\n    _this.sizeInfo = {\n      width: 0,\n      height: 0,\n      left: 0,\n      top: 0\n    };\n    _this._accPlayed = {\n      t: 0,\n      acc: 0,\n      loopAcc: 0\n    };\n    _this._offsetInfo = {\n      currentTime: -1,\n      duration: 0\n    };\n    _this.innerContainer = null;\n    _this.controls = null;\n    _this.topBar = null;\n    _this.root = null;\n    _this.__i18n = I18N.init(_this._pluginInfoId);\n    if (sniffer.os.isAndroid && sniffer.osVersion > 0 && sniffer.osVersion < 6) {\n      _this.config.autoplay = false;\n    }\n    _this.database = new INDEXDB();\n    _this.isUserActive = false;\n    _this._onceSeekCanplay = null;\n    _this._isPauseBeforeSeek = 0;\n    _this.innerStates = {\n      isActiveLocked: false\n    };\n    _this.instManager = instManager;\n    var rootInit = _this._initDOM();\n    if (!rootInit) {\n      console.error(new Error(\"can't find the dom which id is \".concat(_this.config.id, \" or this.config.el does not exist\")));\n      return _possibleConstructorReturn(_this);\n    }\n    var _this$config2 = _this.config, _this$config2$definit = _this$config2.definition, definition = _this$config2$definit === void 0 ? {} : _this$config2$definit, url = _this$config2.url;\n    if (!url && definition.list && definition.list.length > 0) {\n      var defaultDefinitionObj = definition.list.find(function(e) {\n        return e.definition && e.definition === definition.defaultDefinition;\n      });\n      if (!defaultDefinitionObj) {\n        definition.defaultDefinition = definition.list[0].definition;\n        defaultDefinitionObj = definition.list[0];\n      }\n      _this.config.url = defaultDefinitionObj.url;\n      _this.curDefinition = defaultDefinitionObj;\n    }\n    _this._bindEvents();\n    _this._registerPresets();\n    _this._registerPlugins();\n    pluginsManager.onPluginsReady(_assertThisInitialized(_this));\n    _this.getInitDefinition();\n    _this.setState(STATES.READY);\n    util.setTimeout(_assertThisInitialized(_this), function() {\n      _this.emit(READY);\n    }, 0);\n    _this.onReady && _this.onReady();\n    if (_this.config.videoInit || _this.config.autoplay) {\n      if (!_this.hasStart || _this.state < STATES.ATTACHED) {\n        _this.start();\n      }\n    }\n    return _this;\n  }\n  _createClass(Player2, [{\n    key: \"_initDOM\",\n    value: function _initDOM() {\n      var _instManager, _this2 = this;\n      this.root = this.config.id ? document.getElementById(this.config.id) : null;\n      if (!this.root) {\n        var el = this.config.el;\n        if (el && el.nodeType === 1) {\n          this.root = el;\n        } else {\n          this.emit(ERROR, new Errors(\"use\", this.config.vid, {\n            line: 32,\n            handle: \"Constructor\",\n            msg: \"container id can't be empty\"\n          }));\n          console.error(\"this.confg.id or this.config.el can't be empty\");\n          return false;\n        }\n      }\n      var ret = checkPlayerRoot(this.root);\n      if (ret) {\n        XG_DEBUG.logWarn(\"The is an Player instance already exists in this.root, destroy it and reinitialize\");\n        ret.destroy();\n      }\n      this.root.setAttribute(PLATER_ID, this.playerId);\n      (_instManager = instManager) === null || _instManager === void 0 ? void 0 : _instManager.add(this);\n      pluginsManager.init(this);\n      this._initBaseDoms();\n      var XgVideoProxy = this.constructor.XgVideoProxy;\n      if (XgVideoProxy && this.mediaConfig.mediaType === XgVideoProxy.mediaType) {\n        var _el = this.innerContainer || this.root;\n        this.detachVideoEvents(this.media);\n        var _nVideo = new XgVideoProxy(_el, this.config, this.mediaConfig);\n        this.attachVideoEvents(_nVideo);\n        this.media = _nVideo;\n      }\n      this.media.setAttribute(PLATER_ID, this.playerId);\n      if (this.config.controls) {\n        var _root = this.config.controls.root || null;\n        var controls = pluginsManager.register(this, Controls, {\n          root: _root\n        });\n        this.controls = controls;\n      }\n      var device = this.config.isMobileSimulateMode === \"mobile\" ? \"mobile\" : sniffer.device;\n      this.addClass(\"\".concat(STATE_CLASS.DEFAULT, \" \").concat(STATE_CLASS.INACTIVE, \" xgplayer-\").concat(device, \" \").concat(this.config.controls ? \"\" : STATE_CLASS.NO_CONTROLS));\n      if (this.config.autoplay) {\n        this.addClass(STATE_CLASS.ENTER);\n      } else {\n        this.addClass(STATE_CLASS.NO_START);\n      }\n      if (this.config.fluid) {\n        var _this$config3 = this.config, _width = _this$config3.width, _height = _this$config3.height;\n        if (typeof _width !== \"number\" || typeof _height !== \"number\") {\n          _width = 600;\n          _height = 337.5;\n        }\n        var style = {\n          width: \"100%\",\n          height: \"0\",\n          \"max-width\": \"100%\",\n          \"padding-top\": \"\".concat(_height * 100 / _width, \"%\")\n        };\n        Object.keys(style).forEach(function(key) {\n          _this2.root.style[key] = style[key];\n        });\n      } else {\n        [\"width\", \"height\"].forEach(function(key) {\n          if (_this2.config[key]) {\n            if (typeof _this2.config[key] !== \"number\") {\n              _this2.root.style[key] = _this2.config[key];\n            } else {\n              _this2.root.style[key] = \"\".concat(_this2.config[key], \"px\");\n            }\n          }\n        });\n      }\n      var _this$root$getBoundin = this.root.getBoundingClientRect(), width = _this$root$getBoundin.width, height = _this$root$getBoundin.height, left = _this$root$getBoundin.left, top = _this$root$getBoundin.top;\n      this.sizeInfo.width = width;\n      this.sizeInfo.height = height;\n      this.sizeInfo.left = left;\n      this.sizeInfo.top = top;\n      return true;\n    }\n  }, {\n    key: \"_initBaseDoms\",\n    value: function _initBaseDoms() {\n      this.topBar = null;\n      this.leftBar = null;\n      this.rightBar = null;\n      if (this.config.marginControls) {\n        this.innerContainer = util.createDom(\"xg-video-container\", \"\", {\n          \"data-index\": -1\n        }, \"xg-video-container\");\n        this.root.appendChild(this.innerContainer);\n      }\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this3 = this;\n      [\"focus\", \"blur\"].forEach(function(item) {\n        _this3.on(item, _this3[\"on\" + item.charAt(0).toUpperCase() + item.slice(1)]);\n      });\n      FULLSCREEN_EVENTS.forEach(function(item) {\n        document && document.addEventListener(item, _this3.onFullscreenChange);\n      });\n      if (sniffer.os.isIos) {\n        this.media.addEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n        this.media.addEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n      }\n      this.once(LOADED_DATA, this.resize);\n      this.playFunc = function() {\n        if (!_this3.config.closeFocusVideoFocus) {\n          _this3.media.focus();\n        }\n      };\n      this.once(PLAY, this.playFunc);\n    }\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      var _this4 = this;\n      this.root.removeEventListener(\"mousemove\", this.mousemoveFunc);\n      FULLSCREEN_EVENTS.forEach(function(item) {\n        document.removeEventListener(item, _this4.onFullscreenChange);\n      });\n      this.playFunc && this.off(PLAY, this.playFunc);\n      this.off(CANPLAY, this.canPlayFunc);\n      this.media.removeEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n      this.media.removeEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n    }\n  }, {\n    key: \"_clearUserTimer\",\n    value: function _clearUserTimer() {\n      if (!this.userTimer) {\n        return;\n      }\n      util.clearTimeout(this, this.userTimer);\n      this.userTimer = null;\n    }\n  }, {\n    key: \"_startInit\",\n    value: function _startInit(url) {\n      var _this5 = this;\n      if (!this.media) {\n        return;\n      }\n      if (!url || url === \"\" || util.typeOf(url) === \"Array\" && url.length === 0) {\n        url = \"\";\n        this.emit(URL_NULL);\n        XG_DEBUG.logWarn(\"config.url is null, please get url and run player._startInit(url)\");\n        if (this.config.nullUrlStart) {\n          return;\n        }\n      }\n      if (this.handleSource) {\n        this._detachSourceEvents(this.media);\n        if (util.typeOf(url) === \"Array\" && url.length > 0) {\n          this._attachSourceEvents(this.media, url);\n        } else if (!this.media.src || this.media.src !== url) {\n          this.media.src = url;\n        } else if (!url) {\n          this.media.removeAttribute(\"src\");\n        }\n      }\n      if (util.typeOf(this.config.volume) === \"Number\") {\n        this.volume = this.config.volume;\n      }\n      var _root = this.innerContainer ? this.innerContainer : this.root;\n      if (this.media instanceof window.Element && !_root.contains(this.media)) {\n        _root.insertBefore(this.media, _root.firstChild);\n      }\n      var readyState = this.media.readyState;\n      XG_DEBUG.logInfo(\"_startInit readyState\", readyState);\n      if (this.config.autoplay) {\n        !util.isMSE(this.media) && this.load();\n        (sniffer.os.isIpad || sniffer.os.isPhone) && this.mediaPlay();\n      }\n      var startTime = this.config.startTime;\n      this.__startTime = startTime > 0 ? startTime : -1;\n      this.config.startTime = 0;\n      if (readyState >= 2 && this.duration > 0) {\n        this.canPlayFunc();\n      } else {\n        this.on(CANPLAY, this.canPlayFunc);\n      }\n      if (!this.hasStart || this.state < STATES.ATTACHED) {\n        pluginsManager.afterInit(this);\n      }\n      this.hasStart = true;\n      this.setState(STATES.ATTACHED);\n      util.setTimeout(this, function() {\n        _this5.emit(COMPLETE);\n      }, 0);\n    }\n  }, {\n    key: \"_registerPlugins\",\n    value: function _registerPlugins() {\n      var _this6 = this;\n      var isInit = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n      this._loadingPlugins = [];\n      var ignores = this.config.ignores || [];\n      var plugins = this.config.plugins || [];\n      var i18n = this.config.i18n || [];\n      isInit && I18N.extend(i18n, this.__i18n);\n      var ignoresStr = ignores.join(\"||\").toLowerCase().split(\"||\");\n      var cuPlugins = this.plugins;\n      plugins.forEach(function(plugin) {\n        try {\n          var pluginName = plugin.plugin ? plugin.plugin.pluginName : plugin.pluginName;\n          if (pluginName && ignoresStr.indexOf(pluginName.toLowerCase()) > -1) {\n            return null;\n          }\n          if (!isInit && cuPlugins[pluginName.toLowerCase()]) {\n            return;\n          }\n          if (plugin.lazy && plugin.loader) {\n            var loadingPlugin = pluginsManager.lazyRegister(_this6, plugin);\n            if (plugin.forceBeforeInit) {\n              loadingPlugin.then(function() {\n                _this6._loadingPlugins.splice(_this6._loadingPlugins.indexOf(loadingPlugin), 1);\n              }).catch(function(e) {\n                XG_DEBUG.logError(\"_registerPlugins:loadingPlugin\", e);\n                _this6._loadingPlugins.splice(_this6._loadingPlugins.indexOf(loadingPlugin), 1);\n              });\n              _this6._loadingPlugins.push(loadingPlugin);\n            }\n            return;\n          }\n          return _this6.registerPlugin(plugin);\n        } catch (err) {\n          XG_DEBUG.logError(\"_registerPlugins:\", err);\n        }\n      });\n    }\n  }, {\n    key: \"_registerPresets\",\n    value: function _registerPresets() {\n      var _this7 = this;\n      this.config.presets.forEach(function(preset) {\n        usePreset(_this7, preset);\n      });\n    }\n  }, {\n    key: \"_getRootByPosition\",\n    value: function _getRootByPosition(position) {\n      var _root = null;\n      switch (position) {\n        case POSITIONS.ROOT_RIGHT:\n          if (!this.rightBar) {\n            this.rightBar = util.createPositionBar(\"xg-right-bar\", this.root);\n          }\n          _root = this.rightBar;\n          break;\n        case POSITIONS.ROOT_LEFT:\n          if (!this.leftBar) {\n            this.leftBar = util.createPositionBar(\"xg-left-bar\", this.root);\n          }\n          _root = this.leftBar;\n          break;\n        case POSITIONS.ROOT_TOP:\n          if (!this.topBar) {\n            this.topBar = util.createPositionBar(\"xg-top-bar\", this.root);\n            if (this.config.topBarAutoHide) {\n              util.addClass(this.topBar, STATE_CLASS.TOP_BAR_AUTOHIDE);\n            }\n          }\n          _root = this.topBar;\n          break;\n        default:\n          _root = this.innerContainer || this.root;\n          break;\n      }\n      return _root;\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin, config) {\n      var _retPlugin = pluginsManager.formatPluginInfo(plugin, config);\n      var PLUFGIN = _retPlugin.PLUFGIN, options = _retPlugin.options;\n      var plugins = this.config.plugins;\n      var exits = pluginsManager.checkPluginIfExits(PLUFGIN.pluginName, plugins);\n      !exits && plugins.push(PLUFGIN);\n      var _pConfig = pluginsManager.getRootByConfig(PLUFGIN.pluginName, this.config);\n      _pConfig.root && (options.root = _pConfig.root);\n      _pConfig.position && (options.position = _pConfig.position);\n      var position = options.position ? options.position : options.config && options.config.position || PLUFGIN.defaultConfig && PLUFGIN.defaultConfig.position;\n      if (!options.root && typeof position === \"string\" && position.indexOf(\"controls\") > -1) {\n        var _this$controls;\n        return (_this$controls = this.controls) === null || _this$controls === void 0 ? void 0 : _this$controls.registerPlugin(PLUFGIN, options, PLUFGIN.pluginName);\n      }\n      if (!options.root) {\n        options.root = this._getRootByPosition(position);\n      }\n      return pluginsManager.register(this, PLUFGIN, options);\n    }\n  }, {\n    key: \"deregister\",\n    value: function deregister(plugin) {\n      if (typeof plugin === \"string\") {\n        pluginsManager.unRegister(this, plugin);\n      } else if (plugin instanceof BasePlugin) {\n        pluginsManager.unRegister(this, plugin.pluginName);\n      }\n    }\n  }, {\n    key: \"unRegisterPlugin\",\n    value: function unRegisterPlugin(plugin) {\n      var removedFromConfig = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      this.deregister(plugin);\n      if (removedFromConfig) {\n        this.removePluginFromConfig(plugin);\n      }\n    }\n  }, {\n    key: \"removePluginFromConfig\",\n    value: function removePluginFromConfig(plugin) {\n      var pluginName;\n      if (typeof plugin === \"string\") {\n        pluginName = plugin;\n      } else if (plugin instanceof BasePlugin) {\n        pluginName = plugin.pluginName;\n      }\n      if (!pluginName) {\n        return;\n      }\n      for (var i = this.config.plugins.length - 1; i > -1; i--) {\n        var _plugin = this.config.plugins[i];\n        if (_plugin.pluginName.toLowerCase() === pluginName.toLowerCase()) {\n          this.config.plugins.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"plugins\",\n    get: function get() {\n      return pluginsManager.getPlugins(this);\n    }\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(pluginName) {\n      var plugin = pluginsManager.findPlugin(this, pluginName);\n      return plugin && plugin.pluginName ? plugin : null;\n    }\n  }, {\n    key: \"addClass\",\n    value: function addClass(className) {\n      if (!this.root) {\n        return;\n      }\n      if (!util.hasClass(this.root, className)) {\n        util.addClass(this.root, className);\n      }\n    }\n  }, {\n    key: \"removeClass\",\n    value: function removeClass(className) {\n      if (!this.root) {\n        return;\n      }\n      util.removeClass(this.root, className);\n    }\n  }, {\n    key: \"hasClass\",\n    value: function hasClass(className) {\n      if (!this.root) {\n        return;\n      }\n      return util.hasClass(this.root, className);\n    }\n  }, {\n    key: \"setAttribute\",\n    value: function setAttribute(key, value) {\n      if (!this.root) {\n        return;\n      }\n      this.root.setAttribute(key, value);\n    }\n  }, {\n    key: \"removeAttribute\",\n    value: function removeAttribute(key, value) {\n      if (!this.root) {\n        return;\n      }\n      this.root.removeAttribute(key, value);\n    }\n  }, {\n    key: \"start\",\n    value: function start(url) {\n      var _this8 = this;\n      if (this.state > STATES.ATTACHING) {\n        return;\n      }\n      if (!url && !this.config.url) {\n        this.getInitDefinition();\n      }\n      this.hasStart = true;\n      this.setState(STATES.ATTACHING);\n      this._registerPlugins(false);\n      return pluginsManager.beforeInit(this).then(function() {\n        if (!_this8.config) {\n          return;\n        }\n        if (!url) {\n          url = _this8.url || _this8.config.url;\n        }\n        var _furl = _this8._preProcessUrl(url);\n        var ret = _this8._startInit(_furl.url);\n        return ret;\n      }).catch(function(e) {\n        e.fileName = \"player\";\n        e.lineNumber = \"236\";\n        XG_DEBUG.logError(\"start:beforeInit:\", e);\n        throw e;\n      });\n    }\n  }, {\n    key: \"switchURL\",\n    value: function switchURL(url, options) {\n      var _this9 = this;\n      var _src = url;\n      if (util.typeOf(url) === \"Object\") {\n        _src = url.url;\n      }\n      _src = this._preProcessUrl(_src).url;\n      var curTime = this.currentTime;\n      this.__startTime = curTime;\n      var isPaused = this.paused && !this.isError;\n      this.src = _src;\n      return new Promise(function(resolve, reject) {\n        var _error = function _error2(e) {\n          _this9.off(\"timeupdate\", _canplay);\n          _this9.off(\"canplay\", _canplay);\n          reject(e);\n        };\n        var _canplay = function _canplay2() {\n          _this9._seekToStartTime();\n          if (isPaused) {\n            _this9.pause();\n          }\n          _this9.off(\"error\", _error);\n          resolve(true);\n        };\n        _this9.once(\"error\", _error);\n        if (!_src) {\n          _this9.errorHandler(\"error\", {\n            code: 6,\n            message: \"empty_src\"\n          });\n          return;\n        }\n        if (sniffer.os.isAndroid) {\n          _this9.once(\"timeupdate\", _canplay);\n        } else {\n          _this9.once(\"canplay\", _canplay);\n        }\n        _this9.play();\n      });\n    }\n  }, {\n    key: \"videoPlay\",\n    value: function videoPlay() {\n      this.mediaPlay();\n    }\n  }, {\n    key: \"mediaPlay\",\n    value: function mediaPlay() {\n      var _this10 = this;\n      if (!this.hasStart && this.state < STATES.ATTACHED) {\n        this.removeClass(STATE_CLASS.NO_START);\n        this.addClass(STATE_CLASS.ENTER);\n        this.start();\n        this._useAutoplay = true;\n        return;\n      }\n      if (this.state < STATES.RUNNING) {\n        this.removeClass(STATE_CLASS.NO_START);\n        !this.isCanplay && this.addClass(STATE_CLASS.ENTER);\n      }\n      var playPromise = _get(_getPrototypeOf(Player2.prototype), \"play\", this).call(this);\n      if (playPromise !== void 0 && playPromise && playPromise.then) {\n        playPromise.then(function() {\n          _this10.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n          _this10.addClass(STATE_CLASS.PLAYING);\n          if (_this10.state < STATES.RUNNING) {\n            XG_DEBUG.logInfo(\">>>>playPromise.then\");\n            _this10.setState(STATES.RUNNING);\n            _this10.emit(AUTOPLAY_STARTED);\n          }\n        }).catch(function(e) {\n          XG_DEBUG.logWarn(\">>>>playPromise.catch\", e.name);\n          if (_this10.media && _this10.media.error) {\n            _this10.onError();\n            _this10.removeClass(STATE_CLASS.ENTER);\n            return;\n          }\n          if (e.name === \"NotAllowedError\") {\n            _this10._errorTimer = util.setTimeout(_this10, function() {\n              _this10._errorTimer = null;\n              _this10.emit(AUTOPLAY_PREVENTED);\n              _this10.addClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n              _this10.removeClass(STATE_CLASS.ENTER);\n              _this10.pause();\n              _this10.setState(STATES.NOTALLOW);\n            }, 0);\n          }\n        });\n      } else {\n        XG_DEBUG.logWarn(\"video.play not return promise\");\n        if (this.state < STATES.RUNNING) {\n          this.setState(STATES.RUNNING);\n          this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n          this.removeClass(STATE_CLASS.NO_START);\n          this.removeClass(STATE_CLASS.ENTER);\n          this.addClass(STATE_CLASS.PLAYING);\n          this.emit(AUTOPLAY_STARTED);\n        }\n      }\n      return playPromise;\n    }\n  }, {\n    key: \"mediaPause\",\n    value: function mediaPause() {\n      _get(_getPrototypeOf(Player2.prototype), \"pause\", this).call(this);\n    }\n  }, {\n    key: \"videoPause\",\n    value: function videoPause() {\n      _get(_getPrototypeOf(Player2.prototype), \"pause\", this).call(this);\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var _this11 = this;\n      this.removeClass(STATE_CLASS.PAUSED);\n      return runHooks(this, \"play\", function() {\n        return _this11.mediaPlay();\n      });\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var _this12 = this;\n      runHooks(this, \"pause\", function() {\n        _get(_getPrototypeOf(Player2.prototype), \"pause\", _this12).call(_this12);\n      });\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(time, status) {\n      var _this13 = this;\n      if (!this.media || Number.isNaN(Number(time)) || !this.hasStart) {\n        return;\n      }\n      var _this$config4 = this.config, isSeekedPlay = _this$config4.isSeekedPlay, seekedStatus = _this$config4.seekedStatus;\n      var _status = status || (isSeekedPlay ? \"play\" : seekedStatus);\n      time = time < 0 ? 0 : time > this.duration ? parseInt(this.duration, 10) : time;\n      !this._isPauseBeforeSeek && (this._isPauseBeforeSeek = this.paused ? 2 : 1);\n      this._onceSeekCanplay && this.off(SEEKED, this._onceSeekCanplay);\n      this._onceSeekCanplay = function() {\n        _this13.removeClass(STATE_CLASS.ENTER);\n        _this13.isSeeking = false;\n        switch (_status) {\n          case \"play\":\n            _this13.play();\n            break;\n          case \"pause\":\n            _this13.pause();\n            break;\n          default:\n            _this13._isPauseBeforeSeek > 1 || _this13.paused ? _this13.pause() : _this13.play();\n        }\n        _this13._isPauseBeforeSeek = 0;\n        _this13._onceSeekCanplay = null;\n      };\n      this.once(SEEKED, this._onceSeekCanplay);\n      if (this.state < STATES.RUNNING) {\n        this.removeClass(STATE_CLASS.NO_START);\n        this.currentTime = time;\n        this.play();\n      } else {\n        this.currentTime = time;\n      }\n    }\n  }, {\n    key: \"getInitDefinition\",\n    value: function getInitDefinition() {\n      var _this14 = this;\n      var _this$config5 = this.config, definition = _this$config5.definition, url = _this$config5.url;\n      if (!url && definition && definition.list && definition.list.length > 0 && definition.defaultDefinition) {\n        definition.list.map(function(item) {\n          if (item.definition === definition.defaultDefinition) {\n            _this14.config.url = item.url;\n            _this14.curDefinition = item;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"changeDefinition\",\n    value: function changeDefinition(to, from) {\n      var _this15 = this;\n      var definition = this.config.definition;\n      if (Array.isArray(definition === null || definition === void 0 ? void 0 : definition.list)) {\n        definition.list.forEach(function(item) {\n          if ((to === null || to === void 0 ? void 0 : to.definition) === item.definition) {\n            _this15.curDefinition = item;\n          }\n        });\n      }\n      if (to !== null && to !== void 0 && to.bitrate && typeof to.bitrate !== \"number\") {\n        to.bitrate = parseInt(to.bitrate, 10) || 0;\n      }\n      this.emit(DEFINITION_CHANGE, {\n        from,\n        to\n      });\n      if (!this.hasStart) {\n        this.config.url = to.url;\n        return;\n      }\n      var ret = this.switchURL(to.url, _objectSpread2({\n        seamless: definition.seamless !== false && typeof MediaSource !== \"undefined\" && typeof MediaSource.isTypeSupported === \"function\"\n      }, to));\n      if (ret && ret.then) {\n        ret.then(function() {\n          _this15.emit(AFTER_DEFINITION_CHANGE, {\n            from,\n            to\n          });\n        });\n      } else {\n        this.emit(AFTER_DEFINITION_CHANGE, {\n          from,\n          to\n        });\n      }\n    }\n  }, {\n    key: \"reload\",\n    value: function reload() {\n      this.load();\n      this.reloadFunc = function() {\n        this.play();\n      };\n      this.once(LOADED_DATA, this.reloadFunc);\n    }\n  }, {\n    key: \"resetState\",\n    value: function resetState() {\n      var _this16 = this;\n      var NOT_ALLOW_AUTOPLAY = STATE_CLASS.NOT_ALLOW_AUTOPLAY, PLAYING = STATE_CLASS.PLAYING, NO_START = STATE_CLASS.NO_START, PAUSED = STATE_CLASS.PAUSED, REPLAY2 = STATE_CLASS.REPLAY, ENTER = STATE_CLASS.ENTER, ENDED = STATE_CLASS.ENDED, ERROR2 = STATE_CLASS.ERROR, LOADING2 = STATE_CLASS.LOADING;\n      var clsList = [NOT_ALLOW_AUTOPLAY, PLAYING, NO_START, PAUSED, REPLAY2, ENTER, ENDED, ERROR2, LOADING2];\n      this.hasStart = false;\n      this.isError = false;\n      this._useAutoplay = false;\n      this.mediaPause();\n      this._accPlayed.acc = 0;\n      this._accPlayed.t = 0;\n      this._accPlayed.loopAcc = 0;\n      clsList.forEach(function(cls) {\n        _this16.removeClass(cls);\n      });\n      this.addClass(STATE_CLASS.NO_START);\n      this.emit(RESET);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var _this17 = this;\n      var unregisterPlugins = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n      var isResetConfig = arguments.length > 1 ? arguments[1] : void 0;\n      this.resetState();\n      var plugins = this.plugins;\n      if (!plugins) {\n        return;\n      }\n      unregisterPlugins.map(function(pn) {\n        _this17.deregister(pn);\n      });\n      if (isResetConfig) {\n        var de = getDefaultConfig();\n        Object.keys(this.config).keys(function(k) {\n          if (_this17.config[k] !== \"undefined\" && (k === \"plugins\" || k === \"presets\" || k === \"el\" || k === \"id\")) {\n            _this17.config[k] = de[k];\n          }\n        });\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _instManager2, _this18 = this;\n      var innerContainer = this.innerContainer, root = this.root, media = this.media;\n      if (!root || !media) {\n        return;\n      }\n      this.hasStart = false;\n      this._useAutoplay = false;\n      root.removeAttribute(PLATER_ID);\n      this.updateAcc(\"destroy\");\n      this._unbindEvents();\n      this._detachSourceEvents(this.media);\n      util.clearAllTimers(this);\n      this.emit(DESTROY);\n      (_instManager2 = instManager) === null || _instManager2 === void 0 ? void 0 : _instManager2.remove(this);\n      pluginsManager.destroy(this);\n      delHooksDescriptor(this);\n      _get(_getPrototypeOf(Player2.prototype), \"destroy\", this).call(this);\n      if (this.fullscreen && this._fullscreenEl === this.root) {\n        this.exitFullscreen();\n      }\n      if (innerContainer) {\n        var _c = innerContainer.children;\n        for (var i = 0; i < _c.length; i++) {\n          innerContainer.removeChild(_c[i]);\n        }\n      }\n      !innerContainer && media instanceof window.Node && root.contains(media) && root.removeChild(media);\n      [\"topBar\", \"leftBar\", \"rightBar\", \"innerContainer\"].map(function(item) {\n        _this18[item] && root.removeChild(_this18[item]);\n        _this18[item] = null;\n      });\n      var cList = root.className.split(\" \");\n      if (cList.length > 0) {\n        root.className = cList.filter(function(name) {\n          return name.indexOf(\"xgplayer\") < 0;\n        }).join(\" \");\n      } else {\n        root.className = \"\";\n      }\n      this.removeAttribute(\"data-xgfill\");\n      [\"isSeeking\", \"isCanplay\", \"isActive\", \"cssfullscreen\", \"fullscreen\"].forEach(function(key) {\n        _this18[key] = false;\n      });\n    }\n  }, {\n    key: \"replay\",\n    value: function replay() {\n      var _this19 = this;\n      this.removeClass(STATE_CLASS.ENDED);\n      this.currentTime = 0;\n      this.isSeeking = false;\n      runHooks(this, \"replay\", function() {\n        _this19.once(SEEKED, function() {\n          var playPromise = _this19.mediaPlay();\n          if (playPromise && playPromise.catch) {\n            playPromise.catch(function(err) {\n              console.log(err);\n            });\n          }\n        });\n        _this19.emit(REPLAY);\n        _this19.onPlay();\n      });\n    }\n  }, {\n    key: \"retry\",\n    value: function retry() {\n      var _this20 = this;\n      this.removeClass(STATE_CLASS.ERROR);\n      this.addClass(STATE_CLASS.LOADING);\n      runHooks(this, \"retry\", function() {\n        var cur = _this20.currentTime;\n        var url = _this20.config.url;\n        var _srcRet = !util.isMSE(_this20.media) ? _this20._preProcessUrl(url) : {\n          url\n        };\n        _this20.src = _srcRet.url;\n        !_this20.config.isLive && (_this20.currentTime = cur);\n        _this20.once(CANPLAY, function() {\n          _this20.mediaPlay();\n        });\n      });\n    }\n  }, {\n    key: \"changeFullStyle\",\n    value: function changeFullStyle(root, el, rootClass, pClassName) {\n      if (!root) {\n        return;\n      }\n      if (!pClassName) {\n        pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n      }\n      if (!this._orgCss) {\n        this._orgCss = util.filterStyleFromText(root);\n      }\n      util.addClass(root, rootClass);\n      if (el && el !== root && !this._orgPCss) {\n        this._orgPCss = util.filterStyleFromText(el);\n        util.addClass(el, pClassName);\n        el.setAttribute(PLATER_ID, this.playerId);\n      }\n    }\n  }, {\n    key: \"recoverFullStyle\",\n    value: function recoverFullStyle(root, el, rootClass, pClassName) {\n      if (!pClassName) {\n        pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n      }\n      if (this._orgCss) {\n        util.setStyleFromCsstext(root, this._orgCss);\n        this._orgCss = \"\";\n      }\n      util.removeClass(root, rootClass);\n      if (el && el !== root && this._orgPCss) {\n        util.setStyleFromCsstext(el, this._orgPCss);\n        this._orgPCss = \"\";\n        util.removeClass(el, pClassName);\n        el.removeAttribute(PLATER_ID);\n      }\n    }\n  }, {\n    key: \"getFullscreen\",\n    value: function getFullscreen() {\n      var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.fullscreenTarget;\n      var root = this.root, media = this.media;\n      if (el === \"video\" || el === \"media\") {\n        el = this[el];\n      }\n      if (!el) {\n        el = root;\n      }\n      this._fullScreenOffset = {\n        top: util.scrollTop(),\n        left: util.scrollLeft()\n      };\n      this._fullscreenEl = el;\n      this._fullActionFrom = \"get\";\n      var fullEl = util.getFullScreenEl();\n      if (fullEl === this._fullscreenEl) {\n        this.onFullscreenChange();\n        return Promise.resolve();\n      }\n      try {\n        for (var i = 0; i < GET_FULLSCREEN_API.length; i++) {\n          var key = GET_FULLSCREEN_API[i];\n          if (el[key]) {\n            var ret = key === \"webkitRequestFullscreen\" ? el.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT) : el[key]();\n            if (ret && ret.then) {\n              return ret;\n            } else {\n              return Promise.resolve();\n            }\n          }\n        }\n        if (media.fullscreenEnabled || media.webkitSupportsFullscreen) {\n          media.webkitEnterFullscreen();\n          return Promise.resolve();\n        }\n        return Promise.reject(new Error(\"call getFullscreen fail\"));\n      } catch (err) {\n        return Promise.reject(new Error(\"call getFullscreen fail\"));\n      }\n    }\n  }, {\n    key: \"exitFullscreen\",\n    value: function exitFullscreen(el) {\n      if (this.isRotateFullscreen) {\n        this.exitRotateFullscreen();\n      }\n      if (!this._fullscreenEl && !util.getFullScreenEl()) {\n        return;\n      }\n      this.root;\n      var media = this.media;\n      this._fullActionFrom = \"exit\";\n      try {\n        for (var i = 0; i < EXIT_FULLSCREEN_API.length; i++) {\n          var key = EXIT_FULLSCREEN_API[i];\n          if (document[key]) {\n            var ret = document[key]();\n            if (ret && ret.then) {\n              return ret;\n            } else {\n              return Promise.resolve();\n            }\n          }\n        }\n        if (media && media.webkitSupportsFullscreen) {\n          media.webkitExitFullScreen();\n          return Promise.resolve();\n        }\n        return Promise.reject(new Error(\"call exitFullscreen fail\"));\n      } catch (err) {\n        return Promise.reject(new Error(\"call exitFullscreen fail\"));\n      }\n    }\n  }, {\n    key: \"getCssFullscreen\",\n    value: function getCssFullscreen() {\n      var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.fullscreenTarget;\n      if (this.isRotateFullscreen) {\n        this.exitRotateFullscreen();\n      } else if (this.fullscreen) {\n        this.exitFullscreen();\n      }\n      var _class = el ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.CSS_FULLSCREEN) : STATE_CLASS.CSS_FULLSCREEN;\n      this.changeFullStyle(this.root, el, _class);\n      var _this$config$fullscre = this.config.fullscreen, fullscreen = _this$config$fullscre === void 0 ? {} : _this$config$fullscre;\n      var useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n      if (useCssFullscreen) {\n        this.fullscreen = true;\n        this.emit(FULLSCREEN_CHANGE, true);\n      }\n      this._cssfullscreenEl = el;\n      this.cssfullscreen = true;\n      this.emit(CSS_FULLSCREEN_CHANGE, true);\n    }\n  }, {\n    key: \"exitCssFullscreen\",\n    value: function exitCssFullscreen() {\n      var _class = this._cssfullscreenEl ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.CSS_FULLSCREEN) : STATE_CLASS.CSS_FULLSCREEN;\n      if (!this.fullscreen) {\n        this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n      } else {\n        var _this$config$fullscre2 = this.config.fullscreen, fullscreen = _this$config$fullscre2 === void 0 ? {} : _this$config$fullscre2;\n        var useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n        if (useCssFullscreen) {\n          this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n          this.fullscreen = false;\n          this.emit(FULLSCREEN_CHANGE, false);\n        } else {\n          this.removeClass(_class);\n        }\n      }\n      this._cssfullscreenEl = null;\n      this.cssfullscreen = false;\n      this.emit(CSS_FULLSCREEN_CHANGE, false);\n    }\n  }, {\n    key: \"getRotateFullscreen\",\n    value: function getRotateFullscreen() {\n      var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.fullscreenTarget;\n      if (this.cssfullscreen) {\n        this.exitCssFullscreen(el);\n      }\n      var _class = el ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.ROTATE_FULLSCREEN) : STATE_CLASS.ROTATE_FULLSCREEN;\n      this._fullscreenEl = el || this.root;\n      this.changeFullStyle(this.root, el, _class, STATE_CLASS.PARENT_ROTATE_FULLSCREEN);\n      this.isRotateFullscreen = true;\n      this.fullscreen = true;\n      this.setRotateDeg(90);\n      this._rootStyle = this.root.getAttribute(\"style\");\n      this.root.style.width = \"\".concat(window.innerHeight, \"px\");\n      this.emit(FULLSCREEN_CHANGE, true);\n    }\n  }, {\n    key: \"exitRotateFullscreen\",\n    value: function exitRotateFullscreen(el) {\n      var _class = this._fullscreenEl !== this.root ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.ROTATE_FULLSCREEN) : STATE_CLASS.ROTATE_FULLSCREEN;\n      this.recoverFullStyle(this.root, this._fullscreenEl, _class, STATE_CLASS.PARENT_ROTATE_FULLSCREEN);\n      this.isRotateFullscreen = false;\n      this.fullscreen = false;\n      this.setRotateDeg(0);\n      this.emit(FULLSCREEN_CHANGE, false);\n      if (this._rootStyle) {\n        this.root.style.style = this._rootStyle;\n        this._rootStyle = false;\n      }\n    }\n  }, {\n    key: \"setRotateDeg\",\n    value: function setRotateDeg(deg) {\n      if (window.orientation === 90 || window.orientation === -90) {\n        this.rotateDeg = 0;\n      } else {\n        this.rotateDeg = deg;\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        autoHide: !this.config.closeDelayBlur,\n        delay: this.config.inactive\n      };\n      if (this.isActive) {\n        this.onFocus(data);\n        return;\n      }\n      this.emit(PLAYER_FOCUS, _objectSpread2({\n        paused: this.paused,\n        ended: this.ended\n      }, data));\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        ignorePaused: false\n      };\n      if (!this.isActive) {\n        this.onBlur(data);\n        return;\n      }\n      this._clearUserTimer();\n      this.emit(PLAYER_BLUR, _objectSpread2({\n        paused: this.paused,\n        ended: this.ended\n      }, data));\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus() {\n      var _this21 = this;\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        autoHide: true,\n        delay: 3e3\n      };\n      var innerStates = this.innerStates;\n      this.isActive = true;\n      this.removeClass(STATE_CLASS.INACTIVE);\n      this._clearUserTimer();\n      if (data.isLock !== void 0) {\n        innerStates.isActiveLocked = data.isLock;\n      }\n      if (data.autoHide === false || data.isLock === true || innerStates.isActiveLocked) {\n        this._clearUserTimer();\n        return;\n      }\n      var time = data && data.delay ? data.delay : this.config.inactive;\n      this.userTimer = util.setTimeout(this, function() {\n        _this21.userTimer = null;\n        _this21.blur();\n      }, time);\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur() {\n      var _ref = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, _ref$ignorePaused = _ref.ignorePaused, ignorePaused = _ref$ignorePaused === void 0 ? false : _ref$ignorePaused;\n      if (this.innerStates.isActiveLocked) {\n        return;\n      }\n      var closePauseVideoFocus = this.config.closePauseVideoFocus;\n      this.isActive = false;\n      if (ignorePaused || closePauseVideoFocus || !this.paused && !this.ended) {\n        this.addClass(STATE_CLASS.INACTIVE);\n      }\n    }\n  }, {\n    key: \"onEmptied\",\n    value: function onEmptied() {\n      this.updateAcc(\"emptied\");\n    }\n  }, {\n    key: \"onCanplay\",\n    value: function onCanplay() {\n      this.removeClass(STATE_CLASS.ENTER);\n      this.removeClass(STATE_CLASS.ERROR);\n      this.removeClass(STATE_CLASS.LOADING);\n      this.isCanplay = true;\n      this.waitTimer && util.clearTimeout(this, this.waitTimer);\n    }\n  }, {\n    key: \"onLoadeddata\",\n    value: function onLoadeddata() {\n      var _this22 = this;\n      this.isError = false;\n      this.isSeeking = false;\n      if (this.__startTime > 0) {\n        if (this.duration > 0) {\n          this._seekToStartTime();\n        } else {\n          this.once(DURATION_CHANGE, function() {\n            _this22._seekToStartTime();\n          });\n        }\n      }\n    }\n  }, {\n    key: \"onLoadstart\",\n    value: function onLoadstart() {\n      this.removeClass(STATE_CLASS.ERROR);\n      this.isCanplay = false;\n    }\n  }, {\n    key: \"onPlay\",\n    value: function onPlay() {\n      if (this.state === STATES.ENDED) {\n        this.setState(STATES.RUNNING);\n      }\n      this.removeClass(STATE_CLASS.PAUSED);\n      this.ended && this.removeClass(STATE_CLASS.ENDED);\n      !this.config.closePlayVideoFocus && this.focus();\n    }\n  }, {\n    key: \"onPause\",\n    value: function onPause() {\n      this.addClass(STATE_CLASS.PAUSED);\n      this.updateAcc(\"pause\");\n      if (!this.config.closePauseVideoFocus) {\n        this._clearUserTimer();\n        this.focus();\n      }\n    }\n  }, {\n    key: \"onEnded\",\n    value: function onEnded() {\n      this.updateAcc(\"ended\");\n      this.addClass(STATE_CLASS.ENDED);\n      this.setState(STATES.ENDED);\n    }\n  }, {\n    key: \"onError\",\n    value: function onError() {\n      this.isError = true;\n      this.updateAcc(\"error\");\n      this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n      this.removeClass(STATE_CLASS.NO_START);\n      this.removeClass(STATE_CLASS.ENTER);\n      this.removeClass(STATE_CLASS.LOADING);\n      this.addClass(STATE_CLASS.ERROR);\n    }\n  }, {\n    key: \"onSeeking\",\n    value: function onSeeking() {\n      if (!this.isSeeking) {\n        this.updateAcc(\"seeking\");\n      }\n      this.isSeeking = true;\n      this.addClass(STATE_CLASS.SEEKING);\n    }\n  }, {\n    key: \"onSeeked\",\n    value: function onSeeked() {\n      this.isSeeking = false;\n      if (this.waitTimer) {\n        util.clearTimeout(this, this.waitTimer);\n      }\n      this.removeClass(STATE_CLASS.LOADING);\n      this.removeClass(STATE_CLASS.SEEKING);\n    }\n  }, {\n    key: \"onWaiting\",\n    value: function onWaiting() {\n      var _this23 = this;\n      if (this.waitTimer) {\n        util.clearTimeout(this, this.waitTimer);\n      }\n      this.updateAcc(\"waiting\");\n      this.waitTimer = util.setTimeout(this, function() {\n        _this23.addClass(STATE_CLASS.LOADING);\n        _this23.emit(LOADING);\n        util.clearTimeout(_this23, _this23.waitTimer);\n        _this23.waitTimer = null;\n      }, this.config.minWaitDelay);\n    }\n  }, {\n    key: \"onPlaying\",\n    value: function onPlaying() {\n      var _this24 = this;\n      this.isError = false;\n      var NO_START = STATE_CLASS.NO_START, PAUSED = STATE_CLASS.PAUSED, ENDED = STATE_CLASS.ENDED, ERROR2 = STATE_CLASS.ERROR, REPLAY2 = STATE_CLASS.REPLAY, LOADING2 = STATE_CLASS.LOADING;\n      var clsList = [NO_START, PAUSED, ENDED, ERROR2, REPLAY2, LOADING2];\n      clsList.forEach(function(cls) {\n        _this24.removeClass(cls);\n      });\n      if (!this._accPlayed.t && !this.paused && !this.ended) {\n        this._accPlayed.t = new Date().getTime();\n      }\n    }\n  }, {\n    key: \"onTimeupdate\",\n    value: function onTimeupdate() {\n      !this._videoHeight && this.media.videoHeight && this.resize();\n      if ((this.waitTimer || this.hasClass(STATE_CLASS.LOADING)) && this.media.readyState > 2) {\n        this.removeClass(STATE_CLASS.LOADING);\n        util.clearTimeout(this, this.waitTimer);\n        this.waitTimer = null;\n      }\n      if (!this.paused && this.state === STATES.NOTALLOW && this.duration) {\n        this.setState(STATES.RUNNING);\n        this.emit(AUTOPLAY_STARTED);\n      }\n      if (!this._accPlayed.t && !this.paused && !this.ended) {\n        this._accPlayed.t = new Date().getTime();\n      }\n    }\n  }, {\n    key: \"onVolumechange\",\n    value: function onVolumechange() {\n      util.typeOf(this.config.volume) === \"Number\" && (this.config.volume = this.volume);\n    }\n  }, {\n    key: \"onRatechange\",\n    value: function onRatechange() {\n      this.config.defaultPlaybackRate = this.playbackRate;\n    }\n  }, {\n    key: \"emitUserAction\",\n    value: function emitUserAction(event, action, params) {\n      if (!this.media || !action || !event) {\n        return;\n      }\n      var eventType = util.typeOf(event) === \"String\" ? event : event.type || \"\";\n      if (params.props && util.typeOf(params.props) !== \"Array\") {\n        params.props = [params.props];\n      }\n      this.emit(USER_ACTION, _objectSpread2({\n        eventType,\n        action,\n        currentTime: this.currentTime,\n        duration: this.duration,\n        ended: this.ended,\n        event\n      }, params));\n    }\n  }, {\n    key: \"updateAcc\",\n    value: function updateAcc(endType) {\n      if (this._accPlayed.t) {\n        var _at = new Date().getTime() - this._accPlayed.t;\n        this._accPlayed.acc += _at;\n        this._accPlayed.t = 0;\n        if (endType === \"ended\" || this.ended) {\n          this._accPlayed.loopAcc = this._accPlayed.acc;\n        }\n      }\n    }\n  }, {\n    key: \"checkBuffer\",\n    value: function checkBuffer(time) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n        startDiff: 0,\n        endDiff: 0\n      };\n      var _ref2 = options || {}, _ref2$startDiff = _ref2.startDiff, startDiff = _ref2$startDiff === void 0 ? 0 : _ref2$startDiff, _ref2$endDiff = _ref2.endDiff, endDiff = _ref2$endDiff === void 0 ? 0 : _ref2$endDiff;\n      var buffered = this.media.buffered;\n      if (!buffered || buffered.length === 0 || !this.duration) {\n        return true;\n      }\n      var currentTime = time || this.media.currentTime || 0.2;\n      var len = buffered.length;\n      for (var i = 0; i < len; i++) {\n        if (buffered.start(i) + startDiff <= currentTime && buffered.end(i) - endDiff > currentTime) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: \"resizePosition\",\n    value: function resizePosition() {\n      var _this$videoPos = this.videoPos, vy = _this$videoPos.vy, vx = _this$videoPos.vx, h = _this$videoPos.h, w = _this$videoPos.w;\n      var rotate = this.videoPos.rotate;\n      if (rotate < 0 && h < 0 && w < 0) {\n        return;\n      }\n      var _pi = this.videoPos._pi;\n      if (!_pi && this.media.videoHeight) {\n        _pi = this.media.videoWidth / this.media.videoHeight * 100;\n      }\n      if (!_pi) {\n        return;\n      }\n      this.videoPos.pi = _pi;\n      rotate = rotate < 0 ? 0 : rotate;\n      var _pos = {\n        rotate\n      };\n      var offsetY = 0;\n      var offsetX = 0;\n      var scale = 1;\n      var _t = Math.abs(rotate / 90);\n      var root = this.root, innerContainer = this.innerContainer;\n      var width = root.offsetWidth;\n      var height = innerContainer ? innerContainer.offsetHeight : root.offsetHeight;\n      var rHeight = height;\n      var rWidth = width;\n      if (_t % 2 === 0) {\n        scale = h > 0 ? 100 / h : w > 0 ? 100 / w : 1;\n        _pos.scale = scale;\n        offsetY = vy > 0 ? (100 - h) / 2 - vy : 0;\n        _pos.y = _t === 2 ? 0 - offsetY : offsetY;\n        offsetX = vx > 0 ? (100 - w) / 2 - vx : 0;\n        _pos.x = _t === 2 ? 0 - offsetX : offsetX;\n        this.media.style.width = \"\".concat(rWidth, \"px\");\n        this.media.style.height = \"\".concat(rHeight, \"px\");\n      } else if (_t % 2 === 1) {\n        rWidth = height;\n        rHeight = width;\n        var offset = height - width;\n        offsetX = -offset / 2 / rWidth * 100;\n        _pos.x = _t === 3 ? offsetX + vy / 2 : offsetX - vy / 2;\n        offsetY = offset / 2 / rHeight * 100;\n        _pos.y = _t === 3 ? offsetY + vx / 2 : offsetY - vx / 2;\n        _pos.scale = scale;\n        this.media.style.width = \"\".concat(rWidth, \"px\");\n        this.media.style.height = \"\".concat(rHeight, \"px\");\n      }\n      var formStyle = util.getTransformStyle(_pos, this.media.style.transform || this.media.style.webkitTransform);\n      this.media.style.transform = formStyle;\n      this.media.style.webkitTransform = formStyle;\n    }\n  }, {\n    key: \"position\",\n    value: function position() {\n      var pos = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        h: 0,\n        y: 0,\n        x: 0,\n        w: 0\n      };\n      if (!this.media || !pos || !pos.h) {\n        return;\n      }\n      var videoPos = this.videoPos;\n      videoPos.h = pos.h * 100 || 0;\n      videoPos.w = pos.w * 100 || 0;\n      videoPos.vx = pos.x * 100 || 0;\n      videoPos.vy = pos.y * 100 || 0;\n      this.resizePosition();\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this25 = this;\n      if (!config) {\n        return;\n      }\n      Object.keys(config).map(function(key) {\n        if (key !== \"plugins\") {\n          _this25.config[key] = config[key];\n          var plugin = _this25.plugins[key.toLowerCase()];\n          if (plugin && util.typeOf(plugin.setConfig) === \"Function\") {\n            plugin.setConfig(config[key]);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"playNext\",\n    value: function playNext(config) {\n      var _this26 = this;\n      this.resetState();\n      this.setConfig(config);\n      this._currentTime = 0;\n      this._duration = 0;\n      runHooks(this, \"playnext\", function() {\n        _this26.start();\n        _this26.emit(PLAYNEXT, config);\n      });\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var _this27 = this;\n      if (!this.media) {\n        return;\n      }\n      var containerSize = this.root.getBoundingClientRect();\n      this.sizeInfo.width = containerSize.width;\n      this.sizeInfo.height = containerSize.height;\n      this.sizeInfo.left = containerSize.left;\n      this.sizeInfo.top = containerSize.top;\n      var _this$media = this.media, videoWidth = _this$media.videoWidth, videoHeight = _this$media.videoHeight;\n      var _this$config6 = this.config, fitVideoSize = _this$config6.fitVideoSize, videoFillMode = _this$config6.videoFillMode;\n      if (videoFillMode === \"fill\" || videoFillMode === \"cover\" || videoFillMode === \"contain\") {\n        this.setAttribute(\"data-xgfill\", videoFillMode);\n      }\n      if (!videoHeight || !videoWidth) {\n        return;\n      }\n      this._videoHeight = videoHeight;\n      this._videoWidth = videoWidth;\n      var controlsHeight = this.controls && this.innerContainer ? this.controls.root.getBoundingClientRect().height : 0;\n      var width = containerSize.width;\n      var height = containerSize.height - controlsHeight;\n      var videoFit = parseInt(videoWidth / videoHeight * 1e3, 10);\n      var fit = parseInt(width / height * 1e3, 10);\n      var rWidth = width;\n      var rHeight = height;\n      var _style = {};\n      if (fitVideoSize === \"auto\" && fit > videoFit || fitVideoSize === \"fixWidth\") {\n        rHeight = width / videoFit * 1e3;\n        if (this.config.fluid) {\n          _style.paddingTop = \"\".concat(rHeight * 100 / rWidth, \"%\");\n        } else {\n          _style.height = \"\".concat(rHeight + controlsHeight, \"px\");\n        }\n      } else if (fitVideoSize === \"auto\" && fit < videoFit || fitVideoSize === \"fixHeight\") {\n        rWidth = videoFit * height / 1e3;\n        _style.width = \"\".concat(rWidth, \"px\");\n      }\n      if (!this.fullscreen && !this.cssfullscreen) {\n        Object.keys(_style).forEach(function(key) {\n          _this27.root.style[key] = _style[key];\n        });\n      }\n      if (videoFillMode === \"fillHeight\" && fit < videoFit || videoFillMode === \"fillWidth\" && fit > videoFit) {\n        this.setAttribute(\"data-xgfill\", \"cover\");\n      }\n      var data = {\n        videoScale: videoFit,\n        vWidth: rWidth,\n        vHeight: rHeight,\n        cWidth: rWidth,\n        cHeight: rHeight + controlsHeight\n      };\n      this.resizePosition();\n      this.emit(VIDEO_RESIZE, data);\n    }\n  }, {\n    key: \"updateObjectPosition\",\n    value: function updateObjectPosition() {\n      var left = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var top = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      if (this.media.updateObjectPosition) {\n        this.media.updateObjectPosition(left, top);\n        return;\n      }\n      this.media.style.objectPosition = \"\".concat(left * 100, \"% \").concat(top * 100, \"%\");\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(newState) {\n      XG_DEBUG.logInfo(\"setState\", \"state from:\".concat(STATE_ARRAY[this.state], \" to:\").concat(STATE_ARRAY[newState]));\n      this._state = newState;\n    }\n  }, {\n    key: \"_preProcessUrl\",\n    value: function _preProcessUrl(url, ext) {\n      var _this$config7 = this.config, preProcessUrl = _this$config7.preProcessUrl, preProcessUrlOptions = _this$config7.preProcessUrlOptions;\n      var processUrlOptions = Object.assign({}, preProcessUrlOptions, ext);\n      return !util.isBlob(url) && typeof preProcessUrl === \"function\" ? preProcessUrl(url, processUrlOptions) : {\n        url\n      };\n    }\n  }, {\n    key: \"_seekToStartTime\",\n    value: function _seekToStartTime() {\n      if (this.__startTime > 0 && this.duration > 0) {\n        this.currentTime = this.__startTime > this.duration ? this.duration : this.__startTime;\n        this.__startTime = -1;\n      }\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return this._state;\n    }\n  }, {\n    key: \"isFullscreen\",\n    get: function get() {\n      return this.fullscreen;\n    }\n  }, {\n    key: \"isCssfullScreen\",\n    get: function get() {\n      return this.cssfullscreen;\n    }\n  }, {\n    key: \"hasStart\",\n    get: function get() {\n      return this._hasStart;\n    },\n    set: function set(bool) {\n      if (typeof bool === \"boolean\") {\n        this._hasStart = bool;\n        if (bool === false) {\n          this.setState(STATES.READY);\n        }\n        this.emit(\"hasstart\");\n      }\n    }\n  }, {\n    key: \"isPlaying\",\n    get: function get() {\n      return this._state === STATES.RUNNING || this._state === STATES.ENDED;\n    },\n    set: function set(value) {\n      if (value) {\n        this.setState(STATES.RUNNING);\n      } else {\n        this._state >= STATES.RUNNING && this.setState(STATES.ATTACHED);\n      }\n    }\n  }, {\n    key: \"definitionList\",\n    get: function get() {\n      if (!this.config || !this.config.definition) {\n        return [];\n      }\n      return this.config.definition.list || [];\n    },\n    set: function set(list) {\n      var _this28 = this;\n      var definition = this.config.definition;\n      var curDef = null;\n      var targetDef = null;\n      definition.list = list;\n      this.emit(\"resourceReady\", list);\n      list.forEach(function(item) {\n        var _this28$curDefinition;\n        if (((_this28$curDefinition = _this28.curDefinition) === null || _this28$curDefinition === void 0 ? void 0 : _this28$curDefinition.definition) === item.definition) {\n          curDef = item;\n        }\n        if (definition.defaultDefinition === item.definition) {\n          targetDef = item;\n        }\n      });\n      if (!targetDef && list.length > 0) {\n        targetDef = list[0];\n      }\n      curDef ? this.changeDefinition(curDef) : targetDef && this.changeDefinition(targetDef);\n    }\n  }, {\n    key: \"videoFrameInfo\",\n    get: function get() {\n      var ret = {\n        total: 0,\n        dropped: 0,\n        corrupted: 0,\n        droppedRate: 0,\n        droppedDuration: 0\n      };\n      if (!this.media || !this.media.getVideoPlaybackQuality) {\n        return ret;\n      }\n      var _quality = this.media.getVideoPlaybackQuality();\n      ret.dropped = _quality.droppedVideoFrames || 0;\n      ret.total = _quality.totalVideoFrames || 0;\n      ret.corrupted = _quality.corruptedVideoFrames || 0;\n      if (ret.total > 0) {\n        ret.droppedRate = ret.dropped / ret.total * 100;\n        ret.droppedDuration = parseInt(this.cumulateTime / ret.total * ret.dropped, 0);\n      }\n      return ret;\n    }\n  }, {\n    key: \"lang\",\n    get: function get() {\n      return this.config.lang;\n    },\n    set: function set(lang) {\n      var result = I18N.langKeys.filter(function(key) {\n        return key === lang;\n      });\n      if (result.length === 0 && lang !== \"zh\") {\n        console.error(\"Sorry, set lang fail, because the language [\".concat(lang, \"] is not supported now, list of all supported languages is [\").concat(I18N.langKeys.join(), \"] \"));\n        return;\n      }\n      this.config.lang = lang;\n      pluginsManager.setLang(lang, this);\n    }\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      var _l = this.config.lang;\n      if (_l === \"zh\") {\n        _l = \"zh-cn\";\n      }\n      return this.__i18n.lang[_l] || this.__i18n.lang.en;\n    }\n  }, {\n    key: \"i18nKeys\",\n    get: function get() {\n      return this.__i18n.textKeys || {};\n    }\n  }, {\n    key: \"version\",\n    get: function get() {\n      return version;\n    }\n  }, {\n    key: \"playerId\",\n    get: function get() {\n      return this._pluginInfoId;\n    }\n  }, {\n    key: \"url\",\n    get: function get() {\n      return this.__url || this.config.url;\n    },\n    set: function set(url) {\n      this.__url = url;\n    }\n  }, {\n    key: \"poster\",\n    get: function get() {\n      return this.plugins.poster ? this.plugins.poster.config.poster : this.config.poster;\n    },\n    set: function set(posterUrl) {\n      this.plugins.poster && this.plugins.poster.update(posterUrl);\n    }\n  }, {\n    key: \"readyState\",\n    get: function get() {\n      return _get(_getPrototypeOf(Player2.prototype), \"readyState\", this);\n    }\n  }, {\n    key: \"error\",\n    get: function get() {\n      var key = _get(_getPrototypeOf(Player2.prototype), \"error\", this);\n      return this.i18n[key] || key;\n    }\n  }, {\n    key: \"networkState\",\n    get: function get() {\n      return _get(_getPrototypeOf(Player2.prototype), \"networkState\", this);\n    }\n  }, {\n    key: \"fullscreenChanging\",\n    get: function get() {\n      return !(this._fullScreenOffset === null);\n    }\n  }, {\n    key: \"cumulateTime\",\n    get: function get() {\n      var _this$_accPlayed = this._accPlayed, acc = _this$_accPlayed.acc, t = _this$_accPlayed.t;\n      return t ? new Date().getTime() - t + acc : acc;\n    }\n  }, {\n    key: \"zoom\",\n    get: function get() {\n      return this.config.zoom;\n    },\n    set: function set(value) {\n      this.config.zoom = value;\n    }\n  }, {\n    key: \"videoRotateDeg\",\n    get: function get() {\n      return this.videoPos.rotate;\n    },\n    set: function set(val) {\n      val = util.convertDeg(val);\n      if (val % 90 !== 0 || val === this.videoPos.rotate) {\n        return;\n      }\n      this.videoPos.rotate = val;\n      this.resizePosition();\n    }\n  }, {\n    key: \"avgSpeed\",\n    get: function get() {\n      return AVG_SPEED;\n    },\n    set: function set(val) {\n      AVG_SPEED = val;\n    }\n  }, {\n    key: \"realTimeSpeed\",\n    get: function get() {\n      return REAL_TIME_SPEED;\n    },\n    set: function set(val) {\n      REAL_TIME_SPEED = val;\n    }\n  }, {\n    key: \"offsetCurrentTime\",\n    get: function get() {\n      return this._offsetInfo.currentTime || 0;\n    },\n    set: function set(val) {\n      this._offsetInfo.currentTime = val;\n    }\n  }, {\n    key: \"offsetDuration\",\n    get: function get() {\n      return this._offsetInfo.duration || 0;\n    },\n    set: function set(val) {\n      this._offsetInfo.duration = val || 0;\n    }\n  }, {\n    key: \"hook\",\n    value: function hook$1(hookName, handler) {\n      return hook.call.apply(hook, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"useHooks\",\n    value: function useHooks$1(hookName, handler) {\n      return useHooks.call.apply(useHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"removeHooks\",\n    value: function removeHooks$1(hookName, handler) {\n      return removeHooks.call.apply(removeHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"usePluginHooks\",\n    value: function usePluginHooks$1(pluginName, hookName, handler) {\n      for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        args[_key - 3] = arguments[_key];\n      }\n      return usePluginHooks.call.apply(usePluginHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"removePluginHooks\",\n    value: function removePluginHooks$1(pluginName, hookName, handler) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {\n        args[_key2 - 3] = arguments[_key2];\n      }\n      return removePluginHooks.call.apply(removePluginHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"setUserActive\",\n    value: function setUserActive(isActive, isMuted) {\n      var _instManager3;\n      if (typeof isMuted === \"boolean\" && isMuted !== this.muted) {\n        this.addInnerOP(\"volumechange\");\n        if (util.typeOf(isMuted) === Boolean) {\n          this.muted = isMuted;\n        }\n      }\n      (_instManager3 = instManager) === null || _instManager3 === void 0 ? void 0 : _instManager3.setActive(this.playerId, isActive);\n    }\n  }], [{\n    key: \"debugger\",\n    get: function get() {\n      return XG_DEBUG.config.debug;\n    },\n    set: function set(value) {\n      XG_DEBUG.config.debug = value;\n    }\n  }, {\n    key: \"instManager\",\n    get: function get() {\n      return instManager;\n    },\n    set: function set(value) {\n      instManager = value;\n    }\n  }, {\n    key: \"getCurrentUserActivePlayerId\",\n    value: function getCurrentUserActivePlayerId() {\n      var _instManager4;\n      return (_instManager4 = instManager) === null || _instManager4 === void 0 ? void 0 : _instManager4.getActiveId();\n    }\n  }, {\n    key: \"setCurrentUserActive\",\n    value: function setCurrentUserActive(playerId, isActive) {\n      var _instManager5;\n      (_instManager5 = instManager) === null || _instManager5 === void 0 ? void 0 : _instManager5.setActive(playerId, isActive);\n    }\n  }, {\n    key: \"isHevcSupported\",\n    value: function isHevcSupported() {\n      return sniffer.isHevcSupported();\n    }\n  }, {\n    key: \"probeConfigSupported\",\n    value: function probeConfigSupported(info) {\n      return sniffer.probeConfigSupported(info);\n    }\n  }, {\n    key: \"install\",\n    value: function install(name, descriptor) {\n      if (!Player2.plugins) {\n        Player2.plugins = {};\n      }\n      if (!Player2.plugins[name]) {\n        Player2.plugins[name] = descriptor;\n      }\n    }\n  }, {\n    key: \"use\",\n    value: function use(name, descriptor) {\n      if (!Player2.plugins) {\n        Player2.plugins = {};\n      }\n      Player2.plugins[name] = descriptor;\n    }\n  }]);\n  return Player2;\n}(MediaProxy);\n_defineProperty(Player, \"defaultPreset\", null);\n_defineProperty(Player, \"XgVideoProxy\", null);\nPlayer.instManager = InstManager.getInstance();\nexport { Player as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2 } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { LOAD_START, LOADED_DATA, SEEKING, SEEKED, DESTROY, URL_CHANGE, PLAYING, CANPLAY, WAITING, ERROR, RESET, AUTOPLAY_STARTED, TIME_UPDATE, XGLOG } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction now() {\n  return new Date().getTime();\n}\nvar LOG_TYPES = {\n  LOAD_START: \"loadstart\",\n  LOADED_DATA: \"loadeddata\",\n  FIRST_FRAME: \"firstFrame\",\n  WAIT_START: \"waitingStart\",\n  WAIT_END: \"waitingEnd\",\n  SEEK_START: \"seekStart\",\n  SEEK_END: \"seekEnd\"\n};\nvar XGLogger = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(XGLogger2, _BasePlugin);\n  var _super = _createSuper(XGLogger2);\n  function XGLogger2() {\n    var _this;\n    _classCallCheck(this, XGLogger2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeupdate\", function() {\n      _this._state.isTimeUpdate = true;\n      if (_this._state.autoplayStart) {\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this.player.playerId, \" _onTimeupdate\"));\n        _this._sendFF(\"onTimeupdate\");\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onAutoplayStart\", function() {\n      XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this.player.playerId, \" _onAutoplayStart\"));\n      _this._state.autoplayStart = true;\n      _this.vt && _this._sendFF(\"onAutoplayStart\");\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onReset\", function() {\n      _this._state = {\n        autoplayStart: false,\n        isFFLoading: false,\n        isTimeUpdate: false,\n        isFFSend: false,\n        isLs: false\n      };\n      _this.vt = 0;\n      _this.pt = 0;\n      _this.fvt = 0;\n      _this.newPointTime = now();\n      _this.loadedCostTime = 0;\n      _this.startCostTime = 0;\n      _this._isSeeking = false;\n      _this.seekingStart = 0;\n      _this.waitingStart = 0;\n      _this.fixedWaitingStart = 0;\n      _this._isWaiting = false;\n      _this._waitTimer && util.clearTimeout(_assertThisInitialized(_this), _this._waitTimer);\n      _this._waittTimer && util.clearTimeout(_assertThisInitialized(_this), _this._waittTimer);\n      _this._waitTimer = null;\n      _this._waittTimer = null;\n      _this._waitType = 0;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeking\", function() {\n      if (_this.seekingStart) {\n        return;\n      }\n      _this.suspendWaitingStatus(\"seek\");\n      _this.seekingStart = now();\n      _this.emitLog(LOG_TYPES.SEEK_START, {\n        start: now()\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeked\", function() {\n      _this.suspendSeekingStatus(\"seeked\");\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWaitingLoadStart\", function() {\n      if (_this._isWaiting || _this.vt) {\n        return;\n      }\n      _this._isWaiting = true;\n      _this.waitingStart = now();\n      _this.fixedWaitingStart = now();\n      _this._waitType = 1;\n      _this.emitLog(LOG_TYPES.WAIT_START, {\n        fixedStart: _this.fixedWaitingStart,\n        start: _this.waitingStart,\n        type: 1,\n        endType: \"loadstart\"\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWaiting\", function() {\n      if (_this._isWaiting || !_this.vt) {\n        return;\n      }\n      _this._isWaiting = true;\n      if (!_this.vt) {\n        _this._waitType = 1;\n      } else if (_this.seekingStart) {\n        _this._waitType = 2;\n      } else {\n        _this._waitType = 0;\n      }\n      _this.fixedWaitingStart = now();\n      _this._waitTimer = util.setTimeout(_assertThisInitialized(_this), function() {\n        if (_this._isWaiting) {\n          _this.waitingStart = now();\n          util.clearTimeout(_assertThisInitialized(_this), _this._waitTimer);\n          _this._waitTimer = null;\n          _this._startWaitTimeout();\n          _this.emitLog(LOG_TYPES.WAIT_START, {\n            fixedStart: _this.fixedWaitingStart,\n            start: _this.waitingStart,\n            type: _this._waitType,\n            endType: _this._waitType === 2 ? \"seek\" : \"playing\"\n          });\n        }\n      }, 200);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onError\", function() {\n      _this.suspendSeekingStatus(\"error\");\n      _this.suspendWaitingStatus(\"error\");\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onPlaying\", function() {\n      _this._isWaiting && _this.suspendWaitingStatus(\"playing\");\n    });\n    return _this;\n  }\n  _createClass(XGLogger2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._onReset();\n      this._waitType = \"firstFrame\";\n      this._initOnceEvents();\n      this.newPointTime = now();\n      this.loadedCostTime = 0;\n      this.startCostTime = 0;\n      this.on(LOAD_START, function() {\n        var _state = _this2._state;\n        var autoplayStart = _state.autoplayStart, isFFSend = _state.isFFSend;\n        _this2.startCostTime = now() - _this2.newPointTime;\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" LOAD_START\"), \"autoplayStart:\".concat(autoplayStart, \" isFFSend:\").concat(isFFSend, \" startCostTime:\").concat(_this2.startCostTime, \" newPointTime\").concat(_this2.newPointTime));\n        if (isFFSend) {\n          return;\n        }\n        !_state.isLs && _this2.emitLog(LOG_TYPES.LOAD_START, {});\n        _state.isLs = true;\n        _state.isTimeUpdate = false;\n        _state.isFFLoading = true;\n        _this2.pt = now();\n        _this2.vt = 0;\n        _this2.fvt = 0;\n        _this2._initOnceEvents();\n        _this2._onWaitingLoadStart();\n      });\n      this.on(LOADED_DATA, function() {\n        _this2.vt = now();\n        _this2.fvt = _this2.vt - _this2.pt;\n        _this2.loadedCostTime = _this2.vt - _this2.newPointTime;\n        var _this2$_state = _this2._state, isTimeUpdate = _this2$_state.isTimeUpdate, isFFSend = _this2$_state.isFFSend, autoplayStart = _this2$_state.autoplayStart;\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" LOADED_DATA\"), \"fvt:\".concat(_this2.fvt, \" isTimeUpdate:\").concat(_this2._state.isTimeUpdate, \" loadedCostTime:\").concat(_this2.loadedCostTime));\n        if (isTimeUpdate || autoplayStart) {\n          _this2._sendFF(\"loadedData\");\n        }\n        if (!isFFSend) {\n          _this2.emitLog(LOG_TYPES.LOADED_DATA, {});\n        }\n        _this2.suspendWaitingStatus(\"loadeddata\");\n      });\n      this.on(SEEKING, this._onSeeking);\n      this.on(SEEKED, this._onSeeked);\n      this.on(DESTROY, function() {\n        _this2.endState(\"destroy\");\n      });\n      this.on(URL_CHANGE, function() {\n        _this2.endState(\"urlChange\");\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" URL_CHANGE\"));\n        _this2._state.isFFSend && _this2._onReset();\n      });\n      this.on([PLAYING, CANPLAY], this._onPlaying);\n      this.on(WAITING, this._onWaiting);\n      this.on(ERROR, this._onError);\n      this.on(RESET, function() {\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" RESET\"));\n        _this2.endState(\"reset\");\n        _this2._initOnceEvents();\n        _this2._onReset();\n      });\n    }\n  }, {\n    key: \"_initOnceEvents\",\n    value: function _initOnceEvents() {\n      this.off(AUTOPLAY_STARTED, this._onAutoplayStart);\n      this.off(TIME_UPDATE, this._onTimeupdate);\n      this.once(AUTOPLAY_STARTED, this._onAutoplayStart);\n      this.once(TIME_UPDATE, this._onTimeupdate);\n    }\n  }, {\n    key: \"_sendFF\",\n    value: function _sendFF(endType) {\n      this.s = now();\n      var _this$_state = this._state, isFFLoading = _this$_state.isFFLoading, isFFSend = _this$_state.isFFSend;\n      XG_DEBUG.logInfo(\"[xgLogger]\".concat(this.player.playerId, \" _sendFF\"), \"\".concat(endType, \" fvt:\").concat(this.fvt, \" isFFLoading:\").concat(isFFLoading, \" !isFFSend:\").concat(!isFFSend));\n      if (this.vt > 0 && isFFLoading && !isFFSend) {\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(this.player.playerId, \" emitLog_firstFrame\"), endType);\n        this._state.isFFLoading = false;\n        this._state.isFFSend = true;\n        this.emitLog(LOG_TYPES.FIRST_FRAME, {\n          fvt: this.fvt,\n          costTime: this.fvt,\n          vt: this.vt,\n          startCostTime: this.startCostTime,\n          loadedCostTime: this.loadedCostTime\n        });\n      }\n    }\n  }, {\n    key: \"_startWaitTimeout\",\n    value: function _startWaitTimeout() {\n      var _this3 = this;\n      if (this._waittTimer) {\n        util.clearTimeout(this, this._waittTimer);\n      }\n      this._waittTimer = util.setTimeout(this, function() {\n        _this3.suspendWaitingStatus(\"timeout\");\n        util.clearTimeout(_this3, _this3._waittTimer);\n        _this3._waittTimer = null;\n      }, this.config.waitTimeout);\n    }\n  }, {\n    key: \"endState\",\n    value: function endState(endType) {\n      this.suspendWaitingStatus(endType);\n      this.suspendSeekingStatus(endType);\n    }\n  }, {\n    key: \"suspendSeekingStatus\",\n    value: function suspendSeekingStatus(endType) {\n      if (!this.seekingStart) {\n        return;\n      }\n      var _now = now();\n      var _cost = _now - this.seekingStart;\n      this.seekingStart = 0;\n      this.emitLog(LOG_TYPES.SEEK_END, {\n        end: _now,\n        costTime: _cost,\n        endType\n      });\n    }\n  }, {\n    key: \"suspendWaitingStatus\",\n    value: function suspendWaitingStatus(endType) {\n      if (this._waitTimer) {\n        util.clearTimeout(this, this._waitTimer);\n        this._waitTimer = null;\n      }\n      if (this._waittTimer) {\n        util.clearTimeout(this, this._waittTimer);\n        this._waittTimer = null;\n      }\n      this._isWaiting = false;\n      if (!this.waitingStart) {\n        return;\n      }\n      var _now = now();\n      var _cost = _now - this.waitingStart;\n      var _fixedCost = _now - this.fixedWaitingStart;\n      var waitTimeout = this.config.waitTimeout;\n      this._isWaiting = false;\n      this.waitingStart = 0;\n      this.fixedWaitingStart = 0;\n      this.emitLog(LOG_TYPES.WAIT_END, {\n        fixedCostTime: _fixedCost > waitTimeout ? waitTimeout : _fixedCost,\n        costTime: _cost > waitTimeout ? waitTimeout : _cost,\n        type: endType === \"loadeddata\" ? 1 : this._waitType,\n        endType: this._waitType === 2 ? \"seek\" : endType\n      });\n    }\n  }, {\n    key: \"emitLog\",\n    value: function emitLog(eventType, data) {\n      var player = this.player;\n      this.emit(XGLOG, _objectSpread2({\n        t: now(),\n        host: util.getHostFromUrl(player.currentSrc),\n        vtype: player.vtype,\n        eventType,\n        currentTime: this.player.currentTime,\n        readyState: player.video.readyState,\n        networkState: player.video.networkState\n      }, data));\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"xgLogger\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        waitTimeout: 1e4\n      };\n    }\n  }]);\n  return XGLogger2;\n}(Plugin);\nexport { LOG_TYPES, XGLogger as default };\n","function ReplaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"xgplayer-replay-svg\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 78 78\" width=\"78\" height=\"78\">\\n  <path fill=\"#fff\" transform=\"translate(20, 20)\" d=\"M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ReplaySvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { ENDED, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport ReplaySvg from \"../assets/replay.js\";\nvar Replay = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Replay2, _Plugin);\n  var _super = _createSuper(Replay2);\n  function Replay2() {\n    _classCallCheck(this, Replay2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Replay2, [{\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        replay: ReplaySvg\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      Plugin.insert(this.icons.replay, this.root, 0);\n      this.__handleReplay = this.hook(\"replayClick\", function() {\n        _this.player.replay();\n      }, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.bind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n      this.on(ENDED, function() {\n        if (!_this.playerConfig.loop) {\n          util.addClass(_this.player.root, \"replay\");\n        }\n        if (_this.config.disable) {\n          return;\n        }\n        _this.show();\n        var path = _this.root.querySelector(\"path\");\n        if (path) {\n          var transform = window.getComputedStyle(path).getPropertyValue(\"transform\");\n          if (typeof transform === \"string\" && transform.indexOf(\"none\") > -1) {\n            return null;\n          } else {\n            path.setAttribute(\"transform\", transform);\n          }\n        }\n      });\n      this.on(PLAY, function() {\n        _this.hide();\n      });\n    }\n  }, {\n    key: \"handleReplay\",\n    value: function handleReplay(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.player.replay();\n      util.removeClass(this.player.root, \"replay\");\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      if (this.config.disable) {\n        return;\n      }\n      this.root.style.display = \"flex\";\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.config.disable = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n      this.hide();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-replay class=\"xgplayer-replay\">\\n      <xg-replay-txt class=\"xgplayer-replay-txt\" lang-key=\"'.concat(this.i18nKeys.REPLAY, '\">').concat(this.i18n.REPLAY, \"</xg-replay-txt>\\n    </xg-replay>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"replay\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disable: false\n      };\n    }\n  }]);\n  return Replay2;\n}(Plugin);\nexport { Replay as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { ENDED, TIME_UPDATE, URL_CHANGE, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Poster = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Poster2, _Plugin);\n  var _super = _createSuper(Poster2);\n  function Poster2() {\n    _classCallCheck(this, Poster2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Poster2, [{\n    key: \"isEndedShow\",\n    get: function get() {\n      return this.config.isEndedShow;\n    },\n    set: function set(value) {\n      this.config.isEndedShow = value;\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      util.removeClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.poster === \"string\") {\n        args.config.poster = args.player.config.poster;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.on(ENDED, function() {\n        if (_this.isEndedShow) {\n          util.removeClass(_this.root, \"hide\");\n        }\n      });\n      if (this.config.hideCanplay) {\n        this.once(TIME_UPDATE, function() {\n          _this.onTimeUpdate();\n        });\n        this.on(URL_CHANGE, function() {\n          util.removeClass(_this.root, \"hide\");\n          util.addClass(_this.root, \"xg-showplay\");\n          _this.once(TIME_UPDATE, function() {\n            _this.onTimeUpdate();\n          });\n        });\n      } else {\n        this.on(PLAY, function() {\n          util.addClass(_this.root, \"hide\");\n        });\n      }\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this2 = this;\n      Object.keys(config).forEach(function(key) {\n        _this2.config[key] = config[key];\n      });\n      var poster = this.config.poster;\n      this.update(poster);\n    }\n  }, {\n    key: \"onTimeUpdate\",\n    value: function onTimeUpdate() {\n      var _this3 = this;\n      if (!this.player.currentTime) {\n        this.once(TIME_UPDATE, function() {\n          _this3.onTimeUpdate();\n        });\n      } else {\n        util.removeClass(this.root, \"xg-showplay\");\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update(poster) {\n      if (!poster) {\n        return;\n      }\n      this.config.poster = poster;\n      this.root.style.backgroundImage = \"url(\".concat(poster, \")\");\n    }\n  }, {\n    key: \"getBgSize\",\n    value: function getBgSize(mode) {\n      var _bg = \"\";\n      switch (mode) {\n        case \"cover\":\n          _bg = \"cover\";\n          break;\n        case \"contain\":\n          _bg = \"contain\";\n          break;\n        case \"fixHeight\":\n          _bg = \"auto 100%\";\n          break;\n        default:\n          _bg = \"\";\n      }\n      return _bg ? \"background-size: \".concat(_bg, \";\") : \"\";\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$config = this.config, poster = _this$config.poster, hideCanplay = _this$config.hideCanplay, fillMode = _this$config.fillMode, notHidden = _this$config.notHidden;\n      var _bg = this.getBgSize(fillMode);\n      var style = poster ? \"background-image:url(\".concat(poster, \");\").concat(_bg) : _bg;\n      var className = notHidden ? \"xg-not-hidden\" : hideCanplay ? \"xg-showplay\" : \"\";\n      return '<xg-poster class=\"xgplayer-poster '.concat(className, '\" style=\"').concat(style, '\">\\n    </xg-poster>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"poster\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isEndedShow: true,\n        hideCanplay: false,\n        notHidden: false,\n        poster: \"\",\n        fillMode: \"fixWidth\"\n      };\n    }\n  }]);\n  return Poster2;\n}(Plugin);\nexport { Poster as default };\n","function PlaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"play\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PlaySvg as default };\n","function PauseSvg() {\n  return new DOMParser().parseFromString('<svg class=\"pause\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PauseSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { READY, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, PLAY, PAUSE, RESET } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nvar AnimateMap = {};\nfunction addAnimate(key, seconds) {\n  var callback = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {\n    start: null,\n    end: null\n  };\n  if (AnimateMap[key]) {\n    window.clearTimeout(AnimateMap[key].id);\n  }\n  AnimateMap[key] = {};\n  callback.start && callback.start();\n  AnimateMap[key].id = window.setTimeout(function() {\n    callback.end && callback.end();\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  }, seconds);\n  return AnimateMap[key].id;\n}\nfunction clearAnimation(id) {\n  if (id) {\n    window.clearTimeout(id);\n    return;\n  }\n  Object.keys(AnimateMap).map(function(key) {\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  });\n}\nvar Start = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Start2, _Plugin);\n  var _super = _createSuper(Start2);\n  function Start2(args) {\n    var _this;\n    _classCallCheck(this, Start2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onPlayerReset\", function() {\n      _this.autoPlayStart = false;\n      var className = _this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      _this.setAttr(\"data-state\", \"play\");\n      util.removeClass(_this.root, className);\n      _this.show();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onAutoplayStart\", function() {\n      if (_this.autoPlayStart) {\n        return;\n      }\n      var className = _this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      util.addClass(_this.root, className);\n      _this.autoPlayStart = true;\n      _this.toggleTo(\"play\");\n    });\n    _this.autoPlayStart = false;\n    return _this;\n  }\n  _createClass(Start2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var playerConfig = this.playerConfig;\n      this.initIcons();\n      this.listenEvents();\n      this.bindClickEvents();\n      if (!playerConfig.autoplay) {\n        this.show();\n      }\n    }\n  }, {\n    key: \"listenEvents\",\n    value: function listenEvents() {\n      var _this2 = this;\n      var player = this.player, playerConfig = this.playerConfig;\n      this.once(READY, function() {\n        if (playerConfig) {\n          if (playerConfig.lang && playerConfig.lang === \"en\") {\n            util.addClass(player.root, \"lang-is-en\");\n          } else if (playerConfig.lang === \"jp\") {\n            util.addClass(player.root, \"lang-is-jp\");\n          }\n        }\n      });\n      this.on(AUTOPLAY_STARTED, this.onAutoplayStart);\n      this.on(AUTOPLAY_PREVENTED, function() {\n        var className = _this2.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n        _this2.setAttr(\"data-state\", \"play\");\n        util.removeClass(_this2.root, className);\n        _this2.show();\n      });\n      this.on(PLAY, function() {\n        _this2.toggleTo(\"play\");\n      });\n      this.on(PAUSE, function() {\n        _this2.toggleTo(\"pause\");\n      });\n      this.on(RESET, function() {\n        _this2.onPlayerReset();\n      });\n    }\n  }, {\n    key: \"bindClickEvents\",\n    value: function bindClickEvents() {\n      var _this3 = this;\n      this.clickHandler = this.hook(\"startClick\", this.switchPausePlay, {\n        pre: function pre(e) {\n          e.cancelable && e.preventDefault();\n          e.stopPropagation();\n          var paused = _this3.player.paused;\n          _this3.emitUserAction(e, \"switch_play_pause\", {\n            props: \"paused\",\n            from: paused,\n            to: !paused\n          });\n        }\n      });\n      this.bind([\"click\", \"touchend\"], this.clickHandler);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        startPlay: {\n          icon: PlaySvg,\n          class: \"xg-icon-play\"\n        },\n        startPause: {\n          icon: PauseSvg,\n          class: \"xg-icon-pause\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\"xg-start-inner\", icons.startPlay);\n      this.appendChild(\"xg-start-inner\", icons.startPause);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      util.removeClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"focusHide\",\n    value: function focusHide() {\n      util.addClass(this.root, \"focus-hide\");\n    }\n  }, {\n    key: \"recover\",\n    value: function recover() {\n      util.removeClass(this.root, \"focus-hide\");\n    }\n  }, {\n    key: \"switchStatus\",\n    value: function switchStatus(isAnimate) {\n      if (isAnimate) {\n        this.setAttr(\"data-state\", !this.player.paused ? \"play\" : \"pause\");\n      } else {\n        this.setAttr(\"data-state\", this.player.paused ? \"play\" : \"pause\");\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(endShow) {\n      var _this4 = this;\n      this._animateId = addAnimate(\"pauseplay\", 400, {\n        start: function start() {\n          util.addClass(_this4.root, \"interact\");\n          _this4.show();\n          _this4.switchStatus(true);\n        },\n        end: function end() {\n          util.removeClass(_this4.root, \"interact\");\n          !endShow && _this4.hide();\n          _this4._animateId = null;\n        }\n      });\n    }\n  }, {\n    key: \"endAnimate\",\n    value: function endAnimate() {\n      util.removeClass(this.root, \"interact\");\n      clearAnimation(this._animateId);\n      this._animateId = null;\n    }\n  }, {\n    key: \"switchPausePlay\",\n    value: function switchPausePlay(e) {\n      var player = this.player;\n      e.cancelable && e.preventDefault();\n      e.stopPropagation();\n      if (player.state < STATES.READY) {\n        return;\n      }\n      var paused = this.player.paused;\n      if (!paused && player.state === STATES.RUNNING) {\n        player.pause();\n      } else {\n        player.play();\n      }\n    }\n  }, {\n    key: \"onPlayPause\",\n    value: function onPlayPause(status) {\n      this.toggleTo(status);\n    }\n  }, {\n    key: \"toggleTo\",\n    value: function toggleTo(status) {\n      var config = this.config, player = this.player;\n      if (!player || player.state < STATES.RUNNING || !this.autoPlayStart) {\n        return;\n      }\n      if (config.mode === \"show\") {\n        this.switchStatus();\n        this.show();\n        return;\n      }\n      if (config.mode === \"auto\") {\n        this.switchStatus();\n        return;\n      }\n      if (config.isShowPause && player.paused && !player.ended || config.isShowEnd && player.ended) {\n        this.switchStatus();\n        this.show();\n        this.endAnimate();\n        return;\n      }\n      if (config.disableAnimate) {\n        this.switchStatus();\n        this.hide();\n        return;\n      }\n      if (status === \"play\") {\n        this.autoPlayStart ? this.animate() : this.hide();\n      } else {\n        if (!this.autoPlayStart || player.ended) {\n          return;\n        }\n        this.animate();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind([\"click\", \"touchend\"], this.clickHandler);\n      clearAnimation(this._animateId);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var className = this.playerConfig.autoplay ? this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\" : \"\";\n      return '\\n    <xg-start class=\"xgplayer-start '.concat(className, '\">\\n    <xg-start-inner></xg-start-inner>\\n    </xg-start>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"start\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isShowPause: false,\n        isShowEnd: false,\n        disableAnimate: false,\n        mode: \"hide\"\n      };\n    }\n  }]);\n  return Start2;\n}(Plugin);\nexport { Start as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Enter = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Enter2, _Plugin);\n  var _super = _createSuper(Enter2);\n  function Enter2() {\n    _classCallCheck(this, Enter2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Enter2, [{\n    key: \"render\",\n    value: function render() {\n      var innerHtml = this.config.innerHtml;\n      var root = util.createDom(\"xg-enter\", \"\", {}, \"xgplayer-enter\");\n      if (innerHtml && innerHtml instanceof window.HTMLElement) {\n        root.appendChild(innerHtml);\n      } else if (innerHtml && typeof innerHtml === \"string\") {\n        root.innerHTML = innerHtml;\n      } else {\n        var barStr = \"\";\n        for (var i = 1; i <= 12; i++) {\n          barStr += '<div class=\"xgplayer-enter-bar'.concat(i, '\"></div>');\n        }\n        root.innerHTML = '<div class=\"xgplayer-enter-spinner\">'.concat(barStr, \"</div>\");\n      }\n      return root;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"enter\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        innerHtml: \"\",\n        logo: \"\"\n      };\n    }\n  }]);\n  return Enter2;\n}(Plugin);\nexport { Enter as default };\n","function xgIconTips(plugin, textKey, isShow) {\n  try {\n    return ' <div class=\"xg-tips '.concat(isShow ? \"hide\" : \" \", '\" lang-key=\"').concat(plugin.i18nKeys[textKey], '\">\\n    ').concat(plugin.i18n[textKey], \"\\n    </div>\");\n  } catch (e) {\n    return '<div class=\"xg-tips hide\"></div>';\n  }\n}\nexport { xgIconTips };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nvar MiniScreenIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MiniScreenIcon2, _Plugin);\n  var _super = _createSuper(MiniScreenIcon2);\n  function MiniScreenIcon2() {\n    _classCallCheck(this, MiniScreenIcon2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(MiniScreenIcon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.getMini = this.getMini.bind(this);\n      this.exitMini = this.exitMini.bind(this);\n      this.bind(\"click\", this.getMini);\n    }\n  }, {\n    key: \"getMini\",\n    value: function getMini() {\n      this.config.onClick && this.config.onClick();\n    }\n  }, {\n    key: \"exitMini\",\n    value: function exitMini() {\n      this.config.onClick && this.config.onClick();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind([\"click\", \"touchend\"], this.getMini);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var langKey = \"MINISCREEN\";\n      return '\\n      <xg-icon class=\"xgplayer-miniicon\">\\n      <div class=\"xgplayer-icon btn-text\"><span class=\"icon-text\" lang-key=\"'.concat(this.i18nKeys[langKey], '\">').concat(this.i18n[langKey], \"</span></div>\\n      </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"miniscreenIcon\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 10\n      };\n    }\n  }]);\n  return MiniScreenIcon2;\n}(Plugin);\nexport { MiniScreenIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, possibleConstructorReturn as _possibleConstructorReturn, createClass as _createClass, typeof as _typeof } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nfunction getStyleSize(value) {\n  var num = parseFloat(value);\n  var isValid = value.indexOf(\"%\") === -1 && !Number.isNaN(num);\n  return isValid && num;\n}\nvar measurements = [\"paddingLeft\", \"paddingRight\", \"paddingTop\", \"paddingBottom\", \"marginLeft\", \"marginRight\", \"marginTop\", \"marginBottom\", \"borderLeftWidth\", \"borderRightWidth\", \"borderTopWidth\", \"borderBottomWidth\"];\nvar measurementsLength = measurements.length;\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for (var i = 0; i < measurementsLength; i++) {\n    var measurement = measurements[i];\n    size[measurement] = 0;\n  }\n  return size;\n}\nfunction getStyle(elem) {\n  var style = window.getComputedStyle(elem);\n  return style;\n}\nfunction getSize(elem) {\n  if (typeof elem === \"string\") {\n    elem = document.querySelector(elem);\n  }\n  if (!elem || _typeof(elem) !== \"object\" || !elem.nodeType) {\n    return;\n  }\n  var style = getStyle(elem);\n  if (style.display === \"none\") {\n    return getZeroSize();\n  }\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n  var isBorderBox = size.isBorderBox = style.boxSizing === \"border-box\";\n  for (var i = 0; i < measurementsLength; i++) {\n    var measurement = measurements[i];\n    var value = style[measurement];\n    var num = parseFloat(value);\n    size[measurement] = !Number.isNaN(num) ? num : 0;\n  }\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n  var isBorderBoxSizeOuter = isBorderBox;\n  var styleWidth = getStyleSize(style.width);\n  if (styleWidth !== false) {\n    size.width = styleWidth + (isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth);\n  }\n  var styleHeight = getStyleSize(style.height);\n  if (styleHeight !== false) {\n    size.height = styleHeight + (isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight);\n  }\n  size.innerWidth = size.width - (paddingWidth + borderWidth);\n  size.innerHeight = size.height - (paddingHeight + borderHeight);\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n  return size;\n}\nfunction getTouch(touches, dentifier) {\n  for (var i = 0; i < touches.length; i++) {\n    var touch = touches[i];\n    if (touch.identifier === dentifier) {\n      return touch;\n    }\n  }\n}\nvar EVENTS = {\n  START: \"dragStart\",\n  MOVE: \"dragMove\",\n  ENDED: \"dragEnded\"\n};\nvar POST_START_EVENTS = {\n  mousedown: [\"mousemove\", \"mouseup\"],\n  touchstart: [\"touchmove\", \"touchend\", \"touchcancel\"],\n  pointerdown: [\"pointermove\", \"pointerup\", \"pointercancel\"]\n};\nvar Draggabilly = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(Draggabilly2, _EventEmitter);\n  var _super = _createSuper(Draggabilly2);\n  function Draggabilly2(root) {\n    var _this;\n    var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    _classCallCheck(this, Draggabilly2);\n    _this = _super.call(this);\n    _this.isEnabled = true;\n    _this.isDragging = false;\n    _this.isDown = false;\n    _this.position = {};\n    _this.downPoint = {};\n    _this.dragPoint = {\n      x: 0,\n      y: 0\n    };\n    _this.startPos = {\n      x: 0,\n      y: 0\n    };\n    _this._root = root instanceof Element ? root : document.querySelector(root);\n    _this._handlerDom = options.handle instanceof Element ? options.handle : document.querySelector(options.handle);\n    if (!_this._root || !_this._handlerDom) {\n      return _possibleConstructorReturn(_this);\n    }\n    _this._bindStartEvent();\n    return _this;\n  }\n  _createClass(Draggabilly2, [{\n    key: \"_bindStartEvent\",\n    value: function _bindStartEvent() {\n      var _this2 = this;\n      if (\"ontouchstart\" in window) {\n        this._startKey = \"touchstart\";\n      } else {\n        this._startKey = \"mousedown\";\n      }\n      this[\"on\".concat(this._startKey)] = this[\"on\".concat(this._startKey)].bind(this);\n      this._handlerDom.addEventListener(this._startKey, this[\"on\".concat(this._startKey)]);\n      POST_START_EVENTS[this._startKey].map(function(key) {\n        _this2[\"on\".concat(key)] = _this2[\"on\".concat(key)].bind(_this2);\n      });\n    }\n  }, {\n    key: \"_unbindStartEvent\",\n    value: function _unbindStartEvent() {\n      this._handlerDom.removeEventListener(this._startKey, this[\"on\".concat(this._startKey)]);\n    }\n  }, {\n    key: \"_bindPostStartEvents\",\n    value: function _bindPostStartEvents(event) {\n      var _this3 = this;\n      if (!event) {\n        return;\n      }\n      var events = POST_START_EVENTS[this._startKey];\n      events.map(function(eventName) {\n        window.addEventListener(eventName, _this3[\"on\".concat(eventName)]);\n      });\n      this._boundPointerEvents = events;\n    }\n  }, {\n    key: \"_unbindPostStartEvents\",\n    value: function _unbindPostStartEvents() {\n      var _this4 = this;\n      if (!this._boundPointerEvents) {\n        return;\n      }\n      this._boundPointerEvents.map(function(eventName) {\n        window.removeEventListener(eventName, _this4[\"on\".concat(eventName)]);\n      });\n      delete this._boundPointerEvents;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.isEnabled = true;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.isEnabled = false;\n      if (this.isDragging) {\n        this.onUp();\n      }\n    }\n  }, {\n    key: \"onDocUp\",\n    value: function onDocUp(e) {\n      this.onUp();\n    }\n  }, {\n    key: \"animate\",\n    value: function animate() {\n      var _this5 = this;\n      if (!this.isDragging) {\n        return;\n      }\n      this.positionDrag();\n      window.requestAnimationFrame(function() {\n        _this5.animate();\n      });\n    }\n  }, {\n    key: \"positionDrag\",\n    value: function positionDrag() {\n      var transform = \"translate3d(\".concat(this.dragPoint.x, \"px, \").concat(this.dragPoint.y, \"px, 0)\");\n      this._root.style.transform = transform;\n      this._root.style.webKitTransform = transform;\n    }\n  }, {\n    key: \"setLeftTop\",\n    value: function setLeftTop() {\n      this._root.style.left = this.position.x + \"px\";\n      this._root.style.top = this.position.y + \"px\";\n    }\n  }, {\n    key: \"onmousedown\",\n    value: function onmousedown(e) {\n      this.dragStart(e, e);\n    }\n  }, {\n    key: \"onmousemove\",\n    value: function onmousemove(e) {\n      this.dragMove(e, e);\n    }\n  }, {\n    key: \"onmouseup\",\n    value: function onmouseup(e) {\n      this.dragEnd(e, e);\n    }\n  }, {\n    key: \"ontouchstart\",\n    value: function ontouchstart(e) {\n      var touch = e.changedTouches[0];\n      this.dragStart(e, touch);\n      this.touchIdentifier = touch.pointerId !== void 0 ? touch.pointerId : touch.identifier;\n      e.preventDefault();\n    }\n  }, {\n    key: \"ontouchmove\",\n    value: function ontouchmove(e) {\n      var touch = getTouch(e.changedTouches, this.touchIdentifier);\n      if (touch) {\n        this.dragMove(e, touch);\n      }\n    }\n  }, {\n    key: \"ontouchend\",\n    value: function ontouchend(e) {\n      var touch = getTouch(e.changedTouches, this.touchIdentifier);\n      if (touch) {\n        this.dragEnd(e, touch);\n      }\n      e.preventDefault();\n    }\n  }, {\n    key: \"ontouchcancel\",\n    value: function ontouchcancel(e) {\n      var touch = getTouch(e.changedTouches, this.touchIdentifier);\n      if (touch) {\n        this.dragCancel(e, touch);\n      }\n    }\n  }, {\n    key: \"dragStart\",\n    value: function dragStart(e, pointer) {\n      if (!this._root || this.isDown || !this.isEnabled) {\n        return;\n      }\n      this.downPoint = pointer;\n      this.dragPoint.x = 0;\n      this.dragPoint.y = 0;\n      this._getPosition();\n      var size = getSize(this._root);\n      this.startPos.x = this.position.x;\n      this.startPos.y = this.position.y;\n      this.startPos.maxY = window.innerHeight - size.height;\n      this.startPos.maxX = window.innerWidth - size.width;\n      this.setLeftTop();\n      this.isDown = true;\n      this._bindPostStartEvents(e);\n    }\n  }, {\n    key: \"dragRealStart\",\n    value: function dragRealStart(e, pointer) {\n      this.isDragging = true;\n      this.animate();\n      this.emit(EVENTS.START, this.startPos);\n    }\n  }, {\n    key: \"dragEnd\",\n    value: function dragEnd(e, pointer) {\n      if (!this._root) {\n        return;\n      }\n      this._unbindPostStartEvents();\n      if (this.isDragging) {\n        this._root.style.transform = \"\";\n        this.setLeftTop();\n        this.emit(EVENTS.ENDED);\n      }\n      this.presetInfo();\n    }\n  }, {\n    key: \"_dragPointerMove\",\n    value: function _dragPointerMove(e, pointer) {\n      var moveVector = {\n        x: pointer.pageX - this.downPoint.pageX,\n        y: pointer.pageY - this.downPoint.pageY\n      };\n      if (!this.isDragging && this.hasDragStarted(moveVector)) {\n        this.dragRealStart(e, pointer);\n      }\n      return moveVector;\n    }\n  }, {\n    key: \"dragMove\",\n    value: function dragMove(e, pointer) {\n      e = e || window.event;\n      if (!this.isDown) {\n        return;\n      }\n      var _this$startPos = this.startPos, x = _this$startPos.x, y = _this$startPos.y;\n      var moveVector = this._dragPointerMove(e, pointer);\n      var dragX = moveVector.x;\n      var dragY = moveVector.y;\n      dragX = this.checkContain(\"x\", dragX, x);\n      dragY = this.checkContain(\"y\", dragY, y);\n      this.position.x = x + dragX;\n      this.position.y = y + dragY;\n      this.dragPoint.x = dragX;\n      this.dragPoint.y = dragY;\n      this.emit(EVENTS.MOVE, this.position);\n    }\n  }, {\n    key: \"dragCancel\",\n    value: function dragCancel(e, pointer) {\n      this.dragEnd(e, pointer);\n    }\n  }, {\n    key: \"presetInfo\",\n    value: function presetInfo() {\n      this.isDragging = false;\n      this.startPos = {\n        x: 0,\n        y: 0\n      };\n      this.dragPoint = {\n        x: 0,\n        y: 0\n      };\n      this.isDown = false;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._unbindStartEvent();\n      this._unbindPostStartEvents();\n      if (this.isDragging) {\n        this.dragEnd();\n      }\n      this.removeAllListeners();\n      this._handlerDom = null;\n    }\n  }, {\n    key: \"hasDragStarted\",\n    value: function hasDragStarted(moveVector) {\n      return Math.abs(moveVector.x) > 3 || Math.abs(moveVector.y) > 3;\n    }\n  }, {\n    key: \"checkContain\",\n    value: function checkContain(axis, drag, grid) {\n      if (drag + grid < 0) {\n        return 0 - grid;\n      }\n      if (axis === \"x\" && drag + grid > this.startPos.maxX) {\n        return this.startPos.maxX - grid;\n      }\n      if (axis === \"y\" && drag + grid > this.startPos.maxY) {\n        return this.startPos.maxY - grid;\n      }\n      return drag;\n    }\n  }, {\n    key: \"_getPosition\",\n    value: function _getPosition() {\n      var style = window.getComputedStyle(this._root);\n      var x = this._getPositionCoord(style.left, \"width\");\n      var y = this._getPositionCoord(style.top, \"height\");\n      this.position.x = Number.isNaN(x) ? 0 : x;\n      this.position.y = Number.isNaN(y) ? 0 : y;\n      this._addTransformPosition(style);\n    }\n  }, {\n    key: \"_addTransformPosition\",\n    value: function _addTransformPosition(style) {\n      var transform = style.transform;\n      if (transform.indexOf(\"matrix\") !== 0) {\n        return;\n      }\n      var matrixValues = transform.split(\",\");\n      var xIndex = transform.indexOf(\"matrix3d\") === 0 ? 12 : 4;\n      var translateX = parseInt(matrixValues[xIndex], 10);\n      var translateY = parseInt(matrixValues[xIndex + 1], 10);\n      this.position.x += translateX;\n      this.position.y += translateY;\n    }\n  }, {\n    key: \"_getPositionCoord\",\n    value: function _getPositionCoord(styleSide, measure) {\n      if (styleSide.indexOf(\"%\") !== -1) {\n        var parentSize = getSize(this._root.parentNode);\n        return !parentSize ? 0 : parseFloat(styleSide) / 100 * parentSize[measure];\n      }\n      return parseInt(styleSide, 10);\n    }\n  }]);\n  return Draggabilly2;\n}(EventEmitter);\nexport { Draggabilly as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { PAUSE, PLAY, MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nimport MiniScreenIcon from \"./miniScreenIcon.js\";\nexport { default as MiniScreenIcon } from \"./miniScreenIcon.js\";\nimport Draggabilly from \"../../utils/draggabilly.js\";\nvar MiniScreen = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MiniScreen2, _Plugin);\n  var _super = _createSuper(MiniScreen2);\n  function MiniScreen2(args) {\n    var _this;\n    _classCallCheck(this, MiniScreen2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onCancelClick\", function(e) {\n      _this.exitMini();\n      _this.isClose = true;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onCenterClick\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      player.paused ? player.play() : player.pause();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onScroll\", function(e) {\n      if (!window.scrollY && window.scrollY !== 0 || Math.abs(window.scrollY - _this.pos.scrollY) < 50) {\n        return;\n      }\n      var scrollHeight = parseInt(util.getCss(_this.player.root, \"height\"));\n      scrollHeight += _this.config.scrollTop;\n      _this.pos.scrollY = window.scrollY;\n      if (window.scrollY > scrollHeight + 5) {\n        !_this.isMini && !_this.isClose && _this.getMini();\n      } else if (window.scrollY <= scrollHeight) {\n        _this.isMini && _this.exitMini();\n        _this.isClose = false;\n      }\n    });\n    _this.isMini = false;\n    _this.isClose = false;\n    var _assertThisInitialize2 = _assertThisInitialized(_this), config = _assertThisInitialize2.config;\n    _this.pos = {\n      left: config.left < 0 ? window.innerWidth - config.width - 20 : config.left,\n      top: config.top < 0 ? window.innerHeight - config.height - 20 : config.top,\n      height: _this.config.height,\n      width: _this.config.width,\n      scrollY: window.scrollY || 0\n    };\n    _this.lastStyle = null;\n    return _this;\n  }\n  _createClass(MiniScreen2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.mini === \"boolean\") {\n        args.config.isShowIcon = args.player.config.mini;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this.initIcons();\n      this.on(PAUSE, function() {\n        _this2.setAttr(\"data-state\", \"pause\");\n      });\n      this.on(PLAY, function() {\n        _this2.setAttr(\"data-state\", \"play\");\n      });\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n      var _this3 = this;\n      var player = this.player, config = this.config;\n      if (config.disable) {\n        return;\n      }\n      if (this.config.isShowIcon) {\n        var options = {\n          config: {\n            onClick: function onClick() {\n              _this3.getMini();\n            }\n          }\n        };\n        player.controls.registerPlugin(MiniScreenIcon, options, MiniScreenIcon.pluginName);\n      }\n      var eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n      this.bind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n      this.bind(\".play-icon\", eventName, this.onCenterClick);\n      if (!this.config.disableDrag) {\n        this._draggabilly = new Draggabilly(this.player.root, {\n          handle: this.root\n        });\n      }\n      if (this.config.isScrollSwitch) {\n        window.addEventListener(\"scroll\", this.onScroll);\n      }\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        play: {\n          icon: PlaySvg,\n          class: \"xg-icon-play\"\n        },\n        pause: {\n          icon: PauseSvg,\n          class: \"xg-icon-pause\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".play-icon\", icons.play);\n      this.appendChild(\".play-icon\", icons.pause);\n    }\n  }, {\n    key: \"getMini\",\n    value: function getMini() {\n      var _this4 = this;\n      if (this.isMini) {\n        return;\n      }\n      var player = this.player, playerConfig = this.playerConfig;\n      var target = this.config.target || this.player.root;\n      this.lastStyle = {};\n      util.addClass(player.root, \"xgplayer-mini\");\n      [\"width\", \"height\", \"top\", \"left\"].map(function(key) {\n        _this4.lastStyle[key] = target.style[key];\n        target.style[key] = \"\".concat(_this4.pos[key], \"px\");\n      });\n      if (playerConfig.fluid) {\n        target.style[\"padding-top\"] = \"\";\n      }\n      this.emit(MINI_STATE_CHANGE, true);\n      player.isMini = this.isMini = true;\n    }\n  }, {\n    key: \"exitMini\",\n    value: function exitMini() {\n      var _this5 = this;\n      if (!this.isMini) {\n        return false;\n      }\n      var player = this.player, playerConfig = this.playerConfig;\n      var target = this.config.target || this.player.root;\n      util.removeClass(player.root, \"xgplayer-mini\");\n      if (this.lastStyle) {\n        Object.keys(this.lastStyle).map(function(key) {\n          target.style[key] = _this5.lastStyle[key];\n        });\n      }\n      this.lastStyle = null;\n      if (playerConfig.fluid) {\n        player.root.style.width = \"100%\";\n        player.root.style.height = \"0\";\n        player.root.style[\"padding-top\"] = \"\".concat(playerConfig.height * 100 / playerConfig.width, \"%\");\n      }\n      this.emit(MINI_STATE_CHANGE, false);\n      this.isMini = player.isMini = false;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      window.removeEventListener(\"scroll\", this.onScroll);\n      var eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n      this.unbind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n      this.unbind(\".play-icon\", eventName, this.onCenterClick);\n      this._draggabilly && this._draggabilly.destroy();\n      this._draggabilly = null;\n      this.exitMini();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '\\n      <xg-mini-layer class=\"xg-mini-layer\">\\n      <xg-mini-header class=\"xgplayer-mini-header\">\\n      '.concat(xgIconTips(this, \"MINI_DRAG\", this.playerConfig.isHideTips), '\\n      </xg-mini-header>\\n      <div class=\"mini-cancel-btn\">\\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\\n          <path fill=\"#fff\" fill-rule=\"evenodd\" d=\"M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z\"></path>\\n        </svg>\\n      </div>\\n      <div class=\"play-icon\">\\n      </div>\\n      </xg-mini-layer>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"miniscreen\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 10,\n        disable: false,\n        width: 320,\n        height: 180,\n        left: -1,\n        top: -1,\n        isShowIcon: false,\n        isScrollSwitch: false,\n        scrollTop: 0,\n        disableDrag: false\n      };\n    }\n  }]);\n  return MiniScreen2;\n}(Plugin);\nexport { MiniScreen as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { ENTER_PLAYER, LEAVE_PLAYER } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nvar MOUSE_EVENTS = {\n  mouseenter: \"onMouseEnter\",\n  mouseleave: \"onMouseLeave\",\n  mousemove: \"onMouseMove\"\n};\nvar HOOKS = [\"videoClick\", \"videoDbClick\"];\nvar PCPlugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(PCPlugin2, _BasePlugin);\n  var _super = _createSuper(PCPlugin2);\n  function PCPlugin2() {\n    var _this;\n    _classCallCheck(this, PCPlugin2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onMouseMove\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, playerConfig = _assertThisInitialize.playerConfig;\n      if (!player.isActive) {\n        player.focus({\n          autoHide: !playerConfig.closeDelayBlur\n        });\n        !playerConfig.closeFocusVideoFocus && player.media.focus();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function(e) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), playerConfig = _assertThisInitialize2.playerConfig, player = _assertThisInitialize2.player;\n      !playerConfig.closeFocusVideoFocus && player.media.focus();\n      if (playerConfig.closeDelayBlur) {\n        player.focus({\n          autoHide: false\n        });\n      } else {\n        player.focus();\n      }\n      _this.emit(ENTER_PLAYER);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function(e) {\n      var _this$playerConfig = _this.playerConfig, closePlayerBlur = _this$playerConfig.closePlayerBlur, leavePlayerTime = _this$playerConfig.leavePlayerTime, closeDelayBlur = _this$playerConfig.closeDelayBlur;\n      if (!closePlayerBlur && !closeDelayBlur) {\n        if (leavePlayerTime) {\n          _this.player.focus({\n            autoHide: true,\n            delay: leavePlayerTime\n          });\n        } else {\n          _this.player.blur({\n            ignorePaused: true\n          });\n        }\n      }\n      _this.emit(LEAVE_PLAYER);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVideoClick\", function(e) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this), player = _assertThisInitialize3.player, playerConfig = _assertThisInitialize3.playerConfig;\n      if (e.target && playerConfig.closeVideoClick) {\n        return;\n      }\n      if (e.target === player.root || e.target === player.media || e.target === player.innerContainer || e.target === player.media.__canvas) {\n        e.preventDefault();\n        if (!playerConfig.closeVideoStopPropagation) {\n          e.stopPropagation();\n        }\n        _this._clickCount++;\n        if (_this.clickTimer) {\n          clearTimeout(_this.clickTimer);\n          _this.clickTimer = null;\n        }\n        _this.clickTimer = setTimeout(function() {\n          if (!_this._clickCount) {\n            return;\n          }\n          _this._clickCount--;\n          runHooks(_assertThisInitialized(_this), HOOKS[0], function(plugin, data) {\n            _this.switchPlayPause(data.e);\n          }, {\n            e,\n            paused: player.paused\n          });\n          clearTimeout(_this.clickTimer);\n          _this.clickTimer = null;\n        }, 300);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVideoDblClick\", function(e) {\n      var _assertThisInitialize4 = _assertThisInitialized(_this), player = _assertThisInitialize4.player, playerConfig = _assertThisInitialize4.playerConfig;\n      if (playerConfig.closeVideoDblclick || !e.target || e.target !== player.media && e.target !== player.media.__canvas) {\n        return;\n      }\n      if (!playerConfig.closeVideoClick && _this._clickCount < 2) {\n        _this._clickCount = 0;\n        return;\n      }\n      _this._clickCount = 0;\n      if (_this.clickTimer) {\n        clearTimeout(_this.clickTimer);\n        _this.clickTimer = null;\n      }\n      e.preventDefault();\n      e.stopPropagation();\n      runHooks(_assertThisInitialized(_this), HOOKS[1], function(plugin, data) {\n        _this.emitUserAction(data.e, \"switch_fullscreen\", {\n          props: \"fullscreen\",\n          from: player.fullscreen,\n          to: !player.fullscreen\n        });\n        player.fullscreen ? player.exitFullscreen() : player.getFullscreen();\n      }, {\n        e,\n        fullscreen: player.fullscreen\n      });\n    });\n    return _this;\n  }\n  _createClass(PCPlugin2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._clickCount = 0;\n      HOOKS.map(function(item) {\n        _this2.__hooks[item] = null;\n      });\n      var isMobileSimulateMode = this.playerConfig.isMobileSimulateMode;\n      if (isMobileSimulateMode === \"mobile\" || sniffer.device === \"mobile\" && !sniffer.os.isIpad) {\n        return;\n      }\n      this.initEvents();\n    }\n  }, {\n    key: \"initEvents\",\n    value: function initEvents() {\n      var _this3 = this;\n      var _this$player = this.player, media = _this$player.media, root = _this$player.root;\n      var enableContextmenu = this.playerConfig.enableContextmenu;\n      root && root.addEventListener(\"click\", this.onVideoClick, false);\n      root && root.addEventListener(\"dblclick\", this.onVideoDblClick, false);\n      Object.keys(MOUSE_EVENTS).map(function(item) {\n        root.addEventListener(item, _this3[MOUSE_EVENTS[item]], false);\n      });\n      !enableContextmenu && media && media.addEventListener(\"contextmenu\", this.onContextmenu, false);\n    }\n  }, {\n    key: \"switchPlayPause\",\n    value: function switchPlayPause(e) {\n      var player = this.player;\n      this.emitUserAction(e, \"switch_play_pause\", {\n        props: \"paused\",\n        from: player.paused,\n        to: !player.paused\n      });\n      if (!player.ended) {\n        player.paused ? player.play() : player.pause();\n      } else {\n        player.duration !== Infinity && player.duration > 0 && player.replay();\n      }\n    }\n  }, {\n    key: \"onContextmenu\",\n    value: function onContextmenu(e) {\n      e = e || window.event;\n      if (e.preventDefault) {\n        e.preventDefault();\n      }\n      if (e.stopPropagation) {\n        e.stopPropagation();\n      } else {\n        e.returnValue = false;\n        e.cancelBubble = true;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this4 = this;\n      var _this$player2 = this.player, video = _this$player2.video, root = _this$player2.root;\n      this.clickTimer && clearTimeout(this.clickTimer);\n      root.removeEventListener(\"click\", this.onVideoClick, false);\n      root.removeEventListener(\"dblclick\", this.onVideoDblClick, false);\n      video.removeEventListener(\"contextmenu\", this.onContextmenu, false);\n      Object.keys(MOUSE_EVENTS).map(function(item) {\n        root.removeEventListener(item, _this4[MOUSE_EVENTS[item]], false);\n      });\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"pc\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }]);\n  return PCPlugin2;\n}(BasePlugin);\nexport { PCPlugin as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nvar EVENTS = {\n  PRESS: \"press\",\n  PRESS_END: \"pressend\",\n  DOUBlE_CLICK: \"doubleclick\",\n  CLICK: \"click\",\n  TOUCH_MOVE: \"touchmove\",\n  TOUCH_START: \"touchstart\",\n  TOUCH_END: \"touchend\"\n};\nvar TOUCHS = {\n  start: \"touchstart\",\n  end: \"touchend\",\n  move: \"touchmove\",\n  cancel: \"touchcancel\"\n};\nvar MOUSES = {\n  start: \"mousedown\",\n  end: \"mouseup\",\n  move: \"mousemove\",\n  cancel: \"mouseleave\"\n};\nfunction getTouch(touches) {\n  if (touches && touches.length > 0) {\n    return touches[touches.length - 1];\n  } else {\n    return null;\n  }\n}\nfunction getDefaultConfig() {\n  return {\n    pressDelay: 600,\n    dbClickDelay: 200,\n    disablePress: false,\n    disableDbClick: false,\n    miniStep: 2,\n    needPreventDefault: true\n  };\n}\nvar Touche = /* @__PURE__ */ function() {\n  function Touche2(dom) {\n    var _this = this;\n    var _config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n      eventType: \"touch\"\n    };\n    _classCallCheck(this, Touche2);\n    _defineProperty(this, \"onTouchStart\", function(e) {\n      var _pos = _this._pos, root = _this.root;\n      var touch = getTouch(e.touches);\n      _pos.x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.y = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.start = true;\n      _this.__setPress(e);\n      root.addEventListener(_this.events.end, _this.onTouchEnd);\n      root.addEventListener(_this.events.cancel, _this.onTouchCancel);\n      root.addEventListener(_this.events.move, _this.onTouchMove);\n      _this.trigger(EVENTS.TOUCH_START, e);\n    });\n    _defineProperty(this, \"onTouchCancel\", function(e) {\n      _this.onTouchEnd(e);\n    });\n    _defineProperty(this, \"onTouchEnd\", function(e) {\n      var _pos = _this._pos, root = _this.root;\n      _this.__clearPress();\n      root.removeEventListener(_this.events.cancel, _this.onTouchCancel);\n      root.removeEventListener(_this.events.end, _this.onTouchEnd);\n      root.removeEventListener(_this.events.move, _this.onTouchMove);\n      e.moving = _pos.moving;\n      e.press = _pos.press;\n      _pos.press && _this.trigger(EVENTS.PRESS_END, e);\n      _this.trigger(EVENTS.TOUCH_END, e);\n      !_pos.press && !_pos.moving && _this.__setDb(e);\n      _pos.press = false;\n      _pos.start = false;\n      _pos.moving = false;\n    });\n    _defineProperty(this, \"onTouchMove\", function(e) {\n      var _pos = _this._pos, config = _this.config;\n      var touch = getTouch(e.touches);\n      var x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      var y = touch ? parseInt(touch.pageY, 10) : e.pageX;\n      var diffx = x - _pos.x;\n      var diffy = y - _pos.y;\n      if (Math.abs(diffy) < config.miniStep && Math.abs(diffx) < config.miniStep) {\n        return;\n      }\n      _this.__clearPress();\n      _pos.press && _this.trigger(EVENTS.PRESS_END, e);\n      _pos.press = false;\n      _pos.moving = true;\n      _this.trigger(EVENTS.TOUCH_MOVE, e);\n    });\n    this._pos = {\n      moving: false,\n      start: false,\n      x: 0,\n      y: 0\n    };\n    this.config = getDefaultConfig();\n    Object.keys(_config).map(function(key) {\n      _this.config[key] = _config[key];\n    });\n    this.root = dom;\n    this.events = _config.eventType === \"mouse\" ? MOUSES : TOUCHS;\n    this.pressIntrvalId = null;\n    this.dbIntrvalId = null;\n    this.__handlers = {};\n    this._initEvent();\n  }\n  _createClass(Touche2, [{\n    key: \"_initEvent\",\n    value: function _initEvent() {\n      this.root.addEventListener(this.events.start, this.onTouchStart);\n    }\n  }, {\n    key: \"__setPress\",\n    value: function __setPress(e) {\n      var _this2 = this;\n      var config = this.config;\n      if (this.pressIntrvalId) {\n        this.__clearPress();\n      }\n      this.pressIntrvalId = setTimeout(function() {\n        _this2.trigger(EVENTS.PRESS, e);\n        _this2._pos.press = true;\n        _this2.__clearPress();\n      }, config.pressDelay);\n    }\n  }, {\n    key: \"__clearPress\",\n    value: function __clearPress() {\n      window.clearTimeout(this.pressIntrvalId);\n      this.pressIntrvalId = null;\n    }\n  }, {\n    key: \"__setDb\",\n    value: function __setDb(e) {\n      var _this3 = this;\n      var config = this.config;\n      if (this.dbIntrvalId) {\n        this.__clearDb();\n        this.trigger(EVENTS.DOUBlE_CLICK, e);\n        return;\n      }\n      this.dbIntrvalId = setTimeout(function() {\n        _this3.__clearDb();\n        if (!_this3._pos.start && !_this3._pos.press && !_this3._pos.moving) {\n          _this3.trigger(EVENTS.CLICK, e);\n        }\n      }, config.dbClickDelay);\n    }\n  }, {\n    key: \"__clearDb\",\n    value: function __clearDb() {\n      clearTimeout(this.dbIntrvalId);\n      this.dbIntrvalId = null;\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, handler) {\n      if (!this.__handlers[event]) {\n        this.__handlers[event] = [];\n      }\n      this.__handlers[event].push(handler);\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, handler) {\n      if (!this.__handlers[event]) {\n        return;\n      }\n      var handlers = this.__handlers[event];\n      var index = -1;\n      for (var i = 0; i < handlers.length; i++) {\n        if (handlers[i] === handler) {\n          index = i;\n          break;\n        }\n      }\n      if (index >= 0) {\n        this.__handlers[event].splice(index, 1);\n      }\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger(event, e) {\n      if (!this.__handlers[event]) {\n        return;\n      }\n      this.__handlers[event].map(function(handler) {\n        try {\n          handler(e);\n        } catch (error) {\n          console.error(\"trigger>>:\".concat(event), error);\n        }\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this4 = this;\n      var map = {\n        touchend: \"onTouchEnd\",\n        touchmove: \"onTouchMove\",\n        touchstart: \"onTouchStart\"\n      };\n      Object.keys(map).forEach(function(key) {\n        _this4.root.removeEventListener(key, _this4[map[key]]);\n      });\n    }\n  }]);\n  return Touche2;\n}();\nexport { Touche as default };\n","function SeekTipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"9\" viewBox=\"0 0 8 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\\n  xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n  <path opacity=\"0.54\"\\n    d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\"\\n    fill=\"white\" />\\n  <path transform=\"translate(5 0)\" d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\" fill=\"white\"/>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { SeekTipIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, CANPLAY, ENDED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport Touche from \"./touch.js\";\nimport SeekTipIcon from \"../assets/seekicon.js\";\nvar ACTIONS = {\n  AUTO: \"auto\",\n  SEEKING: \"seeking\",\n  PLAYBACK: \"playbackrate\",\n  LIGHT: \"\"\n};\nvar HOOKS = [\"videoClick\", \"videoDbClick\"];\nvar MobilePlugin = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MobilePlugin2, _Plugin);\n  var _super = _createSuper(MobilePlugin2);\n  function MobilePlugin2(options) {\n    var _this;\n    _classCallCheck(this, MobilePlugin2);\n    _this = _super.call(this, options);\n    _defineProperty(_assertThisInitialized(_this), \"onTouchStart\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, config = _assertThisInitialize.config, pos = _assertThisInitialize.pos, playerConfig = _assertThisInitialize.playerConfig;\n      var touche = _this.getTouche(e);\n      if (touche && !config.disableGesture && _this.duration > 0 && !player.ended) {\n        pos.isStart = true;\n        _this.timer && clearTimeout(_this.timer);\n        util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n        _this.find(\".xg-dur\").innerHTML = util.format(_this.duration);\n        var rect = _this.root.getBoundingClientRect();\n        if (player.rotateDeg === 90) {\n          pos.top = rect.left;\n          pos.left = rect.top;\n          pos.width = rect.height;\n          pos.height = rect.width;\n        } else {\n          pos.top = rect.top;\n          pos.left = rect.left;\n          pos.width = rect.width;\n          pos.height = rect.height;\n        }\n        var _x = parseInt(touche.pageX - pos.left, 10);\n        var _y = parseInt(touche.pageY - pos.top, 10);\n        pos.x = player.rotateDeg === 90 ? _y : _x;\n        pos.y = player.rotateDeg === 90 ? _x : _y;\n        pos.scopeL = config.scopeL * pos.width;\n        pos.scopeR = (1 - config.scopeR) * pos.width;\n        pos.scopeM1 = pos.width * (1 - config.scopeM) / 2;\n        pos.scopeM2 = pos.width - pos.scopeM1;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouchMove\", function(e) {\n      var touche = _this.getTouche(e);\n      var _assertThisInitialize2 = _assertThisInitialized(_this), pos = _assertThisInitialize2.pos, config = _assertThisInitialize2.config, player = _assertThisInitialize2.player;\n      if (!touche || config.disableGesture || !_this.duration || !pos.isStart) {\n        return;\n      }\n      var miniMoveStep = config.miniMoveStep, hideControlsActive = config.hideControlsActive;\n      var _x = parseInt(touche.pageX - pos.left, 10);\n      var _y = parseInt(touche.pageY - pos.top, 10);\n      var x = player.rotateDeg === 90 ? _y : _x;\n      var y = player.rotateDeg === 90 ? _x : _y;\n      if (Math.abs(x - pos.x) > miniMoveStep || Math.abs(y - pos.y) > miniMoveStep) {\n        var diffx = x - pos.x;\n        var diffy = y - pos.y;\n        var scope = pos.scope;\n        if (scope === -1) {\n          scope = _this.checkScope(x, y, diffx, diffy, pos);\n          if (scope === 0) {\n            !hideControlsActive ? player.focus({\n              autoHide: false\n            }) : player.blur();\n            !pos.time && (pos.time = parseInt(player.currentTime * 1e3, 10) + _this.timeOffset * 1e3);\n          }\n          pos.scope = scope;\n        }\n        if (scope === -1 || scope > 0 && !config.gestureY || scope === 0 && !config.gestureX) {\n          return;\n        }\n        _this.executeMove(diffx, diffy, scope, pos.width, pos.height);\n        pos.x = x;\n        pos.y = y;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouchEnd\", function(e) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this), player = _assertThisInitialize3.player, pos = _assertThisInitialize3.pos, playerConfig = _assertThisInitialize3.playerConfig;\n      setTimeout(function() {\n        player.getPlugin(\"progress\") && player.getPlugin(\"progress\").resetSeekState();\n      }, 10);\n      if (!pos.isStart) {\n        return;\n      }\n      if (pos.scope > -1) {\n        e.cancelable && e.preventDefault();\n      }\n      var _this$config = _this.config, disableGesture = _this$config.disableGesture, gestureX = _this$config.gestureX;\n      if (!disableGesture && gestureX) {\n        _this.endLastMove(pos.scope);\n      } else {\n        pos.time = 0;\n      }\n      pos.scope = -1;\n      _this.resetPos();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      _this.changeAction(ACTIONS.AUTO);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onRootTouchMove\", function(e) {\n      if (_this.config.disableGesture || !_this.config.gestureX) {\n        return;\n      }\n      if (_this.checkIsRootTarget(e)) {\n        e.stopPropagation();\n        if (!_this.pos.isStart) {\n          _this.onTouchStart(e);\n        } else {\n          _this.onTouchMove(e);\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onRootTouchEnd\", function(e) {\n      if (_this.pos.scope > -1) {\n        _this.onTouchEnd(e);\n      }\n    });\n    _this.pos = {\n      isStart: false,\n      x: 0,\n      y: 0,\n      time: 0,\n      volume: 0,\n      rate: 1,\n      light: 0,\n      width: 0,\n      height: 0,\n      scopeL: 0,\n      scopeR: 0,\n      scopeM1: 0,\n      scopeM2: 0,\n      scope: -1\n    };\n    _this.timer = null;\n    return _this;\n  }\n  _createClass(MobilePlugin2, [{\n    key: \"duration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.duration;\n    }\n  }, {\n    key: \"timeOffset\",\n    get: function get() {\n      return this.playerConfig.timeOffset || 0;\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        seekTipIcon: {\n          icon: SeekTipIcon,\n          class: \"xg-seek-pre\"\n        }\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      HOOKS.map(function(item) {\n        _this2.__hooks[item] = null;\n      });\n      var playerConfig = this.playerConfig, config = this.config, player = this.player;\n      if (playerConfig.closeVideoDblclick === true) {\n        config.closedbClick = true;\n      }\n      this.resetPos();\n      if (!util.isUndefined(playerConfig.disableGesture)) {\n        config.disableGesture = !!playerConfig.disableGesture;\n      }\n      this.appendChild(\".xg-seek-icon\", this.icons.seekTipIcon);\n      this.xgMask = util.createDom(\"xg-mask\", \"\", {}, \"xgmask\");\n      player.root.appendChild(this.xgMask);\n      this.initCustomStyle();\n      this.registerThumbnail();\n      var eventType = this.domEventType === \"mouse\" ? \"mouse\" : \"touch\";\n      this.touch = new Touche(this.root, {\n        eventType,\n        needPreventDefault: !this.config.disableGesture\n      });\n      this.root.addEventListener(\"contextmenu\", function(e) {\n        e.preventDefault();\n      });\n      player.root.addEventListener(\"touchmove\", this.onRootTouchMove, true);\n      player.root.addEventListener(\"touchend\", this.onRootTouchEnd, true);\n      player.root.addEventListener(\"touchcancel\", this.onRootTouchEnd, true);\n      var controls = this.player.controls;\n      if (controls && controls.center) {\n        controls.center.addEventListener(\"touchmove\", this.onRootTouchMove, true);\n        controls.center.addEventListener(\"touchend\", this.onRootTouchEnd, true);\n        controls.center.addEventListener(\"touchcancel\", this.onRootTouchEnd, true);\n      }\n      this.on(DURATION_CHANGE, function() {\n        var player2 = _this2.player, config2 = _this2.config;\n        if (player2.duration > 0 && player2.duration * 1e3 < config2.moveDuration) {\n          config2.moveDuration = player2.duration * 1e3;\n        }\n      });\n      this.on([CANPLAY, ENDED], function() {\n        var _this2$pos = _this2.pos, time = _this2$pos.time, isStart = _this2$pos.isStart;\n        if (!isStart && time > 0) {\n          _this2.pos.time = 0;\n        }\n      });\n      var eventsMap = {\n        touchstart: \"onTouchStart\",\n        touchmove: \"onTouchMove\",\n        touchend: \"onTouchEnd\",\n        press: \"onPress\",\n        pressend: \"onPressEnd\",\n        click: \"onClick\",\n        doubleclick: \"onDbClick\"\n      };\n      Object.keys(eventsMap).map(function(key) {\n        _this2.touch.on(key, function(e) {\n          _this2[eventsMap[key]](e);\n        });\n      });\n      if (!config.disableActive) {\n        var progressPlugin = player.plugins.progress;\n        if (progressPlugin) {\n          progressPlugin.addCallBack(\"dragmove\", function(data) {\n            _this2.activeSeekNote(data.currentTime, data.forward);\n          });\n          [\"dragend\", \"click\"].forEach(function(key) {\n            progressPlugin.addCallBack(key, function() {\n              _this2.changeAction(ACTIONS.AUTO);\n            });\n          });\n        }\n      }\n    }\n  }, {\n    key: \"registerThumbnail\",\n    value: function registerThumbnail() {\n      var player = this.player;\n      var thumbnail = player.plugins.thumbnail;\n      if (thumbnail && thumbnail.usable) {\n        this.thumbnail = thumbnail.createThumbnail(null, \"mobile-thumbnail\");\n        var timePreview = this.find(\".time-preview\");\n        timePreview.insertBefore(this.thumbnail, timePreview.children[0]);\n      }\n    }\n  }, {\n    key: \"initCustomStyle\",\n    value: function initCustomStyle() {\n      var _ref = this.playerConfig || {}, commonStyle = _ref.commonStyle;\n      var playedColor = commonStyle.playedColor, progressColor = commonStyle.progressColor, timePreviewStyle = commonStyle.timePreviewStyle, curTimeColor = commonStyle.curTimeColor, durationColor = commonStyle.durationColor;\n      if (playedColor) {\n        this.find(\".xg-curbar\").style.backgroundColor = playedColor;\n      }\n      if (progressColor) {\n        this.find(\".xg-bar\").style.backgroundColor = progressColor;\n      }\n      if (timePreviewStyle) {\n        var previewDom = this.find(\".time-preview\");\n        Object.keys(timePreviewStyle).forEach(function(key) {\n          previewDom.style[key] = timePreviewStyle[key];\n        });\n      }\n      var curColor = curTimeColor || playedColor;\n      var durColor = durationColor;\n      curColor && (this.find(\".xg-cur\").style.color = curColor);\n      durColor && (this.find(\".xg-dur\").style.color = durColor);\n      this.config.disableTimeProgress && util.addClass(this.find(\".xg-timebar\"), \"hide\");\n    }\n  }, {\n    key: \"resetPos\",\n    value: function resetPos() {\n      var _this3 = this;\n      if (this.pos) {\n        this.pos.isStart = false;\n        this.pos.scope = -1;\n        [\"x\", \"y\", \"width\", \"height\", \"scopeL\", \"scopeR\", \"scopeM1\", \"scopeM2\"].map(function(item) {\n          _this3.pos[item] = 0;\n        });\n      } else {\n        this.pos = {\n          isStart: false,\n          x: 0,\n          y: 0,\n          volume: 0,\n          rate: 1,\n          light: 0,\n          width: 0,\n          height: 0,\n          scopeL: 0,\n          scopeR: 0,\n          scopeM1: 0,\n          scopeM2: 0,\n          scope: -1,\n          time: 0\n        };\n      }\n    }\n  }, {\n    key: \"changeAction\",\n    value: function changeAction(action) {\n      var player = this.player, root = this.root;\n      root.setAttribute(\"data-xg-action\", action);\n      var startPlugin = player.plugins.start;\n      startPlugin && startPlugin.recover();\n    }\n  }, {\n    key: \"getTouche\",\n    value: function getTouche(e) {\n      var rotateDeg = this.player.rotateDeg;\n      var touche = e.touches && e.touches.length > 0 ? e.touches[e.touches.length - 1] : e;\n      return rotateDeg === 0 ? {\n        pageX: touche.pageX,\n        pageY: touche.pageY\n      } : {\n        pageX: touche.pageX,\n        pageY: touche.pageY\n      };\n    }\n  }, {\n    key: \"checkScope\",\n    value: function checkScope(x, y, diffx, diffy, pos) {\n      var width = pos.width;\n      var scope = -1;\n      if (x < 0 || x > width) {\n        return scope;\n      }\n      var mold = diffy === 0 ? Math.abs(diffx) : Math.abs(diffx / diffy);\n      if (Math.abs(diffx) > 0 && mold >= 1.73 && x > pos.scopeM1 && x < pos.scopeM2) {\n        scope = 0;\n      } else if (Math.abs(diffx) === 0 || mold <= 0.57) {\n        scope = x < pos.scopeL ? 1 : x > pos.scopeR ? 2 : 3;\n      }\n      return scope;\n    }\n  }, {\n    key: \"executeMove\",\n    value: function executeMove(diffx, diffy, scope, width, height) {\n      switch (scope) {\n        case 0:\n          this.updateTime(diffx / width * this.config.scopeM);\n          break;\n        case 1:\n          this.updateBrightness(diffy / height);\n          break;\n        case 2:\n          if (!sniffer.os.isIos) {\n            this.updateVolume(diffy / height);\n          }\n          break;\n      }\n    }\n  }, {\n    key: \"endLastMove\",\n    value: function endLastMove(lastScope) {\n      var _this4 = this;\n      var pos = this.pos, player = this.player, config = this.config;\n      var time = (pos.time - this.timeOffset) / 1e3;\n      switch (lastScope) {\n        case 0:\n          player.seek(Number(time).toFixed(1));\n          config.hideControlsEnd ? player.blur() : player.focus();\n          this.timer = setTimeout(function() {\n            _this4.pos.time = 0;\n          }, 500);\n          break;\n      }\n      this.changeAction(ACTIONS.AUTO);\n    }\n  }, {\n    key: \"checkIsRootTarget\",\n    value: function checkIsRootTarget(e) {\n      var plugins = this.player.plugins || {};\n      if (plugins.progress && plugins.progress.root.contains(e.target)) {\n        return false;\n      }\n      return plugins.start && plugins.start.root.contains(e.target) || plugins.controls && plugins.controls.root.contains(e.target);\n    }\n  }, {\n    key: \"sendUseAction\",\n    value: function sendUseAction(event) {\n      var paused = this.player.paused;\n      this.emitUserAction(event, \"switch_play_pause\", {\n        prop: \"paused\",\n        from: paused,\n        to: !paused\n      });\n    }\n  }, {\n    key: \"clickHandler\",\n    value: function clickHandler(e) {\n      var player = this.player, config = this.config, playerConfig = this.playerConfig;\n      if (player.state < STATES.RUNNING) {\n        if (!playerConfig.closeVideoClick) {\n          this.sendUseAction(util.createEvent(\"click\"));\n          player.play();\n        }\n        return;\n      }\n      if (!config.closedbClick || playerConfig.closeVideoClick) {\n        player.isActive ? player.blur() : player.focus();\n      } else if (!playerConfig.closeVideoClick) {\n        if (player.isActive || config.focusVideoClick) {\n          this.sendUseAction(util.createEvent(\"click\"));\n          this.switchPlayPause();\n        }\n        player.focus();\n      }\n    }\n  }, {\n    key: \"dbClickHandler\",\n    value: function dbClickHandler(e) {\n      var config = this.config, player = this.player;\n      if (!config.closedbClick && player.state >= STATES.RUNNING) {\n        this.sendUseAction(util.createEvent(\"dblclick\"));\n        this.switchPlayPause();\n      }\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(e) {\n      var _this5 = this;\n      var player = this.player;\n      runHooks(this, HOOKS[0], function(plugin, data) {\n        _this5.clickHandler(data.e);\n      }, {\n        e,\n        paused: player.paused\n      });\n    }\n  }, {\n    key: \"onDbClick\",\n    value: function onDbClick(e) {\n      var _this6 = this;\n      var player = this.player;\n      runHooks(this, HOOKS[1], function(plugin, data) {\n        _this6.dbClickHandler(data.e);\n      }, {\n        e,\n        paused: player.paused\n      });\n    }\n  }, {\n    key: \"onPress\",\n    value: function onPress(e) {\n      var pos = this.pos, config = this.config, player = this.player;\n      if (config.disablePress) {\n        return;\n      }\n      pos.rate = this.player.playbackRate;\n      this.emitUserAction(\"press\", \"change_rate\", {\n        prop: \"playbackRate\",\n        from: player.playbackRate,\n        to: config.pressRate\n      });\n      player.playbackRate = config.pressRate;\n      this.changeAction(ACTIONS.PLAYBACK);\n    }\n  }, {\n    key: \"onPressEnd\",\n    value: function onPressEnd(e) {\n      var pos = this.pos, config = this.config, player = this.player;\n      if (config.disablePress) {\n        return;\n      }\n      this.emitUserAction(\"pressend\", \"change_rate\", {\n        prop: \"playbackRate\",\n        from: player.playbackRate,\n        to: pos.rate\n      });\n      player.playbackRate = pos.rate;\n      pos.rate = 1;\n      this.changeAction(ACTIONS.AUTO);\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(percent) {\n      var player = this.player, config = this.config;\n      var duration = this.player.duration;\n      percent = Number(percent.toFixed(4));\n      var time = parseInt(percent * config.moveDuration, 10) + this.timeOffset;\n      time += this.pos.time;\n      time = time < 0 ? 0 : time > duration * 1e3 ? duration * 1e3 - 200 : time;\n      player.getPlugin(\"time\") && player.getPlugin(\"time\").updateTime(time / 1e3);\n      player.getPlugin(\"progress\") && player.getPlugin(\"progress\").updatePercent(time / 1e3 / this.duration, true);\n      this.activeSeekNote(time / 1e3, percent > 0);\n      if (config.isTouchingSeek) {\n        player.seek(Number((time - this.timeOffset) / 1e3).toFixed(1));\n      }\n      this.pos.time = time;\n    }\n  }, {\n    key: \"updateVolume\",\n    value: function updateVolume(percent) {\n      if (this.player.rotateDeg) {\n        percent = -percent;\n      }\n      var player = this.player, pos = this.pos;\n      percent = parseInt(percent * 100, 10);\n      pos.volume += percent;\n      if (Math.abs(pos.volume) < 10) {\n        return;\n      }\n      var volume = parseInt(player.volume * 10, 10) - parseInt(pos.volume / 10, 10);\n      volume = volume > 10 ? 10 : volume < 1 ? 0 : volume;\n      player.volume = volume / 10;\n      pos.volume = 0;\n    }\n  }, {\n    key: \"updateBrightness\",\n    value: function updateBrightness(percent) {\n      var pos = this.pos, config = this.config, xgMask = this.xgMask;\n      if (!config.darkness) {\n        return;\n      }\n      if (this.player.rotateDeg) {\n        percent = -percent;\n      }\n      var light = pos.light + 0.8 * percent;\n      light = light > config.maxDarkness ? config.maxDarkness : light < 0 ? 0 : light;\n      if (xgMask) {\n        xgMask.style.backgroundColor = \"rgba(0,0,0,\".concat(light, \")\");\n      }\n      pos.light = light;\n    }\n  }, {\n    key: \"activeSeekNote\",\n    value: function activeSeekNote(time) {\n      var isForward = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      var player = this.player, config = this.config;\n      var isLive = !(this.duration !== Infinity && this.duration > 0);\n      if (!time || typeof time !== \"number\" || isLive || config.disableActive) {\n        return;\n      }\n      if (time < 0) {\n        time = 0;\n      } else if (time > player.duration) {\n        time = player.duration - 0.2;\n      }\n      this.changeAction(ACTIONS.SEEKING);\n      var startPlugin = player.plugins.start;\n      startPlugin && startPlugin.focusHide();\n      this.find(\".xg-dur\").innerHTML = util.format(this.duration);\n      this.find(\".xg-cur\").innerHTML = util.format(time);\n      this.find(\".xg-curbar\").style.width = \"\".concat(time / this.duration * 100, \"%\");\n      if (isForward) {\n        util.removeClass(this.find(\".xg-seek-show\"), \"xg-back\");\n      } else {\n        util.addClass(this.find(\".xg-seek-show\"), \"xg-back\");\n      }\n      this.updateThumbnails(time);\n    }\n  }, {\n    key: \"updateThumbnails\",\n    value: function updateThumbnails(time) {\n      var player = this.player;\n      var thumbnail = player.plugins.thumbnail;\n      if (thumbnail && thumbnail.usable) {\n        this.thumbnail && thumbnail.update(this.thumbnail, time, 160, 90);\n      }\n    }\n  }, {\n    key: \"switchPlayPause\",\n    value: function switchPlayPause() {\n      var player = this.player;\n      if (player.state < STATES.ATTACHED) {\n        return false;\n      } else if (!player.ended) {\n        if (player.paused) {\n          player.play();\n        } else {\n          player.pause();\n        }\n      }\n    }\n  }, {\n    key: \"disableGesture\",\n    value: function disableGesture() {\n      this.config.disableGesture = true;\n    }\n  }, {\n    key: \"enableGesture\",\n    value: function enableGesture() {\n      this.config.disableGesture = false;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var player = this.player;\n      this.timer && clearTimeout(this.timer);\n      this.thumbnail = null;\n      player.root.removeChild(this.xgMask);\n      this.xgMask = null;\n      this.touch && this.touch.destroy();\n      this.touch = null;\n      player.root.removeEventListener(\"touchmove\", this.onRootTouchMove, true);\n      player.root.removeEventListener(\"touchend\", this.onRootTouchEnd, true);\n      player.root.removeEventListener(\"touchcancel\", this.onRootTouchEnd, true);\n      var controls = this.player.controls;\n      if (controls && controls.center) {\n        controls.center.removeEventListener(\"touchmove\", this.onRootTouchMove, true);\n        controls.center.removeEventListener(\"touchend\", this.onRootTouchEnd, true);\n        controls.center.removeEventListener(\"touchcancel\", this.onRootTouchEnd, true);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var className = this.config.gradient !== \"normal\" ? \"gradient \".concat(this.config.gradient) : \"gradient\";\n      return '\\n     <xg-trigger class=\"trigger\">\\n     <div class=\"'.concat(className, '\"></div>\\n        <div class=\"time-preview\">\\n            <div class=\"xg-seek-show ').concat(this.config.disableSeekIcon ? \" hide-seek-icon\" : \"\", '\">\\n              <i class=\"xg-seek-icon\"></i>\\n              <span class=\"xg-cur\">00:00</span>\\n              <span class=\"xg-separator\">/</span>\\n              <span class=\"xg-dur\">00:00</span>\\n            </div>\\n              <div class=\"xg-bar xg-timebar\">\\n                <div class=\"xg-curbar\"></div>\\n              </div>\\n        </div>\\n        <div class=\"xg-playbackrate xg-top-note\">\\n            <span><i>').concat(this.config.pressRate, \"X</i>\").concat(this.i18n.FORWARD, \"</span>\\n        </div>\\n     </xg-trigger>\\n    \");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"mobile\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 0,\n        disableGesture: false,\n        gestureX: true,\n        gestureY: true,\n        gradient: \"normal\",\n        isTouchingSeek: false,\n        miniMoveStep: 5,\n        miniYPer: 5,\n        scopeL: 0.25,\n        scopeR: 0.25,\n        scopeM: 0.9,\n        pressRate: 2,\n        darkness: true,\n        maxDarkness: 0.8,\n        disableActive: false,\n        disableTimeProgress: false,\n        hideControlsActive: false,\n        hideControlsEnd: false,\n        moveDuration: 60 * 6 * 1e3,\n        closedbClick: false,\n        disablePress: true,\n        disableSeekIcon: false,\n        focusVideoClick: false\n      };\n    }\n  }]);\n  return MobilePlugin2;\n}(Plugin);\nexport { MobilePlugin as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2 } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { SHORTCUT } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nfunction preventDefault(e) {\n  e.preventDefault();\n  e.returnValue = false;\n}\nfunction isDisableTag(el) {\n  var tagName = el.tagName;\n  if (tagName === \"INPUT\" || tagName === \"TEXTAREA\" || el.isContentEditable) {\n    return true;\n  }\n  return false;\n}\nvar Keyboard = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Keyboard2, _BasePlugin);\n  var _super = _createSuper(Keyboard2);\n  function Keyboard2() {\n    var _this;\n    _classCallCheck(this, Keyboard2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onBodyKeyDown\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      var e = event || window.event;\n      var keyCode = e.keyCode;\n      var _assertThisInitialize = _assertThisInitialized(_this), _keyState = _assertThisInitialize._keyState, player = _assertThisInitialize.player;\n      var _this$config = _this.config, disable = _this$config.disable, disableBodyTrigger = _this$config.disableBodyTrigger, isIgnoreUserActive = _this$config.isIgnoreUserActive;\n      if (disable || disableBodyTrigger || !(player.isUserActive || isIgnoreUserActive) || isDisableTag(e.target) || !_this.checkIsVisible() || e.metaKey || e.altKey || e.ctrlKey) {\n        _keyState.isBodyKeyDown = false;\n        return;\n      }\n      if (!event.repeat && !_keyState.isKeyDown) {\n        if ((e.target === document.body || _this.config.isGlobalTrigger && !isDisableTag(e.target)) && _this.checkCode(keyCode, true)) {\n          _keyState.isBodyKeyDown = true;\n        }\n        document.addEventListener(\"keyup\", _this.onBodyKeyUp);\n      }\n      _keyState.isBodyKeyDown && _this.handleKeyDown(e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBodyKeyUp\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      document.removeEventListener(\"keyup\", _this.onBodyKeyUp);\n      _this.handleKeyUp(event);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onKeydown\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      var e = event || window.event;\n      var _assertThisInitialize2 = _assertThisInitialized(_this), _keyState = _assertThisInitialize2._keyState;\n      if (!e.repeat) {\n        if (_this.config.disable || _this.config.disableRootTrigger || e.metaKey || e.altKey || e.ctrlKey) {\n          return;\n        }\n        if (e && (e.keyCode === 37 || _this.checkCode(e.keyCode)) && (e.target === _this.player.root || e.target === _this.player.video || e.target === _this.player.controls.el)) {\n          _keyState.isKeyDown = true;\n        }\n        _this.player.root.addEventListener(\"keyup\", _this.onKeyup);\n      }\n      if (!_keyState.isKeyDown) {\n        return;\n      }\n      _this.handleKeyDown(e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onKeyup\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      _this.player.root.removeEventListener(\"keyup\", _this.onKeyup);\n      _this.handleKeyUp(event);\n    });\n    return _this;\n  }\n  _createClass(Keyboard2, [{\n    key: \"mergekeyCodeMap\",\n    value: function mergekeyCodeMap() {\n      var _this2 = this;\n      var extendkeyCodeMap = this.config.keyCodeMap;\n      if (extendkeyCodeMap) {\n        Object.keys(extendkeyCodeMap).map(function(key) {\n          if (!_this2.keyCodeMap[key]) {\n            _this2.keyCodeMap[key] = extendkeyCodeMap[key];\n          } else {\n            [\"keyCode\", \"action\", \"disable\", \"pressAction\", \"disablePress\", \"isBodyTarget\"].map(function(key1) {\n              extendkeyCodeMap[key][key1] && (_this2.keyCodeMap[key][key1] = extendkeyCodeMap[key][key1]);\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.config.disable = !this.playerConfig.keyShortcut;\n      var seekStep = typeof this.config.seekStep === \"function\" ? this.config.seekStep(this.player) : this.config.seekStep;\n      if (!(!seekStep || typeof seekStep !== \"number\")) {\n        this.seekStep = seekStep;\n      }\n      this.keyCodeMap = {\n        space: {\n          keyCode: 32,\n          action: \"playPause\",\n          disable: false,\n          disablePress: false,\n          noBodyTarget: false\n        },\n        up: {\n          keyCode: 38,\n          action: \"upVolume\",\n          disable: false,\n          disablePress: false,\n          noBodyTarget: true\n        },\n        down: {\n          keyCode: 40,\n          action: \"downVolume\",\n          disable: false,\n          disablePress: false,\n          noBodyTarget: true\n        },\n        left: {\n          keyCode: 37,\n          action: \"seekBack\",\n          disablePress: false,\n          disable: false\n        },\n        right: {\n          keyCode: 39,\n          action: \"seek\",\n          pressAction: \"changePlaybackRate\",\n          disablePress: false,\n          disable: false\n        },\n        esc: {\n          keyCode: 27,\n          action: \"exitFullscreen\",\n          disablePress: true,\n          disable: false\n        }\n      };\n      this.mergekeyCodeMap();\n      this._keyState = {\n        isKeyDown: false,\n        isBodyKeyDown: false,\n        isPress: false,\n        tt: 0,\n        playbackRate: 0\n      };\n      this.player.root.addEventListener(\"keydown\", this.onKeydown);\n      document.addEventListener(\"keydown\", this.onBodyKeyDown);\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(newConfig) {\n      var _this3 = this;\n      Object.keys(newConfig).forEach(function(key) {\n        _this3.config[key] = newConfig[key];\n      });\n    }\n  }, {\n    key: \"checkIsVisible\",\n    value: function checkIsVisible() {\n      if (!this.config.checkVisible) {\n        return true;\n      }\n      var rec = this.player.root.getBoundingClientRect();\n      var height = rec.height, top = rec.top, bottom = rec.bottom;\n      var h = window.innerHeight;\n      if (top < 0 && top < 0 - height * 0.9 || bottom > 0 && bottom - h > height * 0.9) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"checkCode\",\n    value: function checkCode(code, isBodyTarget) {\n      var _this4 = this;\n      var flag = false;\n      Object.keys(this.keyCodeMap).map(function(key) {\n        if (_this4.keyCodeMap[key] && code === _this4.keyCodeMap[key].keyCode && !_this4.keyCodeMap[key].disable) {\n          flag = !isBodyTarget || isBodyTarget && !_this4.keyCodeMap[key].noBodyTarget;\n        }\n      });\n      return flag;\n    }\n  }, {\n    key: \"downVolume\",\n    value: function downVolume(event) {\n      var player = this.player;\n      if (player.volume <= 0) {\n        return;\n      }\n      var val = parseFloat((player.volume - 0.1).toFixed(1));\n      var props = {\n        volume: {\n          from: player.volume,\n          to: val\n        }\n      };\n      this.emitUserAction(event, \"change_volume\", {\n        props\n      });\n      if (val >= 0) {\n        player.volume = val;\n      } else {\n        player.volume = 0;\n      }\n    }\n  }, {\n    key: \"upVolume\",\n    value: function upVolume(event) {\n      var player = this.player;\n      if (player.volume >= 1) {\n        return;\n      }\n      var val = parseFloat((player.volume + 0.1).toFixed(1));\n      var props = {\n        volume: {\n          from: player.volume,\n          to: val\n        }\n      };\n      this.emitUserAction(event, \"change_volume\", {\n        props\n      });\n      if (val <= 1) {\n        player.volume = val;\n      } else {\n        player.volume = 1;\n      }\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(event) {\n      var _this$player = this.player, currentTime = _this$player.currentTime, offsetCurrentTime = _this$player.offsetCurrentTime, duration = _this$player.duration, offsetDuration = _this$player.offsetDuration, timeSegments = _this$player.timeSegments;\n      var _time = offsetCurrentTime > -1 ? offsetCurrentTime : currentTime;\n      var _duration = offsetDuration || duration;\n      var _step = event.repeat && this.seekStep >= 4 ? parseInt(this.seekStep / 2, 10) : this.seekStep;\n      if (_time + _step <= _duration) {\n        _time = _time + _step;\n      } else {\n        _time = _duration;\n      }\n      var _seekTime = util.getCurrentTimeByOffset(_time, timeSegments);\n      var props = {\n        currentTime: {\n          from: currentTime,\n          to: _seekTime\n        }\n      };\n      this.emitUserAction(event, \"seek\", {\n        props\n      });\n      this.player.currentTime = _seekTime;\n    }\n  }, {\n    key: \"seekBack\",\n    value: function seekBack(event) {\n      var _this$player2 = this.player, currentTime = _this$player2.currentTime, offsetCurrentTime = _this$player2.offsetCurrentTime, timeSegments = _this$player2.timeSegments;\n      var _step = event.repeat ? parseInt(this.seekStep / 2, 10) : this.seekStep;\n      var _time = offsetCurrentTime > -1 ? offsetCurrentTime : currentTime;\n      var _seekTime = _time - _step;\n      if (_seekTime < 0) {\n        _seekTime = 0;\n      }\n      _seekTime = util.getCurrentTimeByOffset(_seekTime, timeSegments);\n      var props = {\n        currentTime: {\n          from: currentTime,\n          to: _seekTime\n        }\n      };\n      this.emitUserAction(event, \"seek\", {\n        props\n      });\n      this.player.currentTime = _seekTime;\n    }\n  }, {\n    key: \"changePlaybackRate\",\n    value: function changePlaybackRate(event) {\n      var _keyState = this._keyState, config = this.config, player = this.player;\n      if (_keyState.playbackRate === 0) {\n        _keyState.playbackRate = player.playbackRate;\n        player.playbackRate = config.playbackRate;\n      }\n    }\n  }, {\n    key: \"playPause\",\n    value: function playPause(event) {\n      var player = this.player;\n      if (!player) {\n        return;\n      }\n      this.emitUserAction(event, \"switch_play_pause\");\n      if (player.paused) {\n        player.play();\n      } else {\n        player.pause();\n      }\n    }\n  }, {\n    key: \"exitFullscreen\",\n    value: function exitFullscreen(event) {\n      var player = this.player;\n      var fullscreen = player.fullscreen, cssfullscreen = player.cssfullscreen;\n      if (fullscreen) {\n        this.emitUserAction(\"keyup\", \"switch_fullscreen\", {\n          prop: \"fullscreen\",\n          from: fullscreen,\n          to: !fullscreen\n        });\n        player.exitFullscreen();\n      }\n      if (cssfullscreen) {\n        this.emitUserAction(\"keyup\", \"switch_css_fullscreen\", {\n          prop: \"cssfullscreen\",\n          from: cssfullscreen,\n          to: !cssfullscreen\n        });\n        player.exitCssFullscreen();\n      }\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(e) {\n      var _keyState = this._keyState;\n      if (e.repeat) {\n        _keyState.isPress = true;\n        var _t = Date.now();\n        if (_t - _keyState.tt < 200) {\n          return;\n        }\n        _keyState.tt = _t;\n      }\n      this.handleKeyCode(e.keyCode, e, _keyState.isPress);\n    }\n  }, {\n    key: \"handleKeyUp\",\n    value: function handleKeyUp(e) {\n      var _keyState = this._keyState;\n      if (_keyState.playbackRate > 0) {\n        this.player.playbackRate = _keyState.playbackRate;\n        _keyState.playbackRate = 0;\n      }\n      _keyState.isKeyDown = false;\n      _keyState.isPress = false;\n      _keyState.tt = 0;\n    }\n  }, {\n    key: \"handleKeyCode\",\n    value: function handleKeyCode(curKeyCode, event, isPress) {\n      var arr = Object.keys(this.keyCodeMap);\n      for (var i = 0; i < arr.length; i++) {\n        var _this$keyCodeMap$arr$ = this.keyCodeMap[arr[i]], action = _this$keyCodeMap$arr$.action, keyCode = _this$keyCodeMap$arr$.keyCode, disable = _this$keyCodeMap$arr$.disable, pressAction = _this$keyCodeMap$arr$.pressAction, disablePress = _this$keyCodeMap$arr$.disablePress;\n        if (keyCode === curKeyCode) {\n          if (!disable && !(isPress && disablePress)) {\n            var _action = !isPress ? action : pressAction || action;\n            if (typeof _action === \"function\") {\n              action(event, this.player, isPress);\n            } else if (typeof _action === \"string\") {\n              if (typeof this[_action] === \"function\") {\n                this[_action](event, this.player, isPress);\n              }\n            }\n            this.emit(SHORTCUT, _objectSpread2({\n              key: arr[i],\n              target: event.target,\n              isPress\n            }, this.keyCodeMap[arr[i]]));\n          }\n          preventDefault(event);\n          event.stopPropagation();\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.player.root.removeEventListener(\"keydown\", this.onKeydown);\n      document.removeEventListener(\"keydown\", this.onBodyKeyDown);\n      this.player.root.removeEventListener(\"keyup\", this.onKeyup);\n      document.removeEventListener(\"keyup\", this.onBodyKeyUp);\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.config.disable = false;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"keyboard\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        seekStep: 10,\n        checkVisible: false,\n        disableBodyTrigger: false,\n        disableRootTrigger: false,\n        isGlobalTrigger: true,\n        keyCodeMap: {},\n        disable: false,\n        playbackRate: 2,\n        isIgnoreUserActive: true\n      };\n    }\n  }]);\n  return Keyboard2;\n}(BasePlugin);\nexport { Keyboard as default };\n","function loadingIcon() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\" viewBox=\"-5 -5 110 110\">\\n  <path d=\"M100,50A50,50,0,1,1,50,0\" stroke-width=\"5\" stroke=\"#ddd\" stroke-dasharray=\"236\" fill=\"none\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { loadingIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport loadingIcon from \"../assets/loading.js\";\nvar Loading = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Loading2, _Plugin);\n  var _super = _createSuper(Loading2);\n  function Loading2() {\n    _classCallCheck(this, Loading2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Loading2, [{\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        loadingIcon\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.appendChild(\"xg-loading-inner\", this.icons.loadingIcon);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '\\n    <xg-loading class=\"xgplayer-loading\">\\n      <xg-loading-inner></xg-loading-inner>\\n    </xg-loading>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"loading\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.ROOT\n      };\n    }\n  }]);\n  return Loading2;\n}(Plugin);\nexport { Loading as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nvar TPL = [{\n  tag: \"xg-cache\",\n  className: \"xgplayer-progress-cache\",\n  styleKey: \"cachedColor\"\n}, {\n  tag: \"xg-played\",\n  className: \"xgplayer-progress-played\",\n  styleKey: \"playedColor\"\n}];\nvar InnerList = /* @__PURE__ */ function() {\n  function InnerList2(args) {\n    _classCallCheck(this, InnerList2);\n    this.fragments = args.fragments || [];\n    if (this.fragments.length === 0) {\n      this.fragments.push({\n        percent: 1\n      });\n    }\n    this._callBack = args.actionCallback;\n    this.fragConfig = {\n      fragFocusClass: args.fragFocusClass || \"inner-focus-point\",\n      fragAutoFocus: !!args.fragAutoFocus,\n      fragClass: args.fragClass || \"\"\n    };\n    this.style = args.style || {\n      playedColor: \"\",\n      cachedColor: \"\",\n      progressColor: \"\"\n    };\n    this.duration = 0;\n    this.cachedIndex = 0;\n    this.playedIndex = 0;\n    this.focusIndex = -1;\n  }\n  _createClass(InnerList2, [{\n    key: \"updateDuration\",\n    value: function updateDuration(duration) {\n      var _this = this;\n      this.duration = duration;\n      var start = 0;\n      var fragments = this.fragments;\n      this.fragments = fragments.map(function(item) {\n        item.start = parseInt(start, 10);\n        item.end = parseInt(start + item.percent * _this.duration, 10);\n        item.duration = parseInt(item.percent * _this.duration, 10);\n        start += item.percent * _this.duration;\n        return item;\n      });\n    }\n  }, {\n    key: \"updateProgress\",\n    value: function updateProgress() {\n      var type = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"played\";\n      var data = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n        newIndex: 0,\n        curIndex: 0,\n        millisecond: 0\n      };\n      var progressList = this.progressList, fragments = this.fragments;\n      if (progressList.length < 1) {\n        return;\n      }\n      var newIndex = data.newIndex, curIndex = data.curIndex, millisecond = data.millisecond;\n      if (newIndex !== curIndex) {\n        progressList.map(function(item, index) {\n          if (index < newIndex) {\n            item[type].style.width = \"100%\";\n          } else if (index > newIndex) {\n            item[type].style.width = 0;\n          }\n        });\n      }\n      var curPFrag = fragments[newIndex];\n      var per = millisecond === 0 ? 0 : (millisecond - curPFrag.start) / curPFrag.duration;\n      progressList[newIndex][type].style.width = per < 0 ? 0 : \"\".concat(per * 100, \"%\");\n    }\n  }, {\n    key: \"updateFocus\",\n    value: function updateFocus(data) {\n      if (!this.fragConfig.fragAutoFocus || this.fragments.length < 2) {\n        return;\n      }\n      if (!data) {\n        if (this.focusIndex > -1) {\n          this.unHightLight(this.focusIndex);\n          var _data = {\n            index: -1,\n            preIndex: this.focusIndex,\n            fragment: null\n          };\n          this._callBack && this._callBack(_data);\n          this.focusIndex = -1;\n        }\n        return;\n      }\n      var newPIndex = this.findIndex(data.currentTime * 1e3, this.focusIndex);\n      if (newPIndex >= 0 && newPIndex !== this.focusIndex) {\n        this.focusIndex > -1 && this.unHightLight(this.focusIndex);\n        this.setHightLight(newPIndex);\n        var _data2 = {\n          index: newPIndex,\n          preIndex: this.focusIndex,\n          fragment: this.fragments[this.focusIndex]\n        };\n        this.focusIndex = newPIndex;\n        this._callBack && this._callBack(_data2);\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        cached: 0,\n        played: 0\n      };\n      var duration = arguments.length > 1 ? arguments[1] : void 0;\n      if (!this.duration || parseInt(duration * 1e3, 10) !== this.duration) {\n        if (!duration && duration !== 0) {\n          return;\n        }\n        this.updateDuration(parseInt(duration * 1e3, 10));\n      }\n      var playedIndex = this.playedIndex, cachedIndex = this.cachedIndex;\n      if (util.typeOf(data.played) !== \"Undefined\") {\n        var newPIndex = this.findIndex(data.played * 1e3, playedIndex);\n        if (newPIndex < 0) {\n          return;\n        }\n        this.updateProgress(\"played\", {\n          newIndex: newPIndex,\n          curIndex: playedIndex,\n          millisecond: parseInt(data.played * 1e3, 10)\n        });\n        this.playedIndex = newPIndex;\n      }\n      if (util.typeOf(data.cached) !== \"Undefined\") {\n        var newCIndex = this.findIndex(data.cached * 1e3, cachedIndex);\n        if (newCIndex < 0) {\n          return;\n        }\n        this.updateProgress(\"cached\", {\n          newIndex: newCIndex,\n          curIndex: cachedIndex,\n          millisecond: parseInt(data.cached * 1e3, 10)\n        });\n        this.cachedIndex = newCIndex;\n      }\n    }\n  }, {\n    key: \"findIndex\",\n    value: function findIndex(time, curIndex) {\n      var fragments = this.fragments;\n      if (!fragments || fragments.length === 0) {\n        return -1;\n      }\n      if (fragments.length === 1) {\n        return 0;\n      }\n      if (curIndex > -1 && curIndex < fragments.length && time > fragments[curIndex].start && time < fragments[curIndex].end) {\n        return curIndex;\n      }\n      if (time > fragments[fragments.length - 1].start) {\n        return fragments.length - 1;\n      }\n      for (var i = 0; i < fragments.length; i++) {\n        if (time > fragments[i].start && time <= fragments[i].end) {\n          curIndex = i;\n          break;\n        }\n      }\n      return curIndex;\n    }\n  }, {\n    key: \"findHightLight\",\n    value: function findHightLight() {\n      var children = this.root.children;\n      for (var i = 0; i < children.length; i++) {\n        if (util.hasClass(children[i], this.fragConfig.fragFocusClass)) {\n          return {\n            dom: children[i],\n            pos: children[i].getBoundingClientRect()\n          };\n        }\n      }\n    }\n  }, {\n    key: \"findFragment\",\n    value: function findFragment(index) {\n      var children = this.root.children;\n      if (index < 0 || index >= children.length) {\n        return null;\n      }\n      return {\n        dom: children[index],\n        pos: children[index].getBoundingClientRect()\n      };\n    }\n  }, {\n    key: \"unHightLight\",\n    value: function unHightLight() {\n      var children = this.root.children;\n      for (var i = 0; i < children.length; i++) {\n        util.removeClass(children[i], this.fragConfig.fragFocusClass);\n      }\n    }\n  }, {\n    key: \"setHightLight\",\n    value: function setHightLight(index) {\n      var children = this.root.children;\n      if (index < children.length) {\n        util.addClass(children[index], this.fragConfig.fragFocusClass);\n        return {\n          dom: children[index],\n          pos: children[index].getBoundingClientRect()\n        };\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.progressList = null;\n      this.fragments = null;\n      this.root.innerHTML = \"\";\n    }\n  }, {\n    key: \"reset\",\n    value: function reset(newOptions) {\n      var _this2 = this;\n      Object.keys(this.fragConfig).forEach(function(key) {\n        if (newOptions[key] !== void 0) {\n          _this2.fragConfig[key] = newOptions[key];\n        }\n      });\n      if (newOptions.fragments) {\n        this.fragments = newOptions.fragments.length === 0 ? [{\n          percent: 1\n        }] : newOptions.fragments;\n        this.updateDuration(this.duration);\n        this.playedIndex = 0;\n        this.cachedIndex = 0;\n        if (this.root) {\n          var _c = this.root.children;\n          while (_c.length > 0) {\n            this.root.removeChild(_c[0]);\n          }\n        }\n        this.render();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var progressColor = this.style.progressColor;\n      if (!this.root) {\n        this.root = util.createDom(\"xg-inners\", \"\", {}, \"progress-list\");\n      }\n      if (this.fragments) {\n        var _this$fragConfig = this.fragConfig, fragClass = _this$fragConfig.fragClass, fragFocusClass = _this$fragConfig.fragFocusClass;\n        this.progressList = this.fragments.map(function(item) {\n          var inner = util.createDom(\"xg-inner\", \"\", {\n            style: progressColor ? \"background:\".concat(progressColor, \"; flex: \").concat(item.percent) : \"flex: \".concat(item.percent)\n          }, \"\".concat(item.isFocus ? fragFocusClass : \"\", \" xgplayer-progress-inner \").concat(fragClass));\n          _this3.root.appendChild(inner);\n          TPL.forEach(function(item2) {\n            inner.appendChild(util.createDom(item2.tag, \"\", {\n              style: item2.styleKey ? \"background: \".concat(_this3.style[item2.styleKey], \"; width:0;\") : \"width:0;\"\n            }, item2.className));\n          });\n          return {\n            cached: inner.children[0],\n            played: inner.children[1]\n          };\n        });\n      }\n      return this.root;\n    }\n  }]);\n  return InnerList2;\n}();\nexport { InnerList as default };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, objectSpread2 as _objectSpread2, typeof as _typeof } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, TIME_UPDATE, SEEKED, PROGRESS, ENDED, EMPTIED, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport InnerList from \"./innerList.js\";\nvar FRAGMENT_FOCUS_CLASS = {\n  POINT: \"inner-focus-point\",\n  HIGHLIGHT: \"inner-focus-highlight\"\n};\nvar Progress = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Progress2, _Plugin);\n  var _super = _createSuper(Progress2);\n  function Progress2(args) {\n    var _this;\n    _classCallCheck(this, Progress2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onMoveOnly\", function(e, data) {\n      var _assertThisInitialize = _assertThisInitialized(_this), pos = _assertThisInitialize.pos, config = _assertThisInitialize.config, player = _assertThisInitialize.player;\n      var ret = data;\n      if (e) {\n        util.event(e);\n        var _ePos = util.getEventPos(e, player.zoom);\n        var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n        if (pos.moving && Math.abs(pos.x - x) < config.miniMoveStep) {\n          return;\n        }\n        pos.moving = true;\n        pos.x = x;\n        ret = _this.computeTime(e, x);\n      }\n      _this.triggerCallbacks(\"dragmove\", ret, e);\n      _this._updateInnerFocus(ret);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBodyClick\", function(e) {\n      if (!_this.pos.isLocked) {\n        return;\n      }\n      _this.pos.isLocked = false;\n      e.preventDefault();\n      e.stopPropagation();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_mouseDownHandler\", function(event, data) {\n      _this._state.time = data.currentTime;\n      _this.updateWidth(data.currentTime, data.seekTime, data.percent, 0);\n      _this._updateInnerFocus(data);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_mouseUpHandler\", function(e, data) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), pos = _assertThisInitialize2.pos;\n      pos.moving && _this.updateWidth(data.currentTime, data.seekTime, data.percent, 2);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_mouseMoveHandler\", function(e, data) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this), _state = _assertThisInitialize3._state, pos = _assertThisInitialize3.pos, config = _assertThisInitialize3.config, player = _assertThisInitialize3.player;\n      if (_state.time < data.currentTime) {\n        data.forward = true;\n      } else {\n        data.forward = false;\n      }\n      _state.time = data.currentTime;\n      if (pos.isDown && !pos.moving) {\n        pos.moving = true;\n        config.isPauseMoving && player.pause();\n        _this.triggerCallbacks(\"dragstart\", data, e);\n        _this.emitUserAction(\"drag\", \"dragstart\", data);\n      }\n      _this.updateWidth(data.currentTime, data.seekTime, data.percent, 1);\n      _this.triggerCallbacks(\"dragmove\", data, e);\n      _this._updateInnerFocus(data);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function(e) {\n      var _assertThisInitialize4 = _assertThisInitialized(_this), _state = _assertThisInitialize4._state, player = _assertThisInitialize4.player, pos = _assertThisInitialize4.pos, config = _assertThisInitialize4.config, playerConfig = _assertThisInitialize4.playerConfig;\n      var _ePos = util.getEventPos(e, player.zoom);\n      var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      if (player.isMini || config.closeMoveSeek || !playerConfig.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      if (!player.duration && !player.isPlaying) {\n        player.play();\n        return;\n      }\n      e.stopPropagation();\n      _this.focus();\n      util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n      util.checkIsFunction(config.onMoveStart) && config.onMoveStart();\n      util.event(e);\n      pos.x = x;\n      pos.isDown = true;\n      pos.moving = false;\n      _state.prePlayTime = player.currentTime;\n      player.focus({\n        autoHide: false\n      });\n      _this.isProgressMoving = true;\n      util.addClass(_this.progressBtn, \"active\");\n      var ret = _this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      _this._mouseDownHandlerHook(e, ret);\n      var eventType = e.type;\n      if (eventType === \"touchstart\") {\n        _this.root.addEventListener(\"touchmove\", _this.onMouseMove);\n        _this.root.addEventListener(\"touchend\", _this.onMouseUp);\n        _this.root.addEventListener(\"touchcancel\", _this.onMouseUp);\n      } else {\n        _this.unbind(\"mousemove\", _this.onMoveOnly);\n        document.addEventListener(\"mousemove\", _this.onMouseMove, false);\n        document.addEventListener(\"mouseup\", _this.onMouseUp, false);\n      }\n      return true;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseUp\", function(e) {\n      var _assertThisInitialize5 = _assertThisInitialized(_this), player = _assertThisInitialize5.player, config = _assertThisInitialize5.config, pos = _assertThisInitialize5.pos, playerConfig = _assertThisInitialize5.playerConfig, _state = _assertThisInitialize5._state;\n      e.stopPropagation();\n      e.preventDefault();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      util.checkIsFunction(config.onMoveEnd) && config.onMoveEnd();\n      util.event(e);\n      util.removeClass(_this.progressBtn, \"active\");\n      var ret = _this.computeTime(e, pos.x);\n      ret.prePlayTime = _state.prePlayTime;\n      if (pos.moving) {\n        _this.triggerCallbacks(\"dragend\", ret, e);\n        _this.emitUserAction(\"drag\", \"dragend\", ret);\n      } else {\n        _this.triggerCallbacks(\"click\", ret, e);\n        _this.emitUserAction(\"click\", \"click\", ret);\n      }\n      _this._mouseUpHandlerHook(e, ret);\n      pos.moving = false;\n      pos.isDown = false;\n      pos.x = 0;\n      pos.y = 0;\n      pos.isLocked = true;\n      _state.prePlayTime = 0;\n      _state.time = 0;\n      var eventType = e.type;\n      if (eventType === \"touchend\" || eventType === \"touchcancel\") {\n        _this.root.removeEventListener(\"touchmove\", _this.onMouseMove);\n        _this.root.removeEventListener(\"touchend\", _this.onMouseUp);\n        _this.root.removeEventListener(\"touchcancel\", _this.onMouseUp);\n        _this.blur();\n      } else {\n        document.removeEventListener(\"mousemove\", _this.onMouseMove, false);\n        document.removeEventListener(\"mouseup\", _this.onMouseUp, false);\n        if (!pos.isEnter) {\n          _this.onMouseLeave(e);\n        } else {\n          playerConfig.isMobileSimulateMode !== \"mobile\" && _this.bind(\"mousemove\", _this.onMoveOnly);\n        }\n      }\n      util.setTimeout(_assertThisInitialized(_this), function() {\n        _this.resetSeekState();\n      }, 1);\n      player.focus();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseMove\", function(e) {\n      var _assertThisInitialize6 = _assertThisInitialized(_this), _state = _assertThisInitialize6._state, pos = _assertThisInitialize6.pos, player = _assertThisInitialize6.player, config = _assertThisInitialize6.config;\n      if (util.checkTouchSupport()) {\n        e.preventDefault();\n      }\n      util.event(e);\n      var _ePos = util.getEventPos(e, player.zoom);\n      var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      var diff = Math.abs(pos.x - x);\n      if (pos.moving && diff < config.miniMoveStep || !pos.moving && diff < config.miniStartStep) {\n        return;\n      }\n      pos.x = x;\n      var ret = _this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      _this._mouseMoveHandlerHook(e, ret);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseOut\", function(e) {\n      _this.triggerCallbacks(\"mouseout\", null, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseOver\", function(e) {\n      _this.triggerCallbacks(\"mouseover\", null, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function(e) {\n      var _assertThisInitialize7 = _assertThisInitialized(_this), player = _assertThisInitialize7.player, pos = _assertThisInitialize7.pos;\n      if (pos.isDown || pos.isEnter || player.isMini || !player.config.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      pos.isEnter = true;\n      _this.bind(\"mousemove\", _this.onMoveOnly);\n      _this.bind(\"mouseleave\", _this.onMouseLeave);\n      util.event(e);\n      var _ePos = util.getEventPos(e, player.zoom);\n      var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      var ret = _this.computeTime(e, x);\n      _this.triggerCallbacks(\"mouseenter\", ret, e);\n      _this.focus();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function(e) {\n      _this.triggerCallbacks(\"mouseleave\", null, e);\n      _this.unlock();\n      _this._updateInnerFocus(null);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVideoResize\", function() {\n      var _this$pos = _this.pos, x = _this$pos.x, isDown = _this$pos.isDown, isEnter = _this$pos.isEnter;\n      if (isEnter && !isDown) {\n        var ret = _this.computeTime(null, x);\n        _this.onMoveOnly(null, ret);\n      }\n    });\n    _this.useable = false;\n    _this.isProgressMoving = false;\n    _this.__dragCallBacks = [];\n    _this._state = {\n      now: -1,\n      direc: 0,\n      time: 0,\n      prePlayTime: -1\n    };\n    _this._disableBlur = false;\n    if (typeof _this.config.isDragingSeek === \"boolean\") {\n      console.warn(\"[XGPLAYER] 'isDragingSeek' is deprecated, please use 'isDraggingSeek' instead\");\n      _this.config.isDraggingSeek = _this.config.isDragingSeek;\n    }\n    return _this;\n  }\n  _createClass(Progress2, [{\n    key: \"offsetDuration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.offsetDuration || this.player.duration;\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.duration;\n    }\n  }, {\n    key: \"timeOffset\",\n    get: function get() {\n      return this.playerConfig.timeOffset || 0;\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      var _this$player = this.player, offsetCurrentTime = _this$player.offsetCurrentTime, currentTime = _this$player.currentTime;\n      return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime + this.timeOffset;\n    }\n  }, {\n    key: \"changeState\",\n    value: function changeState() {\n      var useable = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n      this.useable = useable;\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      this.root && (this.root.style.display = \"flex\");\n    }\n  }, {\n    key: \"_initInner\",\n    value: function _initInner() {\n      var _this2 = this;\n      var fragments = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (!fragments || fragments.length === 0) {\n        fragments = [{\n          percent: 1\n        }];\n      }\n      var _c = _objectSpread2(_objectSpread2({\n        fragments\n      }, config), {}, {\n        actionCallback: function actionCallback(data) {\n          _this2.emitUserAction(\"fragment_focus\", \"fragment_focus\", data);\n        }\n      });\n      if (!this.innerList) {\n        this.innerList = new InnerList(_c);\n        this.outer.insertBefore(this.innerList.render(), this.outer.children[0]);\n        [\"findHightLight\", \"unHightLight\", \"setHightLight\", \"findFragment\"].map(function(item) {\n          _this2[item] = _this2.innerList[item].bind(_this2.innerList);\n        });\n      } else {\n        this.innerList.reset(_c);\n      }\n    }\n  }, {\n    key: \"_updateInnerFocus\",\n    value: function _updateInnerFocus(data) {\n      this.innerList && this.innerList.updateFocus(data);\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      if (this.config.disable || this.playerConfig.isLive) {\n        return;\n      }\n      this.pos = {\n        x: 0,\n        y: 0,\n        moving: false,\n        isDown: false,\n        isEnter: false,\n        isLocked: false\n      };\n      this.outer = this.find(\"xg-outer\");\n      var _this$config = this.config, fragFocusClass = _this$config.fragFocusClass, fragAutoFocus = _this$config.fragAutoFocus, fragClass = _this$config.fragClass;\n      this._initInner(this.config.fragments, {\n        fragFocusClass,\n        fragAutoFocus,\n        fragClass,\n        style: this.playerConfig.commonStyle || {}\n      });\n      if (sniffer.device === \"mobile\") {\n        this.config.isDraggingSeek = false;\n        this.isMobile = true;\n      }\n      this.progressBtn = this.find(\".xgplayer-progress-btn\");\n      this.listenEvents();\n      this.bindDomEvents();\n      this.initCustomStyle();\n    }\n  }, {\n    key: \"listenEvents\",\n    value: function listenEvents() {\n      var _this3 = this;\n      this.on(DURATION_CHANGE, function() {\n        _this3.onMouseLeave();\n      });\n      this.on(TIME_UPDATE, function() {\n        _this3.onTimeupdate();\n      });\n      this.on(SEEKED, function() {\n        _this3.onTimeupdate();\n        _this3.onCacheUpdate();\n      });\n      this.on(PROGRESS, function() {\n        _this3.onCacheUpdate();\n      });\n      this.on(ENDED, function() {\n        _this3.onCacheUpdate(true);\n        _this3.onTimeupdate(true);\n        _this3._state.now = 0;\n      });\n      this.on(EMPTIED, function() {\n        _this3.onReset();\n      });\n      this.on(VIDEO_RESIZE, function() {\n        _this3.onVideoResize();\n      });\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this4 = this;\n      var frags = null;\n      Object.keys(config).forEach(function(key) {\n        _this4.config[key] = config[key];\n        if (key === \"fragments\") {\n          frags = config[key];\n        }\n      });\n      if (frags) {\n        this._initInner(frags, config);\n      }\n    }\n  }, {\n    key: \"initCustomStyle\",\n    value: function initCustomStyle() {\n      var _ref = this.playerConfig || {}, commonStyle = _ref.commonStyle;\n      var sliderBtnStyle = commonStyle.sliderBtnStyle;\n      var progressBtn = this.progressBtn;\n      if (sliderBtnStyle) {\n        if (typeof sliderBtnStyle === \"string\") {\n          progressBtn.style.boxShadow = sliderBtnStyle;\n        } else if (_typeof(sliderBtnStyle) === \"object\") {\n          Object.keys(sliderBtnStyle).map(function(key) {\n            progressBtn.style[key] = sliderBtnStyle[key];\n          });\n        }\n      }\n    }\n  }, {\n    key: \"triggerCallbacks\",\n    value: function triggerCallbacks(type, data, event) {\n      if (this.__dragCallBacks.length > 0) {\n        this.__dragCallBacks.map(function(item) {\n          if (item && item.handler && item.type === type) {\n            try {\n              item.handler(data, event);\n            } catch (error) {\n              console.error(\"[XGPLAYER][triggerCallbacks] \".concat(item, \" error\"), error);\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"addCallBack\",\n    value: function addCallBack(type, handle) {\n      if (handle && typeof handle === \"function\") {\n        this.__dragCallBacks.push({\n          type,\n          handler: handle\n        });\n      }\n    }\n  }, {\n    key: \"removeCallBack\",\n    value: function removeCallBack(type, event) {\n      var __dragCallBacks = this.__dragCallBacks;\n      var _index = -1;\n      __dragCallBacks.map(function(item, index) {\n        if (item && item.type === type && item.handler === event) {\n          _index = index;\n        }\n      });\n      if (_index > -1) {\n        __dragCallBacks.splice(_index, 1);\n      }\n    }\n  }, {\n    key: \"unlock\",\n    value: function unlock() {\n      var player = this.player, pos = this.pos;\n      pos.isEnter = false;\n      pos.isLocked = false;\n      if (player.isMini) {\n        return;\n      }\n      this.unbind(\"mousemove\", this.onMoveOnly);\n      if (pos.isDown) {\n        this.unbind(\"mouseleave\", this.onMouseLeave);\n        return;\n      }\n      this.blur();\n    }\n  }, {\n    key: \"bindDomEvents\",\n    value: function bindDomEvents() {\n      var config = this.player.config;\n      this._mouseDownHandlerHook = this.hook(\"dragstart\", this._mouseDownHandler);\n      this._mouseUpHandlerHook = this.hook(\"dragend\", this._mouseUpHandler);\n      this._mouseMoveHandlerHook = this.hook(\"drag\", this._mouseMoveHandler);\n      if (this.domEventType === \"touch\" || this.domEventType === \"compatible\") {\n        this.root.addEventListener(\"touchstart\", this.onMouseDown);\n      }\n      if (this.domEventType === \"mouse\" || this.domEventType === \"compatible\") {\n        this.bind(\"mousedown\", this.onMouseDown);\n        config.isMobileSimulateMode !== \"mobile\" && this.bind(\"mouseenter\", this.onMouseEnter);\n        this.bind(\"mouseover\", this.onMouseOver);\n        this.bind(\"mouseout\", this.onMouseOut);\n        this.player.root.addEventListener(\"click\", this.onBodyClick, true);\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.player.controls.pauseAutoHide();\n      util.addClass(this.root, \"active\");\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      if (this._disableBlur) {\n        return;\n      }\n      this.player.controls.recoverAutoHide();\n      util.removeClass(this.root, \"active\");\n    }\n  }, {\n    key: \"disableBlur\",\n    value: function disableBlur() {\n      this._disableBlur = true;\n    }\n  }, {\n    key: \"enableBlur\",\n    value: function enableBlur() {\n      this._disableBlur = false;\n    }\n  }, {\n    key: \"updateWidth\",\n    value: function updateWidth(currentTime, seekTime, percent, type) {\n      var config = this.config, player = this.player;\n      if (config.isCloseClickSeek && type === 0) {\n        return;\n      }\n      var realTime = seekTime = seekTime >= player.duration ? player.duration - config.endedDiff : Number(seekTime).toFixed(1);\n      this.updatePercent(percent);\n      this.updateTime(currentTime);\n      if (type === 1 && (!config.isDraggingSeek || player.config.mediaType === \"audio\")) {\n        return;\n      }\n      this._state.now = realTime;\n      this._state.direc = realTime > player.currentTime ? 0 : 1;\n      player.seek(realTime);\n    }\n  }, {\n    key: \"computeTime\",\n    value: function computeTime(e, x) {\n      var player = this.player;\n      var _this$root$getBoundin = this.root.getBoundingClientRect(), width = _this$root$getBoundin.width, height = _this$root$getBoundin.height, top = _this$root$getBoundin.top, left = _this$root$getBoundin.left;\n      var rWidth, rLeft;\n      var clientX = x;\n      if (player.rotateDeg === 90) {\n        rWidth = height;\n        rLeft = top;\n      } else {\n        rWidth = width;\n        rLeft = left;\n      }\n      var offset = clientX - rLeft;\n      offset = offset > rWidth ? rWidth : offset < 0 ? 0 : offset;\n      var percent = offset / rWidth;\n      percent = percent < 0 ? 0 : percent > 1 ? 1 : percent;\n      var currentTime = parseInt(percent * this.offsetDuration * 1e3, 10) / 1e3;\n      var seekTime = util.getCurrentTimeByOffset(currentTime, player.timeSegments);\n      return {\n        percent,\n        currentTime,\n        seekTime,\n        offset,\n        width: rWidth,\n        left: rLeft,\n        e\n      };\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(time) {\n      var player = this.player, duration = this.duration;\n      if (time > duration) {\n        time = duration;\n      } else if (time < 0) {\n        time = 0;\n      }\n      var timeIcon = player.plugins.time;\n      if (timeIcon) {\n        timeIcon.updateTime(time);\n      }\n    }\n  }, {\n    key: \"resetSeekState\",\n    value: function resetSeekState() {\n      this.isProgressMoving = false;\n      var timeIcon = this.player.plugins.time;\n      timeIcon && timeIcon.resetActive();\n    }\n  }, {\n    key: \"updatePercent\",\n    value: function updatePercent(percent, notSeek) {\n      this.isProgressMoving = true;\n      if (this.config.disable) {\n        return;\n      }\n      percent = percent > 1 ? 1 : percent < 0 ? 0 : percent;\n      this.progressBtn.style.left = \"\".concat(percent * 100, \"%\");\n      this.innerList.update({\n        played: percent * this.offsetDuration\n      }, this.offsetDuration);\n      var miniprogress = this.player.plugins.miniprogress;\n      miniprogress && miniprogress.update({\n        played: percent * this.offsetDuration\n      }, this.offsetDuration);\n    }\n  }, {\n    key: \"onTimeupdate\",\n    value: function onTimeupdate(isEnded) {\n      var player = this.player, _state = this._state, offsetDuration = this.offsetDuration;\n      if (player.isSeeking && player.media.seeking || this.isProgressMoving || !player.hasStart) {\n        return;\n      }\n      if (_state.now > -1) {\n        var abs = parseInt(_state.now * 1e3, 10) - parseInt(player.currentTime * 1e3, 10);\n        if (_state.direc === 0 && abs > 300 || _state.direc === 1 && abs > -300) {\n          _state.now = -1;\n          return;\n        } else {\n          _state.now = -1;\n        }\n      }\n      var time = this.currentTime;\n      time = util.adjustTimeByDuration(time, offsetDuration, isEnded);\n      this.innerList.update({\n        played: time\n      }, offsetDuration);\n      this.progressBtn.style.left = \"\".concat(time / offsetDuration * 100, \"%\");\n    }\n  }, {\n    key: \"onCacheUpdate\",\n    value: function onCacheUpdate(isEnded) {\n      var player = this.player, duration = this.duration;\n      if (!player) {\n        return;\n      }\n      var _end = player.bufferedPoint.end;\n      _end = util.adjustTimeByDuration(_end, duration, isEnded);\n      this.innerList.update({\n        cached: _end\n      }, duration);\n    }\n  }, {\n    key: \"onReset\",\n    value: function onReset() {\n      this.innerList.update({\n        played: 0,\n        cached: 0\n      }, 0);\n      this.progressBtn.style.left = \"0%\";\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var player = this.player;\n      this.thumbnailPlugin = null;\n      this.innerList.destroy();\n      this.innerList = null;\n      var domEventType = this.domEventType;\n      if (domEventType === \"touch\" || domEventType === \"compatible\") {\n        this.root.removeEventListener(\"touchstart\", this.onMouseDown);\n        this.root.removeEventListener(\"touchmove\", this.onMouseMove);\n        this.root.removeEventListener(\"touchend\", this.onMouseUp);\n        this.root.removeEventListener(\"touchcancel\", this.onMouseUp);\n      }\n      if (domEventType === \"mouse\" || domEventType === \"compatible\") {\n        this.unbind(\"mousedown\", this.onMouseDown);\n        this.unbind(\"mouseenter\", this.onMouseEnter);\n        this.unbind(\"mousemove\", this.onMoveOnly);\n        this.unbind(\"mouseleave\", this.onMouseLeave);\n        document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n        document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n        player.root.removeEventListener(\"click\", this.onBodyClick, true);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable || this.playerConfig.isLive) {\n        return;\n      }\n      var controlsMode = this.player.controls ? this.player.controls.config.mode : \"\";\n      var className = controlsMode === \"bottom\" ? \"xgplayer-progress-bottom\" : \"\";\n      return '\\n    <xg-progress class=\"xgplayer-progress '.concat(className, '\">\\n      <xg-outer class=\"xgplayer-progress-outer\">\\n        <xg-progress-btn class=\"xgplayer-progress-btn\"></xg-progress-btn>\\n      </xg-outer>\\n    </xg-progress>\\n    ');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"progress\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_CENTER,\n        index: 0,\n        disable: false,\n        isDraggingSeek: true,\n        closeMoveSeek: false,\n        isPauseMoving: false,\n        isCloseClickSeek: false,\n        fragments: [{\n          percent: 1\n        }],\n        fragFocusClass: FRAGMENT_FOCUS_CLASS.POINT,\n        fragClass: \"\",\n        fragAutoFocus: false,\n        miniMoveStep: 5,\n        miniStartStep: 2,\n        onMoveStart: function onMoveStart() {\n        },\n        onMoveEnd: function onMoveEnd() {\n        },\n        endedDiff: 0.2\n      };\n    }\n  }, {\n    key: \"FRAGMENT_FOCUS_CLASS\",\n    get: function get() {\n      return FRAGMENT_FOCUS_CLASS;\n    }\n  }]);\n  return Progress2;\n}(Plugin);\nexport { Progress as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Icon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Icon2, _Plugin);\n  var _super = _createSuper(Icon2);\n  function Icon2() {\n    var _this;\n    _classCallCheck(this, Icon2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseenter\", function(e) {\n      _this.emit(\"icon_mouseenter\", {\n        pluginName: _this.pluginName\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseLeave\", function(e) {\n      _this.emit(\"icon_mouseleave\", {\n        pluginName: _this.pluginName\n      });\n    });\n    return _this;\n  }\n  _createClass(Icon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.bind(\"mouseenter\", this._onMouseenter);\n      this.bind(\"mouseleave\", this._onMouseLeave);\n      if (this.config.disable) {\n        this.disable();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind(\"mouseenter\", this._onMouseenter);\n      this.unbind(\"mouseleave\", this._onMouseLeave);\n    }\n  }]);\n  return Icon2;\n}(Plugin);\nexport { Icon as default };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { PLAY, PAUSE, ERROR, EMPTIED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nvar Play = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Play2, _IconPlugin);\n  var _super = _createSuper(Play2);\n  function Play2() {\n    var _this;\n    _classCallCheck(this, Play2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"btnClick\", function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      _this.emitUserAction(e, \"switch_play_pause\", {\n        prop: \"paused\",\n        from: player.paused,\n        to: !player.paused\n      });\n      if (player.ended) {\n        player.replay();\n      } else if (player.paused) {\n        player.play();\n        _this.animate(false);\n      } else {\n        player.pause();\n        _this.animate(true);\n      }\n      return false;\n    });\n    return _this;\n  }\n  _createClass(Play2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      _get(_getPrototypeOf(Play2.prototype), \"afterCreate\", this).call(this);\n      var config = this.config;\n      if (config.disable) {\n        return;\n      }\n      this.initIcons();\n      this.bind([\"touchend\", \"click\"], this.btnClick);\n      this.listenEvents();\n      this.animate(true);\n    }\n  }, {\n    key: \"listenEvents\",\n    value: function listenEvents() {\n      var _this2 = this;\n      var player = this.player;\n      this.on([PLAY, PAUSE, ERROR, EMPTIED], function() {\n        _this2.animate(player.paused);\n      });\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        play: {\n          icon: PlaySvg,\n          class: \"xg-icon-play\"\n        },\n        pause: {\n          icon: PauseSvg,\n          class: \"xg-icon-pause\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.play);\n      this.appendChild(\".xgplayer-icon\", icons.pause);\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(paused) {\n      if (!this.player) {\n        return;\n      }\n      var i18nKeys = this.i18nKeys;\n      var tipDom = this.find(\".xg-tips\");\n      if (paused) {\n        this.setAttr(\"data-state\", \"pause\");\n        tipDom && this.changeLangTextKey(tipDom, i18nKeys.PLAY_TIPS);\n      } else {\n        this.setAttr(\"data-state\", \"play\");\n        tipDom && this.changeLangTextKey(tipDom, i18nKeys.PAUSE_TIPS);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Play2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"touchend\", \"click\"], this.btnClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-play\">\\n    <div class=\"xgplayer-icon\">\\n    </div>\\n    '.concat(xgIconTips(this, \"PLAY_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"play\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_LEFT,\n        index: 0,\n        disable: false\n      };\n    }\n  }]);\n  return Play2;\n}(Icon);\nexport { Play as default };\n","function BackSVG() {\n  return new DOMParser().parseFromString('<svg width=\"32px\" height=\"40px\" viewBox=\"0 0 32 32\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <path d=\"M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z\" fill=\"#FFFFFF\"></path>\\n    </g>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { BackSVG as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport BackSVG from \"../assets/back.js\";\nvar TopBackIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(TopBackIcon2, _Plugin);\n  var _super = _createSuper(TopBackIcon2);\n  function TopBackIcon2() {\n    _classCallCheck(this, TopBackIcon2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(TopBackIcon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.initIcons();\n      this.onClick = function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        _this.config.onClick(e);\n      };\n      this.bind([\"click\", \"touchend\"], this.onClick);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        screenBack: {\n          icon: BackSVG,\n          class: \"xg-fullscreen-back\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(this.root, icons.screenBack);\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.addClass(this.root, \"show\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"show\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-icon class=\"xgplayer-back\">\\n    </xg-icon>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"topbackicon\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.ROOT_TOP,\n        index: 0\n      };\n    }\n  }]);\n  return TopBackIcon2;\n}(Plugin);\nexport { TopBackIcon as default };\n","function FullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { FullScreenSvg as default };\n","function ExitFullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitFullScreenSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport TopBackIcon from \"./backicon.js\";\nimport FullScreenSvg from \"../assets/requestFull.js\";\nimport ExitFullScreenSvg from \"../assets/exitFull.js\";\nvar Fullscreen = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Fullscreen2, _IconPlugin);\n  var _super = _createSuper(Fullscreen2);\n  function Fullscreen2() {\n    var _this;\n    _classCallCheck(this, Fullscreen2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onOrientationChange\", function(e) {\n      if (_this.player.fullscreen && _this.config.rotateFullscreen) {\n        if (window.orientation === 90 || window.orientation === -90) {\n          _this.player.setRotateDeg(0);\n        } else {\n          _this.player.setRotateDeg(90);\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(Fullscreen2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      _get(_getPrototypeOf(Fullscreen2.prototype), \"afterCreate\", this).call(this);\n      var config = this.config, playerConfig = this.playerConfig;\n      if (config.disable) {\n        return;\n      }\n      if (config.target) {\n        this.playerConfig.fullscreenTarget = this.config.target;\n      }\n      var fullEl = util.getFullScreenEl();\n      if (playerConfig.fullscreenTarget === fullEl) {\n        this.player.getFullscreen().catch(function(e) {\n        });\n      }\n      this.initIcons();\n      this.handleFullscreen = this.hook(\"fullscreenChange\", this.toggleFullScreen, {\n        pre: function pre(e) {\n          var fullscreen = _this2.player.fullscreen;\n          _this2.emitUserAction(e, \"switch_fullscreen\", {\n            prop: \"fullscreen\",\n            from: fullscreen,\n            to: !fullscreen\n          });\n        }\n      });\n      this.bind(\".xgplayer-fullscreen\", [\"touchend\", \"click\"], this.handleFullscreen);\n      this.on(FULLSCREEN_CHANGE, function(isFullScreen) {\n        var tipsDom = _this2.find(\".xg-tips\");\n        tipsDom && _this2.changeLangTextKey(tipsDom, isFullScreen ? _this2.i18nKeys.EXITFULLSCREEN_TIPS : _this2.i18nKeys.FULLSCREEN_TIPS);\n        _this2.animate(isFullScreen);\n      });\n      if (this.config.needBackIcon) {\n        this.topBackIcon = this.player.registerPlugin({\n          plugin: TopBackIcon,\n          options: {\n            config: {\n              onClick: function onClick(e) {\n                _this2.handleFullscreen(e);\n              }\n            }\n          }\n        });\n      }\n      if (sniffer.device === \"mobile\") {\n        window.addEventListener(\"orientationchange\", this._onOrientationChange);\n      }\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        fullscreen: {\n          icon: FullScreenSvg,\n          class: \"xg-get-fullscreen\"\n        },\n        exitFullscreen: {\n          icon: ExitFullScreenSvg,\n          class: \"xg-exit-fullscreen\"\n        }\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Fullscreen2.prototype), \"destroy\", this).call(this);\n      this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.handleFullscreen);\n      if (sniffer.device === \"mobile\") {\n        window.removeEventListener(\"orientationchange\", this._onOrientationChange);\n      }\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.fullscreen);\n      this.appendChild(\".xgplayer-icon\", icons.exitFullscreen);\n    }\n  }, {\n    key: \"toggleFullScreen\",\n    value: function toggleFullScreen(e) {\n      if (e) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n      var player = this.player, config = this.config;\n      var useCssFullscreen = config.useCssFullscreen === true || typeof config.useCssFullscreen === \"function\" && config.useCssFullscreen();\n      if (useCssFullscreen) {\n        if (player.fullscreen) {\n          player.exitCssFullscreen();\n        } else {\n          player.getCssFullscreen();\n        }\n        this.animate(player.fullscreen);\n      } else if (config.rotateFullscreen) {\n        if (player.fullscreen) {\n          player.exitRotateFullscreen();\n        } else {\n          player.getRotateFullscreen();\n        }\n        this.animate(player.fullscreen);\n      } else if (config.switchCallback && typeof config.switchCallback === \"function\") {\n        config.switchCallback(player.fullscreen);\n      } else {\n        if (player.fullscreen) {\n          player.exitFullscreen();\n          if (config.useScreenOrientation) {\n            this.unlockScreen();\n          }\n        } else {\n          player.getFullscreen().catch(function(e2) {\n          });\n          if (config.useScreenOrientation && player.aspectRatio > 1) {\n            this.lockScreen(config.lockOrientationType);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(isFullScreen) {\n      isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n      if (this.topBackIcon) {\n        if (isFullScreen) {\n          this.topBackIcon.show();\n          this.hide();\n        } else {\n          this.topBackIcon.hide();\n          this.show();\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      var langKey = \"FULLSCREEN_TIPS\";\n      return '<xg-icon class=\"xgplayer-fullscreen\">\\n    <div class=\"xgplayer-icon\">\\n    </div>\\n    '.concat(xgIconTips(this, langKey, this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }, {\n    key: \"lockScreen\",\n    value: function lockScreen(orientation) {\n      try {\n        screen.orientation.lock(orientation).catch(function(e) {\n        });\n      } catch (e) {\n      }\n    }\n  }, {\n    key: \"unlockScreen\",\n    value: function unlockScreen() {\n      try {\n        screen.orientation.unlock().catch(function(e) {\n        });\n      } catch (e) {\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"fullscreen\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 0,\n        useCssFullscreen: false,\n        rotateFullscreen: false,\n        useScreenOrientation: false,\n        lockOrientationType: \"landscape\",\n        switchCallback: null,\n        target: null,\n        disable: false,\n        needBackIcon: false\n      };\n    }\n  }]);\n  return Fullscreen2;\n}(Icon);\nexport { Fullscreen as default };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, SEEKED, TIME_UPDATE, ENDED, EMPTIED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nvar Time = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Time2, _Plugin);\n  var _super = _createSuper(Time2);\n  function Time2(args) {\n    var _this;\n    _classCallCheck(this, Time2);\n    _this = _super.call(this, args);\n    _this.isActiving = false;\n    return _this;\n  }\n  _createClass(Time2, [{\n    key: \"duration\",\n    get: function get() {\n      var _this$player = this.player, offsetDuration = _this$player.offsetDuration, duration = _this$player.duration;\n      return this.playerConfig.customDuration || offsetDuration || duration;\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      var _this$player2 = this.player, offsetCurrentTime = _this$player2.offsetCurrentTime, currentTime = _this$player2.currentTime;\n      return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime;\n    }\n  }, {\n    key: \"timeOffset\",\n    get: function get() {\n      return this.playerConfig.timeOffset || 0;\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var constrolsMode = this.player.controls.config.mode;\n      this.mode = constrolsMode === \"flex\" ? \"flex\" : \"normal\";\n      if (this.config.disable) {\n        return;\n      }\n      if (this.mode === \"flex\") {\n        this.createCenterTime();\n        this.root.style.display = \"none\";\n      }\n      this.durationDom = this.find(\".time-duration\");\n      this.timeDom = this.find(\".time-current\");\n      this.listenEvents();\n    }\n  }, {\n    key: \"listenEvents\",\n    value: function listenEvents() {\n      var _this2 = this;\n      this.on([DURATION_CHANGE, SEEKED, TIME_UPDATE], function(e) {\n        if (e.eventName === \"durationchange\") {\n          _this2.isActiving = false;\n        }\n        _this2.onTimeUpdate();\n      });\n      this.on(ENDED, function() {\n        _this2.onTimeUpdate(true);\n      });\n      this.on(EMPTIED, function() {\n        _this2.onReset();\n      });\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      if (this.mode === \"flex\") {\n        this.centerCurDom && (this.centerCurDom.style.display = \"block\");\n        this.centerDurDom && (this.centerDurDom.style.display = \"block\");\n        return;\n      }\n      this.root.style.display = \"block\";\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      if (this.mode === \"flex\") {\n        this.centerCurDom && (this.centerCurDom.style.display = \"none\");\n        this.centerDurDom && (this.centerDurDom.style.display = \"none\");\n        return;\n      }\n      this.root.style.display = \"none\";\n    }\n  }, {\n    key: \"onTimeUpdate\",\n    value: function onTimeUpdate(isEnded) {\n      var player = this.player, config = this.config, duration = this.duration;\n      if (config.disable || this.isActiving || !player.hasStart) {\n        return;\n      }\n      var current = this.currentTime + this.timeOffset;\n      current = util.adjustTimeByDuration(current, duration, isEnded);\n      if (this.mode === \"flex\") {\n        this.centerCurDom.innerHTML = this.minWidthTime(util.format(current));\n        if (duration !== Infinity && duration > 0) {\n          this.centerDurDom.innerHTML = util.format(duration);\n        }\n      } else {\n        this.timeDom.innerHTML = this.minWidthTime(util.format(current));\n        if (duration !== Infinity && duration > 0) {\n          this.durationDom.innerHTML = util.format(duration);\n        }\n      }\n    }\n  }, {\n    key: \"onReset\",\n    value: function onReset() {\n      if (this.mode === \"flex\") {\n        this.centerCurDom.innerHTML = this.minWidthTime(util.format(0));\n        this.centerDurDom.innerHTML = util.format(0);\n      } else {\n        this.timeDom.innerHTML = this.minWidthTime(util.format(0));\n        this.durationDom.innerHTML = util.format(0);\n      }\n    }\n  }, {\n    key: \"createCenterTime\",\n    value: function createCenterTime() {\n      var player = this.player;\n      if (!player.controls || !player.controls.center) {\n        return;\n      }\n      var center = player.controls.center;\n      this.centerCurDom = util.createDom(\"xg-icon\", \"00:00\", {}, \"xgplayer-time xg-time-left\");\n      this.centerDurDom = util.createDom(\"xg-icon\", \"00:00\", {}, \"xgplayer-time xg-time-right\");\n      center.children.length > 0 ? center.insertBefore(this.centerCurDom, center.children[0]) : center.appendChild(this.centerCurDom);\n      center.appendChild(this.centerDurDom);\n    }\n  }, {\n    key: \"afterPlayerInit\",\n    value: function afterPlayerInit() {\n      var config = this.config;\n      if (this.duration === Infinity || this.playerConfig.isLive) {\n        util.hide(this.durationDom);\n        util.hide(this.timeDom);\n        util.hide(this.find(\".time-separator\"));\n        util.show(this.find(\".time-live-tag\"));\n      } else {\n        util.hide(this.find(\".time-live-tag\"));\n      }\n      if (config.hide) {\n        this.hide();\n        return;\n      }\n      this.show();\n    }\n  }, {\n    key: \"changeLiveState\",\n    value: function changeLiveState(isLive) {\n      if (isLive) {\n        util.hide(this.durationDom);\n        util.hide(this.timeDom);\n        util.hide(this.find(\".time-separator\"));\n        util.show(this.find(\".time-live-tag\"));\n      } else {\n        util.hide(this.find(\".time-live-tag\"));\n        util.show(this.find(\".time-separator\"));\n        util.show(this.durationDom);\n        util.show(this.timeDom);\n      }\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(time) {\n      this.isActiving = true;\n      if (!time && time !== 0 || time > this.duration) {\n        return;\n      }\n      if (this.mode === \"flex\") {\n        this.centerCurDom.innerHTML = this.minWidthTime(util.format(time));\n        return;\n      }\n      this.timeDom.innerHTML = this.minWidthTime(util.format(time));\n    }\n  }, {\n    key: \"minWidthTime\",\n    value: function minWidthTime(timeStr) {\n      return timeStr.split(\":\").map(function(value) {\n        return '<span class=\"time-min-width\">'.concat(value, \"</span>\");\n      }).join(\":\");\n    }\n  }, {\n    key: \"resetActive\",\n    value: function resetActive() {\n      var _this3 = this;\n      var player = this.player;\n      var updateState = function updateState2() {\n        _this3.isActiving = false;\n      };\n      this.off(SEEKED, updateState);\n      if (player.isSeeking && player.media.seeking) {\n        this.once(SEEKED, updateState);\n      } else {\n        this.isActiving = false;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var center = this.player.controls.center;\n      this.centerCurDom && center.removeChild(this.centerCurDom);\n      this.centerCurDom = null;\n      this.centerDurDom && center.removeChild(this.centerDurDom);\n      this.centerDurDom = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-time\">\\n    <span class=\"time-current\">00:00</span>\\n    <span class=\"time-separator\">/</span>\\n    <span class=\"time-duration\">00:00</span>\\n    <span class=\"time-live-tag\">'.concat(this.i18n.LIVE_TIP, \"</span>\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"time\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_LEFT,\n        index: 2,\n        disable: false\n      };\n    }\n  }]);\n  return Time2;\n}(Plugin);\nexport { Time as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, LOADED_DATA, TIME_UPDATE, SEEKING, PLAY } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nvar TimeSegmentsControls = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(TimeSegmentsControls2, _BasePlugin);\n  var _super = _createSuper(TimeSegmentsControls2);\n  function TimeSegmentsControls2() {\n    var _this;\n    _classCallCheck(this, TimeSegmentsControls2);\n    for (var _len2 = arguments.length, args = new Array(_len2), _key = 0; _key < _len2; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onDurationChange\", function() {\n      _this.updateSegments();\n      var _this$player = _this.player, currentTime = _this$player.currentTime, timeSegments = _this$player.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      var index = util.getIndexByTime(currentTime, timeSegments);\n      var time = util.getOffsetCurrentTime(currentTime, timeSegments, index);\n      _this.player.offsetCurrentTime = time;\n      _this.changeIndex(index, timeSegments);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onLoadedData\", function() {\n      var timeSegments = _this.player.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      var time = util.getOffsetCurrentTime(0, timeSegments);\n      _this.player.offsetCurrentTime = time;\n      _this.changeIndex(0, timeSegments);\n      if (_this.curPos.start > 0) {\n        _this.player.currentTime = _this.curPos.start;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeupdate\", function() {\n      var _this$player2 = _this.player, currentTime = _this$player2.currentTime, timeSegments = _this$player2.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      var _len = timeSegments.length;\n      _this.lastCurrentTime = currentTime;\n      var index = util.getIndexByTime(currentTime, timeSegments);\n      if (index !== _this.curIndex) {\n        _this.changeIndex(index, timeSegments);\n      }\n      var curTime = util.getOffsetCurrentTime(currentTime, timeSegments, index);\n      _this.player.offsetCurrentTime = curTime;\n      if (!_this.curPos) {\n        return;\n      }\n      var _this$curPos = _this.curPos, start = _this$curPos.start, end = _this$curPos.end;\n      if (currentTime < start) {\n        _this.player.currentTime = start;\n      } else if (currentTime > end && index >= _len - 1) {\n        _this.player.pause();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeking\", function() {\n      var _this$player3 = _this.player, currentTime = _this$player3.currentTime, timeSegments = _this$player3.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      if (currentTime < timeSegments[0].start) {\n        _this.player.currentTime = timeSegments[0].start;\n      } else if (currentTime > timeSegments[timeSegments.length - 1].end) {\n        _this.player.currentTime = timeSegments[timeSegments.length - 1].end;\n      } else {\n        var _index = util.getIndexByTime(currentTime, timeSegments);\n        if (_index >= 0) {\n          var _seekTime = _this.getSeekTime(currentTime, _this.lastCurrentTime, _index, timeSegments);\n          if (_seekTime >= 0) {\n            _this.player.currentTime = _seekTime;\n          }\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onPlay\", function() {\n      var _this$player4 = _this.player, currentTime = _this$player4.currentTime, timeSegments = _this$player4.timeSegments;\n      if (_this._checkIfEnabled(timeSegments) && currentTime >= timeSegments[timeSegments.length - 1].end) {\n        _this.player.currentTime = timeSegments[0].start;\n      }\n    });\n    return _this;\n  }\n  _createClass(TimeSegmentsControls2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.curIndex = -1;\n      this.curPos = null;\n      this.lastCurrentTime = 0;\n      this.updateSegments();\n      this.on(DURATION_CHANGE, this._onDurationChange);\n      this.on(LOADED_DATA, this._onLoadedData);\n      this.on(TIME_UPDATE, this._onTimeupdate);\n      this.on(SEEKING, this._onSeeking);\n      this.on(PLAY, this._onPlay);\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(newConfig) {\n      var _this2 = this;\n      if (!newConfig) {\n        return;\n      }\n      var keys = Object.keys(newConfig);\n      if (keys.length < 1) {\n        return;\n      }\n      keys.forEach(function(key) {\n        _this2.config[key] = newConfig[key];\n      });\n      this.updateSegments();\n    }\n  }, {\n    key: \"updateSegments\",\n    value: function updateSegments() {\n      var _this$config = this.config, disable = _this$config.disable, segments = _this$config.segments;\n      var player = this.player;\n      if (disable || !segments || segments.length === 0) {\n        player.timeSegments = [];\n        player.offsetDuration = 0;\n        player.offsetCurrentTime = -1;\n      } else {\n        var _segs = this.formatTimeSegments(segments, player.duration);\n        player.timeSegments = _segs;\n        player.offsetDuration = _segs.length > 0 ? _segs[_segs.length - 1].duration : 0;\n      }\n    }\n  }, {\n    key: \"formatTimeSegments\",\n    value: function formatTimeSegments(timeSegments, duration) {\n      var ret = [];\n      if (!timeSegments) {\n        return [];\n      }\n      timeSegments.sort(function(a, b) {\n        return a.start - b.start;\n      });\n      timeSegments.forEach(function(item, index) {\n        var _item = {};\n        _item.start = item.start < 0 ? 0 : item.start;\n        _item.end = duration > 0 && item.end > duration ? duration : item.end;\n        if (duration > 0 && _item.start > duration) {\n          return;\n        }\n        ret.push(_item);\n        var _segDuration = _item.end - _item.start;\n        if (index === 0) {\n          _item.offset = item.start;\n          _item.cTime = 0;\n          _item.segDuration = _segDuration;\n          _item.duration = _segDuration;\n        } else {\n          var last = ret[index - 1];\n          _item.offset = last.offset + (_item.start - last.end);\n          _item.cTime = last.duration + last.cTime;\n          _item.segDuration = _segDuration;\n          _item.duration = last.duration + _segDuration;\n        }\n      });\n      return ret;\n    }\n  }, {\n    key: \"getSeekTime\",\n    value: function getSeekTime(currentTime, lastCurrentTime, index, timeSegments) {\n      var _time = -1;\n      var _timeSegments$index = timeSegments[index], start = _timeSegments$index.start, end = _timeSegments$index.end;\n      if (currentTime >= start && currentTime <= end) {\n        return _time;\n      }\n      var diff = currentTime - lastCurrentTime;\n      if (diff < 0) {\n        if (currentTime < start) {\n          var diff2 = lastCurrentTime > start ? lastCurrentTime - start : 0;\n          _time = index - 1 >= 0 ? timeSegments[index - 1].end + diff + diff2 : 0;\n          return _time;\n        }\n      }\n      return -1;\n    }\n  }, {\n    key: \"_checkIfEnabled\",\n    value: function _checkIfEnabled(segments) {\n      return !(!segments || segments.length < 1);\n    }\n  }, {\n    key: \"changeIndex\",\n    value: function changeIndex(index, timeSegments) {\n      this.curIndex = index;\n      if (index >= 0 && timeSegments.length > 0) {\n        this.curPos = timeSegments[index];\n      } else {\n        this.curPos = null;\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"TimeSegmentsControls\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disable: true,\n        segments: []\n      };\n    }\n  }]);\n  return TimeSegmentsControls2;\n}(BasePlugin);\nexport { TimeSegmentsControls as default };\n","function volumeLargeSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeLargeSvg as default };\n","function volumeSmallSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeSmallSvg as default };\n","function volumeMutedSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeMutedSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VOLUME_CHANGE, LOADED_DATA } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport volumeLargeSvg from \"../assets/volumeLarge.js\";\nimport volumeSmallSvg from \"../assets/volumeSmall.js\";\nimport volumeMutedSvg from \"../assets/volumeMuted.js\";\nvar Volume = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Volume2, _Plugin);\n  var _super = _createSuper(Volume2);\n  function Volume2() {\n    var _this;\n    _classCallCheck(this, Volume2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onBarMousedown\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      var bar = _this.find(\".xgplayer-bar\");\n      util.event(e);\n      var barRect = bar.getBoundingClientRect();\n      var pos = util.getEventPos(e, player.zoom);\n      var height = barRect.height - (pos.clientY - barRect.top);\n      pos.h = height;\n      pos.barH = barRect.height;\n      _this.pos = pos;\n      if (height < -2) {\n        return;\n      }\n      _this.updateVolumePos(height, e);\n      document.addEventListener(\"mouseup\", _this.onBarMouseUp);\n      _this._d.isStart = true;\n      return false;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBarMouseMove\", function(e) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), _d = _assertThisInitialize2._d;\n      if (!_d.isStart) {\n        return;\n      }\n      var _assertThisInitialize3 = _assertThisInitialized(_this), pos = _assertThisInitialize3.pos, player = _assertThisInitialize3.player;\n      e.preventDefault();\n      e.stopPropagation();\n      util.event(e);\n      var _ePos = util.getEventPos(e, player.zoom);\n      _d.isMoving = true;\n      var w = pos.h - _ePos.clientY + pos.clientY;\n      if (w > pos.barH) {\n        return;\n      }\n      _this.updateVolumePos(w, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBarMouseUp\", function(e) {\n      util.event(e);\n      document.removeEventListener(\"mouseup\", _this.onBarMouseUp);\n      var _assertThisInitialize4 = _assertThisInitialized(_this), _d = _assertThisInitialize4._d;\n      _d.isStart = false;\n      _d.isMoving = false;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseenter\", function(e) {\n      _this._d.isActive = true;\n      _this.focus();\n      _this.emit(\"icon_mouseenter\", {\n        pluginName: _this.pluginName\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseleave\", function(e) {\n      _this._d.isActive = false;\n      _this.unFocus(100, false, e);\n      _this.emit(\"icon_mouseleave\", {\n        pluginName: _this.pluginName\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVolumeChange\", function(e) {\n      if (!_this.player) {\n        return;\n      }\n      var _this$player = _this.player, muted = _this$player.muted, volume = _this$player.volume;\n      if (!_this._d.isMoving) {\n        _this.find(\".xgplayer-drag\").style.height = muted || volume === 0 ? \"4px\" : \"\".concat(volume * 100, \"%\");\n        if (_this.config.showValueLabel) {\n          _this.updateVolumeValue();\n        }\n      }\n      _this.animate(muted, volume);\n    });\n    return _this;\n  }\n  _createClass(Volume2, [{\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        volumeSmall: {\n          icon: volumeSmallSvg,\n          class: \"xg-volume-small\"\n        },\n        volumeLarge: {\n          icon: volumeLargeSvg,\n          class: \"xg-volume\"\n        },\n        volumeMuted: {\n          icon: volumeMutedSvg,\n          class: \"xg-volume-mute\"\n        }\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._timerId = null;\n      this._d = {\n        isStart: false,\n        isMoving: false,\n        isActive: false\n      };\n      if (this.config.disable) {\n        return;\n      }\n      this.initIcons();\n      var _this$playerConfig = this.playerConfig, commonStyle = _this$playerConfig.commonStyle, volume = _this$playerConfig.volume;\n      if (commonStyle.volumeColor) {\n        this.find(\".xgplayer-drag\").style.backgroundColor = commonStyle.volumeColor;\n      }\n      this.changeMutedHandler = this.hook(\"mutedChange\", function(e) {\n        _this2.changeMuted(e);\n      }, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this._onMouseenterHandler = this.hook(\"mouseenter\", this.onMouseenter);\n      this._onMouseleaveHandler = this.hook(\"mouseleave\", this.onMouseleave);\n      if (!(sniffer.device === \"mobile\") && this.playerConfig.isMobileSimulateMode !== \"mobile\") {\n        this.bind(\"mouseenter\", this._onMouseenterHandler);\n        this.bind([\"blur\", \"mouseleave\"], this._onMouseleaveHandler);\n        this.bind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n        this.bind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n        this.bind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n      }\n      this.bind(\".xgplayer-icon\", [\"touchend\", \"click\"], this.changeMutedHandler);\n      this.on(VOLUME_CHANGE, this.onVolumeChange);\n      this.once(LOADED_DATA, this.onVolumeChange);\n      if (util.typeOf(volume) !== \"Number\") {\n        this.player.volume = this.config.default;\n      }\n      this.onVolumeChange();\n    }\n  }, {\n    key: \"updateVolumePos\",\n    value: function updateVolumePos(height, event) {\n      var player = this.player;\n      var drag = this.find(\".xgplayer-drag\");\n      var bar = this.find(\".xgplayer-bar\");\n      if (!bar || !drag) {\n        return;\n      }\n      var now = parseInt(height / bar.getBoundingClientRect().height * 1e3, 10);\n      drag.style.height = \"\".concat(height, \"px\");\n      var to = Math.max(Math.min(now / 1e3, 1), 0);\n      var props = {\n        volume: {\n          from: player.volume,\n          to\n        }\n      };\n      if (player.muted) {\n        props.muted = {\n          from: true,\n          to: false\n        };\n      }\n      this.emitUserAction(event, \"change_volume\", {\n        muted: player.muted,\n        volume: player.volume,\n        props\n      });\n      player.volume = Math.max(Math.min(now / 1e3, 1), 0);\n      player.muted && (player.muted = false);\n      if (this.config.showValueLabel) {\n        this.updateVolumeValue();\n      }\n    }\n  }, {\n    key: \"updateVolumeValue\",\n    value: function updateVolumeValue() {\n      var _this$player2 = this.player, volume = _this$player2.volume, muted = _this$player2.muted;\n      var $labelValue = this.find(\".xgplayer-value-label\");\n      var vol = Math.max(Math.min(volume, 1), 0);\n      $labelValue.innerText = muted ? 0 : Math.round(vol * 100);\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      var player = this.player;\n      player.focus({\n        autoHide: false\n      });\n      if (this._timerId) {\n        util.clearTimeout(this, this._timerId);\n        this._timerId = null;\n      }\n      util.addClass(this.root, \"slide-show\");\n    }\n  }, {\n    key: \"unFocus\",\n    value: function unFocus() {\n      var _this3 = this;\n      var delay = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 100;\n      var isForce = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      var e = arguments.length > 2 ? arguments[2] : void 0;\n      var _d = this._d, player = this.player;\n      if (_d.isActive) {\n        return;\n      }\n      if (this._timerId) {\n        util.clearTimeout(this, this._timerId);\n        this._timerId = null;\n      }\n      this._timerId = util.setTimeout(this, function() {\n        if (!_d.isActive) {\n          isForce ? player.blur() : player.focus();\n          util.removeClass(_this3.root, \"slide-show\");\n          _d.isStart && _this3.onBarMouseUp(e);\n        }\n        _this3._timerId = null;\n      }, delay);\n    }\n  }, {\n    key: \"changeMuted\",\n    value: function changeMuted(e) {\n      e && e.stopPropagation();\n      var player = this.player, _d = this._d;\n      _d.isStart && this.onBarMouseUp(e);\n      this.emitUserAction(e, \"change_muted\", {\n        muted: player.muted,\n        volume: player.volume,\n        props: {\n          muted: {\n            from: player.muted,\n            to: !player.muted\n          }\n        }\n      });\n      if (player.volume > 0) {\n        player.muted = !player.muted;\n      }\n      if (player.volume < 0.01) {\n        player.volume = this.config.miniVolume;\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(muted, volume) {\n      if (muted || volume === 0) {\n        this.setAttr(\"data-state\", \"mute\");\n      } else if (volume < 0.5 && this.icons.volumeSmall) {\n        this.setAttr(\"data-state\", \"small\");\n      } else {\n        this.setAttr(\"data-state\", \"normal\");\n      }\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.volumeSmall);\n      this.appendChild(\".xgplayer-icon\", icons.volumeLarge);\n      this.appendChild(\".xgplayer-icon\", icons.volumeMuted);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this._timerId) {\n        util.clearTimeout(this, this._timerId);\n        this._timerId = null;\n      }\n      this.unbind(\"mouseenter\", this.onMouseenter);\n      this.unbind([\"blur\", \"mouseleave\"], this.onMouseleave);\n      this.unbind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n      this.unbind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n      this.unbind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n      document.removeEventListener(\"mouseup\", this.onBarMouseUp);\n      this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.changeMutedHandler);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      var volume = this.config.default || this.player.volume;\n      var isShowVolumeValue = this.config.showValueLabel;\n      return '\\n    <xg-icon class=\"xgplayer-volume\" data-state=\"normal\">\\n      <div class=\"xgplayer-icon\">\\n      </div>\\n      <xg-slider class=\"xgplayer-slider\">\\n        '.concat(isShowVolumeValue ? '<div class=\"xgplayer-value-label\">'.concat(volume * 100, \"</div>\") : \"\", '\\n        <div class=\"xgplayer-bar\">\\n          <xg-drag class=\"xgplayer-drag\" style=\"height: ').concat(volume * 100, '%\"></xg-drag>\\n        </div>\\n      </xg-slider>\\n    </xg-icon>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"volume\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 1,\n        disable: false,\n        showValueLabel: false,\n        default: 0.6,\n        miniVolume: 0.2\n      };\n    }\n  }]);\n  return Volume2;\n}(Plugin);\nexport { Volume as default };\n","function RotateSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"-4 -6 40 40\" fill=\"none\">\\n  <g>\\n    <path transform=\"scale(1.5 1.5)\" d=\"M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z\" fill=\"white\"/>\\n    <path transform=\"scale(1.5 1.5)\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z\" fill=\"white\"/>\\n  </g>\\n  <defs>\\n    <clipPath>\\n      <rect width=\"40\" height=\"40\" fill=\"white\"/>\\n    </clipPath>\\n  </defs>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { RotateSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { VIDEO_RESIZE, ROTATE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport RotateSvg from \"../assets/rotate.js\";\nvar Rotate = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Rotate2, _IconPlugin);\n  var _super = _createSuper(Rotate2);\n  function Rotate2(args) {\n    var _this;\n    _classCallCheck(this, Rotate2);\n    _this = _super.call(this, args);\n    _this.rotateDeg = _this.config.rotateDeg || 0;\n    return _this;\n  }\n  _createClass(Rotate2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (this.config.disable) {\n        return;\n      }\n      _get(_getPrototypeOf(Rotate2.prototype), \"afterCreate\", this).call(this);\n      this.appendChild(\".xgplayer-icon\", this.icons.rotate);\n      this.onBtnClick = this.onBtnClick.bind(this);\n      this.bind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n      this.on(VIDEO_RESIZE, function() {\n        if (_this2.rotateDeg && _this2.config.innerRotate) {\n          util.setTimeout(_this2, function() {\n            _this2.updateRotateDeg(_this2.rotateDeg, _this2.config.innerRotate);\n          }, 100);\n        }\n      });\n      var root = this.player.root;\n      this.rootWidth = root.style.width || root.offsetWidth || root.clientWidth;\n      this.rootHeight = root.style.height || root.offsetHeight || root.clientHeight;\n      if (this.rotateDeg) {\n        this.updateRotateDeg(this.rotateDeg, this.config.innerRotate);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Rotate2.prototype), \"destroy\", this).call(this);\n      this.unbind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n    }\n  }, {\n    key: \"onBtnClick\",\n    value: function onBtnClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.emitUserAction(e, \"rotate\");\n      this.rotate(this.config.clockwise, this.config.innerRotate, 1);\n    }\n  }, {\n    key: \"updateRotateDeg\",\n    value: function updateRotateDeg(rotateDeg, innerRotate) {\n      if (!rotateDeg) {\n        rotateDeg = 0;\n      }\n      if (innerRotate) {\n        this.player.videoRotateDeg = rotateDeg;\n        return;\n      }\n      var player = this.player, rootWidth = this.rootWidth, rootHeight = this.rootHeight;\n      var root = player.root, innerContainer = player.innerContainer;\n      var video = player.media;\n      var width = root.offsetWidth;\n      var height = innerContainer && innerRotate ? innerContainer.offsetHeight : root.offsetHeight;\n      var rWidth = rootWidth;\n      var rHeight = rootHeight;\n      var x = 0;\n      var y = 0;\n      if (rotateDeg === 0.75 || rotateDeg === 0.25) {\n        rWidth = \"\".concat(height, \"px\");\n        rHeight = \"\".concat(width, \"px\");\n        x = -(height - width) / 2;\n        y = -(width - height) / 2;\n      }\n      var _transform = \"translate(\".concat(x, \"px,\").concat(y, \"px) rotate(\").concat(rotateDeg, \"turn)\");\n      var _styles = {\n        transformOrigin: \"center center\",\n        transform: _transform,\n        webKitTransform: _transform,\n        height: rHeight,\n        width: rWidth\n      };\n      var _target = innerRotate ? video : root;\n      var poster = innerRotate ? player.getPlugin(\"poster\") : null;\n      Object.keys(_styles).map(function(key) {\n        _target.style[key] = _styles[key];\n        poster && poster.root && (poster.root.style[key] = _styles[key]);\n      });\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate() {\n      var clockwise = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n      var innerRotate = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      var times = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1;\n      var player = this.player;\n      if (!this.rotateDeg) {\n        this.rotateDeg = 0;\n      }\n      var factor = clockwise ? 1 : -1;\n      this.rotateDeg = (this.rotateDeg + 1 + factor * 0.25 * times) % 1;\n      this.updateRotateDeg(this.rotateDeg, innerRotate);\n      player.emit(ROTATE, this.rotateDeg * 360);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        rotate: RotateSvg\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '\\n    <xg-icon class=\"xgplayer-rotate\">\\n      <div class=\"xgplayer-icon\">\\n      </div>\\n      '.concat(xgIconTips(this, \"ROTATE_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"rotate\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 6,\n        innerRotate: true,\n        clockwise: false,\n        rotateDeg: 0,\n        disable: false\n      };\n    }\n  }]);\n  return Rotate2;\n}(Icon);\nexport { Rotate as default };\n","function PipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIcon as default };\n","function PipIconExit() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIconExit as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf, toConsumableArray as _toConsumableArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { COMPLETE, PIP_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport PipIcon from \"../assets/pipIcon.js\";\nimport PipIconExit from \"../assets/pipIconExit.js\";\nvar PresentationMode = {\n  PIP: \"picture-in-picture\",\n  INLINE: \"inline\",\n  FULLSCREEN: \"fullscreen\"\n};\nvar PIP = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(PIP2, _IconPlugin);\n  var _super = _createSuper(PIP2);\n  function PIP2() {\n    var _this;\n    _classCallCheck(this, PIP2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"switchPIP\", function(e) {\n      if (!_this.isPIPAvailable()) {\n        return false;\n      }\n      e.stopPropagation && e.stopPropagation();\n      if (_this.isPip) {\n        _this.exitPIP();\n        _this.emitUserAction(e, \"change_pip\", {\n          props: \"pip\",\n          from: true,\n          to: false\n        });\n        _this.setAttr(\"data-state\", \"normal\");\n      } else if (_this.player.media.readyState === 4) {\n        _this.requestPIP();\n        _this.emitUserAction(e, \"change_pip\", {\n          props: \"pip\",\n          from: false,\n          to: true\n        });\n        _this.setAttr(\"data-state\", \"pip\");\n      }\n    });\n    return _this;\n  }\n  _createClass(PIP2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.pip === \"boolean\") {\n        args.config.showIcon = args.player.config.pip;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (!this.isPIPAvailable()) {\n        return;\n      }\n      _get(_getPrototypeOf(PIP2.prototype), \"afterCreate\", this).call(this);\n      this.pMode = PresentationMode.INLINE;\n      this.initPipEvents();\n      if (this.config.showIcon) {\n        this.initIcons();\n      }\n      this.once(COMPLETE, function() {\n        if (_this2.config.showIcon) {\n          util.removeClass(_this2.find(\".xgplayer-icon\"), \"xg-icon-disable\");\n          _this2.bind(\"click\", _this2.switchPIP);\n        }\n      });\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        pipIcon: {\n          icon: PipIcon,\n          class: \"xg-get-pip\"\n        },\n        pipIconExit: {\n          icon: PipIconExit,\n          class: \"xg-exit-pip\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.pipIcon);\n      this.appendChild(\".xgplayer-icon\", icons.pipIconExit);\n    }\n  }, {\n    key: \"initPipEvents\",\n    value: function initPipEvents() {\n      var _this3 = this;\n      var player = this.player;\n      this.leavePIPCallback = function() {\n        var paused = player.paused;\n        util.setTimeout(_this3, function() {\n          !paused && player.mediaPlay();\n        }, 0);\n        !paused && player.mediaPlay();\n        _this3.setAttr(\"data-state\", \"normal\");\n        _this3.pipWindow = null;\n        player.emit(PIP_CHANGE, false);\n      };\n      this.enterPIPCallback = function(e) {\n        player.emit(PIP_CHANGE, true);\n        if (e !== null && e !== void 0 && e.pictureInPictureWindow) {\n          _this3.pipWindow = e.pictureInPictureWindow;\n        }\n        _this3.setAttr(\"data-state\", \"pip\");\n      };\n      this.onWebkitpresentationmodechanged = function(e) {\n        var mode = player.media.webkitPresentationMode;\n        if (_this3.pMode === PresentationMode.FULLSCREEN && mode !== PresentationMode.FULLSCREEN) {\n          player.onFullscreenChange(null, false);\n        }\n        _this3.pMode = mode;\n        if (mode === PresentationMode.PIP) {\n          _this3.enterPIPCallback(e);\n        } else if (mode === PresentationMode.INLINE) {\n          _this3.leavePIPCallback(e);\n        }\n      };\n      if (player.media) {\n        player.media.addEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n        player.media.addEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n        PIP2.checkWebkitSetPresentationMode(player.media) && player.media.addEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n      }\n    }\n  }, {\n    key: \"copyStyleIntoPiPWindow\",\n    value: function copyStyleIntoPiPWindow(pipWin) {\n      var textContent = _toConsumableArray(document.styleSheets).map(function(style2) {\n        try {\n          return _toConsumableArray(style2.cssRules).map(function(rule) {\n            return rule.cssText;\n          }).join(\"\");\n        } catch (e) {\n          var link = document.createElement(\"link\");\n          link.rel = \"stylesheet\";\n          link.type = style2.type;\n          link.media = style2.media;\n          link.href = style2.href;\n          pipWin.document.head.appendChild(link);\n        }\n        return \"\";\n      }).filter(Boolean).join(\"\\n\");\n      var style = document.createElement(\"style\");\n      style.textContent = textContent;\n      pipWin.document.head.appendChild(style);\n    }\n  }, {\n    key: \"requestPIP\",\n    value: function requestPIP() {\n      var _this4 = this;\n      var player = this.player, playerConfig = this.playerConfig, config = this.config;\n      if (!this.isPIPAvailable() || this.isPip) {\n        return;\n      }\n      try {\n        var poster = playerConfig.poster;\n        if (poster) {\n          player.media.poster = util.typeOf(poster) === \"String\" ? poster : poster.poster;\n        }\n        if (config.preferDocument && this.isDocPIPAvailable()) {\n          var pipOptions = {};\n          if (config.width && config.height) {\n            pipOptions.width = config.width;\n            pipOptions.height = config.height;\n          } else {\n            var playerRect = player.root.getBoundingClientRect();\n            pipOptions.width = playerRect.width;\n            pipOptions.height = playerRect.height;\n          }\n          documentPictureInPicture.requestWindow(pipOptions).then(function(pipWin) {\n            var docPiPNode = config.docPiPNode, docPiPStyle = config.docPiPStyle;\n            _this4.enterPIPCallback();\n            var pipRoot = docPiPNode || player.root;\n            var parentNode = pipRoot.parentElement;\n            var previousSibling = pipRoot.previousSibling;\n            var nextSibling = pipRoot.nextSibling;\n            _this4.copyStyleIntoPiPWindow(pipWin);\n            var styles = document.createElement(\"style\");\n            styles.append(\"body{padding:0; margin:0;}\");\n            if (docPiPStyle) {\n              var cssContent = \"\";\n              if (typeof docPiPStyle === \"string\") {\n                cssContent = docPiPStyle;\n              } else if (typeof docPiPStyle === \"function\") {\n                cssContent = docPiPStyle.call(config);\n              }\n              if (cssContent) {\n                styles.append(cssContent);\n              }\n            } else if (pipRoot === player.root) {\n              styles.append(\"\\n              .xgplayer{width: 100%!important; height: 100%!important;}\\n            \");\n            }\n            pipWin.document.head.append(styles);\n            pipWin.document.body.append(pipRoot);\n            pipWin.addEventListener(\"pagehide\", function(event) {\n              if (parentNode) {\n                if (nextSibling) {\n                  parentNode.insertBefore(pipRoot, nextSibling);\n                } else if (previousSibling) {\n                  parentNode.insertBefore(pipRoot, previousSibling.nextSibling);\n                } else {\n                  parentNode.appendChild(pipRoot);\n                }\n              } else {\n              }\n              _this4.leavePIPCallback();\n            }, {\n              once: true\n            });\n          });\n        } else if (PIP2.checkWebkitSetPresentationMode(player.media)) {\n          player.media.webkitSetPresentationMode(\"picture-in-picture\");\n        } else {\n          player.media.requestPictureInPicture();\n        }\n        return true;\n      } catch (reason) {\n        console.error(\"requestPiP\", reason);\n        return false;\n      }\n    }\n  }, {\n    key: \"exitPIP\",\n    value: function exitPIP() {\n      var player = this.player;\n      try {\n        if (this.isPIPAvailable() && this.isPip) {\n          var _documentPictureInPic;\n          if (this.isDocPIPAvailable() && (_documentPictureInPic = documentPictureInPicture) !== null && _documentPictureInPic !== void 0 && _documentPictureInPic.window) {\n            documentPictureInPicture.window.close();\n          } else if (PIP2.checkWebkitSetPresentationMode(player.media)) {\n            player.media.webkitSetPresentationMode(\"inline\");\n          } else {\n            document.exitPictureInPicture();\n          }\n        }\n        return true;\n      } catch (reason) {\n        console.error(\"exitPIP\", reason);\n        return false;\n      }\n    }\n  }, {\n    key: \"isPip\",\n    get: function get() {\n      var _documentPictureInPic2;\n      var player = this.player;\n      return !!(this.isDocPIPAvailable() && (_documentPictureInPic2 = documentPictureInPicture) !== null && _documentPictureInPic2 !== void 0 && _documentPictureInPic2.window) || document.pictureInPictureElement && document.pictureInPictureElement === player.media || player.media.webkitPresentationMode === PresentationMode.PIP;\n    }\n  }, {\n    key: \"isPIPAvailable\",\n    value: function isPIPAvailable() {\n      var video = this.player.media;\n      var _isEnabled = util.typeOf(document.pictureInPictureEnabled) === \"Boolean\" ? document.pictureInPictureEnabled : false;\n      return _isEnabled && (util.typeOf(video.disablePictureInPicture) === \"Boolean\" && !video.disablePictureInPicture || video.webkitSupportsPresentationMode && util.typeOf(video.webkitSetPresentationMode) === \"Function\") || this.isDocPIPAvailable();\n    }\n  }, {\n    key: \"isDocPIPAvailable\",\n    value: function isDocPIPAvailable() {\n      return \"documentPictureInPicture\" in window && /^(https|file)/.test(location.protocol);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(PIP2.prototype), \"destroy\", this).call(this);\n      var player = this.player;\n      player.media.removeEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n      player.media.removeEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n      PIP2.checkWebkitSetPresentationMode(player.media) && player.media.removeEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n      this.exitPIP();\n      this.unbind(\"click\", this.btnClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.config.showIcon || !this.isPIPAvailable()) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-pip\">\\n      <div class=\"xgplayer-icon xg-icon-disable\">\\n      </div>\\n      '.concat(xgIconTips(this, \"PIP\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"pip\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 6,\n        showIcon: false,\n        preferDocument: false,\n        width: void 0,\n        height: void 0,\n        docPiPNode: void 0,\n        docPiPStyle: void 0\n      };\n    }\n  }, {\n    key: \"checkWebkitSetPresentationMode\",\n    value: function checkWebkitSetPresentationMode(video) {\n      return typeof video.webkitSetPresentationMode === \"function\";\n    }\n  }]);\n  return PIP2;\n}(Icon);\nexport { PIP as default };\n","function Next() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"40\" viewBox=\"10 0 24 40\">\\n  <path transform=\"scale(0.038 0.028)\" d=\"M800 380v768h-128v-352l-320 320v-704l320 320v-352z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { Next as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { PLAYNEXT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Next from \"../assets/playNext.js\";\nvar PlayNextIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(PlayNextIcon2, _Plugin);\n  var _super = _createSuper(PlayNextIcon2);\n  function PlayNextIcon2(options) {\n    var _this;\n    _classCallCheck(this, PlayNextIcon2);\n    _this = _super.call(this, options);\n    _defineProperty(_assertThisInitialized(_this), \"playNext\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      e.preventDefault();\n      e.stopPropagation();\n      if (_this.idx + 1 < _this.config.urlList.length) {\n        _this.idx++;\n        _this.nextHandler(_this.config.urlList[_this.idx], _this.idx);\n        player.emit(PLAYNEXT, _this.idx + 1);\n      } else {\n        _this.nextHandler();\n        player.emit(PLAYNEXT);\n      }\n    });\n    _this.idx = -1;\n    return _this;\n  }\n  _createClass(PlayNextIcon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      if (!this.config.urlList || this.config.urlList.length === 0) {\n        return;\n      }\n      this.appendChild(\".xgplayer-icon\", this.icons.playNext);\n      this.initEvents();\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        playNext: Next\n      };\n    }\n  }, {\n    key: \"initEvents\",\n    value: function initEvents() {\n      this.nextHandler = this.hook(\"nextClick\", this.changeSrc);\n      var event = sniffer.device === \"mobile\" ? \"touchend\" : \"click\";\n      this.bind(event, this.playNext);\n      this.show();\n    }\n  }, {\n    key: \"changeSrc\",\n    value: function changeSrc(url) {\n      var player = this.player;\n      if (!url) {\n        return;\n      }\n      player.pause();\n      player.currentTime = 0;\n      if (player.switchURL) {\n        player.switchURL(url);\n      } else {\n        player.src = url;\n      }\n      player.config.url = url;\n      player.play();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind([\"touchend\", \"click\"], this.playNext);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.config.urlList || this.config.urlList.length === 0) {\n        return;\n      }\n      return '\\n     <xg-icon class=\"xgplayer-playnext\">\\n      <div class=\"xgplayer-icon\">\\n      </div>\\n      '.concat(xgIconTips(this, \"PLAYNEXT_TIPS\", this.playerConfig.isHideTips), \"\\n     </xg-icon>\\n    \");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"playNext\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_LEFT,\n        index: 1,\n        url: null,\n        urlList: []\n      };\n    }\n  }]);\n  return PlayNextIcon2;\n}(Plugin);\nexport { PlayNextIcon as default };\n","function DownloadSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\\n  <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n    <g transform=\"translate(-488.000000, -340.000000)\" fill=\"#FFFFFF\">\\n      <g id=\"Group-2\">\\n        <g id=\"volme_big-copy\" transform=\"translate(488.000000, 340.000000)\">\\n          <rect id=\"Rectangle-18\" x=\"11\" y=\"4\" width=\"2\" height=\"12\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" x=\"3\" y=\"18\" width=\"18\" height=\"2\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" transform=\"translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) \" x=\"1.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect><rect id=\"Rectangle-2-Copy-3\" transform=\"translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) \" x=\"17.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect>\\n          <path d=\"M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z\" id=\"Combined-Shape\" transform=\"translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) \"></path>\\n        </g>\\n      </g>\\n    </g>\\n  </g>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { DownloadSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport downloadUtil from \"downloadjs\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport DownloadSvg from \"../assets/download.js\";\nvar Download = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Download2, _IconPlugin);\n  var _super = _createSuper(Download2);\n  function Download2(args) {\n    var _this;\n    _classCallCheck(this, Download2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"download\", function(e) {\n      if (_this.isLock) {\n        return;\n      }\n      _this.emitUserAction(e, \"download\");\n      var url = _this.playerConfig.url;\n      var dUrl = \"\";\n      if (util.typeOf(url) === \"String\") {\n        dUrl = url;\n      } else if (util.typeOf(url) === \"Array\" && url.length > 0) {\n        dUrl = url[0].src;\n      }\n      var newUrl = _this.getAbsoluteURL(dUrl);\n      downloadUtil(newUrl);\n      _this.isLock = true;\n      _this.timer = window.setTimeout(function() {\n        _this.isLock = false;\n        window.clearTimeout(_this.timer);\n        _this.timer = null;\n      }, 300);\n    });\n    _this.timer = null;\n    _this.isLock = false;\n    return _this;\n  }\n  _createClass(Download2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      _get(_getPrototypeOf(Download2.prototype), \"afterCreate\", this).call(this);\n      if (this.config.disable) {\n        return;\n      }\n      this.appendChild(\".xgplayer-icon\", this.icons.download);\n      this._handler = this.hook(\"click\", this.download, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.bind([\"click\", \"touchend\"], this._handler);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        download: DownloadSvg\n      };\n    }\n  }, {\n    key: \"getAbsoluteURL\",\n    value: function getAbsoluteURL(url) {\n      if (!url.match(/^https?:\\/\\//)) {\n        var div = document.createElement(\"div\");\n        div.innerHTML = '<a href=\"'.concat(url, '\">x</a>');\n        url = div.firstChild.href;\n      }\n      return url;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Download2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"click\", \"touchend\"], this.download);\n      window.clearTimeout(this.timer);\n      this.timer = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-download\">\\n   <div class=\"xgplayer-icon\">\\n   </div>\\n   '.concat(xgIconTips(this, \"DOWNLOAD_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"download\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 3,\n        disable: true\n      };\n    }\n  }]);\n  return Download2;\n}(Icon);\nexport { Download as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { VIDEO_RESIZE, SCREEN_SHOT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport Icon from \"../common/iconPlugin.js\";\nvar ScreenShot = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(ScreenShot2, _IconPlugin);\n  var _super = _createSuper(ScreenShot2);\n  function ScreenShot2() {\n    _classCallCheck(this, ScreenShot2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ScreenShot2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.screenShot === \"boolean\") {\n        args.config.disable = !args.player.config.screenShot;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      _get(_getPrototypeOf(ScreenShot2.prototype), \"afterCreate\", this).call(this);\n      this.appendChild(\".xgplayer-icon\", this.icons.screenshotIcon);\n      var config = this.config;\n      this.initSize = function(data) {\n        if (config.fitVideo) {\n          config.width = data.vWidth;\n          config.height = data.vHeight;\n        }\n      };\n      this.once(VIDEO_RESIZE, this.initSize);\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n      this.show();\n      this.onClickBtn = this.onClickBtn.bind(this);\n      this.bind([\"click\", \"touchend\"], this.onClickBtn);\n    }\n  }, {\n    key: \"saveScreenShot\",\n    value: function saveScreenShot(data, filename) {\n      var saveLink = document.createElement(\"a\");\n      saveLink.href = data;\n      saveLink.download = filename;\n      var event;\n      try {\n        if (typeof MouseEvent !== \"undefined\") {\n          event = new MouseEvent(\"click\", {\n            bubbles: true,\n            cancelable: true,\n            view: window\n          });\n        } else {\n          event = document.createEvent(\"MouseEvents\");\n          event.initMouseEvent(\"click\", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n        }\n      } catch (e) {\n        console.error(\"MouseEvent unsupported\", e);\n      }\n      if (event) {\n        saveLink.dispatchEvent(event);\n      }\n    }\n  }, {\n    key: \"createCanvas\",\n    value: function createCanvas(width, height) {\n      var canvas = document.createElement(\"canvas\");\n      var canvasCtx = canvas.getContext(\"2d\");\n      this.canvasCtx = canvasCtx;\n      this.canvas = canvas;\n      canvas.width = width || this.config.width;\n      canvas.height = height || this.config.height;\n      canvasCtx.imageSmoothingEnabled = true;\n      if (canvasCtx.imageSmoothingEnabled) {\n        canvasCtx.imageSmoothingQuality = \"high\";\n      }\n    }\n  }, {\n    key: \"onClickBtn\",\n    value: function onClickBtn(e) {\n      var _this = this;\n      e.preventDefault();\n      e.stopPropagation();\n      this.emitUserAction(e, \"shot\");\n      var config = this.config;\n      this.shot(config.width, config.height).then(function(data) {\n        _this.emit(SCREEN_SHOT, data);\n        if (config.saveImg) {\n          _this.saveScreenShot(data, config.name + config.format);\n        }\n      });\n    }\n  }, {\n    key: \"shot\",\n    value: function shot(width, height) {\n      var _this2 = this;\n      var option = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {\n        quality: 0.92,\n        type: \"image/png\"\n      };\n      var config = this.config, player = this.player;\n      var quality = option.quality || config.quality;\n      var type = option.type || config.type;\n      return new Promise(function(resolve, reject) {\n        var canvas = null;\n        var canvasCtx;\n        if (player.media.canvas) {\n          canvas = player.media.canvas;\n        } else {\n          if (!_this2.canvas) {\n            _this2.createCanvas(width, height);\n          } else {\n            _this2.canvas.width = width || config.width;\n            _this2.canvas.height = height || config.height;\n          }\n          canvas = _this2.canvas;\n          canvasCtx = _this2.canvasCtx;\n          var mediaRatio = player.media.videoWidth / player.media.videoHeight;\n          var canvasRatio = canvas.width / canvas.height;\n          var sx = 0, sy = 0, sw = player.media.videoWidth, sh = player.media.videoHeight;\n          var dx, dy, dw, dh;\n          if (mediaRatio > canvasRatio) {\n            dw = canvas.width;\n            dh = canvas.width / mediaRatio;\n            dx = 0;\n            dy = Math.round((canvas.height - dh) / 2);\n          } else if (mediaRatio === canvasRatio) {\n            dw = canvas.width;\n            dh = canvas.height;\n            dx = 0;\n            dy = 0;\n          } else if (mediaRatio < canvasRatio) {\n            dw = canvas.height * mediaRatio;\n            dh = canvas.height;\n            dx = Math.round((canvas.width - dw) / 2);\n            dy = 0;\n          }\n          canvasCtx.drawImage(player.media, sx, sy, sw, sh, dx, dy, dw, dh);\n        }\n        var src = canvas.toDataURL(type, quality).replace(type, \"image/octet-stream\");\n        src = src.replace(/^data:image\\/[^;]+/, \"data:application/octet-stream\");\n        resolve(src);\n      });\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        screenshotIcon: null\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(ScreenShot2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"click\", \"touchend\"], this.onClickBtn);\n      this.off(VIDEO_RESIZE, this.initSize);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      var className = this.icons.screenshotIcon ? \"xgplayer-icon\" : \"xgplayer-icon btn-text\";\n      var langKey = \"SCREENSHOT\";\n      return '\\n      <xg-icon class=\"xgplayer-shot\">\\n      <div class=\"'.concat(className, '\">\\n      ').concat(this.icons.screenshotIcon ? \"\" : '<span lang-key=\"'.concat(this.i18nKeys[langKey], '\">').concat(this.i18n[langKey], \"</span>\"), \"\\n      </div>\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"screenShot\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 5,\n        quality: 0.92,\n        type: \"image/png\",\n        format: \".png\",\n        width: 600,\n        height: 337,\n        saveImg: true,\n        fitVideo: true,\n        disable: false,\n        name: \"screenshot\"\n      };\n    }\n  }]);\n  return ScreenShot2;\n}(Icon);\nexport { ScreenShot as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar OptionList = /* @__PURE__ */ function() {\n  function OptionList2(args) {\n    _classCallCheck(this, OptionList2);\n    this.config = args.config;\n    this.parent = args.root;\n    this.root = util.createDom(\"ul\", \"\", {}, \"xg-options-list xg-list-slide-scroll \".concat(this.config.className));\n    args.root.appendChild(this.root);\n    var maxHeight = this.config.maxHeight;\n    if (maxHeight) {\n      this.setStyle({\n        maxHeight\n      });\n    }\n    this.onItemClick = this.onItemClick.bind(this);\n    this.renderItemList();\n    var eventName = this.config.domEventType === \"touch\" ? \"touchend\" : \"click\";\n    this._delegates = Plugin.delegate.call(this, this.root, \"li\", eventName, this.onItemClick);\n  }\n  _createClass(OptionList2, [{\n    key: \"renderItemList\",\n    value: function renderItemList(data) {\n      var _this = this;\n      var config = this.config, root = this.root;\n      if (data) {\n        config.data = data;\n      } else {\n        data = config.data;\n      }\n      if (config.style) {\n        Object.keys(config.style).map(function(key) {\n          root.style[key] = config[key];\n        });\n      }\n      if (data.length > 0) {\n        this.attrKeys = Object.keys(data[0]);\n      }\n      this.root.innerHTML = \"\";\n      data.map(function(item, index) {\n        var className = item.selected ? \"option-item selected\" : \"option-item\";\n        item[\"data-index\"] = index;\n        _this.root.appendChild(util.createDom(\"li\", \"<span>\".concat(item.showText, \"</span>\"), item, className));\n      });\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e) {\n      if (!e.delegateTarget) {\n        e.delegateTarget = e.target;\n      }\n      var target = e.delegateTarget;\n      if (target && util.hasClass(target, \"selected\")) {\n        return false;\n      }\n      var changeCallback = typeof this.config.onItemClick === \"function\" ? this.config.onItemClick : null;\n      var curSelected = this.root.querySelector(\".selected\");\n      util.addClass(target, \"selected\");\n      curSelected && util.removeClass(curSelected, \"selected\");\n      changeCallback(e, {\n        from: curSelected ? this.getAttrObj(curSelected, this.attrKeys) : null,\n        to: this.getAttrObj(target, this.attrKeys)\n      });\n    }\n  }, {\n    key: \"getAttrObj\",\n    value: function getAttrObj(dom, keys) {\n      if (!dom || !keys) {\n        return {};\n      }\n      var obj = {};\n      keys.map(function(key) {\n        obj[key] = dom.getAttribute(key);\n      });\n      var index = dom.getAttribute(\"data-index\");\n      if (index) {\n        obj.index = Number(index);\n      }\n      return obj;\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.removeClass(this.root, \"hide\");\n      util.addClass(this.root, \"active\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"active\");\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(style) {\n      var _this2 = this;\n      Object.keys(style).forEach(function(key) {\n        _this2.root.style[key] = style[key];\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this._delegates) {\n        this._delegates.map(function(item) {\n          item.destroy && item.destroy();\n        });\n        this._delegates = null;\n      }\n      this.root.innerHTML = null;\n      this.parent.removeChild(this.root);\n      this.root = null;\n    }\n  }]);\n  return OptionList2;\n}();\nexport { OptionList as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, typeof as _typeof } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VIDEO_RESIZE, FULLSCREEN_CHANGE, CANPLAY, PLAYER_FOCUS } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionList from \"./optionList.js\";\nvar LIST_TYPES = {\n  SIDE: \"side\",\n  MIDDLE: \"middle\",\n  DEFAULT: \"default\"\n};\nvar TOGGLE_MODES = {\n  CLICK: \"click\",\n  HOVER: \"hover\"\n};\nfunction getListClassName(listType, position) {\n  if (listType === LIST_TYPES.SIDE) {\n    return position === POSITIONS.CONTROLS_LEFT ? \"xg-side-list xg-left-side\" : \"xg-side-list xg-right-side\";\n  } else {\n    return \"\";\n  }\n}\nvar IS_MOBILE = sniffer.device === \"mobile\";\nvar OptionsIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(OptionsIcon2, _Plugin);\n  var _super = _createSuper(OptionsIcon2);\n  function OptionsIcon2(args) {\n    var _this;\n    _classCallCheck(this, OptionsIcon2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onEnter\", function(e) {\n      e.stopPropagation();\n      _this.emit(\"icon_mouseenter\", {\n        pluginName: _this.pluginName\n      });\n      _this.switchActiveState(e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"switchActiveState\", function(e) {\n      e.stopPropagation();\n      var toggleMode = _this.config.toggleMode;\n      if (toggleMode === TOGGLE_MODES.CLICK) {\n        _this.toggle(!_this.isActive);\n      } else {\n        _this.toggle(true);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onLeave\", function(e) {\n      e.stopPropagation();\n      _this.emit(\"icon_mouseleave\", {\n        pluginName: _this.pluginName\n      });\n      if (_this.config.listType !== LIST_TYPES.SIDE) {\n        _this.isActive && _this.toggle(false);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onListEnter\", function(e) {\n      _this.enterType = 2;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onListLeave\", function(e) {\n      _this.enterType = 0;\n      _this.isActive && _this.toggle(false);\n    });\n    _this.isIcons = false;\n    _this.isActive = false;\n    _this.curValue = null;\n    _this.curIndex = 0;\n    return _this;\n  }\n  _createClass(OptionsIcon2, [{\n    key: \"updateLang\",\n    value: function updateLang(value) {\n      this.renderItemList(this.config.list, this.curIndex);\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var config = this.config;\n      this.initIcons();\n      IS_MOBILE = IS_MOBILE || this.domEventType === \"touch\";\n      if (IS_MOBILE && sniffer.device === \"mobile\" && config.listType === LIST_TYPES.DEFAULT) {\n        config.listType = LIST_TYPES.SIDE;\n      }\n      config.hidePortrait && util.addClass(this.root, \"portrait\");\n      this.on([VIDEO_RESIZE, FULLSCREEN_CHANGE], function() {\n        _this2._resizeList();\n      });\n      this.once(CANPLAY, function() {\n        if (config.list && config.list.length > 0) {\n          _this2.renderItemList(config.list);\n          _this2.show();\n        }\n      });\n      IS_MOBILE && this.on(PLAYER_FOCUS, function() {\n        if (!_this2.isActive) {\n          return;\n        }\n        _this2.optionsList && _this2.optionsList.hide();\n        _this2.isActive = false;\n      });\n      if (IS_MOBILE) {\n        config.toggleMode = TOGGLE_MODES.CLICK;\n        this.activeEvent = \"touchend\";\n      } else {\n        this.activeEvent = config.toggleMode === TOGGLE_MODES.CLICK ? \"click\" : \"mouseenter\";\n      }\n      if (config.toggleMode === TOGGLE_MODES.CLICK) {\n        this.bind(this.activeEvent, this.switchActiveState);\n      } else {\n        this.bind(this.activeEvent, this.onEnter);\n        this.bind(\"mouseleave\", this.onLeave);\n      }\n      this.isIcons && this.bind(\"click\", this.onIconClick);\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var _this3 = this;\n      var icons = this.icons;\n      var _c = Object.keys(icons);\n      var _isIcons = false;\n      if (_c.length > 0) {\n        _c.forEach(function(key) {\n          _this3.appendChild(\".xgplayer-icon\", icons[key]);\n          !_isIcons && (_isIcons = icons[key]);\n        });\n        this.isIcons = _isIcons;\n      }\n      if (_isIcons) {\n        return;\n      }\n      this.appendChild(\".xgplayer-icon\", util.createDom(\"span\", \"\", {}, \"icon-text\"));\n      util.addClass(this.find(\".xgplayer-icon\"), \"btn-text\");\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      if (!this.config.list || this.config.list.length < 2) {\n        return;\n      }\n      util.addClass(this.root, \"show\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"show\");\n    }\n  }, {\n    key: \"getTextByLang\",\n    value: function getTextByLang(item, key, lang) {\n      if (item === void 0) {\n        return \"\";\n      }\n      var list = this.config.list;\n      !lang && (lang = this.player.lang);\n      key = !key || util.isUndefined(item[key]) ? \"text\" : key;\n      typeof item === \"number\" && (item = list[item]);\n      try {\n        if (_typeof(item[key]) === \"object\") {\n          return item[key][lang] || item[key].en;\n        } else {\n          return item[key];\n        }\n      } catch (err) {\n        console.warn(err);\n        return \"\";\n      }\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle(isActive) {\n      if (isActive === this.isActive || this.config.disable)\n        return;\n      var controls = this.player.controls;\n      var listType = this.config.listType;\n      if (isActive) {\n        listType === LIST_TYPES.SIDE ? controls.blur() : controls.focus();\n        this.optionsList && this.optionsList.show();\n      } else {\n        listType === LIST_TYPES.SIDE ? controls.focus() : controls.focusAwhile();\n        this.optionsList && this.optionsList.hide();\n      }\n      this.isActive = isActive;\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e, data) {\n      e.stopPropagation();\n      var _this$config = this.config, listType = _this$config.listType, list = _this$config.list;\n      this.curIndex = data.to.index;\n      this.curItem = list[this.curIndex];\n      this.changeCurrentText();\n      var isItemClickHide = this.config.isItemClickHide;\n      (isItemClickHide || IS_MOBILE || listType === LIST_TYPES.SIDE) && this.toggle(false);\n    }\n  }, {\n    key: \"onIconClick\",\n    value: function onIconClick(e) {\n    }\n  }, {\n    key: \"changeCurrentText\",\n    value: function changeCurrentText() {\n      if (this.isIcons) {\n        return;\n      }\n      var list = this.config.list;\n      var index = this.curIndex < list.length ? this.curIndex : 0;\n      var curItem = list[index];\n      if (!curItem)\n        return;\n      this.find(\".icon-text\").innerHTML = this.getTextByLang(curItem, \"iconText\");\n    }\n  }, {\n    key: \"renderItemList\",\n    value: function renderItemList(itemList, curIndex) {\n      var _this4 = this;\n      var config = this.config, optionsList = this.optionsList, player = this.player;\n      if (typeof curIndex === \"number\") {\n        this.curIndex = curIndex;\n        this.curItem = config.list[curIndex];\n      }\n      if (optionsList) {\n        optionsList.renderItemList(itemList);\n        this.changeCurrentText();\n        return;\n      }\n      var options = {\n        config: {\n          data: itemList || [],\n          className: getListClassName(config.listType, config.position),\n          onItemClick: function onItemClick(e, data) {\n            _this4.onItemClick(e, data);\n          },\n          domEventType: IS_MOBILE ? \"touch\" : \"mouse\"\n        },\n        root: config.listType === LIST_TYPES.SIDE ? player.innerContainer || player.root : this.root\n      };\n      if (this.config.isShowIcon) {\n        var _this$player$root$get = this.player.root.getBoundingClientRect(), height = _this$player$root$get.height;\n        var _maxH = config.listType === LIST_TYPES.MIDDLE ? height - 50 : height;\n        if (_maxH && config.heightLimit) {\n          options.config.maxHeight = \"\".concat(_maxH, \"px\");\n        }\n        this.optionsList = new OptionList(options);\n        this.changeCurrentText();\n        this.show();\n      }\n      this._resizeList();\n    }\n  }, {\n    key: \"_resizeList\",\n    value: function _resizeList() {\n      if (!this.config.heightLimit) {\n        return;\n      }\n      var _this$player$root$get2 = this.player.root.getBoundingClientRect(), height = _this$player$root$get2.height;\n      var _maxH = this.config.listType === LIST_TYPES.MIDDLE ? height - 50 : height;\n      this.optionsList && this.optionsList.setStyle({\n        maxHeight: \"\".concat(_maxH, \"px\")\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var config = this.config;\n      if (config.toggleMode === TOGGLE_MODES.CLICK) {\n        this.unbind(this.activeEvent, this.switchActiveState);\n      } else {\n        this.unbind(this.activeEvent, this.onEnter);\n        this.unbind(\"mouseleave\", this.onLeave);\n      }\n      this.isIcons && this.unbind(\"click\", this.onIconClick);\n      if (this.optionsList) {\n        this.optionsList.destroy();\n        this.optionsList = null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.config.isShowIcon) {\n        return;\n      }\n      return '<xg-icon class=\"xg-options-icon '.concat(this.config.className || \"\", '\">\\n    <div class=\"xgplayer-icon\">\\n    </div>\\n   </xg-icon>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"optionsIcon\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 100,\n        list: [],\n        listType: \"default\",\n        listStyle: {},\n        hidePortrait: true,\n        isShowIcon: false,\n        isItemClickHide: true,\n        toggleMode: TOGGLE_MODES.HOVER,\n        heightLimit: true\n      };\n    }\n  }]);\n  return OptionsIcon2;\n}(Plugin);\nexport { OptionsIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DEFINITION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nvar DefinitionIcon = /* @__PURE__ */ function(_OptionsIcon) {\n  _inherits(DefinitionIcon2, _OptionsIcon);\n  var _super = _createSuper(DefinitionIcon2);\n  function DefinitionIcon2(args) {\n    var _this;\n    _classCallCheck(this, DefinitionIcon2);\n    _this = _super.call(this, args);\n    _this.curTime = 0;\n    _this.isPaused = true;\n    return _this;\n  }\n  _createClass(DefinitionIcon2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      var list = args.config.list;\n      if (Array.isArray(list) && list.length > 0) {\n        args.config.list = list.map(function(item) {\n          if (!item.text && item.name) {\n            item.text = item.name;\n          }\n          if (!item.text) {\n            item.text = item.definition;\n          }\n          return item;\n        });\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      _get(_getPrototypeOf(DefinitionIcon2.prototype), \"afterCreate\", this).call(this);\n      this.on(\"resourceReady\", function(list) {\n        _this2.changeDefinitionList(list);\n      });\n      this.on(DEFINITION_CHANGE, function(data) {\n        _this2.renderItemList(_this2.config.list, data.to);\n      });\n      if (this.player.definitionList.length < 2) {\n        this.hide();\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      if (!this.config.list || this.config.list.length < 2) {\n        return;\n      }\n      util.addClass(this.root, \"show\");\n    }\n  }, {\n    key: \"initDefinition\",\n    value: function initDefinition() {\n      var _this$config = this.config, list = _this$config.list, defaultDefinition = _this$config.defaultDefinition;\n      if (list.length > 0) {\n        var to = null;\n        list.map(function(item) {\n          if (item.definition === defaultDefinition) {\n            to = item;\n          }\n        });\n        if (!to) {\n          to = list[0];\n        }\n        this.changeDefinition(to);\n      }\n    }\n  }, {\n    key: \"renderItemList\",\n    value: function renderItemList() {\n      var _this3 = this;\n      var list = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.list || [];\n      var to = arguments.length > 1 ? arguments[1] : void 0;\n      var targetDef = to && to.definition ? to.definition : this.config.defaultDefinition;\n      if (to) {\n        list.forEach(function(item) {\n          item.selected = false;\n        });\n      }\n      var curIndex = 0;\n      var items = list.map(function(item, index) {\n        var showItem = _objectSpread2(_objectSpread2({}, item), {}, {\n          showText: _this3.getTextByLang(item) || item.definition,\n          selected: false\n        });\n        if (item.selected || item.definition && item.definition == targetDef) {\n          showItem.selected = true;\n          curIndex = index;\n        }\n        return showItem;\n      });\n      _get(_getPrototypeOf(DefinitionIcon2.prototype), \"renderItemList\", this).call(this, items, curIndex);\n    }\n  }, {\n    key: \"changeDefinitionList\",\n    value: function changeDefinitionList(list) {\n      if (!Array.isArray(list)) {\n        return;\n      }\n      this.config.list = list.map(function(item) {\n        if (!item.text && item.name) {\n          item.text = item.name;\n        }\n        if (!item.text) {\n          item.text = item.definition;\n        }\n        return item;\n      });\n      this.renderItemList();\n      this.config.list.length < 2 ? this.hide() : this.show();\n    }\n  }, {\n    key: \"changeDefinition\",\n    value: function changeDefinition(to, from) {\n      this.player.changeDefinition(to, from);\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e, data) {\n      var definitionList = this.player.definitionList;\n      _get(_getPrototypeOf(DefinitionIcon2.prototype), \"onItemClick\", this).apply(this, arguments);\n      this.emitUserAction(e, \"change_definition\", {\n        from: data.from,\n        to: data.to\n      });\n      for (var i = 0; i < definitionList.length; i++) {\n        if (data.to && definitionList[i].definition === data.to.definition) {\n          data.to.url = definitionList[i].url;\n        }\n        if (data.from && definitionList[i].definition === data.from.definition) {\n          data.from.url = definitionList[i].url;\n        }\n      }\n      this.player.changeDefinition(data.to, data.from);\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"definition\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return _objectSpread2(_objectSpread2({}, OptionsIcon.defaultConfig), {}, {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 3,\n        list: [],\n        defaultDefinition: \"\",\n        disable: false,\n        hidePortrait: false,\n        className: \"xgplayer-definition\",\n        isShowIcon: true\n      });\n    }\n  }]);\n  return DefinitionIcon2;\n}(OptionsIcon);\nexport { DefinitionIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { RATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nvar PlaybackRate = /* @__PURE__ */ function(_OptionsIcon) {\n  _inherits(PlaybackRate2, _OptionsIcon);\n  var _super = _createSuper(PlaybackRate2);\n  function PlaybackRate2(args) {\n    var _this;\n    _classCallCheck(this, PlaybackRate2);\n    _this = _super.call(this, args);\n    _this.curRate = 1;\n    return _this;\n  }\n  _createClass(PlaybackRate2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      var playbackRate = args.player.config.playbackRate;\n      var list = !playbackRate ? [] : Array.isArray(playbackRate) ? playbackRate : args.config.list;\n      if (Array.isArray(list)) {\n        args.config.list = list.map(function(item) {\n          if (typeof item === \"number\") {\n            item = {\n              rate: item,\n              text: \"\".concat(item, \"x\")\n            };\n          } else if (!item.text && item.rate) {\n            item.text = \"\".concat(item.rate, \"x\");\n          }\n          return item;\n        });\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"afterCreate\", this).call(this);\n      this.on(RATE_CHANGE, function() {\n        if (_this2.curValue === _this2.player.playbackRate) {\n          return;\n        }\n        _this2.renderItemList();\n      });\n      this.renderItemList();\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      if (!this.config.list || this.config.list.length === 0) {\n        return;\n      }\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"show\", this).call(this);\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e, _data) {\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"onItemClick\", this).call(this, e, _data);\n      var target = e.delegateTarget;\n      var rate = Number(target.getAttribute(\"rate\"));\n      if (!rate || rate === this.curValue) {\n        return false;\n      }\n      var props = {\n        playbackRate: {\n          from: this.player.playbackRate,\n          to: rate\n        }\n      };\n      this.emitUserAction(e, \"change_rate\", {\n        props\n      });\n      this.curValue = rate;\n      this.player.playbackRate = rate;\n    }\n  }, {\n    key: \"renderItemList\",\n    value: function renderItemList() {\n      var _this3 = this;\n      var playbackRate = this.player.playbackRate || 1;\n      this.curValue = playbackRate;\n      var curIndex = -1;\n      var items = this.config.list.map(function(item, index) {\n        var itemInfo = {\n          rate: item.rate\n        };\n        if (itemInfo.rate === playbackRate) {\n          itemInfo.selected = true;\n          curIndex = index;\n        }\n        itemInfo.showText = _this3.getTextByLang(item);\n        return itemInfo;\n      });\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"renderItemList\", this).call(this, items, curIndex);\n    }\n  }, {\n    key: \"changeCurrentText\",\n    value: function changeCurrentText() {\n      if (this.isIcons) {\n        return;\n      }\n      var list = this.config.list;\n      var index = this.curIndex < list.length ? this.curIndex : 0;\n      var curItem = list[index];\n      var _text = \"\";\n      if (!curItem || this.curIndex < 0) {\n        _text = \"\".concat(this.player.playbackRate, \"x\");\n      } else {\n        _text = this.getTextByLang(curItem, \"iconText\");\n      }\n      this.find(\".icon-text\").innerHTML = _text;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"destroy\", this).call(this);\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"playbackRate\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return _objectSpread2(_objectSpread2({}, OptionsIcon.defaultConfig), {}, {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 4,\n        list: [2, 1.5, 1, 0.75, 0.5],\n        className: \"xgplayer-playbackrate\",\n        isShowIcon: true,\n        hidePortrait: false\n      });\n    }\n  }]);\n  return PlaybackRate2;\n}(OptionsIcon);\nexport { PlaybackRate as default };\n","function CssFullSceenSvg() {\n  return new DOMParser().parseFromString(`<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" class='path_full' d=\"M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\n</svg>\n`, \"image/svg+xml\").firstChild;\n}\nexport { CssFullSceenSvg as default };\n","function ExitCssFullSceenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" d=\"M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitCssFullSceenSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { CSS_FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport CssFullSceenSvg from \"../assets/requestCssFull.js\";\nimport ExitCssFullSceenSvg from \"../assets/exitCssFull.js\";\nvar CssFullScreen = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(CssFullScreen2, _IconPlugin);\n  var _super = _createSuper(CssFullScreen2);\n  function CssFullScreen2() {\n    _classCallCheck(this, CssFullScreen2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(CssFullScreen2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.cssFullscreen === \"boolean\") {\n        args.config.disable = !args.player.config.cssFullscreen;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      _get(_getPrototypeOf(CssFullScreen2.prototype), \"afterCreate\", this).call(this);\n      if (this.config.disable) {\n        return;\n      }\n      if (this.config.target) {\n        this.playerConfig.fullscreenTarget = this.config.target;\n      }\n      this.initIcons();\n      this.on(CSS_FULLSCREEN_CHANGE, function(isCssfullScreen) {\n        _this.animate(isCssfullScreen);\n      });\n      this.btnClick = this.btnClick.bind(this);\n      this.handleCssFullscreen = this.hook(\"cssFullscreen_change\", this.btnClick, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.bind([\"click\", \"touchend\"], this.handleCssFullscreen);\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      var contentIcon = this.find(\".xgplayer-icon\");\n      contentIcon.appendChild(icons.cssFullscreen);\n      contentIcon.appendChild(icons.exitCssFullscreen);\n    }\n  }, {\n    key: \"btnClick\",\n    value: function btnClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var isCssfullScreen = this.player.isCssfullScreen;\n      this.emitUserAction(e, \"switch_cssfullscreen\", {\n        cssfullscreen: isCssfullScreen\n      });\n      if (!isCssfullScreen) {\n        this.player.getCssFullscreen();\n      } else {\n        this.player.exitCssFullscreen();\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(isFullScreen) {\n      if (!this.root) {\n        return;\n      }\n      isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n      this.switchTips(isFullScreen);\n    }\n  }, {\n    key: \"switchTips\",\n    value: function switchTips(isFullScreen) {\n      var i18nKeys = this.i18nKeys;\n      var tipDom = this.find(\".xg-tips\");\n      tipDom && this.changeLangTextKey(tipDom, isFullScreen ? i18nKeys.EXITCSSFULLSCREEN_TIPS : i18nKeys.CSSFULLSCREEN_TIPS);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        cssFullscreen: {\n          icon: CssFullSceenSvg,\n          class: \"xg-get-cssfull\"\n        },\n        exitCssFullscreen: {\n          icon: ExitCssFullSceenSvg,\n          class: \"xg-exit-cssfull\"\n        }\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(CssFullScreen2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"click\", \"touchend\"], this.btnClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return `<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    </div>\n    `.concat(xgIconTips(this, \"CSSFULLSCREEN_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"cssFullscreen\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 1,\n        disable: false,\n        target: null\n      };\n    }\n  }]);\n  return CssFullScreen2;\n}(Icon);\nexport { CssFullScreen as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { ERROR } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar ErrorPlugin = /* @__PURE__ */ function(_Plugin) {\n  _inherits(ErrorPlugin2, _Plugin);\n  var _super = _createSuper(ErrorPlugin2);\n  function ErrorPlugin2() {\n    _classCallCheck(this, ErrorPlugin2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ErrorPlugin2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.clickHandler = this.hook(\"errorRetry\", this.errorRetry, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.onError = this.hook(\"showError\", this.handleError);\n      this.bind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n      this.on(ERROR, function(error) {\n        _this.onError(error);\n      });\n    }\n  }, {\n    key: \"errorRetry\",\n    value: function errorRetry(e) {\n      this.emitUserAction(e, \"error_retry\", {});\n      this.player.retry();\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError() {\n      var error = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n      var player = this.player;\n      var type = error.errorType;\n      var errorNote = player.errorNote ? this.i18n[player.errorNote] : \"\";\n      if (!errorNote) {\n        switch (type) {\n          case \"decoder\":\n            errorNote = this.i18n.MEDIA_ERR_DECODE;\n            break;\n          case \"network\":\n            errorNote = this.i18n.MEDIA_ERR_NETWORK;\n            break;\n          default:\n            errorNote = this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED;\n        }\n      }\n      this.find(\".xgplayer-error-text\").innerHTML = errorNote;\n      this.find(\".xgplayer-error-tips\").innerHTML = \"\".concat(this.i18n.REFRESH_TIPS, '<span class=\"xgplayer-error-refresh\">').concat(this.i18n.REFRESH, \"</span>\");\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-error class=\"xgplayer-error\">\\n      <div class=\"xgplayer-errornote\">\\n       <span class=\"xgplayer-error-text\"></span>\\n       <span class=\"xgplayer-error-tips\"><em class=\"xgplayer-error-refresh\"></em></span>\\n      </div>\\n    </xg-error>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"error\";\n    }\n  }]);\n  return ErrorPlugin2;\n}(Plugin);\nexport { ErrorPlugin as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nvar Prompt = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Prompt2, _Plugin);\n  var _super = _createSuper(Prompt2);\n  function Prompt2() {\n    _classCallCheck(this, Prompt2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Prompt2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.intervalId = 0;\n      this.customConfig = null;\n      this.bind(\".highlight\", [\"click\", \"touchend\"], function(e) {\n        if (_this.config.onClick || _this.customOnClick) {\n          e.preventDefault();\n          e.stopPropagation();\n          _this.customOnClick ? _this.customOnClick(e) : _this.config.onClick(e);\n        }\n      });\n      this.player.showPrompt = function() {\n        _this.showPrompt.apply(_this, arguments);\n      };\n      this.player.hidePrompt = function() {\n        _this.hide();\n      };\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(style) {\n      var _this2 = this;\n      Object.keys(style).map(function(key) {\n        _this2.root.style[key] = style[key];\n      });\n    }\n  }, {\n    key: \"showPrompt\",\n    value: function showPrompt(detail) {\n      var _this3 = this;\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var onClick = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : function() {\n      };\n      if (!detail) {\n        return;\n      }\n      this.customOnClick = onClick;\n      var interval = this.config.interval;\n      if (this.intervalId) {\n        clearTimeout(this.intervalId);\n        this.intervalId = null;\n      }\n      util.addClass(this.root, \"show\");\n      config.mode === \"arrow\" && util.addClass(this.root, \"arrow\");\n      if (typeof detail === \"string\") {\n        this.find(\".xgplayer-prompt-detail\").innerHTML = detail;\n      } else {\n        this.find(\".xgplayer-prompt-detail\").innerHTML = \"\".concat(detail.text || \"\") + \"\".concat(detail.highlight ? '<i class=\"highlight\">'.concat(detail.highlight, \"</i>\") : \"\");\n      }\n      config.style && this.setStyle(config.style);\n      var autoHide = typeof config.autoHide === \"boolean\" ? config.autoHide : this.config.autoHide;\n      if (autoHide) {\n        var hideinterval = config.interval || interval;\n        this.intervalId = setTimeout(function() {\n          _this3.hide();\n        }, hideinterval);\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"show\");\n      util.removeClass(this.root, \"arrow\");\n      this.root.removeAttribute(\"style\");\n      this.customOnClick = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-prompt class=\"xgplayer-prompt '.concat(STATE_CLASS.CONTROLS_FOLLOW, '\">\\n    <span class=\"xgplayer-prompt-detail\"></span>\\n    </xg-prompt>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"prompt\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        interval: 3e3,\n        style: {},\n        mode: \"arrow\",\n        autoHide: true,\n        detail: {\n          text: \"\",\n          highlight: \"\"\n        },\n        onClick: function onClick() {\n        }\n      };\n    }\n  }]);\n  return Prompt2;\n}(Plugin);\nexport { Prompt as default };\n","import util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nvar ISPOT = {\n  time: 0,\n  text: \"\",\n  id: 1,\n  duration: 1,\n  color: \"#fff\",\n  style: {},\n  width: 6,\n  height: 6\n};\nfunction mergeISPOT(iSpot) {\n  Object.keys(ISPOT).map(function(key) {\n    if (iSpot[key] === void 0) {\n      iSpot[key] = ISPOT[key];\n    }\n  });\n}\nvar APIS = {\n  _updateDotDom: function _updateDotDom(iSpot, dotDom) {\n    if (!dotDom) {\n      return;\n    }\n    var ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    var style = iSpot.style || {};\n    style.left = \"\".concat(ret.left, \"%\");\n    style.width = \"\".concat(ret.width, \"%\");\n    dotDom.setAttribute(\"data-text\", iSpot.text);\n    dotDom.setAttribute(\"data-time\", iSpot.time);\n    if (ret.isMini) {\n      util.addClass(dotDom, \"mini\");\n    } else {\n      util.removeClass(dotDom, \"mini\");\n    }\n    Object.keys(style).map(function(key) {\n      dotDom.style[key] = style[key];\n    });\n  },\n  initDots: function initDots() {\n    var _this = this;\n    this._ispots.map(function(item) {\n      _this.createDot(item, false);\n    });\n    this.ispotsInit = true;\n  },\n  createDot: function createDot(iSpot) {\n    var isNew = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    if (isNew) {\n      mergeISPOT(iSpot);\n      this._ispots.push(iSpot);\n    }\n    if (!this.ispotsInit && isNew) {\n      return;\n    }\n    var ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    var style = iSpot.style || {};\n    style.left = \"\".concat(ret.left, \"%\");\n    style.width = \"\".concat(ret.width, \"%\");\n    var className = \"xgspot_\".concat(iSpot.id, \" xgplayer-spot\");\n    ret.isMini && (className += \" mini\");\n    var _t = iSpot.template ? '<div class=\"xgplayer-spot-pop\">'.concat(iSpot.template, \"</div>\") : \"\";\n    var dotDom = util.createDom(\"xg-spot\", _t, {\n      \"data-text\": iSpot.text,\n      \"data-time\": iSpot.time,\n      \"data-id\": iSpot.id\n    }, className);\n    Object.keys(style).map(function(key) {\n      dotDom.style[key] = style[key];\n    });\n    progress.outer && progress.outer.appendChild(dotDom);\n    this.positionDot(dotDom, iSpot.id);\n  },\n  findDot: function findDot(id) {\n    if (!this.player.plugins.progress) {\n      return;\n    }\n    var ret = this._ispots.filter(function(cur, index) {\n      return cur.id === id;\n    });\n    return ret.length > 0 ? ret[0] : null;\n  },\n  updateDot: function updateDot(iSpot) {\n    var needShow = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    var dot = this.findDot(iSpot.id);\n    if (dot) {\n      Object.keys(iSpot).map(function(key) {\n        dot[key] = iSpot[key];\n      });\n    }\n    if (!this.ispotsInit) {\n      return;\n    }\n    var dotDom = progress.find('xg-spot[data-id=\"'.concat(iSpot.id, '\"]'));\n    if (!dotDom) {\n      return;\n    }\n    this._updateDotDom(iSpot, dotDom);\n    if (needShow) {\n      this.showDot(iSpot.id);\n    }\n  },\n  deleteDot: function deleteDot(id) {\n    var _ispots = this._ispots;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    var del = [];\n    for (var i = 0; i < _ispots.length; i++) {\n      if (_ispots[i].id === id) {\n        del.push(i);\n      }\n    }\n    var len = del.length;\n    for (var _i = len - 1; _i >= 0; _i--) {\n      _ispots.splice(del[_i], 1);\n      if (this.ispotsInit) {\n        var dotDom = progress.find('xg-spot[data-id=\"'.concat(id, '\"]'));\n        if (dotDom) {\n          dotDom.parentElement.removeChild(dotDom);\n        }\n      }\n    }\n  },\n  deleteAllDots: function deleteAllDots() {\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = [];\n      return;\n    }\n    var dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    for (var i = dotDoms.length - 1; i >= 0; i--) {\n      progress.outer.removeChild(dotDoms[i]);\n    }\n    this._ispots = [];\n  },\n  updateAllDots: function updateAllDots() {\n    var _this2 = this;\n    var iSpots = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = iSpots;\n      return;\n    }\n    this._ispots = [];\n    var dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    var len = dotDoms.length;\n    if (len > iSpots.length) {\n      for (var i = len - 1; i > iSpots.length - 1; i--) {\n        progress.outer.removeChild(dotDoms[i]);\n      }\n    }\n    iSpots.forEach(function(ispot, index) {\n      if (index < len) {\n        dotDoms[index].setAttribute(\"data-id\", \"\".concat(ispot.id));\n        _this2._ispots.push(ispot);\n        _this2.updateDot(ispot);\n      } else {\n        _this2.createDot(ispot);\n      }\n    });\n  },\n  positionDots: function positionDots() {\n    var _this3 = this;\n    var _ispots = this._ispots, playerSize = this.playerSize;\n    var sizeInfo = this.player.sizeInfo;\n    var progress = this.player.plugins.progress;\n    if (!progress || sizeInfo.width === playerSize.width) {\n      return;\n    }\n    playerSize.width = sizeInfo.width;\n    playerSize.left = sizeInfo.left;\n    _ispots.forEach(function(item) {\n      var dotDom = progress.find('xg-spot[data-id=\"'.concat(item.id, '\"]'));\n      dotDom && _this3.positionDot(dotDom, item.id);\n    });\n  },\n  positionDot: function positionDot(dotDom, id) {\n    var _pop = util.findDom(dotDom, \".xgplayer-spot-pop\");\n    if (!_pop) {\n      return;\n    }\n    var pRect = this.playerSize;\n    var rect1 = dotDom.getBoundingClientRect();\n    var rect = _pop.getBoundingClientRect();\n    var _left = rect1.left - pRect.left;\n    var _diff = pRect.width - _left - rect1.width / 2;\n    if (_left < rect.width / 2 || pRect.width < rect.width) {\n      var t = rect.width / 2 - _left;\n      _pop.style.left = \"\".concat(t, \"px\");\n    } else if (_diff < rect.width / 2) {\n      var _t2 = _diff - rect.width / 2 + rect1.width / 2;\n      _pop.style.left = \"\".concat(_t2, \"px\");\n    } else {\n      _pop.style.left = \"50%\";\n    }\n  },\n  updateDuration: function updateDuration() {\n    var _this4 = this;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    var _ispots = this._ispots;\n    _ispots.forEach(function(item) {\n      var dotDom = progress.find('xg-spot[data-id=\"'.concat(item.id, '\"]'));\n      _this4._updateDotDom(item, dotDom);\n    });\n  },\n  getAllDotsDom: function getAllDotsDom() {\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return [];\n    }\n    var dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    return dotDoms;\n  },\n  getDotDom: function getDotDom(id) {\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    return progress.find('xg-spot[data-id=\"'.concat(id, '\"]'));\n  }\n};\nfunction initDotsAPI(plugin) {\n  var config = plugin.config, player = plugin.player;\n  Object.keys(APIS).map(function(item) {\n    plugin[item] = APIS[item].bind(plugin);\n  });\n  var ispots = player.config.progressDot || config.ispots || [];\n  plugin._ispots = ispots.map(function(item) {\n    mergeISPOT(item);\n    return item;\n  });\n  plugin.ispotsInit = false;\n  plugin.playerSize = {\n    left: player.sizeInfo.left,\n    width: player.sizeInfo.width\n  };\n  plugin.on(DURATION_CHANGE, function() {\n    if (!plugin.ispotsInit) {\n      plugin.initDots();\n    } else {\n      plugin.updateDuration();\n    }\n  });\n  plugin.on(VIDEO_RESIZE, function() {\n    plugin.positionDots();\n  });\n}\nexport { initDotsAPI as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport initDotsAPI from \"./dotsApi.js\";\nvar CALLBACK_MAP = {\n  dragmove: \"onProgressMove\",\n  dragstart: \"onProgressDragStart\",\n  dragend: \"onProgressDragEnd\",\n  click: \"onProgressClick\",\n  mouseover: \"onProgressMouseOver\",\n  mouseenter: \"onProgressMouseOver\"\n};\nvar ProgressPreview = /* @__PURE__ */ function(_Plugin) {\n  _inherits(ProgressPreview2, _Plugin);\n  var _super = _createSuper(ProgressPreview2);\n  function ProgressPreview2(args) {\n    var _this;\n    _classCallCheck(this, ProgressPreview2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onMousemove\", function(e) {\n      if (_this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xg-spot-content\") && _this.config.isHideThumbnailHover) {\n        _this.player.plugins.progress.onMouseLeave(e);\n        return;\n      }\n      if (_this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMousedown\", function(e) {\n      if (_this.config.disable) {\n        return;\n      }\n      if (_this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseup\", function(e) {\n      if (!_this.isDrag) {\n        return;\n      }\n      var progress = _this.player.plugins.progress;\n      if (progress && progress.pos) {\n        progress.onMouseUp(e);\n        !progress.pos.isEnter && progress.onMouseLeave(e);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onDotMouseLeave\", function(e) {\n      if (_this.config.disable) {\n        return;\n      }\n      _this._curDot.removeEventListener(\"mouseleave\", _this.onDotMouseLeave);\n      _this.blurDot(e.target);\n      _this._curDot = null;\n      var progress = _this.player.plugins.progress;\n      progress && progress.enableBlur();\n      _this.show();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onProgressMouseOver\", function(data, e) {\n      if (_this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xgplayer-spot\") && !_this._curDot) {\n        _this._curDot = e.target;\n        _this.focusDot(e.target);\n        if (_this._curDot.children.length > 0) {\n          _this.hide();\n        }\n        var progress = _this.player.plugins.progress;\n        progress && progress.disableBlur();\n        _this._curDot.addEventListener(\"mouseleave\", _this.onDotMouseLeave);\n      }\n    });\n    _this._ispots = [];\n    _this.videoPreview = null;\n    _this.videothumbnail = null;\n    _this.thumbnail = null;\n    _this.timeStr = \"\";\n    _this._state = {\n      now: 0,\n      f: false\n    };\n    return _this;\n  }\n  _createClass(ProgressPreview2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      var progress = args.player.plugins.progress;\n      if (progress) {\n        args.root = progress.root;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._curDot = null;\n      this.handlerSpotClick = this.hook(\"spotClick\", function(_event, data) {\n        if (data.seekTime) {\n          _this2.player.seek(data.seekTime);\n        }\n      });\n      this.transformTimeHook = this.hook(\"transformTime\", function(time) {\n        _this2.setTimeContent(util.format(time));\n      });\n      initDotsAPI(this);\n      this.on(DURATION_CHANGE, function() {\n        _this2.show();\n      });\n      if (this.config.disable) {\n        this.disable();\n      }\n      this.extTextRoot = this.find(\".xg-spot-ext-text\");\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this3 = this;\n      if (!config) {\n        return;\n      }\n      Object.keys(config).map(function(key) {\n        _this3.config[key] = config[key];\n      });\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n      var player = this.player;\n      if (!player.plugins.progress) {\n        return;\n      }\n      this.previewLine = this.find(\".xg-spot-line\");\n      this.timePoint = this.find(\".xgplayer-progress-point\");\n      this.timeText = this.find(\".xg-spot-time\");\n      this.tipText = this.find(\".spot-inner-text\");\n      this._hasThumnail = false;\n      this.registerThumbnail();\n      this.bindEvents();\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      var _this4 = this;\n      var progress = this.player.plugins.progress;\n      if (!progress) {\n        return;\n      }\n      Object.keys(CALLBACK_MAP).map(function(key) {\n        _this4[CALLBACK_MAP[key]] = _this4[CALLBACK_MAP[key]].bind(_this4);\n        progress.addCallBack(key, _this4[CALLBACK_MAP[key]]);\n      });\n      if (sniffer.device === \"mobile\")\n        return;\n      this.bind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n      this.bind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n      this.bind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n      var fun = this.hook(\"previewClick\", function() {\n      });\n      this.handlerPreviewClick = function(e) {\n        e.stopPropagation();\n        fun(parseInt(_this4._state.now * 1e3, 10) / 1e3, e);\n      };\n      this.bind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n    }\n  }, {\n    key: \"onProgressMove\",\n    value: function onProgressMove(data, e) {\n      if (this.config.disable || !this.player.duration) {\n        return;\n      }\n      this.updatePosition(data.offset, data.width, data.currentTime, data.e);\n    }\n  }, {\n    key: \"onProgressDragStart\",\n    value: function onProgressDragStart(data) {\n      if (this.config.disable || !this.player.duration) {\n        return;\n      }\n      this.isDrag = true;\n      this.videoPreview && util.addClass(this.videoPreview, \"show\");\n    }\n  }, {\n    key: \"onProgressDragEnd\",\n    value: function onProgressDragEnd(data) {\n      if (this.config.disable || !this.player.duration) {\n        return;\n      }\n      this.isDrag = false;\n      this.videoPreview && util.removeClass(this.videoPreview, \"show\");\n    }\n  }, {\n    key: \"onProgressClick\",\n    value: function onProgressClick(data, e) {\n      if (this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xgplayer-spot\")) {\n        e.stopPropagation();\n        e.preventDefault();\n        [\"time\", \"id\", \"text\"].map(function(key) {\n          data[key] = e.target.getAttribute(\"data-\".concat(key));\n        });\n        data.time && (data.time = Number(data.time));\n        this.handlerSpotClick(e, data);\n      }\n    }\n  }, {\n    key: \"updateLinePos\",\n    value: function updateLinePos(offset, cwidth) {\n      var root = this.root, previewLine = this.previewLine, player = this.player, config = this.config;\n      var mode = player.controls.mode;\n      var isflex = mode === \"flex\";\n      var lwidth = root.getBoundingClientRect().width;\n      if (!lwidth && this._hasThumnail) {\n        return;\n      }\n      lwidth = this._hasThumnail && lwidth < config.width ? config.width : lwidth;\n      var x = offset - lwidth / 2;\n      var _t;\n      if (x < 0 && !isflex) {\n        x = 0;\n        _t = offset - lwidth / 2;\n      } else if (x > cwidth - lwidth && !isflex) {\n        _t = x - (cwidth - lwidth);\n        x = cwidth - lwidth;\n      } else {\n        _t = 0;\n      }\n      _t !== void 0 && (previewLine.style.transform = \"translateX(\".concat(_t.toFixed(2), \"px)\"));\n      root.style.transform = \"translateX(\".concat(x.toFixed(2), \"px) translateZ(0)\");\n    }\n  }, {\n    key: \"updateTimeText\",\n    value: function updateTimeText(timeStr) {\n      var timeText = this.timeText, timePoint = this.timePoint;\n      timeText.innerHTML = timeStr;\n      !this.thumbnail && (timePoint.innerHTML = timeStr);\n    }\n  }, {\n    key: \"updatePosition\",\n    value: function updatePosition(offset, cwidth, time, e) {\n      var root = this.root, config = this.config, _state = this._state;\n      if (!root) {\n        return;\n      }\n      _state.now = time;\n      this.transformTimeHook(time);\n      var timeStr = this.timeStr;\n      if (e && e.target && util.hasClass(e.target, \"xgplayer-spot\")) {\n        this.showTips(e.target.getAttribute(\"data-text\"), false, timeStr);\n        this.focusDot(e.target);\n        _state.f = true;\n        config.isFocusDots && _state.f && (_state.now = parseInt(e.target.getAttribute(\"data-time\"), 10));\n      } else if (config.defaultText) {\n        _state.f = false;\n        this.showTips(config.defaultText, true, timeStr);\n      } else {\n        _state.f = false;\n        this.hideTips(\"\");\n      }\n      this.updateTimeText(timeStr);\n      this.updateThumbnails(_state.now);\n      this.updateLinePos(offset, cwidth);\n    }\n  }, {\n    key: \"setTimeContent\",\n    value: function setTimeContent(str) {\n      this.timeStr = str;\n    }\n  }, {\n    key: \"updateThumbnails\",\n    value: function updateThumbnails(time) {\n      var player = this.player, videoPreview = this.videoPreview, config = this.config;\n      var thumbnail = player.plugins.thumbnail;\n      if (thumbnail && thumbnail.usable) {\n        this.thumbnail && thumbnail.update(this.thumbnail, time, config.width, config.height);\n        var rect = videoPreview && videoPreview.getBoundingClientRect();\n        this.videothumbnail && thumbnail.update(this.videothumbnail, time, rect.width, rect.height);\n      }\n    }\n  }, {\n    key: \"registerThumbnail\",\n    value: function registerThumbnail() {\n      var thumbnailConfig = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n      if (sniffer.device === \"mobile\") {\n        return;\n      }\n      var player = this.player, config = this.config;\n      var thumbnail = player.getPlugin(\"thumbnail\");\n      if (thumbnail) {\n        thumbnail.setConfig(thumbnailConfig);\n      }\n      if (!thumbnail || !thumbnail.usable || !config.isShowThumbnail) {\n        util.addClass(this.root, \"short-line no-thumbnail\");\n        return;\n      } else {\n        util.removeClass(this.root, \"short-line no-thumbnail\");\n      }\n      if (config.mode === \"short\") {\n        util.addClass(this.root, \"short-line\");\n      }\n      this._hasThumnail = true;\n      var tRoot = this.find(\".xg-spot-thumbnail\");\n      this.thumbnail = thumbnail.createThumbnail(tRoot, \"progress-thumbnail\");\n      if (config.isShowCoverPreview) {\n        this.videoPreview = util.createDom(\"xg-video-preview\", \"\", {}, \"xgvideo-preview\");\n        player.root.appendChild(this.videoPreview);\n        this.videothumbnail = thumbnail.createThumbnail(this.videoPreview, \"xgvideo-thumbnail\");\n      }\n      this.updateThumbnails(0);\n    }\n  }, {\n    key: \"calcuPosition\",\n    value: function calcuPosition(time, duration) {\n      var progress = this.player.plugins.progress;\n      var player = this.player;\n      var totalWidth = progress.root.getBoundingClientRect().width;\n      var widthPerSeconds = player.duration / totalWidth * 6;\n      if (time + duration > player.duration) {\n        duration = player.duration - time;\n      }\n      time / player.duration * 100;\n      duration / player.duration;\n      return {\n        left: time / player.duration * 100,\n        width: duration / player.duration * 100,\n        isMini: duration < widthPerSeconds\n      };\n    }\n  }, {\n    key: \"showDot\",\n    value: function showDot(id) {\n      var dot = this.findDot(id);\n      if (dot) {\n        var rect = this.root.getBoundingClientRect();\n        var width = rect.width;\n        var offset = dot.time / this.player.duration * width;\n        this.updatePosition(offset, width, dot.time);\n      }\n    }\n  }, {\n    key: \"focusDot\",\n    value: function focusDot(target, id) {\n      if (!target) {\n        return;\n      }\n      if (!id) {\n        id = target.getAttribute(\"data-id\");\n      }\n      util.addClass(target, \"active\");\n      this._activeDotId = id;\n    }\n  }, {\n    key: \"blurDot\",\n    value: function blurDot(target) {\n      if (!target) {\n        var id = this._activeDotId;\n        target = this.getDotDom(id);\n      }\n      if (!target) {\n        return;\n      }\n      util.removeClass(target, \"active\");\n      this._activeDotId = null;\n    }\n  }, {\n    key: \"showTips\",\n    value: function showTips(text, isDefault) {\n      var timeStr = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n      util.addClass(this.root, \"no-timepoint\");\n      if (!text) {\n        return;\n      }\n      util.addClass(this.find(\".xg-spot-content\"), \"show-text\");\n      if (isDefault && this.config.mode === \"production\") {\n        util.addClass(this.root, \"product\");\n        this.tipText.textContent = text;\n      } else {\n        util.removeClass(this.root, \"product\");\n        this.tipText.textContent = this._hasThumnail ? text : \"\".concat(timeStr, \" \").concat(text);\n      }\n    }\n  }, {\n    key: \"hideTips\",\n    value: function hideTips() {\n      util.removeClass(this.root, \"no-timepoint\");\n      this.tipText.textContent = \"\";\n      util.removeClass(this.find(\".xg-spot-content\"), \"show-text\");\n      util.removeClass(this.root, \"product\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      util.removeClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      var config = this.config, playerConfig = this.playerConfig;\n      this.config.disable = false;\n      this.show();\n      if (!this.thumbnail && config.isShowThumbnail) {\n        this.registerThumbnail(playerConfig.thumbnail || {});\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n      this.hide();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this5 = this;\n      var progress = this.player.plugins.progress;\n      progress && Object.keys(CALLBACK_MAP).map(function(key) {\n        progress.removeCallBack(key, _this5[CALLBACK_MAP[key]]);\n      });\n      this.videothumbnail = null;\n      this.thumbnail = null;\n      this.videoPreview && this.player.root.removeChild(this.videoPreview);\n      this.unbind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n      this.unbind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n      this.unbind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n      this.unbind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (sniffer.device === \"mobile\" || this.playerConfig.isMobileSimulateMode === \"mobile\") {\n        return \"\";\n      }\n      return '<div class=\"xg-spot-info hide '.concat(this.config.mode === \"short\" ? \"short-line\" : \"\", '\">\\n      <div class=\"xg-spot-content\">\\n        <div class=\"xg-spot-thumbnail\">\\n          <span class=\"xg-spot-time\"></span>\\n        </div>\\n        <div class=\"xg-spot-text\"><span class=\"spot-inner-text\"></span></div>\\n      </div>\\n      <div class=\"xgplayer-progress-point\">00:00</div>\\n      <div class=\"xg-spot-ext-text\"></div>\\n      <div class=\"xg-spot-line\"></div>\\n    </div>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"progresspreview\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 1,\n        miniWidth: 6,\n        ispots: [],\n        defaultText: \"\",\n        isFocusDots: true,\n        isHideThumbnailHover: true,\n        isShowThumbnail: true,\n        isShowCoverPreview: false,\n        mode: \"\",\n        disable: false,\n        width: 160,\n        height: 90\n      };\n    }\n  }]);\n  return ProgressPreview2;\n}(Plugin);\nexport { ProgressPreview as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Thumbnail = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Thumbnail2, _BasePlugin);\n  var _super = _createSuper(Thumbnail2);\n  function Thumbnail2(args) {\n    var _this;\n    _classCallCheck(this, Thumbnail2);\n    _this = _super.call(this, args);\n    _this.ratio = 1;\n    _this.interval = null;\n    _this._preloadMark = {};\n    return _this;\n  }\n  _createClass(Thumbnail2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (this.usable) {\n        this.initThumbnail();\n      }\n      this.on([DURATION_CHANGE], function() {\n        var _this2$config = _this2.config, pic_num = _this2$config.pic_num, interval = _this2$config.interval;\n        _this2.usable && (_this2.interval = interval > 0 ? interval : Math.round(_this2.player.duration * 1e3 / pic_num) / 1e3);\n      });\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this3 = this;\n      if (!config) {\n        return;\n      }\n      var keys = Object.keys(config);\n      if (keys.length < 1) {\n        return;\n      }\n      keys.forEach(function(key) {\n        _this3.config[key] = config[key];\n      });\n      this.usable && this.initThumbnail();\n    }\n  }, {\n    key: \"usable\",\n    get: function get() {\n      var _this$config = this.config, urls = _this$config.urls, pic_num = _this$config.pic_num;\n      return urls && urls.length > 0 && pic_num > 0;\n    }\n  }, {\n    key: \"initThumbnail\",\n    value: function initThumbnail() {\n      var _this$config2 = this.config, width = _this$config2.width, height = _this$config2.height, pic_num = _this$config2.pic_num, interval = _this$config2.interval;\n      this.ratio = width / height * 100;\n      this.interval = interval || Math.round(this.player.duration / pic_num);\n      this._preloadMark = {};\n    }\n  }, {\n    key: \"getUrlByIndex\",\n    value: function getUrlByIndex(index) {\n      return index >= 0 && index < this.config.urls.length ? this.config.urls[index] : \"\";\n    }\n  }, {\n    key: \"preload\",\n    value: function preload(index) {\n      var _this4 = this;\n      if (this._preloadMark[index]) {\n        return;\n      }\n      var urls = this.config.urls;\n      var len = urls.length;\n      var arr = [];\n      index > 0 && arr.push(index - 1);\n      arr.push(index);\n      index > 0 && index < len - 1 && arr.push(index + 1);\n      arr.map(function(item) {\n        if (!_this4._preloadMark[item] && item >= 0 && item < len) {\n          _this4._preloadMark[item] = 1;\n          util.preloadImg(urls[item], function() {\n            _this4._preloadMark[item] = 2;\n          });\n        }\n      });\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition(now) {\n      var containerWidth = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      var containerHeight = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var _this$config3 = this.config, pic_num = _this$config3.pic_num, row = _this$config3.row, col = _this$config3.col, width = _this$config3.width, height = _this$config3.height;\n      this.interval = Math.round(this.player.duration / pic_num);\n      var index = Math.ceil(now / this.interval);\n      index = index > pic_num ? pic_num : index;\n      var urlIndex = index < row * col ? 0 : Math.ceil(index / (row * col)) - 1;\n      var indexInPage = index - urlIndex * (col * row);\n      var rowIndex = indexInPage > 0 ? Math.ceil(indexInPage / col) - 1 : 0;\n      var colIndex = indexInPage > 0 ? indexInPage - rowIndex * col - 1 : 0;\n      var swidth = 0;\n      var sHeight = 0;\n      if (containerWidth && containerHeight) {\n        var per = containerWidth / containerHeight;\n        if (per < width / height) {\n          sHeight = containerHeight;\n          swidth = sHeight * (width / height);\n        } else {\n          swidth = containerWidth;\n          sHeight = swidth / (width / height);\n        }\n      } else if (!containerHeight) {\n        swidth = containerWidth || width;\n        sHeight = swidth / (width / height);\n      } else if (!containerWidth) {\n        sHeight = containerHeight || height;\n        swidth = sHeight * (width / height);\n      }\n      var url = this.getUrlByIndex(urlIndex);\n      return {\n        urlIndex,\n        rowIndex,\n        colIndex,\n        url,\n        height: sHeight,\n        width: swidth,\n        style: {\n          backgroundImage: \"url(\".concat(url, \")\"),\n          backgroundSize: \"\".concat(swidth * col, \"px auto\"),\n          backgroundPosition: \"-\".concat(colIndex * swidth, \"px -\").concat(rowIndex * sHeight, \"px\"),\n          width: \"\".concat(swidth, \"px\"),\n          height: \"\".concat(sHeight, \"px\")\n        }\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(dom, now) {\n      var containerWidth = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var containerHeight = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n      var customStyle = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : \"\";\n      var _this$config4 = this.config, pic_num = _this$config4.pic_num, urls = _this$config4.urls;\n      if (pic_num <= 0 || !urls || urls.length === 0) {\n        return;\n      }\n      var pos = this.getPosition(now, containerWidth, containerHeight);\n      this.preload(pos.urlIndex);\n      Object.keys(pos.style).map(function(key) {\n        dom.style[key] = pos.style[key];\n      });\n      Object.keys(customStyle).map(function(key) {\n        dom.style[key] = customStyle[key];\n      });\n    }\n  }, {\n    key: \"changeConfig\",\n    value: function changeConfig() {\n      var newConfig = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n      this.setConfig(newConfig);\n    }\n  }, {\n    key: \"createThumbnail\",\n    value: function createThumbnail(root, className) {\n      var dom = util.createDom(\"xg-thumbnail\", \"\", {}, \"thumbnail \".concat(className));\n      root && root.appendChild(dom);\n      return dom;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"thumbnail\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isShow: false,\n        urls: [],\n        pic_num: 0,\n        col: 0,\n        row: 0,\n        height: 90,\n        width: 160,\n        scale: 1,\n        className: \"\",\n        hidePortrait: false\n      };\n    }\n  }]);\n  return Thumbnail2;\n}(Plugin);\nexport { Thumbnail as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { TIME_UPDATE, EMPTIED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction getBgColor(color) {\n  return color ? \"background:\".concat(color, \";\") : \"\";\n}\nvar MiniProgress = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MiniProgress2, _Plugin);\n  var _super = _createSuper(MiniProgress2);\n  function MiniProgress2() {\n    var _this;\n    _classCallCheck(this, MiniProgress2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onTimeupdate\", function() {\n      var ended = _this.player.ended;\n      var _assertThisInitialize = _assertThisInitialized(_this), offsetDuration = _assertThisInitialize.offsetDuration;\n      var time = _this.currentTime;\n      time = util.adjustTimeByDuration(time, offsetDuration, ended);\n      _this.update({\n        played: time\n      }, offsetDuration);\n    });\n    return _this;\n  }\n  _createClass(MiniProgress2, [{\n    key: \"offsetDuration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.offsetDuration || this.player.duration;\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      var _this$player = this.player, offsetCurrentTime = _this$player.offsetCurrentTime, currentTime = _this$player.currentTime;\n      return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime;\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (!this.root) {\n        return;\n      }\n      this.on(TIME_UPDATE, this.onTimeupdate);\n      this.on(EMPTIED, function() {\n        _this2.reset();\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.update({\n        played: 0,\n        cached: 0\n      }, 0);\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        cached: 0,\n        played: 0\n      };\n      var duration = arguments.length > 1 ? arguments[1] : void 0;\n      if (!duration || !this.root) {\n        return;\n      }\n      if (data.cached) {\n        this.find(\"xg-mini-progress-cache\").style.width = \"\".concat(data.cached / duration * 100, \"%\");\n      }\n      if (data.played) {\n        this.find(\"xg-mini-progress-played\").style.width = \"\".concat(data.played / duration * 100, \"%\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$playerConfig = this.playerConfig, commonStyle = _this$playerConfig.commonStyle, miniprogress = _this$playerConfig.miniprogress;\n      if (!miniprogress) {\n        return;\n      }\n      var _this$config = this.config, mode = _this$config.mode, height = _this$config.height;\n      var _style = {\n        cached: getBgColor(commonStyle.cachedColor),\n        played: getBgColor(commonStyle.playedColor),\n        progress: getBgColor(commonStyle.progressColor),\n        height: height > 0 && height !== 2 ? \"height: \".concat(height, \"px;\") : \"\"\n      };\n      var stateClass = mode === \"show\" ? \"xg-mini-progress-show\" : \"\";\n      return '<xg-mini-progress class=\"xg-mini-progress '.concat(stateClass, '\" style=\"').concat(_style.progress, \" \").concat(_style.height, '\">\\n    <xg-mini-progress-cache class=\"xg-mini-progress-cache\" style=\"').concat(_style.cached, '\"></xg-mini-progress-cache>\\n    <xg-mini-progress-played class=\"xg-mini-progress-played\" style=\"').concat(_style.played, '\"></xg-mini-progress-played>\\n    </xg-mini-progress>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"MiniProgress\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        mode: \"auto\",\n        height: 2\n      };\n    }\n  }]);\n  return MiniProgress2;\n}(Plugin);\nexport { MiniProgress as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { TIME_UPDATE, COMPLETE, EMPTIED, PLAY, PAUSE, LOADED_DATA, LOAD_START } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar MODES = {\n  REAL_TIME: \"realtime\",\n  FIRST_FRAME: \"firstframe\",\n  FRAME_RATE: \"framerate\",\n  POSTER: \"poster\"\n};\nfunction nowTime() {\n  try {\n    return parseInt(window.performance.now(), 10);\n  } catch (e) {\n    return new Date().getTime();\n  }\n}\nfunction checkIsSupportCanvas() {\n  try {\n    var ctx = document.createElement(\"canvas\").getContext;\n    if (ctx) {\n      return true;\n    }\n    return false;\n  } catch (e) {\n    return false;\n  }\n}\nvar isSupportCanvas = null;\nvar DynamicBg = /* @__PURE__ */ function(_Plugin) {\n  _inherits(DynamicBg2, _Plugin);\n  var _super = _createSuper(DynamicBg2);\n  function DynamicBg2() {\n    var _this;\n    _classCallCheck(this, DynamicBg2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onLoadedData\", function(e) {\n      if (!_this.player) {\n        return;\n      }\n      _this._frameCount = _this.config.startFrameCount;\n      _this.stop();\n      _this.renderOnTimeupdate(e);\n      _this.off(TIME_UPDATE, _this.renderOnTimeupdate);\n      _this.on(TIME_UPDATE, _this.renderOnTimeupdate);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVisibilitychange\", function(e) {\n      if (document.visibilityState === \"visible\") {\n        _this._checkIfCanStart() && _this.start();\n      } else if (document.visibilityState === \"hidden\") {\n        _this.stop();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"renderOnTimeupdate\", function(e) {\n      if (_this._frameCount > 0) {\n        _this.renderOnce();\n        _this._frameCount--;\n      } else {\n        _this._isLoaded = true;\n        _this.off(TIME_UPDATE, _this.renderOnTimeupdate);\n        var startInterval = _this.config.startInterval;\n        !_this.player.paused && _this._checkIfCanStart() && _this.start(0, startInterval);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"start\", function(time, interval) {\n      var video = _this.player.video;\n      var _now = nowTime();\n      var _sVideo = _this.checkVideoIsSupport(video);\n      if (!_sVideo || !_this.canvasCtx) {\n        return;\n      }\n      if (!interval) {\n        interval = _this.interval;\n      }\n      _this.stop();\n      if (video.videoWidth && video.videoHeight) {\n        _this.videoPI = video.videoHeight > 0 ? parseInt(video.videoWidth / video.videoHeight * 100, 10) : 0;\n        if (_this.config.mode === MODES.REAL_TIME) {\n          video && video.videoWidth && _this.update(_sVideo, _this.videoPI);\n          _this.preTime = _now;\n        } else if (_now - _this.preTime >= interval) {\n          video && video.videoWidth && _this.update(_sVideo, _this.videoPI);\n          _this.preTime = _now;\n        }\n      }\n      _this.frameId = _this._loopType === \"timer\" ? util.setTimeout(_assertThisInitialized(_this), _this.start, interval) : util.requestAnimationFrame(_this.start);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"stop\", function() {\n      if (_this.frameId) {\n        _this._loopType === \"timer\" ? util.clearTimeout(_assertThisInitialized(_this), _this.frameId) : util.cancelAnimationFrame(_this.frameId);\n        _this.frameId = null;\n      }\n    });\n    return _this;\n  }\n  _createClass(DynamicBg2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (this.playerConfig.dynamicBg === true) {\n        this.config.disable = false;\n      }\n      if (!DynamicBg2.isSupport) {\n        this.config.disable = true;\n      }\n      var _this$config = this.config, disable = _this$config.disable, mode = _this$config.mode, frameRate = _this$config.frameRate;\n      if (disable) {\n        return;\n      }\n      this._pos = {\n        width: 0,\n        height: 0,\n        rwidth: 0,\n        rheight: 0,\n        x: 0,\n        y: 0,\n        pi: 0\n      };\n      this.isStart = false;\n      this._isLoaded = false;\n      this.videoPI = 0;\n      this.preTime = 0;\n      this.interval = parseInt(1e3 / frameRate, 10);\n      this.canvas = null;\n      this.canvasCtx = null;\n      this._frameCount = 0;\n      this._loopType = this.config.mode !== MODES.REAL_TIME && this.interval >= 1e3 ? \"timer\" : \"animation\";\n      this.once(COMPLETE, function() {\n        if (!_this2.player) {\n          return;\n        }\n        _this2.init();\n        _this2.renderByPoster();\n        if (!_this2.player.paused) {\n          _this2.start();\n        }\n      });\n      if (mode === MODES.POSTER) {\n        return;\n      }\n      if (mode !== MODES.FIRST_FRAME) {\n        this.on(EMPTIED, function() {\n          _this2.stop();\n        });\n        this.on(PLAY, function() {\n          var startInterval = _this2.config.startInterval;\n          _this2._checkIfCanStart() && _this2.start(0, startInterval);\n        });\n        this.on(PAUSE, function() {\n          _this2.stop();\n        });\n      }\n      this.on(LOADED_DATA, this.onLoadedData);\n      this.on(LOAD_START, function() {\n        _this2._isLoaded = false;\n        _this2.stop();\n      });\n      document.addEventListener(\"visibilitychange\", this.onVisibilitychange);\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this3 = this;\n      Object.keys(config).forEach(function(key) {\n        if (key === \"root\" && config[key] !== _this3.config[key]) {\n          _this3.reRender(config[key]);\n        } else if (key === \"frameRate\") {\n          _this3.interval = parseInt(1e3 / config[key], 10);\n        } else if (key === \"disable\" && config[key]) {\n          _this3.stop();\n        }\n        _this3.config[key] = config[key];\n      });\n    }\n  }, {\n    key: \"init\",\n    value: function init(_root) {\n      var player = this.player, config = this.config;\n      this.canvasFilter = DynamicBg2.supportCanvasFilter();\n      try {\n        var parent = _root || config.root;\n        if (!parent) {\n          parent = !config.isInnerRender ? player.root : player.innerContainer || player.root;\n        }\n        parent.insertAdjacentHTML(\"afterbegin\", '<div class=\"xgplayer-dynamic-bg\" data-index=\"'.concat(config.index, '\"><canvas>\\n        </canvas><xgmask></xgmask></div>'));\n        this.root = parent.children[0];\n        this.canvas = this.find(\"canvas\");\n        if (!this.canvasFilter) {\n          this.canvas.style.filter = config.filter;\n          this.canvas.style.webkitFilter = config.filter;\n        }\n        this.mask = this.find(\"xgmask\");\n        config.addMask && (this.mask.style.background = config.maskBg);\n        this.canvasCtx = this.canvas.getContext(\"2d\");\n      } catch (e) {\n        XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n      }\n    }\n  }, {\n    key: \"reRender\",\n    value: function reRender(root) {\n      var disable = this.config.disable;\n      if (!disable && !this.root) {\n        return;\n      }\n      this.stop();\n      var _p = this.root ? this.root.parentElement : null;\n      if (_p !== root) {\n        _p.removeChild(this.root);\n      }\n      if (!root) {\n        this.root = null;\n        return;\n      }\n      this.init(root);\n      this.renderOnce();\n      var startInterval = this.config.startInterval;\n      this._checkIfCanStart() && this.start(0, startInterval);\n    }\n  }, {\n    key: \"checkVideoIsSupport\",\n    value: function checkVideoIsSupport(video) {\n      if (!video) {\n        return null;\n      }\n      var _tVideo = video && video instanceof window.HTMLVideoElement ? video : video.canvas ? video.canvas : video.flyVideo ? video.flyVideo : null;\n      if (_tVideo && !(sniffer.browser === \"safari\" && util.isMSE(_tVideo))) {\n        return _tVideo;\n      }\n      var _tagName = _tVideo ? _tVideo.tagName.toLowerCase() : \"\";\n      if (_tagName === \"canvas\" || _tagName === \"img\") {\n        return _tVideo;\n      }\n      return null;\n    }\n  }, {\n    key: \"renderByPoster\",\n    value: function renderByPoster() {\n      var poster = this.playerConfig.poster;\n      if (poster) {\n        var url = util.typeOf(poster) === \"String\" ? poster : util.typeOf(poster.poster) === \"String\" ? poster.poster : null;\n        this.updateImg(url);\n      }\n    }\n  }, {\n    key: \"_checkIfCanStart\",\n    value: function _checkIfCanStart() {\n      var mode = this.config.mode;\n      return this._isLoaded && !this.player.paused && mode !== MODES.FIRST_FRAME && mode !== MODES.POSTER;\n    }\n  }, {\n    key: \"renderOnce\",\n    value: function renderOnce() {\n      var video = this.player.video;\n      if (!video.videoWidth || !video.videoHeight) {\n        return;\n      }\n      this.videoPI = parseInt(video.videoWidth / video.videoHeight * 100, 10);\n      var _sVideo = this.checkVideoIsSupport(video);\n      _sVideo && this.update(_sVideo, this.videoPI);\n    }\n  }, {\n    key: \"updateImg\",\n    value: function updateImg(url) {\n      var _this4 = this;\n      if (!url) {\n        return;\n      }\n      var _this$canvas$getBound = this.canvas.getBoundingClientRect(), width = _this$canvas$getBound.width, height = _this$canvas$getBound.height;\n      var image = new window.Image();\n      image.onload = function() {\n        if (!_this4.canvas || _this4.frameId || _this4.isStart) {\n          return;\n        }\n        _this4.canvas.height = height;\n        _this4.canvas.width = width;\n        var pi = parseInt(width / height * 100, 10);\n        _this4.update(image, pi);\n        image = null;\n      };\n      image.src = url;\n    }\n  }, {\n    key: \"update\",\n    value: function update(video, sourcePI) {\n      if (!this.canvas || !this.canvasCtx || !sourcePI) {\n        return;\n      }\n      try {\n        var _pos = this._pos, config = this.config;\n        var _this$canvas$getBound2 = this.canvas.getBoundingClientRect(), width = _this$canvas$getBound2.width, height = _this$canvas$getBound2.height;\n        if (width !== _pos.width || height !== _pos.height || _pos.pi !== sourcePI) {\n          var pi = parseInt(width / height * 100, 10);\n          _pos.pi = sourcePI;\n          _pos.width !== width && (_pos.width = this.canvas.width = width);\n          _pos.height !== height && (_pos.height = this.canvas.height = height);\n          var rheight = height;\n          var rwidth = width;\n          if (pi < sourcePI) {\n            rwidth = parseInt(height * sourcePI / 100, 10);\n          } else if (pi > sourcePI) {\n            rheight = parseInt(width * 100 / sourcePI, 10);\n          }\n          _pos.rwidth = rwidth * config.multiple;\n          _pos.rheight = rheight * config.multiple;\n          _pos.x = (width - _pos.rwidth) / 2;\n          _pos.y = (height - _pos.rheight) / 2;\n        }\n        this.canvasFilter && (this.canvasCtx.filter = config.filter);\n        this.canvasCtx.drawImage(video, _pos.x, _pos.y, _pos.rwidth, _pos.rheight);\n      } catch (e) {\n        XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.stop();\n      document.removeEventListener(\"visibilitychange\", this.onVisibilitychange);\n      this.canvasCtx = null;\n      this.canvas = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return \"\";\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"dynamicBg\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isInnerRender: false,\n        disable: true,\n        index: -1,\n        mode: \"framerate\",\n        frameRate: 10,\n        filter: \"blur(50px)\",\n        startFrameCount: 2,\n        startInterval: 0,\n        addMask: true,\n        multiple: 1.2,\n        maskBg: \"rgba(0,0,0,0.7)\"\n      };\n    }\n  }, {\n    key: \"isSupport\",\n    get: function get() {\n      if (typeof isSupportCanvas === \"boolean\") {\n        return isSupportCanvas;\n      }\n      isSupportCanvas = checkIsSupportCanvas();\n      return isSupportCanvas;\n    }\n  }, {\n    key: \"supportCanvasFilter\",\n    value: function supportCanvasFilter() {\n      return !(sniffer.browser === \"safari\" || sniffer.browser === \"firefox\");\n    }\n  }]);\n  return DynamicBg2;\n}(Plugin);\nexport { DynamicBg as default };\n","var ZH = {\n  LANG: \"zh-cn\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"\\u89C6\\u9891\\u4E0B\\u8F7D\\u9519\\u8BEF\"\n      },\n      mse: {\n        code: 2,\n        msg: \"\\u6D41\\u8FFD\\u52A0\\u9519\\u8BEF\"\n      },\n      parse: {\n        code: 3,\n        msg: \"\\u89E3\\u6790\\u9519\\u8BEF\"\n      },\n      format: {\n        code: 4,\n        msg: \"\\u683C\\u5F0F\\u9519\\u8BEF\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"\\u89E3\\u7801\\u9519\\u8BEF\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"\\u8BED\\u6CD5\\u9519\\u8BEF\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"\\u64AD\\u653E\\u8D85\\u65F6\"\n      },\n      other: {\n        code: 8,\n        msg: \"\\u5176\\u4ED6\\u9519\\u8BEF\"\n      }\n    },\n    HAVE_NOTHING: \"\\u6CA1\\u6709\\u5173\\u4E8E\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u5426\\u5C31\\u7EEA\\u7684\\u4FE1\\u606F\",\n    HAVE_METADATA: \"\\u97F3\\u9891/\\u89C6\\u9891\\u7684\\u5143\\u6570\\u636E\\u5DF2\\u5C31\\u7EEA\",\n    HAVE_CURRENT_DATA: \"\\u5173\\u4E8E\\u5F53\\u524D\\u64AD\\u653E\\u4F4D\\u7F6E\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\\uFF0C\\u4F46\\u6CA1\\u6709\\u8DB3\\u591F\\u7684\\u6570\\u636E\\u6765\\u64AD\\u653E\\u4E0B\\u4E00\\u5E27/\\u6BEB\\u79D2\",\n    HAVE_FUTURE_DATA: \"\\u5F53\\u524D\\u53CA\\u81F3\\u5C11\\u4E0B\\u4E00\\u5E27\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\",\n    HAVE_ENOUGH_DATA: \"\\u53EF\\u7528\\u6570\\u636E\\u8DB3\\u4EE5\\u5F00\\u59CB\\u64AD\\u653E\",\n    NETWORK_EMPTY: \"\\u97F3\\u9891/\\u89C6\\u9891\\u5C1A\\u672A\\u521D\\u59CB\\u5316\",\n    NETWORK_IDLE: \"\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u6D3B\\u52A8\\u7684\\u4E14\\u5DF2\\u9009\\u53D6\\u8D44\\u6E90\\uFF0C\\u4F46\\u5E76\\u672A\\u4F7F\\u7528\\u7F51\\u7EDC\",\n    NETWORK_LOADING: \"\\u6D4F\\u89C8\\u5668\\u6B63\\u5728\\u4E0B\\u8F7D\\u6570\\u636E\",\n    NETWORK_NO_SOURCE: \"\\u672A\\u627E\\u5230\\u97F3\\u9891/\\u89C6\\u9891\\u6765\\u6E90\",\n    MEDIA_ERR_ABORTED: \"\\u53D6\\u56DE\\u8FC7\\u7A0B\\u88AB\\u7528\\u6237\\u4E2D\\u6B62\",\n    MEDIA_ERR_NETWORK: \"\\u7F51\\u7EDC\\u9519\\u8BEF\",\n    MEDIA_ERR_DECODE: \"\\u89E3\\u7801\\u9519\\u8BEF\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"\\u4E0D\\u652F\\u6301\\u7684\\u97F3\\u9891/\\u89C6\\u9891\\u683C\\u5F0F\",\n    REPLAY: \"\\u91CD\\u64AD\",\n    ERROR: \"\\u7F51\\u7EDC\\u8FDE\\u63A5\\u4F3C\\u4E4E\\u51FA\\u73B0\\u4E86\\u95EE\\u9898\",\n    PLAY_TIPS: \"\\u64AD\\u653E\",\n    PAUSE_TIPS: \"\\u6682\\u505C\",\n    PLAYNEXT_TIPS: \"\\u4E0B\\u4E00\\u96C6\",\n    DOWNLOAD_TIPS: \"\\u4E0B\\u8F7D\",\n    ROTATE_TIPS: \"\\u65CB\\u8F6C\",\n    RELOAD_TIPS: \"\\u91CD\\u65B0\\u8F7D\\u5165\",\n    FULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u5168\\u5C4F\",\n    EXITFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u5168\\u5C4F\",\n    CSSFULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u6837\\u5F0F\\u5168\\u5C4F\",\n    EXITCSSFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u6837\\u5F0F\\u5168\\u5C4F\",\n    TEXTTRACK: \"\\u5B57\\u5E55\",\n    PIP: \"\\u753B\\u4E2D\\u753B\",\n    SCREENSHOT: \"\\u622A\\u56FE\",\n    LIVE: \"\\u6B63\\u5728\\u76F4\\u64AD\",\n    OFF: \"\\u5173\\u95ED\",\n    OPEN: \"\\u5F00\\u542F\",\n    MINI_DRAG: \"\\u70B9\\u51FB\\u6309\\u4F4F\\u53EF\\u62D6\\u52A8\\u89C6\\u9891\",\n    MINISCREEN: \"\\u5C0F\\u5C4F\\u5E55\",\n    REFRESH_TIPS: \"\\u8BF7\\u8BD5\\u8BD5\",\n    REFRESH: \"\\u5237\\u65B0\",\n    FORWARD: \"\\u5FEB\\u8FDB\\u4E2D\",\n    LIVE_TIP: \"\\u76F4\\u64AD\"\n  }\n};\nexport { ZH as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { USER_ACTION, STATS_EVENTS as STATS_EVENTS$1 } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nvar INFO = \"info\";\nvar STATS_EVENTS = STATS_EVENTS$1;\nvar Stats = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Stats2, _BasePlugin);\n  var _super = _createSuper(Stats2);\n  function Stats2() {\n    var _this;\n    _classCallCheck(this, Stats2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_recordUserActions\", function(actionData) {\n      var time = _this._getTime();\n      var payload = Object.assign({}, actionData, {\n        msg: actionData.msg || actionData.action\n      });\n      _this._stats[INFO].push(_objectSpread2(_objectSpread2({\n        type: \"userAction\"\n      }, time), {}, {\n        payload\n      }));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onReset\", function() {\n      _this.reset();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_recordInfo\", function(data) {\n      _this.info(data);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_downloadStats\", function() {\n      var stats = _this.getStats();\n      var blob = new Blob([JSON.stringify(stats)], {\n        type: \"application/json\"\n      });\n      var downloadUrl = window.URL.createObjectURL(blob);\n      var link = document.createElement(\"a\");\n      link.style.display = \"none\";\n      link.href = downloadUrl;\n      link.download = \"player.txt\";\n      link.disabled = false;\n      link.click();\n    });\n    return _this;\n  }\n  _createClass(Stats2, [{\n    key: \"_getTime\",\n    value: function _getTime() {\n      return {\n        timestamp: Date.now(),\n        timeFormat: new Date().toISOString()\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.reset();\n      this.on(USER_ACTION, this._recordUserActions);\n      this.on(STATS_EVENTS.STATS_INFO, this._recordInfo);\n      this.on(STATS_EVENTS.STATS_DOWNLOAD, this._downloadStats);\n      this.on(STATS_EVENTS.STATS_RESET, this._onReset);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.offAll();\n    }\n  }, {\n    key: \"downloadStats\",\n    value: function downloadStats() {\n      this._downloadStats();\n    }\n  }, {\n    key: \"info\",\n    value: function info(data) {\n      if (data.profile) {\n        this._infoProfile(data);\n      } else {\n        this._info(data);\n      }\n    }\n  }, {\n    key: \"_info\",\n    value: function _info(data) {\n      var time = this._getTime();\n      this._stats[INFO].push(_objectSpread2(_objectSpread2({}, time), {}, {\n        payload: data\n      }));\n    }\n  }, {\n    key: \"_infoProfile\",\n    value: function _infoProfile(data) {\n      if (data && data.startMs) {\n        var endMs = Date.now();\n        var dur = endMs - data.startMs;\n        var profile = _objectSpread2({\n          cat: \"function\",\n          dur,\n          name: data.name || data.msg,\n          ph: \"X\",\n          pid: 0,\n          tid: 0,\n          ts: data.startMs,\n          profile: true\n        }, data);\n        this._info(profile);\n      } else {\n        console.warn(\"infoProfile need object data, include startMs\");\n      }\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var _this$_stats;\n      this._stats = (_this$_stats = {}, _defineProperty(_this$_stats, INFO, []), _defineProperty(_this$_stats, \"media\", {}), _this$_stats);\n    }\n  }, {\n    key: \"getStats\",\n    value: function getStats() {\n      var player = this.player;\n      var mediaElem = player.media;\n      var buffered = [];\n      for (var i = 0; i < mediaElem.buffered.length; i++) {\n        buffered.push({\n          start: mediaElem.buffered.start(i),\n          end: mediaElem.buffered.end(i)\n        });\n      }\n      var mediaInfo = {\n        currentTime: mediaElem.currentTime,\n        readyState: mediaElem.readyState,\n        buffered,\n        paused: mediaElem.paused,\n        ended: mediaElem.ended\n      };\n      this._stats.media = mediaInfo;\n      return {\n        raw: this._stats,\n        timestat: this._getTimeStats(),\n        profile: this._getProfile()\n      };\n    }\n  }, {\n    key: \"_getTimeStats\",\n    value: function _getTimeStats() {\n      var allStat = this._stats[INFO];\n      var msgs = allStat.map(function(stat) {\n        var data = stat.payload.data;\n        var msg = \"\";\n        try {\n          if (data instanceof Error) {\n            msg = data.msg;\n          } else if (data !== void 0) {\n            msg = JSON.stringify(data);\n          }\n        } catch (error) {\n          console.log(\"err\", error);\n        }\n        return \"[\".concat(stat.timeFormat, \"] : \").concat(stat.payload.msg, \" \").concat(msg, \" \");\n      });\n      return msgs;\n    }\n  }, {\n    key: \"_getProfile\",\n    value: function _getProfile() {\n      var profile = {\n        traceEvents: []\n      };\n      var allStat = this._stats[INFO];\n      allStat.forEach(function(stat) {\n        if (stat.payload.profile) {\n          profile.traceEvents.push(stat.payload);\n        }\n      });\n      return profile;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"stats\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }]);\n  return Stats2;\n}(BasePlugin);\nexport { Stats as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { WAITING, PLAY, SEEKING } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar GapJump = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(GapJump2, _BasePlugin);\n  var _super = _createSuper(GapJump2);\n  function GapJump2() {\n    var _this;\n    _classCallCheck(this, GapJump2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onGapJump\", function() {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, config = _assertThisInitialize.config;\n      if (player.media.readyState === HTMLMediaElement.HAVE_NOTHING) {\n        return;\n      }\n      if (player.media.seeking) {\n        if (!_this.seekingEventReceived) {\n          return;\n        }\n      } else {\n        _this.seekingEventReceived = false;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && _this.hasPlayed) {\n        return;\n      }\n      var buffered = player.media.buffered;\n      var smallGapLimit = config.smallGapLimit || 0.5;\n      var gapDetectionThreshold = config.gapDetectionThreshold || 0.3;\n      var currentTime = player.media.currentTime;\n      var idx = _this._getIndex(buffered, currentTime, gapDetectionThreshold);\n      if (idx === null || idx === 0) {\n        return;\n      }\n      console.log(\"GapJump  bufferRange \", buffered.start(idx), buffered.end(idx));\n      var jumpTo = buffered.start(idx) + 0.1;\n      var seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      var jumpSize = jumpTo - currentTime;\n      var isGapSmall = jumpSize <= smallGapLimit;\n      if (jumpSize < GapJump2.BROWSER_GAP_TOLERANCE) {\n        return;\n      }\n      if (isGapSmall) {\n        if (config.useGapJump !== false) {\n          player.media.currentTime = _this.isSafari ? jumpTo + 0.1 : jumpTo;\n        }\n        _this.player && _this.player.emit(\"detectGap\");\n        console.log(\"gapJump gapIndex\", idx, \" isGapSamll:\", isGapSmall, \" currentTime:\", player.media.currentTime, \" jumpSize:\", currentTime - player.media.currentTime);\n        if (jumpTo !== 0.08) {\n          player && player.emit(\"log\", {\n            type: \"oneevent\",\n            end_type: \"gap\",\n            vid: player.config.vid,\n            ext: {\n              video_postion: Math.floor(jumpTo * 1e3)\n            }\n          });\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(GapJump2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var useGapJump = this.config.useGapJump;\n      if (useGapJump === false) {\n        return;\n      }\n      this.hasPlayed = false;\n      this.seekingEventReceived = false;\n      this.isSafari = /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n      this.on(WAITING, this.onGapJump);\n      this.on(PLAY, function() {\n        _this2.hasPlayed = true;\n      });\n      this.on(SEEKING, function() {\n        _this2.seekingEventReceived = true;\n      });\n    }\n  }, {\n    key: \"_getIndex\",\n    value: function _getIndex(buffered, time, threshold) {\n      if (!buffered || !buffered.length) {\n        return null;\n      }\n      if (buffered.length === 1 && buffered.end(0) - buffered.start(0) < 1e-6) {\n        return null;\n      }\n      var bufferedInfo = this._getBuffered(buffered);\n      var idx = null;\n      for (var i = 0; i < bufferedInfo.length; i++) {\n        var item = bufferedInfo[i];\n        if (item.start > time && (i === 0 || bufferedInfo[i - 1].end - time <= threshold)) {\n          idx = i;\n          break;\n        }\n      }\n      return idx;\n    }\n  }, {\n    key: \"_getBuffered\",\n    value: function _getBuffered(b) {\n      if (!b) {\n        return [];\n      }\n      var ret = [];\n      for (var i = 0; i < b.length; i++) {\n        ret.push({\n          start: b.start(i),\n          end: b.end(i)\n        });\n      }\n      return ret;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"gapJump\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        useGapJump: false,\n        smallGapLimit: 0.5,\n        gapDetectionThreshold: 0.3\n      };\n    }\n  }]);\n  return GapJump2;\n}(Plugin);\nGapJump.BROWSER_GAP_TOLERANCE = 1e-3;\nexport { GapJump as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { WAITING, PLAYING, CANPLAY, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar WaitingTimeoutJump = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(WaitingTimeoutJump2, _BasePlugin);\n  var _super = _createSuper(WaitingTimeoutJump2);\n  function WaitingTimeoutJump2() {\n    var _this;\n    _classCallCheck(this, WaitingTimeoutJump2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onWaiting\", function() {\n      var _assertThisInitialize = _assertThisInitialized(_this), config = _assertThisInitialize.config;\n      if (_this.jumpCnt > config.jumpCntMax || _this.timer || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      _this.timer = setTimeout(_this.onJump, config.waitingTime * 1e3);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onJump\", function() {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), player = _assertThisInitialize2.player, config = _assertThisInitialize2.config;\n      clearTimeout(_this.timer);\n      _this.timer = null;\n      if (_this.jumpCnt > config.jumpCntMax || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && _this.hasPlayed) {\n        return;\n      }\n      _this.jumpSize = config.jumpSize * (_this.jumpCnt + 1);\n      if (_this.jumpCnt === config.jumpSize && _this.jumpSize < 6) {\n        _this.jumpSize = 6;\n      }\n      var jumpTo = player.currentTime + _this.jumpSize;\n      var seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      _this.jumpCnt++;\n      player.currentTime = jumpTo;\n    });\n    return _this;\n  }\n  _createClass(WaitingTimeoutJump2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var _this$config = this.config, useWaitingTimeoutJump = _this$config.useWaitingTimeoutJump, jumpSize = _this$config.jumpSize;\n      if (useWaitingTimeoutJump === false) {\n        return;\n      }\n      this.hasPlayed = false;\n      this.jumpCnt = 0;\n      this.timer = null;\n      this.jumpSize = jumpSize;\n      this.on(WAITING, this.onWaiting);\n      this.on([PLAYING, CANPLAY], function() {\n        clearTimeout(_this2.timer);\n        _this2.timer = null;\n        _this2.jumpSize = _this2.config.jumpSize;\n      });\n      this.on(PLAY, function() {\n        _this2.hasPlayed = true;\n      });\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"waitingTimeoutJump\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        useWaitingTimeoutJump: false,\n        waitingTime: 15,\n        jumpSize: 2,\n        jumpCntMax: 4\n      };\n    }\n  }]);\n  return WaitingTimeoutJump2;\n}(Plugin);\nexport { WaitingTimeoutJump as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, toConsumableArray as _toConsumableArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DOWNLOAD_SPEED_CHANGE, LOADED_DATA, REPLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar DEFAULT_SPEED_TYPE = \"cdn\";\nvar SPEED_TYPE = [\"cdn\"];\nvar TestSpeed = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(TestSpeed2, _BasePlugin);\n  var _super = _createSuper(TestSpeed2);\n  function TestSpeed2() {\n    var _this;\n    _classCallCheck(this, TestSpeed2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"getSpeed\", function() {\n      var type = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : DEFAULT_SPEED_TYPE;\n      if (!_this.speedListCache || !_this.speedListCache[type])\n        return 0;\n      if (_this.speedListCache[type].length <= 0)\n        return 0;\n      var total = 0;\n      _this.speedListCache[type].map(function(item) {\n        total += item;\n      });\n      return Math.floor(total / _this.speedListCache[type].length);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"startTimer\", function() {\n      if (util.isMSE(_this.player.video)) {\n        return;\n      }\n      _this.initSpeedList();\n      _this.cnt = 0;\n      _this.timer = setTimeout(_this.testSpeed, _this.config.testTimeStep);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"initSpeedList\", function() {\n      _this.speedListCache = {};\n      SPEED_TYPE.forEach(function(type) {\n        _this.speedListCache[type] = [];\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onRealSpeedChange\", function(data) {\n      data.speed && _this.appendList(data.speed, data.type || DEFAULT_SPEED_TYPE);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"testSpeed\", function() {\n      clearTimeout(_this.timer);\n      _this.timer = null;\n      if (!_this.player || !_this.config.openSpeed)\n        return;\n      var _this$config = _this.config, url = _this$config.url, loadSize = _this$config.loadSize, testCnt = _this$config.testCnt, testTimeStep = _this$config.testTimeStep;\n      var testSpeedUrl = url + (url.indexOf(\"?\") < 0 ? \"?testst=\" : \"&testst=\") + Date.now();\n      if (_this.cnt >= testCnt) {\n        return;\n      }\n      _this.cnt++;\n      try {\n        var start = new Date().getTime();\n        var end = null;\n        var xhr = new XMLHttpRequest();\n        _this.xhr = xhr;\n        xhr.open(\"GET\", testSpeedUrl);\n        var headers = {};\n        var random = Math.floor(Math.random() * 10);\n        headers.Range = \"bytes=\" + random + \"-\" + (loadSize + random);\n        if (headers) {\n          Object.keys(headers).forEach(function(k) {\n            xhr.setRequestHeader(k, headers[k]);\n          });\n        }\n        xhr.onreadystatechange = function() {\n          if (xhr.readyState === 4) {\n            _this.xhr = null;\n            end = new Date().getTime();\n            var size = xhr.getResponseHeader(\"Content-Length\") / 1024 * 8;\n            var speed = Math.round(size * 1e3 / (end - start));\n            _this.appendList(speed);\n            _this.timer = setTimeout(_this.testSpeed, testTimeStep);\n          }\n        };\n        xhr.send();\n      } catch (e) {\n        console.error(e);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"appendList\", function(speed) {\n      var type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : DEFAULT_SPEED_TYPE;\n      if (!_this.speedListCache || !_this.speedListCache[type])\n        return;\n      var saveSpeedMax = _this.config.saveSpeedMax;\n      if (_this.speedListCache[type].length >= saveSpeedMax) {\n        _this.speedListCache[type].shift();\n      }\n      _this.speedListCache[type].push(speed);\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      if (player) {\n        type === DEFAULT_SPEED_TYPE ? player.realTimeSpeed = speed : player[_this.getSpeedName(\"realTime\", type)] = speed;\n      }\n      _this.updateSpeed(type);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"updateSpeed\", function() {\n      var type = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : DEFAULT_SPEED_TYPE;\n      var speed = _this.getSpeed(type);\n      var _assertThisInitialize2 = _assertThisInitialized(_this), player = _assertThisInitialize2.player;\n      if (player) {\n        if (type === DEFAULT_SPEED_TYPE) {\n          if (!player.avgSpeed || speed !== player.avgSpeed) {\n            player.avgSpeed = speed;\n            player.emit(DOWNLOAD_SPEED_CHANGE, {\n              speed,\n              realTimeSpeed: player.realTimeSpeed\n            });\n          }\n        } else {\n          var speedName = _this.getSpeedName(\"avg\", type);\n          if (!player[speedName] || speed !== player[speedName]) {\n            player[speedName] = speed;\n            player.emit(DOWNLOAD_SPEED_CHANGE, {\n              speed,\n              realTimeSpeed: player.realTimeSpeed\n            });\n          }\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(TestSpeed2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this$config2 = this.config, openSpeed = _this$config2.openSpeed, addSpeedTypeList = _this$config2.addSpeedTypeList;\n      if ((addSpeedTypeList === null || addSpeedTypeList === void 0 ? void 0 : addSpeedTypeList.length) > 0) {\n        SPEED_TYPE.push.apply(SPEED_TYPE, _toConsumableArray(addSpeedTypeList));\n      }\n      this.initSpeedList();\n      this.on(\"real_time_speed\", this._onRealSpeedChange);\n      this.timer = null;\n      this.cnt = 0;\n      this.xhr = null;\n      if (!openSpeed) {\n        return;\n      }\n      this.on([LOADED_DATA, REPLAY], this.startTimer);\n    }\n  }, {\n    key: \"getSpeedName\",\n    value: function getSpeedName(namePrefix, type) {\n      return namePrefix + \"Speed\" + type.toUpperCase();\n    }\n  }, {\n    key: \"openSpeed\",\n    get: function get() {\n      return this.config.openSpeed;\n    },\n    set: function set(value) {\n      this.config.openSpeed = value;\n      if (!value && this.timer) {\n        clearTimeout(this.timer);\n        this.timer = null;\n        return;\n      }\n      if (this.config.openSpeed) {\n        if (this.timer)\n          return;\n        this.timer = setTimeout(this.testSpeed, this.config.testTimeStep);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n      this.off(\"real_time_speed\", this._onRealSpeedChange);\n      this.off([LOADED_DATA, REPLAY], this.startTimer);\n      SPEED_TYPE.forEach(function(type) {\n        _this2.speedListCache && _this2.speedListCache[type] && (_this2.speedListCache[type] = []);\n      });\n      this.speedListCache && (this.speedListCache = {});\n      clearTimeout(this.timer);\n      this.timer = null;\n      if (this.xhr && this.xhr.readyState !== 4) {\n        this.xhr.cancel && this.xhr.cancel();\n        this.xhr = null;\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"testspeed\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        openSpeed: false,\n        testCnt: 3,\n        loadSize: 200 * 1024,\n        testTimeStep: 3e3,\n        url: \"\",\n        saveSpeedMax: 5,\n        addSpeedTypeList: []\n      };\n    }\n  }]);\n  return TestSpeed2;\n}(Plugin);\nexport { TestSpeed as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { PLAY, PAUSE, ENDED, EMPTIED, FPS_STUCK } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar FpsDetect = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(FpsDetect2, _BasePlugin);\n  var _super = _createSuper(FpsDetect2);\n  function FpsDetect2() {\n    _classCallCheck(this, FpsDetect2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(FpsDetect2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      var player = this.player, config = this.config;\n      var media = player.media || player.video;\n      this.timer = null;\n      this._lastDecodedFrames = 0;\n      this._currentStuckCount = 0;\n      this._lastCheckPoint = null;\n      this._payload = [];\n      if (config.disabled)\n        return;\n      var getVideoPlaybackQuality = media.getVideoPlaybackQuality;\n      if (!getVideoPlaybackQuality)\n        return;\n      this.on(PLAY, function() {\n        _this._startTick();\n      });\n      this.on(PAUSE, function() {\n        _this._stopTick();\n      });\n      this.on(ENDED, function() {\n        _this._stopTick();\n      });\n      this.on(EMPTIED, function() {\n        _this._stopTick();\n      });\n    }\n  }, {\n    key: \"_startTick\",\n    value: function _startTick() {\n      var _this2 = this;\n      this._stopTick();\n      this._timer = setTimeout(function() {\n        _this2._checkDecodeFPS();\n        _this2._startTick();\n      }, this.config.tick);\n    }\n  }, {\n    key: \"_stopTick\",\n    value: function _stopTick() {\n      clearTimeout(this._timer);\n      this._timer = null;\n    }\n  }, {\n    key: \"_checkBuffer\",\n    value: function _checkBuffer(curTime, buffered) {\n      var enoughBuffer = false;\n      var buffers = [];\n      for (var i = 0; i < buffered.length; i++) {\n        var start = buffered.start(i);\n        var end = buffered.end(i);\n        buffers.push({\n          start,\n          end\n        });\n        if (start <= curTime && curTime <= end - 1) {\n          enoughBuffer = true;\n          break;\n        }\n      }\n      return {\n        enoughBuffer,\n        buffers\n      };\n    }\n  }, {\n    key: \"_checkStuck\",\n    value: function _checkStuck(curDecodedFrames, totalVideoFrames, droppedVideoFrames, checkInterval) {\n      var media = this.player.media || this.player.video;\n      var hidden = document.hidden;\n      var paused = media.paused, readyState = media.readyState, currentTime = media.currentTime, buffered = media.buffered;\n      if (hidden || paused || readyState < 4) {\n        return;\n      }\n      var _this$_checkBuffer = this._checkBuffer(currentTime, buffered), enoughBuffer = _this$_checkBuffer.enoughBuffer, buffers = _this$_checkBuffer.buffers;\n      if (!enoughBuffer) {\n        return;\n      }\n      if (curDecodedFrames <= this.config.reportFrame) {\n        this._currentStuckCount++;\n        this._payload.push({\n          currentTime,\n          buffers,\n          curDecodedFrames,\n          totalVideoFrames,\n          droppedVideoFrames,\n          checkInterval\n        });\n        if (this._currentStuckCount >= this.config.stuckCount) {\n          this.emit(FPS_STUCK, this._payload);\n          this._reset();\n        }\n      } else {\n        this._reset();\n      }\n    }\n  }, {\n    key: \"_reset\",\n    value: function _reset() {\n      this._payload = [];\n      this._currentStuckCount = 0;\n    }\n  }, {\n    key: \"_checkDecodeFPS\",\n    value: function _checkDecodeFPS() {\n      var media = this.player.media || this.player.video;\n      if (!media) {\n        return;\n      }\n      var _media$getVideoPlayba = media.getVideoPlaybackQuality(), totalVideoFrames = _media$getVideoPlayba.totalVideoFrames, droppedVideoFrames = _media$getVideoPlayba.droppedVideoFrames;\n      var currTime = performance.now();\n      if (totalVideoFrames) {\n        if (this._lastCheckPoint) {\n          var curDecoded = totalVideoFrames - this._lastDecodedFrames;\n          var checkInterval = currTime - this._lastCheckPoint;\n          this._checkStuck(curDecoded, totalVideoFrames, droppedVideoFrames, checkInterval);\n        }\n      }\n      this._lastDecodedFrames = totalVideoFrames;\n      this._lastCheckPoint = currTime;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._stopTick();\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"FpsDetect\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disabled: false,\n        tick: 1e3,\n        stuckCount: 3,\n        reportFrame: 0\n      };\n    }\n  }]);\n  return FpsDetect2;\n}(Plugin);\nexport { FpsDetect as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport sniffer from \"../utils/sniffer.js\";\nimport XGLogger from \"../plugins/logger/index.js\";\nimport Replay from \"../plugins/replay/index.js\";\nimport Poster from \"../plugins/poster/index.js\";\nimport Start from \"../plugins/start/index.js\";\nimport Enter from \"../plugins/enter/index.js\";\nimport MiniScreen from \"../plugins/miniScreen/index.js\";\nimport PCPlugin from \"../plugins/pc/index.js\";\nimport MobilePlugin from \"../plugins/mobile/index.js\";\nimport Keyboard from \"../plugins/keyboard/index.js\";\nimport Loading from \"../plugins/loading/index.js\";\nimport Progress from \"../plugins/progress/index.js\";\nimport Play from \"../plugins/play/index.js\";\nimport Fullscreen from \"../plugins/fullscreen/index.js\";\nimport Time from \"../plugins/time/index.js\";\nimport TimeSegmentsControls from \"../plugins/time/timesegments.js\";\nimport Volume from \"../plugins/volume/index.js\";\nimport Rotate from \"../plugins/rotate/index.js\";\nimport PIP from \"../plugins/pip/index.js\";\nimport PlayNextIcon from \"../plugins/playNext/index.js\";\nimport Download from \"../plugins/download/index.js\";\nimport ScreenShot from \"../plugins/screenShot/index.js\";\nimport DefinitionIcon from \"../plugins/definition/index.js\";\nimport PlaybackRate from \"../plugins/playbackRate/index.js\";\nimport CssFullScreen from \"../plugins/cssFullScreen/index.js\";\nimport ErrorPlugin from \"../plugins/error/index.js\";\nimport Prompt from \"../plugins/prompt/index.js\";\nimport ProgressPreview from \"../plugins/progressPreview/index.js\";\nimport Thumbnail from \"../plugins/common/thumbnail.js\";\nimport MiniProgress from \"../plugins/progress/miniProgress.js\";\nimport DynamicBg from \"../plugins/dynamicBg/index.js\";\nimport ZH from \"../lang/zh-cn.js\";\nimport Stats from \"../plugins/stats/index.js\";\nimport GapJump from \"../plugins/gapJump/index.js\";\nimport WaitingTimeoutJump from \"../plugins/waitingTimeoutJump/index.js\";\nimport TestSpeed from \"../plugins/testspeed/index.js\";\nimport I18N from \"../lang/i18n.js\";\nimport FpsDetect from \"../plugins/fpsDetect/index.js\";\nI18N.use(ZH);\nvar DefaultPreset = /* @__PURE__ */ _createClass(function DefaultPreset2(options, playerConfig) {\n  var _this$plugins, _this$plugins2, _this$plugins3;\n  _classCallCheck(this, DefaultPreset2);\n  var simulateMode = playerConfig && playerConfig.isMobileSimulateMode === \"mobile\";\n  var isLive = playerConfig.isLive;\n  var vodPlugins = isLive ? [] : [TimeSegmentsControls, Progress, MiniProgress, ProgressPreview, Time];\n  var contolsIcons = [].concat(vodPlugins, [Play, Fullscreen, Rotate, PlayNextIcon, DefinitionIcon, PlaybackRate, Download, ScreenShot, Volume, PIP]);\n  var layers = [Replay, Poster, Start, Loading, Enter, ErrorPlugin, Prompt, Thumbnail, MiniScreen];\n  this.plugins = [Stats, XGLogger].concat(_toConsumableArray(contolsIcons), layers, [GapJump, WaitingTimeoutJump]);\n  var mode = simulateMode ? \"mobile\" : sniffer.device;\n  switch (mode) {\n    case \"pc\":\n      (_this$plugins = this.plugins).push.apply(_this$plugins, [Keyboard, PCPlugin, CssFullScreen, TestSpeed, FpsDetect]);\n      break;\n    case \"mobile\":\n      (_this$plugins2 = this.plugins).push.apply(_this$plugins2, [MobilePlugin]);\n      break;\n    default:\n      (_this$plugins3 = this.plugins).push.apply(_this$plugins3, [Keyboard, PCPlugin, CssFullScreen]);\n  }\n  if (sniffer.os.isIpad || mode === \"pc\") {\n    this.plugins.push(DynamicBg);\n  }\n  if (sniffer.os.isIpad) {\n    this.plugins.push(PCPlugin);\n  }\n  this.ignores = [];\n  this.i18n = [];\n});\nexport { DefaultPreset as default };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport Player from \"./player.js\";\nimport Plugin from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nimport * as events from \"./events.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nimport I18N from \"./lang/i18n.js\";\nimport Errors from \"./error.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport util from \"./utils/util.js\";\nimport { InstManager } from \"./instManager.js\";\nimport DefaultPreset from \"./presets/default.js\";\nvar PresetPlayer = /* @__PURE__ */ function(_Player) {\n  _inherits(PresetPlayer2, _Player);\n  var _super = _createSuper(PresetPlayer2);\n  function PresetPlayer2() {\n    _classCallCheck(this, PresetPlayer2);\n    return _super.apply(this, arguments);\n  }\n  return _createClass(PresetPlayer2);\n}(Player);\n_defineProperty(PresetPlayer, \"defaultPreset\", DefaultPreset);\n_defineProperty(PresetPlayer, \"Util\", util);\n_defineProperty(PresetPlayer, \"Sniffer\", sniffer);\n_defineProperty(PresetPlayer, \"Errors\", Errors);\n_defineProperty(PresetPlayer, \"Events\", events);\n_defineProperty(PresetPlayer, \"Plugin\", Plugin);\n_defineProperty(PresetPlayer, \"BasePlugin\", BasePlugin);\n_defineProperty(PresetPlayer, \"I18N\", I18N);\n_defineProperty(PresetPlayer, \"STATE_CLASS\", STATE_CLASS);\n_defineProperty(PresetPlayer, \"InstManager\", InstManager);\nexport { PresetPlayer as default };\n","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s, _e, _x, _r, _arr = [], _n = true, _d = false;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i)\n          return;\n        _n = false;\n      } else\n        for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = true)\n          ;\n    } catch (err) {\n      _d = true, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r))\n          return;\n      } finally {\n        if (_d)\n          throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function() {\n    return exports;\n  };\n  var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function(obj, key, desc) {\n    obj[key] = desc.value;\n  }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {\n  }\n  function GeneratorFunction() {\n  }\n  function GeneratorFunctionPrototype() {\n  }\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function() {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg, value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function(value2) {\n          invoke(\"next\", value2, resolve, reject);\n        }, function(err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function(unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function(error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function(resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function(method, arg) {\n      if (\"executing\" === state)\n        throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method)\n          throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg; ; ) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel)\n              continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method)\n          context.sent = context._sent = context.arg;\n        else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state)\n            throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else\n          \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel)\n            continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method, method = delegate.iterator[methodName];\n    if (void 0 === method)\n      return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = void 0, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type)\n      return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = void 0), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(true);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod)\n        return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next)\n        return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next2() {\n          for (; ++i < iterable.length; )\n            if (hasOwn.call(iterable, i))\n              return next2.value = iterable[i], next2.done = false, next2;\n          return next2.value = void 0, next2.done = true, next2;\n        };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: void 0,\n      done: true\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: true\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: true\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function(genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function(genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function(arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function() {\n    return this;\n  }), define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  }), exports.keys = function(val) {\n    var object = Object(val), keys = [];\n    for (var key in object)\n      keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length; ) {\n        var key2 = keys.pop();\n        if (key2 in object)\n          return next.value = key2, next.done = false, next;\n      }\n      return next.done = true, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), !skipTempReset)\n        for (var name in this)\n          \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);\n    },\n    stop: function() {\n      this.done = true;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type)\n        throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function(exception) {\n      if (this.done)\n        throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = void 0), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i], record = entry.completion;\n        if (\"root\" === entry.tryLoc)\n          return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n          } else {\n            if (!hasFinally)\n              throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function(record, afterLoc) {\n      if (\"throw\" === record.type)\n        throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc)\n          return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName,\n        nextLoc\n      }, \"next\" === this.method && (this.arg = void 0), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function() {\n    var self = this, args = arguments;\n    return new Promise(function(resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(void 0);\n    });\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null)\n    return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0)\n      continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null)\n    return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0)\n        continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key))\n        continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr))\n    return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithHoles as arrayWithHoles, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _createClass as createClass, _createSuper as createSuper, _defineProperty as defineProperty, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _iterableToArrayLimit as iterableToArrayLimit, _nonIterableRest as nonIterableRest, _nonIterableSpread as nonIterableSpread, _objectSpread2 as objectSpread2, _objectWithoutProperties as objectWithoutProperties, _objectWithoutPropertiesLoose as objectWithoutPropertiesLoose, _possibleConstructorReturn as possibleConstructorReturn, _regeneratorRuntime as regeneratorRuntime, _setPrototypeOf as setPrototypeOf, _slicedToArray as slicedToArray, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray };\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function() {\n    return exports;\n  };\n  var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function(obj, key, desc) {\n    obj[key] = desc.value;\n  }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {\n  }\n  function GeneratorFunction() {\n  }\n  function GeneratorFunctionPrototype() {\n  }\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function() {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg, value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function(value2) {\n          invoke(\"next\", value2, resolve, reject);\n        }, function(err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function(unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function(error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function(resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function(method, arg) {\n      if (\"executing\" === state)\n        throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method)\n          throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg; ; ) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel)\n              continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method)\n          context.sent = context._sent = context.arg;\n        else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state)\n            throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else\n          \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel)\n            continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method, method = delegate.iterator[methodName];\n    if (void 0 === method)\n      return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = void 0, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type)\n      return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = void 0), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(true);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod)\n        return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next)\n        return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next2() {\n          for (; ++i < iterable.length; )\n            if (hasOwn.call(iterable, i))\n              return next2.value = iterable[i], next2.done = false, next2;\n          return next2.value = void 0, next2.done = true, next2;\n        };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: void 0,\n      done: true\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: true\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: true\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function(genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function(genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function(arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function() {\n    return this;\n  }), define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  }), exports.keys = function(val) {\n    var object = Object(val), keys = [];\n    for (var key in object)\n      keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length; ) {\n        var key2 = keys.pop();\n        if (key2 in object)\n          return next.value = key2, next.done = false, next;\n      }\n      return next.done = true, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), !skipTempReset)\n        for (var name in this)\n          \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);\n    },\n    stop: function() {\n      this.done = true;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type)\n        throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function(exception) {\n      if (this.done)\n        throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = void 0), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i], record = entry.completion;\n        if (\"root\" === entry.tryLoc)\n          return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n          } else {\n            if (!hasFinally)\n              throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function(record, afterLoc) {\n      if (\"throw\" === record.type)\n        throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc)\n          return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName,\n        nextLoc\n      }, \"next\" === this.method && (this.arg = void 0), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function() {\n    var self = this, args = arguments;\n    return new Promise(function(resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(void 0);\n    });\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct2(Parent2, args2, Class2) {\n      var a = [null];\n      a.push.apply(a, args2);\n      var Constructor = Function.bind.apply(Parent2, a);\n      var instance = new Constructor();\n      if (Class2)\n        _setPrototypeOf(instance, Class2.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? /* @__PURE__ */ new Map() : void 0;\n  _wrapNativeSuper = function _wrapNativeSuper2(Class2) {\n    if (Class2 === null || !_isNativeFunction(Class2))\n      return Class2;\n    if (typeof Class2 !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class2))\n        return _cache.get(Class2);\n      _cache.set(Class2, Wrapper);\n    }\n    function Wrapper() {\n      return _construct(Class2, arguments, _getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class2.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class2);\n  };\n  return _wrapNativeSuper(Class);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null)\n    return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0)\n      continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null)\n    return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0)\n        continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key))\n        continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null)\n      break;\n  }\n  return object;\n}\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get2(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base)\n        return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it)\n        o = it;\n      var i = 0;\n      var F = function() {\n      };\n      return {\n        s: F,\n        n: function() {\n          if (i >= o.length)\n            return {\n              done: true\n            };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function(e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true, didErr = false, err;\n  return {\n    s: function() {\n      it = it.call(o);\n    },\n    n: function() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function(e) {\n      didErr = true;\n      err = e;\n    },\n    f: function() {\n      try {\n        if (!normalCompletion && it.return != null)\n          it.return();\n      } finally {\n        if (didErr)\n          throw err;\n      }\n    }\n  };\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _assertThisInitialized as assertThisInitialized, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _construct as construct, _createClass as createClass, _createForOfIteratorHelper as createForOfIteratorHelper, _createSuper as createSuper, _defineProperty as defineProperty, _get as get, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeFunction as isNativeFunction, _isNativeReflectConstruct as isNativeReflectConstruct, _objectSpread2 as objectSpread2, _objectWithoutProperties as objectWithoutProperties, _objectWithoutPropertiesLoose as objectWithoutPropertiesLoose, _possibleConstructorReturn as possibleConstructorReturn, _regeneratorRuntime as regeneratorRuntime, _setPrototypeOf as setPrototypeOf, _superPropBase as superPropBase, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray, _wrapNativeSuper as wrapNativeSuper };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, wrapNativeSuper as _wrapNativeSuper } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar _ERR_CODE;\nvar ERR = {\n  MANIFEST: \"manifest\",\n  NETWORK: \"network\",\n  NETWORK_TIMEOUT: \"network_timeout\",\n  NETWORK_FORBIDDEN: \"network_forbidden\",\n  NETWORK_NOTFOUND: \"network_notfound\",\n  NETWROK_RANGE_NOT_SATISFIABLE: \"network_range_not_satisfiable\",\n  DEMUX: \"demux\",\n  REMUX: \"remux\",\n  MEDIA: \"media\",\n  DRM: \"drm\",\n  OTHER: \"other\",\n  RUNTIME: \"runtime\",\n  SUB_TYPES: {\n    FLV: \"FLV\",\n    HLS: \"HLS\",\n    MP4: \"MP4\",\n    FMP4: \"FMP4\",\n    MSE_ADD_SB: \"MSE_ADD_SB\",\n    MSE_APPEND_BUFFER: \"MSE_APPEND_BUFFER\",\n    MSE_OTHER: \"MSE_OTHER\",\n    MSE_FULL: \"MSE_FULL\",\n    MSE_CHANGE_TYPE: \"MSE_CHANGE_TYPE\",\n    OPTION: \"OPTION\",\n    DASH: \"DASH\",\n    LICENSE: \"LICENSE\",\n    CUSTOM_LICENSE: \"CUSTOM_LICENSE\",\n    MSE_HIJACK: \"MSE_HIJACK\",\n    EME_HIJACK: \"EME_HIJACK\",\n    SIDX: \"SIDX\",\n    NO_CANPLAY_ERROR: \"NO_CANPLAY_ERROR\",\n    BUFFERBREAK_ERROR: \"BUFFERBREAK_ERROR\",\n    WAITING_TIMEOUT_ERROR: \"WAITING_TIMEOUT_ERROR\",\n    MEDIA_ERR_ABORTED: \"MEDIA_ERR_ABORTED\",\n    MEDIA_ERR_NETWORK: \"MEDIA_ERR_NETWORK\",\n    MEDIA_ERR_DECODE: \"MEDIA_ERR_DECODE\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"MEDIA_ERR_SRC_NOT_SUPPORTED\",\n    MEDIA_ERR_CODEC_NOT_SUPPORTED: \"MEDIA_ERR_CODEC_NOT_SUPPORTED\",\n    MEDIA_ERR_URL_EMPTY: \"MEDIA_ERR_URL_EMPTY\"\n  }\n};\nvar ERR_CODE = (_ERR_CODE = {}, _defineProperty(_ERR_CODE, ERR.MANIFEST, {\n  HLS: 1100,\n  DASH: 1200\n}), _defineProperty(_ERR_CODE, ERR.NETWORK, 2100), _defineProperty(_ERR_CODE, ERR.NETWORK_TIMEOUT, 2101), _defineProperty(_ERR_CODE, ERR.NETWORK_FORBIDDEN, 2103), _defineProperty(_ERR_CODE, ERR.NETWORK_NOTFOUND, 2104), _defineProperty(_ERR_CODE, ERR.NETWROK_RANGE_NOT_SATISFIABLE, 2116), _defineProperty(_ERR_CODE, ERR.DEMUX, {\n  FLV: 3100,\n  HLS: 3200,\n  MP4: 3300,\n  FMP4: 3400,\n  SIDX: 3410\n}), _defineProperty(_ERR_CODE, ERR.REMUX, {\n  FMP4: 4100,\n  MP4: 4200\n}), _defineProperty(_ERR_CODE, ERR.MEDIA, {\n  MEDIA_ERR_ABORTED: 5101,\n  MEDIA_ERR_NETWORK: 5102,\n  MEDIA_ERR_DECODE: 5103,\n  MEDIA_ERR_SRC_NOT_SUPPORTED: 5104,\n  MEDIA_ERR_CODEC_NOT_SUPPORTED: 5105,\n  MEDIA_ERR_URL_EMPTY: 5106,\n  MSE_ADD_SB: 5200,\n  MSE_APPEND_BUFFER: 5201,\n  MSE_OTHER: 5202,\n  MSE_FULL: 5203,\n  MSE_HIJACK: 5204,\n  MSE_CHANGE_TYPE: 5205,\n  EME_HIJACK: 5301\n}), _defineProperty(_ERR_CODE, ERR.DRM, {\n  LICENSE: 7100,\n  CUSTOM_LICENSE: 7200\n}), _defineProperty(_ERR_CODE, ERR.OTHER, 8e3), _defineProperty(_ERR_CODE, ERR.RUNTIME, {\n  NO_CANPLAY_ERROR: 9001,\n  BUFFERBREAK_ERROR: 9002,\n  WAITING_TIMEOUT_ERROR: 9003\n}), _ERR_CODE);\nvar StreamingError = /* @__PURE__ */ function(_Error) {\n  _inherits(StreamingError2, _Error);\n  var _super = _createSuper(StreamingError2);\n  function StreamingError2(type, subType, origin, payload, msg) {\n    var _this;\n    _classCallCheck(this, StreamingError2);\n    _this = _super.call(this, msg || (origin === null || origin === void 0 ? void 0 : origin.message));\n    _this.errorType = type === ERR.NETWORK_TIMEOUT ? ERR.NETWORK : type;\n    _this.originError = origin;\n    _this.ext = payload;\n    _this.errorCode = ERR_CODE[type][subType] || ERR_CODE[type];\n    _this.errorMessage = _this.message;\n    if (!_this.errorCode) {\n      _this.errorType = ERR.OTHER;\n      _this.errorCode = ERR_CODE[_this.errorType];\n    }\n    return _this;\n  }\n  _createClass(StreamingError2, null, [{\n    key: \"create\",\n    value: function create(type, subType, origin, payload, msg) {\n      if (type instanceof StreamingError2) {\n        return type;\n      } else if (type instanceof Error) {\n        origin = type;\n        type = \"\";\n      }\n      if (!type)\n        type = ERR.OTHER;\n      return new StreamingError2(type, subType, origin, payload, msg);\n    }\n  }, {\n    key: \"network\",\n    value: function network(error) {\n      var _error$response;\n      return new StreamingError2(error !== null && error !== void 0 && error.isTimeout ? ERR.NETWORK_TIMEOUT : ERR.NETWORK, null, error instanceof Error ? error : null, {\n        url: error === null || error === void 0 ? void 0 : error.url,\n        response: error === null || error === void 0 ? void 0 : error.response,\n        httpCode: error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status\n      });\n    }\n  }]);\n  return StreamingError2;\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nexport { ERR, ERR_CODE, StreamingError };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar Buffer = /* @__PURE__ */ function() {\n  function Buffer2() {\n    _classCallCheck(this, Buffer2);\n  }\n  _createClass(Buffer2, null, [{\n    key: \"start\",\n    value: function start(buf) {\n      if (!buf || !buf.length)\n        return 0;\n      if (buf.length === 1 && buf.end(0) - buf.start(0) < 1e-6)\n        return 0;\n      if (buf.length === 1 && buf.start(0) < 0)\n        return 0;\n      return buf.start(0);\n    }\n  }, {\n    key: \"end\",\n    value: function end(buf) {\n      if (!buf || !buf.length)\n        return 0;\n      if (buf.length === 1 && buf.end(0) - buf.start(0) < 1e-6)\n        return 0;\n      return buf.end(buf.length - 1);\n    }\n  }, {\n    key: \"get\",\n    value: function get(b) {\n      if (!b)\n        return;\n      try {\n        return b.buffered;\n      } catch (error) {\n      }\n    }\n  }, {\n    key: \"buffers\",\n    value: function buffers(buf, maxHole) {\n      if (!buf || !buf.length)\n        return [];\n      var buffers2 = [];\n      for (var i = 0, l = buf.length; i < l; i++) {\n        var bufLen = buffers2.length;\n        if (!bufLen || !maxHole) {\n          buffers2.push([buf.start(i), buf.end(i)]);\n        } else {\n          var last = buffers2[bufLen - 1];\n          var lastEnd = last[1];\n          var start = buf.start(i);\n          if (start - lastEnd <= maxHole) {\n            var end = buf.end(i);\n            if (end > lastEnd) {\n              last[1] = end;\n            }\n          } else {\n            buffers2.push([buf.start(i), buf.end(i)]);\n          }\n        }\n      }\n      return buffers2;\n    }\n  }, {\n    key: \"totalLength\",\n    value: function totalLength(buffers) {\n      if (!buffers || !buffers.length)\n        return 0;\n      return buffers.reduce(function(a, c) {\n        return a += c[1] - c[0];\n      }, 0);\n    }\n  }, {\n    key: \"info\",\n    value: function info(buf) {\n      var pos = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      var maxHole = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      if (!buf || !buf.length)\n        return {\n          start: 0,\n          end: 0,\n          buffers: []\n        };\n      var start = 0;\n      var end = 0;\n      var index = 0;\n      var nextStart = 0;\n      var nextEnd = 0;\n      var prevStart = 0;\n      var prevEnd = 0;\n      var buffers = Buffer2.buffers(buf, maxHole);\n      for (var i = 0, l = buffers.length; i < l; i++) {\n        var item = buffers[i];\n        if (pos + maxHole >= item[0] && pos <= item[1]) {\n          start = item[0];\n          end = item[1];\n          index = i;\n        } else if (pos + maxHole < item[0]) {\n          nextStart = item[0];\n          nextEnd = item[1];\n          break;\n        } else if (pos + maxHole > item[1]) {\n          prevStart = item[0];\n          prevEnd = item[1];\n        }\n      }\n      return {\n        start,\n        end,\n        index,\n        buffers,\n        nextStart,\n        nextEnd,\n        prevStart,\n        prevEnd,\n        currentTime: pos,\n        behind: pos - start,\n        remaining: end ? end - pos : 0,\n        length: Buffer2.totalLength && Buffer2.totalLength(buffers)\n      };\n    }\n  }, {\n    key: \"isBuffered\",\n    value: function isBuffered(media, pos) {\n      if (media) {\n        var buffered = Buffer2.get(media);\n        if (buffered !== null && buffered !== void 0 && buffered.length) {\n          for (var i = 0; i < buffered.length; i++) {\n            if (pos >= buffered.start(i) && pos <= buffered.end(i)) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    }\n  }]);\n  return Buffer2;\n}();\nexport { Buffer };\n","var isBrowser = typeof window !== \"undefined\";\nexport { isBrowser };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck, typeof as _typeof } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar LogCacheLevel = {\n  \"DEBUG\": 1,\n  \"LOG\": 2,\n  \"WARN\": 3,\n  \"ERROR\": 4\n};\nvar LOG_MAX_SIZE = 200 * 1024;\nvar SIMPLE_TYPE = [\"Boolean\", \"Number\", \"String\", \"Undefined\", \"Null\", \"Date\", \"Object\"];\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name, config) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n    this.logCacheLevel = (config === null || config === void 0 ? void 0 : config.logCacheLevel) || 3;\n    this.logMaxSize = (config === null || config === void 0 ? void 0 : config.logMaxSize) || LOG_MAX_SIZE;\n    this.logSize = 0;\n    this.logTextArray = [];\n  }\n  _createClass(Logger2, [{\n    key: \"debug\",\n    value: function debug() {\n      var _console;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      this.logCache.apply(this, [LogCacheLevel.DEBUG].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console = console).debug.apply(_console, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      var _console2;\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      this.logCache.apply(this, [LogCacheLevel.LOG].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console2 = console).log.apply(_console2, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      var _console3;\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      this.logCache.apply(this, [LogCacheLevel.WARN].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console3 = console).warn.apply(_console3, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      var _console4;\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      this.logCache.apply(this, [LogCacheLevel.ERROR].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console4 = console).error.apply(_console4, [\"[\".concat(nowTime(), \"]\"), this._prefix].concat(args));\n    }\n  }, {\n    key: \"logCache\",\n    value: function logCache(logCacheLevel) {\n      if (logCacheLevel < this.logCacheLevel)\n        return;\n      var text = \"\";\n      try {\n        for (var _len5 = arguments.length, logText = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n          logText[_key5 - 1] = arguments[_key5];\n        }\n        var finLogText = logText.map(function(item) {\n          return logable(item);\n        });\n        text = \"[\".concat(nowTime(), \"]\") + this._prefix + JSON.stringify(finLogText);\n      } catch (e) {\n        return;\n      }\n      if (logCacheLevel >= this.logCacheLevel) {\n        this.logSize += text.length;\n        this.logTextArray.push(text);\n      }\n      if (this.logSize > this.logMaxSize) {\n        var delLog = this.logTextArray.shift();\n        this.logSize -= delLog.length;\n      }\n    }\n  }, {\n    key: \"getLogCache\",\n    value: function getLogCache() {\n      var logText = this.logTextArray.join(\"\\n\");\n      this.reset();\n      return logText;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.logTextArray = [];\n      this.logSize = 0;\n    }\n  }, {\n    key: \"table\",\n    value: function table() {\n      var _console5;\n      if (Logger2.disabled)\n        return;\n      console.group(this._prefix);\n      (_console5 = console).table.apply(_console5, arguments);\n      console.groupEnd();\n    }\n  }, {\n    key: \"setLogLevel\",\n    value: function setLogLevel(val) {\n      this.logCacheLevel = val;\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nfunction nowTime() {\n  return new Date().toLocaleString();\n}\nfunction reduceDepth(val) {\n  if (_typeof(val) !== \"object\") {\n    return val;\n  }\n  var objType = Object.prototype.toString.call(val).slice(8, -1);\n  switch (objType) {\n    case \"Array\":\n    case \"Uint8Array\":\n    case \"ArrayBuffer\":\n      return objType + \"[\" + val.length + \"]\";\n    case \"Object\":\n      return \"{}\";\n    default:\n      return objType;\n  }\n}\nfunction logable(obj, maxDepth, depth) {\n  if (!depth)\n    depth = 1;\n  if (!maxDepth)\n    maxDepth = 2;\n  var result = {};\n  if (!obj || _typeof(obj) !== \"object\") {\n    return obj;\n  }\n  var objType = Object.prototype.toString.call(obj).slice(8, -1);\n  if (!SIMPLE_TYPE.includes(objType)) {\n    return objType;\n  }\n  if (depth > maxDepth) {\n    return void 0;\n  }\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      if (depth === maxDepth) {\n        result[key] = reduceDepth(obj[key]);\n      } else if (_typeof(obj[key]) === \"object\") {\n        result[key] = logable(obj[key], maxDepth, depth + 1);\n      } else {\n        result[key] = obj[key];\n      }\n    }\n  }\n  return result;\n}\nexport { LogCacheLevel, Logger };\n","function createPublicPromise() {\n  var res, rej;\n  var promise = new Promise(function(resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.used = false;\n  promise.resolve = function() {\n    promise.used = true;\n    return res.apply(void 0, arguments);\n  };\n  promise.reject = function() {\n    promise.used = true;\n    return rej.apply(void 0, arguments);\n  };\n  return promise;\n}\nfunction nowTime() {\n  try {\n    return parseInt(performance.now(), 10);\n  } catch (e) {\n    return new Date().getTime();\n  }\n}\nvar SafeJSON = {\n  stringify: function stringify(obj) {\n    try {\n      return JSON.stringify(obj);\n    } catch (e) {\n      return \"\";\n    }\n  },\n  parse: function parse(obj) {\n    try {\n      return JSON.parse(obj);\n    } catch (e) {\n      return void 0;\n    }\n  }\n};\nexport { SafeJSON, createPublicPromise, nowTime };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, wrapNativeSuper as _wrapNativeSuper, typeof as _typeof, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { Buffer } from \"./buffer.js\";\nimport { isBrowser } from \"./env.js\";\nimport { StreamingError, ERR } from \"./error.js\";\nimport { Logger } from \"./logger.js\";\nimport { createPublicPromise, nowTime, SafeJSON } from \"./utils.js\";\nfunction getMediaSource() {\n  var preferMMS = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n  try {\n    if (!isBrowser)\n      return null;\n    if (preferMMS && typeof ManagedMediaSource !== \"undefined\")\n      return ManagedMediaSource;\n    return window.MediaSource;\n  } catch (e) {\n  }\n}\nfunction isMMS(mediaSource) {\n  return /ManagedMediaSource/gi.test(Object.prototype.toString.call(mediaSource));\n}\nfunction getTimeRanges(buffered) {\n  var ranges = [];\n  if (buffered instanceof TimeRanges) {\n    for (var i = 0; i < buffered.length; i++) {\n      ranges.push({\n        start: buffered.start(i),\n        end: buffered.end(i)\n      });\n    }\n  }\n  return ranges;\n}\nvar MSEErrorType = {\n  UPDATE_ERROR: \"updateError\"\n};\nvar OP_NAME = {\n  APPEND: \"appendBuffer\",\n  REMOVE: \"removeBuffer\",\n  UPDATE_DURATION: \"updateDuration\"\n};\nvar MSEError = /* @__PURE__ */ function(_Error) {\n  _inherits(MSEError2, _Error);\n  var _super = _createSuper(MSEError2);\n  function MSEError2(type, msg) {\n    var _this;\n    _classCallCheck(this, MSEError2);\n    _this = _super.call(this, msg || type);\n    _this.type = type;\n    _this.msg = msg;\n    return _this;\n  }\n  return _createClass(MSEError2);\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nvar MSE = /* @__PURE__ */ function() {\n  function MSE2(media, config) {\n    var _this2 = this;\n    _classCallCheck(this, MSE2);\n    _defineProperty(this, \"media\", null);\n    _defineProperty(this, \"mediaSource\", null);\n    _defineProperty(this, \"_openPromise\", createPublicPromise());\n    _defineProperty(this, \"_queue\", /* @__PURE__ */ Object.create(null));\n    _defineProperty(this, \"_sourceBuffer\", /* @__PURE__ */ Object.create(null));\n    _defineProperty(this, \"_mseFullFlag\", {});\n    _defineProperty(this, \"_st\", 0);\n    _defineProperty(this, \"_opst\", 0);\n    _defineProperty(this, \"_logger\", null);\n    _defineProperty(this, \"_config\", null);\n    _defineProperty(this, \"_url\", null);\n    _defineProperty(this, \"_onStartStreaming\", function() {\n      _this2._logger.debug(\"startstreaming\");\n    });\n    _defineProperty(this, \"_onEndStreaming\", function() {\n      _this2._logger.debug(\"endstreaming\");\n    });\n    _defineProperty(this, \"_onSBUpdateEnd\", function(type) {\n      var queue = _this2._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (!((op === null || op === void 0 ? void 0 : op.opName) === OP_NAME.UPDATE_DURATION)) {\n          queue.shift();\n        }\n        if (op) {\n          var _this2$_sourceBuffer$, _op$context;\n          var costtime = nowTime() - _this2._opst;\n          _this2._logger.debug(\"UpdateEnd(\".concat(type, \"/\").concat(op.opName, \")\"), SafeJSON.stringify(getTimeRanges((_this2$_sourceBuffer$ = _this2._sourceBuffer[type]) === null || _this2$_sourceBuffer$ === void 0 ? void 0 : _this2$_sourceBuffer$.buffered)), costtime, op.context);\n          op.promise.resolve({\n            name: op.opName,\n            context: op.context,\n            costtime\n          });\n          var callback = (_op$context = op.context) === null || _op$context === void 0 ? void 0 : _op$context.callback;\n          if (callback && typeof callback === \"function\") {\n            callback(op.context);\n          }\n          _this2._startQueue(type);\n        }\n      }\n    });\n    _defineProperty(this, \"_onSBUpdateError\", function(type, event) {\n      var queue = _this2._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (op) {\n          _this2._logger.error(\"UpdateError\", type, op.opName, op.context);\n          op.promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_APPEND_BUFFER, event));\n        }\n      }\n    });\n    this._config = Object.assign(MSE2.getDefaultConfig(), config);\n    if (media)\n      this.bindMedia(media);\n    this._logger = new Logger(\"MSE\");\n    if (this._config.openLog) {\n      Logger.enable();\n    }\n  }\n  _createClass(MSE2, [{\n    key: \"isOpened\",\n    get: function get() {\n      var _this$mediaSource;\n      return ((_this$mediaSource = this.mediaSource) === null || _this$mediaSource === void 0 ? void 0 : _this$mediaSource.readyState) === \"open\";\n    }\n  }, {\n    key: \"hasOpTasks\",\n    get: function get() {\n      var _this3 = this;\n      var flag = false;\n      Object.keys(this._queue).forEach(function(k) {\n        var queue = _this3._queue[k];\n        if (Array.isArray(queue)) {\n          flag || (flag = queue.length > 0);\n        }\n      });\n      return flag;\n    }\n  }, {\n    key: \"url\",\n    get: function get() {\n      return this._url;\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      var _this$mediaSource2;\n      return ((_this$mediaSource2 = this.mediaSource) === null || _this$mediaSource2 === void 0 ? void 0 : _this$mediaSource2.duration) || -1;\n    }\n  }, {\n    key: \"isEnded\",\n    get: function get() {\n      return this.mediaSource ? this.mediaSource.readyState === \"ended\" : false;\n    }\n  }, {\n    key: \"streaming\",\n    get: function get() {\n      return isMMS(this.mediaSource) ? this.mediaSource.streaming : true;\n    }\n  }, {\n    key: \"isFull\",\n    value: function isFull(type) {\n      return type ? this._mseFullFlag[type] : this._mseFullFlag[MSE2.VIDEO];\n    }\n  }, {\n    key: \"updateDuration\",\n    value: function updateDuration(duration) {\n      var _this4 = this;\n      var isReduceDuration = this.mediaSource && this.mediaSource.duration > duration;\n      if (this.mediaSource && this.mediaSource.duration > duration) {\n        var bufferEnd = 0;\n        Object.keys(this._sourceBuffer).forEach(function(k) {\n          try {\n            bufferEnd = Math.max(_this4.bufferEnd(k) || 0, bufferEnd);\n          } catch (error) {\n          }\n        });\n        if (duration < bufferEnd) {\n          return Promise.resolve();\n        }\n      }\n      return this._enqueueBlockingOp(function() {\n        if (_this4.isEnded) {\n          _this4._logger.debug(\"setDuration but ended\");\n          return;\n        }\n        if (_this4.mediaSource) {\n          _this4.mediaSource.duration = duration;\n          _this4._logger.debug(\"setDuration\", duration);\n        }\n      }, OP_NAME.UPDATE_DURATION, {\n        isReduceDuration\n      });\n    }\n  }, {\n    key: \"open\",\n    value: function open() {\n      var _this5 = this;\n      if (this._openPromise.used && !this.isOpened && this.mediaSource) {\n        var ms = this.mediaSource;\n        var onOpen = function onOpen2() {\n          var costTime = nowTime() - _this5._st;\n          _this5._logger.debug(\"sourceopen\", costTime);\n          ms.removeEventListener(\"sourceopen\", onOpen2);\n          _this5._openPromise.resolve({\n            costtime: costTime\n          });\n        };\n        ms.addEventListener(\"sourceopen\", onOpen);\n        this._openPromise = createPublicPromise();\n      }\n      return this._openPromise;\n    }\n  }, {\n    key: \"bindMedia\",\n    value: function() {\n      var _bindMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(media) {\n        var _this6 = this;\n        var MediaSource2, ms, useMMS, onOpen;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(this.mediaSource || this.media)) {\n                  _context.next = 3;\n                  break;\n                }\n                _context.next = 3;\n                return this.unbindMedia();\n              case 3:\n                MediaSource2 = getMediaSource(this._config.preferMMS);\n                if (!(!media || !MediaSource2)) {\n                  _context.next = 6;\n                  break;\n                }\n                throw new Error(\"Param media or MediaSource does not exist\");\n              case 6:\n                this.media = media;\n                ms = this.mediaSource = new MediaSource2();\n                useMMS = isMMS(ms);\n                this._st = nowTime();\n                onOpen = function onOpen2() {\n                  var costTime = nowTime() - _this6._st;\n                  _this6._logger.debug(\"sourceopen\");\n                  ms.removeEventListener(\"sourceopen\", onOpen2);\n                  URL.revokeObjectURL(media.src);\n                  _this6._openPromise.resolve({\n                    costtime: costTime\n                  });\n                };\n                ms.addEventListener(\"sourceopen\", onOpen);\n                if (useMMS) {\n                  ms.addEventListener(\"startstreaming\", this._onStartStreaming);\n                  ms.addEventListener(\"endstreaming\", this._onEndStreaming);\n                }\n                this._url = URL.createObjectURL(ms);\n                media.src = this._url;\n                media.disableRemotePlayback = useMMS;\n                return _context.abrupt(\"return\", this._openPromise);\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function bindMedia(_x) {\n        return _bindMedia.apply(this, arguments);\n      }\n      return bindMedia;\n    }()\n  }, {\n    key: \"unbindMedia\",\n    value: function() {\n      var _unbindMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        var _this7 = this;\n        var ms, hasMetadata, mseOpen;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this._openPromise.used)\n                  this._openPromise.resolve();\n                ms = this.mediaSource;\n                if (ms) {\n                  Object.keys(this._queue).forEach(function(t) {\n                    var queue = _this7._queue[t];\n                    if (queue) {\n                      queue.forEach(function(x) {\n                        var _x$promise, _x$promise$resolve;\n                        return (_x$promise = x.promise) === null || _x$promise === void 0 ? void 0 : (_x$promise$resolve = _x$promise.resolve) === null || _x$promise$resolve === void 0 ? void 0 : _x$promise$resolve.call(_x$promise);\n                      });\n                    }\n                  });\n                  hasMetadata = !!this.media && this.media.readyState >= 1;\n                  mseOpen = ms.readyState === \"open\";\n                  if (hasMetadata && mseOpen) {\n                    try {\n                      ms.endOfStream();\n                    } catch (error) {\n                    }\n                  }\n                  Object.keys(this._sourceBuffer).forEach(function(k) {\n                    try {\n                      ms.removeSourceBuffer(_this7._sourceBuffer[k]);\n                    } catch (error) {\n                    }\n                  });\n                  if (isMMS(ms)) {\n                    ms.removeEventListener(\"startstreaming\", this._onStartStreaming);\n                    ms.removeEventListener(\"endstreaming\", this._onEndStreaming);\n                  }\n                }\n                if (this.media) {\n                  this.media.disableRemotePlayback = false;\n                  this.media.removeAttribute(\"src\");\n                  try {\n                    this.media.load();\n                  } catch (error) {\n                  }\n                  this.media = null;\n                }\n                this.mediaSource = null;\n                this._openPromise = createPublicPromise();\n                this._queue = /* @__PURE__ */ Object.create(null);\n                this._sourceBuffer = /* @__PURE__ */ Object.create(null);\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function unbindMedia() {\n        return _unbindMedia.apply(this, arguments);\n      }\n      return unbindMedia;\n    }()\n  }, {\n    key: \"createSource\",\n    value: function createSource(type, mimeType) {\n      if (this._sourceBuffer[type] || !this.mediaSource)\n        return;\n      var sb;\n      try {\n        sb = this._sourceBuffer[type] = this.mediaSource.addSourceBuffer(mimeType);\n      } catch (error) {\n        throw new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_ADD_SB, error);\n      }\n      sb.mimeType = mimeType;\n      sb.addEventListener(\"updateend\", this._onSBUpdateEnd.bind(this, type));\n      sb.addEventListener(\"error\", this._onSBUpdateError.bind(this, type));\n    }\n  }, {\n    key: \"changeType\",\n    value: function changeType(type, mimeType) {\n      var _this8 = this;\n      var sb = this._sourceBuffer[type];\n      if (!this.mediaSource || !sb || sb.mimeType === mimeType)\n        return Promise.resolve();\n      if (typeof sb.changeType !== \"function\") {\n        return Promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_CHANGE_TYPE, new Error(\"changeType is not a function\")));\n      }\n      return this._enqueueOp(type, function() {\n        try {\n          sb.changeType(mimeType);\n        } catch (e) {\n          throw new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_CHANGE_TYPE, e);\n        }\n        sb.mimeType = mimeType;\n        _this8._onSBUpdateEnd(type);\n      }, \"changeType\", {\n        mimeType\n      });\n    }\n  }, {\n    key: \"createOrChangeSource\",\n    value: function createOrChangeSource(type, mimeType) {\n      this.createSource(type, mimeType);\n      return this.changeType(type, mimeType);\n    }\n  }, {\n    key: \"append\",\n    value: function append(type, buffer, context) {\n      var _this9 = this;\n      if (!buffer || !buffer.byteLength) {\n        return Promise.resolve();\n      }\n      if (!this._sourceBuffer[type])\n        return Promise.resolve();\n      return this._enqueueOp(type, function() {\n        var _this9$_sourceBuffer$;\n        if (!_this9.mediaSource || _this9.media.error)\n          return;\n        _this9._logger.debug(\"MSE APPEND START\", context);\n        _this9._opst = nowTime();\n        (_this9$_sourceBuffer$ = _this9._sourceBuffer[type]) === null || _this9$_sourceBuffer$ === void 0 ? void 0 : _this9$_sourceBuffer$.appendBuffer(buffer);\n      }, OP_NAME.APPEND, context);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(type, startTime, endTime, context) {\n      var _this10 = this;\n      var isInsertHead = false;\n      if (this._mseFullFlag[type]) {\n        isInsertHead = true;\n      }\n      return this._enqueueOp(type, function() {\n        if (!_this10.mediaSource || _this10.media.error)\n          return;\n        var sb = _this10._sourceBuffer[type];\n        if (startTime >= endTime || !sb) {\n          _this10._onSBUpdateEnd(type);\n          return;\n        }\n        _this10._opst = nowTime();\n        _this10._logger.debug(\"MSE REMOVE START\", type, startTime, endTime, context);\n        sb.remove(startTime, endTime);\n      }, OP_NAME.REMOVE, context, isInsertHead);\n    }\n  }, {\n    key: \"clearBuffer\",\n    value: function clearBuffer(startTime, endTime) {\n      var _this11 = this;\n      var p;\n      Object.keys(this._sourceBuffer).forEach(function(k) {\n        p = _this11.remove(k, startTime, endTime);\n      });\n      return p || Promise.resolve();\n    }\n  }, {\n    key: \"clearAllBuffer\",\n    value: function clearAllBuffer() {\n      var _this12 = this;\n      var p;\n      Object.keys(this._sourceBuffer).forEach(function(k) {\n        var sb = _this12._sourceBuffer[k];\n        p = _this12.remove(k, 0, Buffer.end(Buffer.get(sb)));\n      });\n      return p;\n    }\n  }, {\n    key: \"clearOpQueues\",\n    value: function clearOpQueues(type, allClear) {\n      var _this$_queue$type;\n      this._logger.debug(\"MSE clearOpQueue START\");\n      var queue = this._queue[type];\n      if (allClear && queue) {\n        this._queue[type] = [];\n        return;\n      }\n      if (!queue || !queue[type] || queue.length < 5)\n        return;\n      var initQueue = [];\n      queue.forEach(function(op) {\n        if (op.context && op.context.isinit) {\n          initQueue.push(op);\n        }\n      });\n      this._queue[type] = queue.slice(0, 2);\n      initQueue.length > 0 && (_this$_queue$type = this._queue[type]).push.apply(_this$_queue$type, initQueue);\n    }\n  }, {\n    key: \"endOfStream\",\n    value: function endOfStream(reason) {\n      var _this13 = this;\n      if (!this.mediaSource || this.mediaSource.readyState !== \"open\")\n        return Promise.resolve();\n      return this._enqueueBlockingOp(function() {\n        var ms = _this13.mediaSource;\n        if (!ms || ms.readyState !== \"open\")\n          return;\n        _this13._logger.debug(\"MSE endOfStream START\");\n        if (reason) {\n          ms.endOfStream(reason);\n        } else {\n          ms.endOfStream();\n        }\n      }, \"endOfStream\");\n    }\n  }, {\n    key: \"setLiveSeekableRange\",\n    value: function setLiveSeekableRange(start, end) {\n      var ms = this.mediaSource;\n      if (start < 0 || end < start || !(ms !== null && ms !== void 0 && ms.setLiveSeekableRange) || ms.readyState !== \"open\")\n        return;\n      ms.setLiveSeekableRange(start, end);\n    }\n  }, {\n    key: \"getSourceBuffer\",\n    value: function getSourceBuffer(type) {\n      return this._sourceBuffer[type];\n    }\n  }, {\n    key: \"buffered\",\n    value: function buffered(type) {\n      return Buffer.get(this._sourceBuffer[type]);\n    }\n  }, {\n    key: \"bufferStart\",\n    value: function bufferStart(type) {\n      return Buffer.start(this.buffered(type));\n    }\n  }, {\n    key: \"bufferEnd\",\n    value: function bufferEnd(type) {\n      return Buffer.end(this.buffered(type));\n    }\n  }, {\n    key: \"_enqueueOp\",\n    value: function _enqueueOp(type, exec, opName, context, isInsertHead) {\n      var _this14 = this;\n      if (!this.mediaSource)\n        return Promise.resolve();\n      var queue = this._queue[type] = this._queue[type] || [];\n      var op = {\n        exec,\n        promise: createPublicPromise(),\n        opName,\n        context\n      };\n      if (isInsertHead) {\n        queue.splice(0, 0, op);\n        this._mseFullFlag[type] = false;\n        this._startQueue(type);\n      } else {\n        queue.push(op);\n      }\n      if (this.isOpened || this.isEnded) {\n        if (queue.length === 1) {\n          this._startQueue(type);\n        }\n      } else {\n        this._openPromise.then(function() {\n          if (queue.length === 1) {\n            _this14._startQueue(type);\n          }\n        });\n      }\n      return op.promise;\n    }\n  }, {\n    key: \"_enqueueBlockingOp\",\n    value: function() {\n      var _enqueueBlockingOp2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3(exec, opName, context) {\n        var _this15 = this;\n        var types, waiters;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (this.mediaSource) {\n                  _context3.next = 2;\n                  break;\n                }\n                return _context3.abrupt(\"return\", Promise.resolve());\n              case 2:\n                types = Object.keys(this._sourceBuffer);\n                if (types.length) {\n                  _context3.next = 5;\n                  break;\n                }\n                return _context3.abrupt(\"return\", exec());\n              case 5:\n                waiters = [];\n                types.forEach(function(t) {\n                  var queue = _this15._queue[t];\n                  var prom = createPublicPromise();\n                  waiters.push(prom);\n                  queue.push({\n                    exec: function exec2() {\n                      prom.resolve();\n                    },\n                    promise: prom,\n                    opName,\n                    context\n                  });\n                  if (queue.length === 1) {\n                    _this15._startQueue(t);\n                  }\n                });\n                return _context3.abrupt(\"return\", Promise.all(waiters).then(function() {\n                  try {\n                    return exec();\n                  } finally {\n                    types.forEach(function(t) {\n                      var queue = _this15._queue[t];\n                      var sb = _this15._sourceBuffer[t];\n                      queue === null || queue === void 0 ? void 0 : queue.shift();\n                      if (!sb || !sb.updating) {\n                        _this15._startQueue(t);\n                      }\n                    });\n                  }\n                }));\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function _enqueueBlockingOp(_x2, _x3, _x4) {\n        return _enqueueBlockingOp2.apply(this, arguments);\n      }\n      return _enqueueBlockingOp;\n    }()\n  }, {\n    key: \"_startQueue\",\n    value: function _startQueue(type) {\n      var queue = this._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (op && !this._mseFullFlag[type]) {\n          try {\n            op.exec();\n          } catch (error) {\n            if (error && error.message && error.message.indexOf(\"SourceBuffer is full\") >= 0) {\n              this._mseFullFlag[type] = true;\n              if (op.context && _typeof(op.context) === \"object\") {\n                op.context.isFull = true;\n              }\n              this._logger.error(\"[MSE error],  context,\", op.context, \" ,name,\", op.opName, \",err,SourceBuffer is full\");\n              op.promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_FULL, error));\n            } else {\n              this._logger.error(error);\n              op.promise.reject(error.constructor === StreamingError ? error : new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_OTHER, error));\n              queue.shift();\n              this._startQueue(type);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setTimeoffset\",\n    value: function setTimeoffset(type, timestampOffset, context) {\n      var _this16 = this;\n      return this._enqueueOp(type, function() {\n        if (timestampOffset < 0) {\n          timestampOffset += 1e-3;\n        }\n        _this16._sourceBuffer[type].timestampOffset = timestampOffset;\n        _this16._onSBUpdateEnd(type);\n      }, \"setTimeoffset\", context);\n    }\n  }, {\n    key: \"abort\",\n    value: function abort(type, context) {\n      var _this17 = this;\n      if (!this.isOpened) {\n        return Promise.resolve();\n      }\n      return this._enqueueOp(type, function() {\n        _this17._sourceBuffer[type].abort();\n        _this17._onSBUpdateEnd(type);\n      }, \"abort\", context);\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      var mime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 'video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"';\n      var MediaSource2 = getMediaSource();\n      if (!MediaSource2)\n        return false;\n      try {\n        return MediaSource2.isTypeSupported(mime);\n      } catch (error) {\n        this._logger.error(mime, error);\n        return false;\n      }\n    }\n  }, {\n    key: \"isMMSOnly\",\n    value: function isMMSOnly() {\n      return typeof ManagedMediaSource !== \"undefined\" && typeof MediaSource === \"undefined\";\n    }\n  }, {\n    key: \"getDefaultConfig\",\n    value: function getDefaultConfig() {\n      return {\n        openLog: false,\n        preferMMS: false\n      };\n    }\n  }]);\n  return MSE2;\n}();\n_defineProperty(MSE, \"VIDEO\", \"video\");\n_defineProperty(MSE, \"AUDIO\", \"audio\");\nexport { MSE, MSEError, MSEErrorType };\n","var EVENT = {\n  ERROR: \"error\",\n  TTFB: \"core.ttfb\",\n  LOAD_START: \"core.loadstart\",\n  LOAD_RESPONSE_HEADERS: \"core.loadresponseheaders\",\n  LOAD_COMPLETE: \"core.loadcomplete\",\n  LOAD_RETRY: \"core.loadretry\",\n  SOURCEBUFFER_CREATED: \"core.sourcebuffercreated\",\n  MEDIASOURCE_OPENED: \"core.mediasourceopened\",\n  ANALYZE_DURATION_EXCEEDED: \"core.analyzedurationexceeded\",\n  APPEND_BUFFER: \"core.appendbuffer\",\n  REMOVE_BUFFER: \"core.removebuffer\",\n  BUFFEREOS: \"core.buffereos\",\n  KEYFRAME: \"core.keyframe\",\n  CHASEFRAME: \"core.chaseframe\",\n  METADATA_PARSED: \"core.metadataparsed\",\n  SEI: \"core.sei\",\n  SEI_IN_TIME: \"core.seiintime\",\n  FLV_SCRIPT_DATA: \"core.flvscriptdata\",\n  LOWDECODE: \"core.lowdecode\",\n  SWITCH_URL_SUCCESS: \"core.switchurlsuccess\",\n  SWITCH_URL_FAILED: \"core.switchurlfailed\",\n  SPEED: \"core.speed\",\n  HLS_MANIFEST_LOADED: \"core.hlsmanifestloaded\",\n  HLS_LEVEL_LOADED: \"core.hlslevelloaded\",\n  DEMUXED_TRACK: \"core.demuxedtrack\",\n  STREAM_EXCEPTION: \"core.streamexception\",\n  LARGE_AV_FIRST_FRAME_GAP_DETECT: \"LARGE_AV_FIRST_FRAME_GAP_DETECT\",\n  LARGE_VIDEO_DTS_GAP_DETECT: \"LARGE_VIDEO_DTS_GAP_DETECT\",\n  LARGE_AUDIO_DTS_GAP_DETECT: \"LARGE_AUDIO_DTS_GAP_DETECT\",\n  AUDIO_GAP_DETECT: \"AUDIO_GAP_DETECT\",\n  AUDIO_OVERLAP_DETECT: \"AUDIO_OVERLAP_DETECT\",\n  MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT: \"MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT\",\n  REAL_TIME_SPEED: \"real_time_speed\"\n};\nexport { EVENT };\n","function isMediaPlaying(media) {\n  return media && !media.paused && !media.ended && media.playbackRate !== 0 && media.readyState !== 0;\n}\nfunction getVideoPlaybackQuality(video) {\n  if (!video)\n    return {};\n  if (typeof video.getVideoPlaybackQuality === \"function\") {\n    var info = video.getVideoPlaybackQuality();\n    return {\n      droppedVideoFrames: info.droppedVideoFrames || info.corruptedVideoFrames,\n      totalVideoFrames: info.totalVideoFrames,\n      creationTime: info.creationTime\n    };\n  }\n  return {\n    droppedVideoFrames: video.webkitDroppedFrameCount,\n    totalVideoFrames: video.webkitDecodedFrameCount,\n    creationTime: performance.now()\n  };\n}\nfunction concatUint8Array() {\n  for (var _len = arguments.length, arr = new Array(_len), _key = 0; _key < _len; _key++) {\n    arr[_key] = arguments[_key];\n  }\n  arr = arr.filter(Boolean);\n  if (arr.length < 2)\n    return arr[0];\n  var data = new Uint8Array(arr.reduce(function(p, c) {\n    return p + c.byteLength;\n  }, 0));\n  var prevLen = 0;\n  arr.forEach(function(d) {\n    data.set(d, prevLen);\n    prevLen += d.byteLength;\n  });\n  return data;\n}\nfunction sleep() {\n  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n  return new Promise(function(resolve) {\n    return setTimeout(resolve, t);\n  });\n}\nexport { concatUint8Array, getVideoPlaybackQuality, isMediaPlaying, sleep };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT } from \"../event.js\";\nvar SeiService = /* @__PURE__ */ function() {\n  function SeiService2(emitter) {\n    var _this = this;\n    _classCallCheck(this, SeiService2);\n    _defineProperty(this, \"_seiSet\", /* @__PURE__ */ new Set());\n    this.emitter = emitter;\n    emitter.on(EVENT.SEI, function(sei) {\n      if (sei)\n        _this._seiSet.add(sei);\n    });\n  }\n  _createClass(SeiService2, [{\n    key: \"throw\",\n    value: function _throw(currentTime, isLive) {\n      var _this2 = this;\n      if (currentTime === null || currentTime === void 0 || !this._seiSet.size)\n        return;\n      var min = currentTime - 0.2;\n      var max = currentTime + 0.2;\n      var toThrow = [];\n      this._seiSet.forEach(function(sei) {\n        if (sei.time >= min && sei.time <= max) {\n          toThrow.push(sei);\n        }\n      });\n      toThrow.forEach(function(sei) {\n        _this2._seiSet.delete(sei);\n        _this2.emitter.emit(EVENT.SEI_IN_TIME, sei);\n      });\n      if (!isLive)\n        return;\n      this._seiSet.forEach(function(s) {\n        if (s.time < currentTime - 5) {\n          _this2._seiSet.delete(s);\n        }\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._seiSet.clear();\n    }\n  }]);\n  return SeiService2;\n}();\nexport { SeiService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Buffer } from \"../buffer.js\";\nvar GapService = /* @__PURE__ */ function() {\n  function GapService2() {\n    _classCallCheck(this, GapService2);\n    _defineProperty(this, \"_prevCurrentTime\", 0);\n  }\n  _createClass(GapService2, [{\n    key: \"do\",\n    value: function _do(media) {\n      var maxJumpDistance = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 3;\n      var isLive = arguments.length > 2 ? arguments[2] : void 0;\n      var seekThreshold = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 1;\n      if (!media)\n        return;\n      var currentTime = media.currentTime;\n      var jumpTo = 0;\n      if (this._prevCurrentTime === currentTime) {\n        var info = Buffer.info(Buffer.get(media), currentTime);\n        if (!info.buffers.length)\n          return;\n        if (isLive && info.nextStart || info.nextStart && info.nextStart - currentTime < maxJumpDistance) {\n          jumpTo = info.nextStart + 0.1;\n        } else if (info.end && info.end - currentTime > seekThreshold && !media.seeking) {\n          jumpTo = currentTime + 0.1;\n        }\n      }\n      this._prevCurrentTime = currentTime;\n      if (jumpTo && currentTime !== jumpTo) {\n        media.currentTime = jumpTo;\n      }\n    }\n  }]);\n  return GapService2;\n}();\nexport { GapService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../mse.js\";\nimport { EVENT } from \"../event.js\";\nimport \"eventemitter3\";\nimport \"../logger.js\";\nimport \"../error.js\";\nvar Stats = /* @__PURE__ */ function() {\n  function Stats2(timescale) {\n    _classCallCheck(this, Stats2);\n    _defineProperty(this, \"encodeType\", \"\");\n    _defineProperty(this, \"audioCodec\", \"\");\n    _defineProperty(this, \"videoCodec\", \"\");\n    _defineProperty(this, \"domain\", \"\");\n    _defineProperty(this, \"fps\", 0);\n    _defineProperty(this, \"bitrate\", 0);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"samplerate\", 0);\n    _defineProperty(this, \"channelCount\", 0);\n    _defineProperty(this, \"gop\", 0);\n    _defineProperty(this, \"_bitsAccumulateSize\", 0);\n    _defineProperty(this, \"_bitsAccumulateDuration\", 0);\n    _defineProperty(this, \"_startGopId\", -1);\n    this._timescale = timescale;\n  }\n  _createClass(Stats2, [{\n    key: \"getStats\",\n    value: function getStats() {\n      return {\n        encodeType: this.encodeType,\n        audioCodec: this.audioCodec,\n        videoCodec: this.videoCodec,\n        domain: this.domain,\n        fps: this.fps,\n        bitrate: this.bitrate,\n        width: this.width,\n        height: this.height,\n        samplerate: this.samplerate,\n        channelCount: this.channelCount,\n        gop: this.gop\n      };\n    }\n  }, {\n    key: \"setEncodeType\",\n    value: function setEncodeType(encode) {\n      this.encodeType = encode;\n    }\n  }, {\n    key: \"setFpsFromScriptData\",\n    value: function setFpsFromScriptData(_ref) {\n      var _data$onMetaData;\n      var data = _ref.data;\n      var fps = data === null || data === void 0 ? void 0 : (_data$onMetaData = data.onMetaData) === null || _data$onMetaData === void 0 ? void 0 : _data$onMetaData.framerate;\n      if (fps && fps > 0 && fps < 100) {\n        this.fps = fps;\n      }\n    }\n  }, {\n    key: \"setVideoMeta\",\n    value: function setVideoMeta(track) {\n      this.width = track.width;\n      this.height = track.height;\n      this.videoCodec = track.codec;\n      this.encodeType = track.codecType;\n      if (track.fpsNum && track.fpsDen) {\n        var fps = track.fpsNum / track.fpsDen;\n        if (fps > 0 && fps < 100) {\n          this.fps = fps;\n        }\n      }\n    }\n  }, {\n    key: \"setAudioMeta\",\n    value: function setAudioMeta(track) {\n      this.audioCodec = track.codec;\n      this.samplerate = track.sampleRate;\n      this.channelCount = track.channelCount;\n    }\n  }, {\n    key: \"setDomain\",\n    value: function setDomain(responseUrl) {\n      this.domain = responseUrl.split(\"/\").slice(2, 3)[0];\n    }\n  }, {\n    key: \"updateBitrate\",\n    value: function updateBitrate(samples) {\n      var _this = this;\n      if (!this.fps || this.fps >= 100) {\n        if (samples.length) {\n          var duration = samples.reduce(function(a, b) {\n            return a += b.duration;\n          }, 0) / samples.length;\n          this.fps = Math.round(this._timescale / duration);\n        }\n      }\n      samples.forEach(function(sample) {\n        if (_this._startGopId === -1) {\n          _this._startGopId = sample.gopId;\n        }\n        if (sample.gopId === _this._startGopId) {\n          _this.gop++;\n        }\n        _this._bitsAccumulateDuration += sample.duration / (_this._timescale / 1e3);\n        _this._bitsAccumulateSize += sample.units.reduce(function(a, c) {\n          return a += c.length;\n        }, 0);\n        if (_this._bitsAccumulateDuration >= 1e3) {\n          _this.bitrate = _this._bitsAccumulateSize * 8;\n          _this._bitsAccumulateDuration = 0;\n          _this._bitsAccumulateSize = 0;\n        }\n      });\n    }\n  }]);\n  return Stats2;\n}();\nvar MediaStatsService = /* @__PURE__ */ function() {\n  function MediaStatsService2(core) {\n    var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1e3;\n    _classCallCheck(this, MediaStatsService2);\n    _defineProperty(this, \"_core\", null);\n    _defineProperty(this, \"_samples\", []);\n    this._core = core;\n    this._timescale = timescale;\n    this._stats = new Stats(timescale);\n    this._bindEvents();\n  }\n  _createClass(MediaStatsService2, [{\n    key: \"getStats\",\n    value: function getStats() {\n      var _this$_core, _this$_core2, _this$_core2$speedInf, _this$_core3, _this$_core3$speedInf, _this$_core4, _this$_core4$speedInf, _this$_core5, _this$_core5$speedInf, _this$_core6, _this$_core6$bufferIn;\n      var _ref2 = ((_this$_core = this._core) === null || _this$_core === void 0 ? void 0 : _this$_core.media) || {}, _ref2$currentTime = _ref2.currentTime, currentTime = _ref2$currentTime === void 0 ? 0 : _ref2$currentTime, _ref2$decodeFps = _ref2.decodeFps, decodeFps = _ref2$decodeFps === void 0 ? 0 : _ref2$decodeFps;\n      return _objectSpread2(_objectSpread2({}, this._stats.getStats()), {}, {\n        downloadSpeed: ((_this$_core2 = this._core) === null || _this$_core2 === void 0 ? void 0 : (_this$_core2$speedInf = _this$_core2.speedInfo) === null || _this$_core2$speedInf === void 0 ? void 0 : _this$_core2$speedInf.call(_this$_core2).speed) || 0,\n        avgSpeed: ((_this$_core3 = this._core) === null || _this$_core3 === void 0 ? void 0 : (_this$_core3$speedInf = _this$_core3.speedInfo) === null || _this$_core3$speedInf === void 0 ? void 0 : _this$_core3$speedInf.call(_this$_core3).avgSpeed) || 0,\n        totalReceivedByte: ((_this$_core4 = this._core) === null || _this$_core4 === void 0 ? void 0 : (_this$_core4$speedInf = _this$_core4.speedInfo) === null || _this$_core4$speedInf === void 0 ? void 0 : _this$_core4$speedInf.call(_this$_core4).totalSize) || 0,\n        totalReceivedCost: ((_this$_core5 = this._core) === null || _this$_core5 === void 0 ? void 0 : (_this$_core5$speedInf = _this$_core5.speedInfo) === null || _this$_core5$speedInf === void 0 ? void 0 : _this$_core5$speedInf.call(_this$_core5).totalCost) || 0,\n        currentTime,\n        bufferEnd: ((_this$_core6 = this._core) === null || _this$_core6 === void 0 ? void 0 : (_this$_core6$bufferIn = _this$_core6.bufferInfo()) === null || _this$_core6$bufferIn === void 0 ? void 0 : _this$_core6$bufferIn.remaining) || 0,\n        decodeFps\n      });\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this2 = this;\n      this._core.on(EVENT.DEMUXED_TRACK, function(_ref3) {\n        var videoTrack = _ref3.videoTrack;\n        return _this2._stats.updateBitrate(videoTrack.samples);\n      });\n      this._core.on(EVENT.FLV_SCRIPT_DATA, function(data) {\n        _this2._stats.setFpsFromScriptData(data);\n      });\n      this._core.on(EVENT.METADATA_PARSED, function(e) {\n        if (e.type === \"video\") {\n          _this2._stats.setVideoMeta(e.track);\n        } else {\n          _this2._stats.setAudioMeta(e.track);\n        }\n      });\n      this._core.on(EVENT.TTFB, function(e) {\n        _this2._stats.setDomain(e.responseUrl);\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._samples = [];\n      this._stats = new Stats(this._timescale);\n    }\n  }]);\n  return MediaStatsService2;\n}();\nexport { MediaStatsService };\n","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s, _e, _x, _r, _arr = [], _n = true, _d = false;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i)\n          return;\n        _n = false;\n      } else\n        for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = true)\n          ;\n    } catch (err) {\n      _d = true, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r))\n          return;\n      } finally {\n        if (_d)\n          throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr))\n    return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it)\n        o = it;\n      var i = 0;\n      var F = function() {\n      };\n      return {\n        s: F,\n        n: function() {\n          if (i >= o.length)\n            return {\n              done: true\n            };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function(e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true, didErr = false, err;\n  return {\n    s: function() {\n      it = it.call(o);\n    },\n    n: function() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function(e) {\n      didErr = true;\n      err = e;\n    },\n    f: function() {\n      try {\n        if (!normalCompletion && it.return != null)\n          it.return();\n      } finally {\n        if (didErr)\n          throw err;\n      }\n    }\n  };\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithHoles as arrayWithHoles, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _classCallCheck as classCallCheck, _createClass as createClass, _createForOfIteratorHelper as createForOfIteratorHelper, _createSuper as createSuper, _defineProperty as defineProperty, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _iterableToArrayLimit as iterableToArrayLimit, _nonIterableRest as nonIterableRest, _nonIterableSpread as nonIterableSpread, _possibleConstructorReturn as possibleConstructorReturn, _setPrototypeOf as setPrototypeOf, _slicedToArray as slicedToArray, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _unsupportedIterableToArray as unsupportedIterableToArray };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n  }\n  _createClass(Logger2, [{\n    key: \"warn\",\n    value: function warn() {\n      var _console;\n      if (Logger2.disabled)\n        return;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_console = console).warn.apply(_console, [this._prefix].concat(args));\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nexport { Logger };\n","var TrackType = {\n  VIDEO: \"video\",\n  AUDIO: \"audio\",\n  METADATA: \"metadata\"\n};\nvar VideoCodecType = {\n  AV1: \"av1\",\n  AVC: \"avc\",\n  HEVC: \"hevc\"\n};\nvar AudioCodecType = {\n  AAC: \"aac\",\n  G711PCMA: \"g7110a\",\n  G711PCMU: \"g7110m\",\n  OPUS: \"opus\"\n};\nvar WarningType = {\n  LARGE_AV_SHIFT: \"LARGE_AV_SHIFT\",\n  LARGE_VIDEO_GAP: \"LARGE_VIDEO_GAP\",\n  LARGE_VIDEO_GAP_BETWEEN_CHUNK: \"LARGE_VIDEO_GAP_BETWEEN_CHUNK\",\n  LARGE_AUDIO_GAP: \"LARGE_AUDIO_GAP\",\n  AUDIO_FILLED: \"AUDIO_FILLED\",\n  AUDIO_DROPPED: \"AUDIO_DROPPED\"\n};\nexport { AudioCodecType, TrackType, VideoCodecType, WarningType };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar AudioSample = /* @__PURE__ */ _createClass(\n  function AudioSample2(pts, data, duration, sampleOffset) {\n    _classCallCheck(this, AudioSample2);\n    _defineProperty(this, \"duration\", 1024);\n    _defineProperty(this, \"flag\", {\n      dependsOn: 2,\n      isNonSyncSample: 0\n    });\n    _defineProperty(this, \"keyframe\", true);\n    this.originPts = this.pts = this.dts = pts;\n    this.data = data;\n    this.size = data.byteLength;\n    this.sampleOffset = sampleOffset;\n    if (duration)\n      this.duration = duration;\n  }\n);\nexport { AudioSample };\n","var isBrowser = typeof window !== \"undefined\";\nvar ua = isBrowser && navigator.userAgent.toLocaleLowerCase();\nvar isSafari = isBrowser && /^((?!chrome|android).)*safari/.test(ua);\nvar isFirefox = isBrowser && ua.includes(\"firefox\");\nvar isAndroid = isBrowser && ua.includes(\"android\");\nexport { isAndroid, isBrowser, isFirefox, isSafari };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../utils/logger.js\";\nimport { isFirefox, isAndroid } from \"../utils/env.js\";\nvar AAC = /* @__PURE__ */ function() {\n  function AAC2() {\n    _classCallCheck(this, AAC2);\n  }\n  _createClass(AAC2, null, [{\n    key: \"getRateIndexByRate\",\n    value: function getRateIndexByRate(rate) {\n      return AAC2.FREQ.indexOf(rate);\n    }\n  }, {\n    key: \"parseADTS\",\n    value: function parseADTS(data, pts) {\n      var len = data.length;\n      var i = 0;\n      while (i + 2 < len) {\n        if (data[i] === 255 && (data[i + 1] & 246) === 240) {\n          break;\n        }\n        i++;\n      }\n      if (i >= len)\n        return;\n      var skip = i;\n      var frames = [];\n      var samplingFrequencyIndex = (data[i + 2] & 60) >>> 2;\n      var sampleRate = AAC2.FREQ[samplingFrequencyIndex];\n      if (!sampleRate)\n        throw new Error(\"Invalid sampling index: \".concat(samplingFrequencyIndex));\n      var objectType = ((data[i + 2] & 192) >>> 6) + 1;\n      var channelCount = (data[i + 2] & 1) << 2 | (data[i + 3] & 192) >>> 6;\n      var _AAC$_getConfig = AAC2._getConfig(samplingFrequencyIndex, channelCount, objectType), config = _AAC$_getConfig.config, codec = _AAC$_getConfig.codec;\n      var protectionSkipBytes;\n      var frameLength;\n      var frameIndex = 0;\n      var duration = AAC2.getFrameDuration(sampleRate);\n      while (i + 7 < len) {\n        if (data[i] !== 255 || (data[i + 1] & 246) !== 240) {\n          i++;\n          continue;\n        }\n        frameLength = (data[i + 3] & 3) << 11 | data[i + 4] << 3 | (data[i + 5] & 224) >> 5;\n        if (!frameLength || len - i < frameLength)\n          break;\n        protectionSkipBytes = (~data[i + 1] & 1) * 2;\n        frames.push({\n          pts: pts + frameIndex * duration,\n          data: data.subarray(i + 7 + protectionSkipBytes, i + frameLength)\n        });\n        frameIndex++;\n        i += frameLength;\n      }\n      return {\n        skip,\n        remaining: i >= len ? void 0 : data.subarray(i),\n        frames,\n        samplingFrequencyIndex,\n        sampleRate,\n        objectType,\n        channelCount,\n        codec,\n        config,\n        originCodec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"parseAudioSpecificConfig\",\n    value: function parseAudioSpecificConfig(data) {\n      if (!data.length)\n        return;\n      var objectType = data[0] >>> 3;\n      var samplingFrequencyIndex = (data[0] & 7) << 1 | data[1] >>> 7;\n      var channelCount = (data[1] & 120) >>> 3;\n      var sampleRate = AAC2.FREQ[samplingFrequencyIndex];\n      if (!sampleRate)\n        return;\n      var _AAC$_getConfig2 = AAC2._getConfig(samplingFrequencyIndex, channelCount, objectType), config = _AAC$_getConfig2.config, codec = _AAC$_getConfig2.codec;\n      return {\n        samplingFrequencyIndex,\n        sampleRate,\n        objectType,\n        channelCount,\n        config,\n        codec,\n        originCodec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"getFrameDuration\",\n    value: function getFrameDuration(rate) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      return 1024 * timescale / rate;\n    }\n  }, {\n    key: \"_getConfig\",\n    value: function _getConfig(samplingIndex, channelCount, originObjectType) {\n      var config = [];\n      var objectType;\n      var extensionSamplingIndex;\n      if (isFirefox) {\n        if (samplingIndex >= 6) {\n          objectType = 5;\n          extensionSamplingIndex = samplingIndex - 3;\n        } else {\n          objectType = 2;\n          extensionSamplingIndex = samplingIndex;\n        }\n      } else if (isAndroid) {\n        objectType = 2;\n        extensionSamplingIndex = samplingIndex;\n      } else {\n        objectType = originObjectType === 2 || originObjectType === 5 ? originObjectType : 5;\n        extensionSamplingIndex = samplingIndex;\n        if (samplingIndex >= 6) {\n          extensionSamplingIndex = samplingIndex - 3;\n        } else if (channelCount === 1) {\n          objectType = 2;\n          extensionSamplingIndex = samplingIndex;\n        }\n      }\n      config[0] = objectType << 3;\n      config[0] |= (samplingIndex & 14) >> 1;\n      config[1] = (samplingIndex & 1) << 7;\n      config[1] |= channelCount << 3;\n      if (objectType === 5) {\n        config[1] |= (extensionSamplingIndex & 14) >> 1;\n        config[2] = (extensionSamplingIndex & 1) << 7;\n        config[2] |= 2 << 2;\n        config[3] = 0;\n      }\n      return {\n        config,\n        codec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"getSilentFrame\",\n    value: function getSilentFrame(codec, channelCount) {\n      switch (codec) {\n        case \"mp4a.40.2\":\n          if (channelCount === 1) {\n            return new Uint8Array([0, 200, 0, 128, 35, 128]);\n          }\n          if (channelCount === 2) {\n            return new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]);\n          }\n          if (channelCount === 3) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]);\n          }\n          if (channelCount === 4) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56]);\n          }\n          if (channelCount === 5) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56]);\n          }\n          if (channelCount === 6) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224]);\n          }\n          break;\n        default:\n          if (channelCount === 1) {\n            return new Uint8Array([1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          if (channelCount === 2) {\n            return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          if (channelCount === 3) {\n            return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          break;\n      }\n    }\n  }]);\n  return AAC2;\n}();\n_defineProperty(AAC, \"FREQ\", [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350]);\nexport { AAC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { WarningType } from \"../model/types.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { AAC } from \"../codec/aac.js\";\nimport \"../utils/logger.js\";\nimport { isSafari } from \"../utils/env.js\";\nvar LARGE_AV_FIRST_FRAME_GAP = 9e4 / 2;\nvar AUDIO_GAP_OVERLAP_THRESHOLD_COUNT = 3;\nvar MAX_SILENT_FRAME_DURATION = 9e4;\nvar AUDIO_EXCETION_LOG_EMIT_DURATION = 5 * 9e4;\nvar MAX_VIDEO_FRAME_DURATION = 9e4;\nvar MAX_DTS_DELTA_WITH_NEXT_CHUNK = 9e4 / 2;\nvar LARGE_AV_FIRST_FRAME_FORCE_FIX_THRESHOLD = 9e4 * 5;\nvar TsFixer = /* @__PURE__ */ function() {\n  function TsFixer2(videoTrack, audioTrack, metadataTrack, fixerConfig) {\n    _classCallCheck(this, TsFixer2);\n    this.videoTrack = videoTrack;\n    this.audioTrack = audioTrack;\n    this.metadataTrack = metadataTrack;\n    this._baseDts = -1;\n    this._baseVideoDts = -1;\n    this._baseAudioDts = -1;\n    this._baseDtsInited = false;\n    this._audioNextPts = void 0;\n    this._videoNextDts = void 0;\n    this._audioTimestampBreak = false;\n    this._videoTimestampBreak = false;\n    this._lastAudioExceptionGapDot = 0;\n    this._lastAudioExceptionOverlapDot = 0;\n    this._lastAudioExceptionLargeGapDot = 0;\n    this._needForceFixLargeGap = fixerConfig === null || fixerConfig === void 0 ? void 0 : fixerConfig.forceFixLargeGap;\n    this._largeGapThreshold = (fixerConfig === null || fixerConfig === void 0 ? void 0 : fixerConfig.largeGapThreshold) || LARGE_AV_FIRST_FRAME_FORCE_FIX_THRESHOLD;\n  }\n  _createClass(TsFixer2, [{\n    key: \"fix\",\n    value: function fix() {\n      var _this = this;\n      var startTime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var discontinuity = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      var contiguous = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : true;\n      startTime = Math.round(startTime * 9e4);\n      var videoTrack = this.videoTrack;\n      var audioTrack = this.audioTrack;\n      var vSamples = videoTrack.samples;\n      var aSamples = audioTrack.samples;\n      if (!vSamples.length && !aSamples.length)\n        return;\n      var firstVideoSample = vSamples[0];\n      var firstAudioSample = aSamples[0];\n      var vaDelta = 0;\n      if (vSamples.length && aSamples.length) {\n        vaDelta = firstVideoSample.dts - firstAudioSample.pts;\n      }\n      if (!this._baseDtsInited) {\n        this._calculateBaseDts(this.audioTrack, this.videoTrack);\n      }\n      if (discontinuity) {\n        this._calculateBaseDts(this.audioTrack, this.videoTrack);\n        this._baseDts -= startTime;\n        this._baseAudioDts -= startTime;\n        this._baseVideoDts -= startTime;\n      }\n      if (!contiguous) {\n        this._videoNextDts = vaDelta > 0 ? startTime + vaDelta : startTime;\n        this._audioNextPts = vaDelta > 0 ? startTime : startTime - vaDelta;\n        if (this._needForceFixLargeGap) {\n          this._videoNextDts = 0;\n          this._audioNextPts = 0;\n        }\n        var vDeltaToNextDts = firstVideoSample ? firstVideoSample.dts - this._baseDts - this._videoNextDts : 0;\n        var aDeltaToNextDts = firstAudioSample ? firstAudioSample.pts - this._baseDts - this._audioNextPts : 0;\n        if (Math.abs(vDeltaToNextDts || aDeltaToNextDts) > MAX_VIDEO_FRAME_DURATION) {\n          this._calculateBaseDts(this.audioTrack, this.videoTrack);\n          this._baseDts -= startTime;\n        }\n      }\n      this._resetBaseDtsWhenStreamBreaked();\n      this._fixAudio(audioTrack);\n      this._fixVideo(videoTrack);\n      if (this.metadataTrack.exist()) {\n        var timescale = this.metadataTrack.timescale;\n        this.metadataTrack.seiSamples.forEach(function(s) {\n          s.pts = s.originPts - _this._baseDts;\n          s.time = Math.max(0, s.pts) / timescale;\n        });\n      }\n      if (videoTrack.samples.length) {\n        videoTrack.baseMediaDecodeTime = videoTrack.samples[0].dts;\n      }\n      if (audioTrack.samples.length) {\n        audioTrack.baseMediaDecodeTime = audioTrack.samples[0].pts * audioTrack.timescale / 9e4;\n      }\n    }\n  }, {\n    key: \"_fixVideo\",\n    value: function _fixVideo(videoTrack) {\n      var _this2 = this;\n      var samples = videoTrack.samples;\n      if (!samples.length)\n        return;\n      samples.forEach(function(x) {\n        x.dts -= _this2._needForceFixLargeGap ? _this2._baseVideoDts : _this2._baseDts;\n        x.pts -= _this2._needForceFixLargeGap ? _this2._baseVideoDts : _this2._baseDts;\n      });\n      if (this._videoNextDts === void 0) {\n        var samp0 = samples[0];\n        this._videoNextDts = samp0.dts;\n      }\n      var len = samples.length;\n      var sampleDuration = 0;\n      var firstSample = samples[0];\n      var nextSample = samples[1];\n      var vDelta = this._videoNextDts - firstSample.dts;\n      if (Math.abs(vDelta) > MAX_DTS_DELTA_WITH_NEXT_CHUNK) {\n        var _samples$;\n        videoTrack.warnings.push({\n          type: WarningType.LARGE_VIDEO_GAP_BETWEEN_CHUNK,\n          nextDts: this._videoNextDts / 90,\n          firstSampleDts: firstSample.dts / 90,\n          nextSampleDts: (((_samples$ = samples[1]) === null || _samples$ === void 0 ? void 0 : _samples$.dts) || 0) / 90,\n          sampleDuration: vDelta / 90\n        });\n        firstSample.dts += vDelta;\n        firstSample.pts += vDelta;\n        if (nextSample && Math.abs(nextSample.dts - firstSample.dts) > MAX_VIDEO_FRAME_DURATION) {\n          this._videoTimestampBreak = true;\n          samples.forEach(function(x, i2) {\n            if (i2 === 0)\n              return;\n            x.dts += vDelta;\n            x.pts += vDelta;\n          });\n        } else {\n          for (var i = 1; i < len - 1; i++) {\n            var _samples$i;\n            var dts = (_samples$i = samples[i]) === null || _samples$i === void 0 ? void 0 : _samples$i.dts;\n            var prevDts = samples[i - 1].dts;\n            if (dts && dts - prevDts < 0) {\n              samples[i].dts += vDelta;\n              samples[i].pts += vDelta;\n            }\n          }\n        }\n      }\n      var refSampleDurationInt;\n      if (videoTrack.fpsNum && videoTrack.fpsDen) {\n        refSampleDurationInt = videoTrack.timescale * (videoTrack.fpsDen / videoTrack.fpsNum);\n      }\n      if (refSampleDurationInt < 90 * 10) {\n        refSampleDurationInt = 0;\n      }\n      if (!refSampleDurationInt) {\n        var first = videoTrack.samples[0];\n        var second = videoTrack.samples[1];\n        refSampleDurationInt = len === 1 ? 9e3 : Math.floor(second.dts - first.dts);\n      }\n      for (var _i = 0; _i < len; _i++) {\n        var _dts = samples[_i].dts;\n        var _nextSample = samples[_i + 1];\n        if (_i < len - 1) {\n          sampleDuration = _nextSample.dts - _dts;\n        } else if (samples[_i - 1]) {\n          sampleDuration = Math.min(_dts - samples[_i - 1].dts, refSampleDurationInt);\n        } else {\n          sampleDuration = refSampleDurationInt;\n        }\n        if (sampleDuration > MAX_VIDEO_FRAME_DURATION || sampleDuration < 0) {\n          this._videoTimestampBreak = true;\n          sampleDuration = this._audioTimestampBreak ? refSampleDurationInt : Math.max(sampleDuration, 30 * 90);\n          var expectFragEnd = this._audioNextPts || 0;\n          if (_nextSample && _nextSample.dts > expectFragEnd) {\n            sampleDuration = refSampleDurationInt;\n          }\n          videoTrack.warnings.push({\n            type: WarningType.LARGE_VIDEO_GAP,\n            time: _dts / videoTrack.timescale,\n            dts: _dts,\n            originDts: samples[_i].originDts,\n            nextDts: this._videoNextDts,\n            sampleDuration,\n            refSampleDuration: refSampleDurationInt\n          });\n        }\n        samples[_i].duration = sampleDuration;\n        this._videoNextDts += sampleDuration;\n      }\n    }\n  }, {\n    key: \"_fixAudio\",\n    value: function _fixAudio(audioTrack) {\n      var _this3 = this;\n      var samples = audioTrack.samples;\n      if (!samples.length)\n        return;\n      samples.forEach(function(x) {\n        x.pts -= _this3._needForceFixLargeGap ? _this3._baseAudioDts : _this3._baseDts;\n        x.dts = x.pts;\n      });\n      this._doFixAudioInternal(audioTrack, samples, 9e4);\n    }\n  }, {\n    key: \"_calculateBaseDts\",\n    value: function _calculateBaseDts(audioTrack, videoTrack) {\n      var audioSamps = audioTrack.samples;\n      var videoSamps = videoTrack.samples;\n      if (!audioSamps.length && !videoSamps.length) {\n        return false;\n      }\n      var audioBasePts = Infinity;\n      var videoBaseDts = Infinity;\n      if (audioSamps.length) {\n        audioTrack.baseDts = audioBasePts = audioSamps[0].pts;\n        this._baseAudioDts = audioBasePts;\n      }\n      if (videoSamps.length) {\n        videoTrack.baseDts = videoBaseDts = videoSamps[0].dts;\n        this._baseVideoDts = videoBaseDts;\n      }\n      this._baseDts = Math.min(audioBasePts, videoBaseDts);\n      var delta = videoBaseDts - audioBasePts;\n      var largeGap = false;\n      if (Number.isFinite(delta) && Math.abs(delta) > LARGE_AV_FIRST_FRAME_GAP) {\n        videoTrack.warnings.push({\n          type: WarningType.LARGE_AV_SHIFT,\n          videoBaseDts,\n          audioBasePts,\n          baseDts: this._baseDts,\n          delta\n        });\n      }\n      if (Number.isFinite(delta) && Math.abs(delta) > this._largeGapThreshold * MAX_SILENT_FRAME_DURATION) {\n        largeGap = true;\n      }\n      if (!this._baseDtsInited) {\n        if (largeGap && this._needForceFixLargeGap) {\n          this._needForceFixLargeGap = true;\n        } else {\n          this._needForceFixLargeGap = false;\n        }\n      }\n      this._baseDtsInited = true;\n      return true;\n    }\n  }, {\n    key: \"_resetBaseDtsWhenStreamBreaked\",\n    value: function _resetBaseDtsWhenStreamBreaked() {\n      if (this._baseDtsInited && this._videoTimestampBreak && this._audioTimestampBreak) {\n        var calc = this._calculateBaseDts(this.audioTrack, this.videoTrack);\n        if (!calc)\n          return;\n        this._baseDts -= Math.min(this._audioNextPts, this._videoNextDts);\n        this._audioLastSample = null;\n        this._videoLastSample = null;\n        this._videoTimestampBreak = false;\n        this._audioTimestampBreak = false;\n      }\n    }\n  }, {\n    key: \"_doFixAudioInternal\",\n    value: function _doFixAudioInternal(audioTrack, samples, timescale) {\n      if (!audioTrack.sampleDuration)\n        audioTrack.sampleDuration = AAC.getFrameDuration(audioTrack.timescale, timescale);\n      var refSampleDuration = audioTrack.sampleDuration;\n      if (this._audioNextPts === void 0) {\n        var samp0 = samples[0];\n        this._audioNextPts = samp0.pts;\n      }\n      for (var i = 0; i < samples.length; i++) {\n        var nextPts = this._audioNextPts;\n        var sample = samples[i];\n        var delta = sample.pts - nextPts;\n        if (!this._audioTimestampBreak && delta >= AUDIO_GAP_OVERLAP_THRESHOLD_COUNT * refSampleDuration && delta <= MAX_SILENT_FRAME_DURATION && !isSafari) {\n          var silentFrame = AAC.getSilentFrame(audioTrack.codec, audioTrack.channelCount) || samples[0].data.subarray();\n          var count = Math.floor(delta / refSampleDuration);\n          if (Math.abs(sample.pts - this._lastAudioExceptionGapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n            this._lastAudioExceptionGapDot = sample.pts;\n          }\n          audioTrack.warnings.push({\n            type: WarningType.AUDIO_FILLED,\n            pts: sample.pts / 90,\n            originPts: sample.originPts,\n            count,\n            nextPts: nextPts / 90,\n            refSampleDuration\n          });\n          for (var j = 0; j < count; j++) {\n            var silentSample = new AudioSample(Math.floor(nextPts), silentFrame);\n            silentSample.originPts = Math.floor(this._baseDts + nextPts);\n            samples.splice(i, 0, silentSample);\n            this._audioNextPts += refSampleDuration;\n            i++;\n          }\n          i--;\n        } else if (delta <= -AUDIO_GAP_OVERLAP_THRESHOLD_COUNT * refSampleDuration && delta >= -1 * MAX_SILENT_FRAME_DURATION) {\n          if (Math.abs(sample.pts - this._lastAudioExceptionOverlapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n            this._lastAudioExceptionOverlapDot = sample.pts;\n            audioTrack.warnings.push({\n              type: WarningType.AUDIO_DROPPED,\n              pts: sample.pts / 90,\n              originPts: sample.originPts,\n              nextPts: nextPts / 90,\n              refSampleDuration\n            });\n          }\n          samples.splice(i, 1);\n          i--;\n        } else {\n          if (Math.abs(delta) >= MAX_SILENT_FRAME_DURATION) {\n            this._audioTimestampBreak = true;\n            if (Math.abs(sample.pts - this._lastAudioExceptionLargeGapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n              this._lastAudioExceptionLargeGapDot = sample.pts;\n              audioTrack.warnings.push({\n                type: WarningType.LARGE_AUDIO_GAP,\n                time: sample.pts / 1e3,\n                pts: sample.pts / 90,\n                originPts: sample.originPts,\n                nextPts: nextPts / 90,\n                sampleDuration: delta,\n                refSampleDuration\n              });\n            }\n          }\n          sample.dts = sample.pts = nextPts;\n          this._audioNextPts += refSampleDuration;\n        }\n      }\n    }\n  }]);\n  return TsFixer2;\n}();\nexport { TsFixer };\n","export { Logger } from \"./logger.js\";\nexport { isAndroid, isBrowser, isFirefox, isSafari } from \"./env.js\";\nfunction concatUint8Array() {\n  for (var _len = arguments.length, arr = new Array(_len), _key = 0; _key < _len; _key++) {\n    arr[_key] = arguments[_key];\n  }\n  arr = arr.filter(Boolean);\n  var data = new Uint8Array(arr.reduce(function(p, c) {\n    return p + c.byteLength;\n  }, 0));\n  var prevLen = 0;\n  arr.forEach(function(d) {\n    data.set(d, prevLen);\n    prevLen += d.byteLength;\n  });\n  return data;\n}\nvar MAX_SIZE = Math.pow(2, 32);\nfunction readBig16(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 8) + (data[i + 1] || 0);\n}\nfunction readBig24(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 16) + (data[i + 1] << 8) + (data[i + 2] || 0);\n}\nfunction readBig32(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 24 >>> 0) + (data[i + 1] << 16) + (data[i + 2] << 8) + (data[i + 3] || 0);\n}\nfunction readBig64(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return readBig32(data, i) * MAX_SIZE + readBig32(data, i + 4);\n}\nfunction getAvcCodec(codecs) {\n  var codec = \"avc1.\";\n  var h;\n  for (var i = 0; i < 3; i++) {\n    h = codecs[i].toString(16);\n    if (h.length < 2)\n      h = \"0\".concat(h);\n    codec += h;\n  }\n  return codec;\n}\nfunction formatIV(arr) {\n  var iv = \"\";\n  arr.forEach(function(value) {\n    iv += bufferToString(value);\n  });\n  if (iv.length <= 32) {\n    var len = 32 - iv.length;\n    for (var i = 0; i < len; i++) {\n      iv += \"0\";\n    }\n  }\n  return iv;\n}\nfunction parse(a) {\n  if (!Array.isArray(a)) {\n    var arr = [];\n    var value = \"\";\n    for (var i = 0; i < a.length; i++) {\n      if (i % 2) {\n        value = a[i - 1] + a[i];\n        arr.push(parseInt(value, 16));\n        value = \"\";\n      }\n    }\n    return arr;\n  }\n  return a.map(function(item) {\n    return parseInt(item, 16);\n  });\n}\nfunction bufferToString(value) {\n  return (\"0\" + Number(value).toString(16)).slice(-2).toUpperCase();\n}\nfunction combineToFloat(integer, decimal) {\n  return Number(integer + \".\" + decimal);\n}\nfunction toDegree(matrix) {\n  if (matrix.length < 5)\n    return 0;\n  var scaled0 = Math.hypot(matrix[0], matrix[3]), scaled1 = Math.hypot(matrix[1], matrix[4]);\n  return 0 === scaled0 || 0 === scaled1 ? 0 : 180 * Math.atan2(matrix[1] / scaled1, matrix[0] / scaled0) / Math.PI;\n}\nexport { MAX_SIZE, combineToFloat, concatUint8Array, formatIV, getAvcCodec, parse, readBig16, readBig24, readBig32, readBig64, toDegree };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { readBig32 } from \"../utils/index.js\";\nvar NALu = /* @__PURE__ */ function() {\n  function NALu2() {\n    _classCallCheck(this, NALu2);\n  }\n  _createClass(NALu2, null, [{\n    key: \"parseAnnexB\",\n    value: function parseAnnexB(data) {\n      var len = data.length;\n      var start = 2;\n      var end = 0;\n      while (data[start] !== null && data[start] !== void 0 && data[start] !== 1) {\n        start++;\n      }\n      start++;\n      end = start + 2;\n      if (end >= len)\n        return [];\n      var units = [];\n      while (end < len) {\n        switch (data[end]) {\n          case 0:\n            if (data[end - 1] !== 0) {\n              end += 2;\n              break;\n            } else if (data[end - 2] !== 0) {\n              end++;\n              break;\n            }\n            if (start !== end - 2)\n              units.push(data.subarray(start, end - 2));\n            do {\n              end++;\n            } while (data[end] !== 1 && end < len);\n            start = end + 1;\n            end = start + 2;\n            break;\n          case 1:\n            if (data[end - 1] !== 0 || data[end - 2] !== 0) {\n              end += 3;\n              break;\n            }\n            if (start !== end - 2)\n              units.push(data.subarray(start, end - 2));\n            start = end + 1;\n            end = start + 2;\n            break;\n          default:\n            end += 3;\n            break;\n        }\n      }\n      if (start < len)\n        units.push(data.subarray(start));\n      return units;\n    }\n  }, {\n    key: \"parseAvcC\",\n    value: function parseAvcC(data) {\n      var size = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 4;\n      if (data.length < 4)\n        return;\n      var dataLen = data.length;\n      var units = [];\n      var offset = 0;\n      var length;\n      while (offset + size < dataLen) {\n        length = readBig32(data, offset);\n        if (size === 3)\n          length >>>= 8;\n        offset += size;\n        if (!length)\n          continue;\n        if (offset + length > dataLen) {\n          break;\n        }\n        units.push(data.subarray(offset, offset + length));\n        offset += length;\n      }\n      return units;\n    }\n  }, {\n    key: \"parseSEI\",\n    value: function parseSEI(unit, isHevc) {\n      var len = unit.length;\n      var i = isHevc ? 2 : 1;\n      var type = 0;\n      var size = 0;\n      var uuid = \"\";\n      while (unit[i] === 255) {\n        type += 255;\n        i++;\n      }\n      type += unit[i++];\n      while (unit[i] === 255) {\n        size += 255;\n        i++;\n      }\n      size += unit[i++];\n      if (type === 5 && len > i + 16) {\n        for (var j = 0; j < 16; j++) {\n          uuid += unit[i].toString(16);\n          i++;\n        }\n      }\n      return {\n        payload: unit.subarray(i, i + size),\n        type,\n        size,\n        uuid\n      };\n    }\n  }, {\n    key: \"removeEPB\",\n    value: function removeEPB(uint) {\n      var length = uint.byteLength;\n      var emulationPreventionBytesPositions = [];\n      var i = 1;\n      while (i < length - 2) {\n        if (uint[i] === 0 && uint[i + 1] === 0 && uint[i + 2] === 3) {\n          emulationPreventionBytesPositions.push(i + 2);\n          i += 2;\n        } else {\n          i++;\n        }\n      }\n      if (!emulationPreventionBytesPositions.length)\n        return uint;\n      var newLength = length - emulationPreventionBytesPositions.length;\n      var newData = new Uint8Array(newLength);\n      var sourceIndex = 0;\n      for (i = 0; i < newLength; sourceIndex++, i++) {\n        if (sourceIndex === emulationPreventionBytesPositions[0]) {\n          sourceIndex++;\n          emulationPreventionBytesPositions.shift();\n        }\n        newData[i] = uint[sourceIndex];\n      }\n      return newData;\n    }\n  }]);\n  return NALu2;\n}();\nexport { NALu };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar ExpGolomb = /* @__PURE__ */ function() {\n  function ExpGolomb2(data) {\n    _classCallCheck(this, ExpGolomb2);\n    _defineProperty(this, \"_bytesAvailable\", void 0);\n    _defineProperty(this, \"_bitsAvailable\", 0);\n    _defineProperty(this, \"_word\", 0);\n    if (!data)\n      throw new Error(\"ExpGolomb data params is required\");\n    this._data = data;\n    this._bytesAvailable = data.byteLength;\n    if (this._bytesAvailable)\n      this._loadWord();\n  }\n  _createClass(ExpGolomb2, [{\n    key: \"bitsAvailable\",\n    get: function get() {\n      return this._bitsAvailable;\n    }\n  }, {\n    key: \"_loadWord\",\n    value: function _loadWord() {\n      var position = this._data.byteLength - this._bytesAvailable;\n      var availableBytes = Math.min(4, this._bytesAvailable);\n      if (availableBytes === 0)\n        throw new Error(\"No bytes available\");\n      var workingBytes = new Uint8Array(4);\n      workingBytes.set(this._data.subarray(position, position + availableBytes));\n      this._word = new DataView(workingBytes.buffer).getUint32(0);\n      this._bitsAvailable = availableBytes * 8;\n      this._bytesAvailable -= availableBytes;\n    }\n  }, {\n    key: \"skipBits\",\n    value: function skipBits(count) {\n      if (this._bitsAvailable > count) {\n        this._word <<= count;\n        this._bitsAvailable -= count;\n      } else {\n        count -= this._bitsAvailable;\n        var skipBytes = Math.floor(count / 8);\n        count -= skipBytes * 8;\n        this._bytesAvailable -= skipBytes;\n        this._loadWord();\n        this._word <<= count;\n        this._bitsAvailable -= count;\n      }\n    }\n  }, {\n    key: \"readBits\",\n    value: function readBits(size) {\n      if (size > 32) {\n        throw new Error(\"Cannot read more than 32 bits\");\n      }\n      var bits = Math.min(this._bitsAvailable, size);\n      var val = this._word >>> 32 - bits;\n      this._bitsAvailable -= bits;\n      if (this._bitsAvailable > 0) {\n        this._word <<= bits;\n      } else if (this._bytesAvailable > 0) {\n        this._loadWord();\n      }\n      bits = size - bits;\n      if (bits > 0 && this._bitsAvailable) {\n        return val << bits | this.readBits(bits);\n      }\n      return val;\n    }\n  }, {\n    key: \"skipLZ\",\n    value: function skipLZ() {\n      var leadingZeroCount;\n      for (leadingZeroCount = 0; leadingZeroCount < this._bitsAvailable; ++leadingZeroCount) {\n        if ((this._word & 2147483648 >>> leadingZeroCount) !== 0) {\n          this._word <<= leadingZeroCount;\n          this._bitsAvailable -= leadingZeroCount;\n          return leadingZeroCount;\n        }\n      }\n      this._loadWord();\n      return leadingZeroCount + this.skipLZ();\n    }\n  }, {\n    key: \"skipUEG\",\n    value: function skipUEG() {\n      this.skipBits(1 + this.skipLZ());\n    }\n  }, {\n    key: \"readUEG\",\n    value: function readUEG() {\n      var clz = this.skipLZ();\n      return this.readBits(clz + 1) - 1;\n    }\n  }, {\n    key: \"readEG\",\n    value: function readEG() {\n      var val = this.readUEG();\n      if (1 & val) {\n        return 1 + val >>> 1;\n      }\n      return -1 * (val >>> 1);\n    }\n  }, {\n    key: \"readBool\",\n    value: function readBool() {\n      return this.readBits(1) === 1;\n    }\n  }, {\n    key: \"readUByte\",\n    value: function readUByte() {\n      return this.readBits(8);\n    }\n  }, {\n    key: \"skipScalingList\",\n    value: function skipScalingList(count) {\n      var lastScale = 8;\n      var nextScale = 8;\n      var deltaScale;\n      for (var j = 0; j < count; j++) {\n        if (nextScale !== 0) {\n          deltaScale = this.readEG();\n          nextScale = (lastScale + deltaScale + 256) % 256;\n        }\n        lastScale = nextScale === 0 ? lastScale : nextScale;\n      }\n    }\n  }]);\n  return ExpGolomb2;\n}();\nexport { ExpGolomb };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NALu } from \"./nalu.js\";\nimport { getAvcCodec } from \"../utils/index.js\";\nimport { ExpGolomb } from \"../utils/exp-golomb.js\";\nvar AVC = /* @__PURE__ */ function() {\n  function AVC2() {\n    _classCallCheck(this, AVC2);\n  }\n  _createClass(AVC2, null, [{\n    key: \"parseAVCDecoderConfigurationRecord\",\n    value: function parseAVCDecoderConfigurationRecord(data) {\n      if (data.length < 7)\n        return;\n      var nalUnitSize = (data[4] & 3) + 1;\n      var spsParsed;\n      var spsArr = [];\n      var ppsArr = [];\n      var offset = 6;\n      var spsCount = data[5] & 31;\n      var spsSize;\n      for (var i = 0; i < spsCount; i++) {\n        spsSize = data[offset] << 8 | data[offset + 1];\n        offset += 2;\n        if (!spsSize)\n          continue;\n        var sps = data.subarray(offset, offset + spsSize);\n        offset += spsSize;\n        spsArr.push(sps);\n        if (!spsParsed) {\n          spsParsed = AVC2.parseSPS(NALu.removeEPB(sps));\n        }\n      }\n      var ppsCount = data[offset];\n      offset++;\n      var ppsSize;\n      for (var _i = 0; _i < ppsCount; _i++) {\n        ppsSize = data[offset] << 8 | data[offset + 1];\n        offset += 2;\n        if (!ppsSize)\n          continue;\n        ppsArr.push(data.subarray(offset, offset + ppsSize));\n        offset += ppsSize;\n      }\n      return {\n        sps: spsParsed,\n        spsArr,\n        ppsArr,\n        nalUnitSize\n      };\n    }\n  }, {\n    key: \"parseSPS\",\n    value: function parseSPS(unit) {\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      var profileIdc = eg.readUByte();\n      var profileCompatibility = eg.readUByte();\n      var levelIdc = eg.readUByte();\n      eg.skipUEG();\n      var chromaFormat = 420;\n      if (profileIdc === 100 || profileIdc === 110 || profileIdc === 122 || profileIdc === 244 || profileIdc === 44 || profileIdc === 83 || profileIdc === 86 || profileIdc === 118 || profileIdc === 128 || profileIdc === 138 || profileIdc === 144) {\n        var chromaFormatIdc = eg.readUEG();\n        if (chromaFormatIdc <= 3)\n          chromaFormat = [0, 420, 422, 444][chromaFormatIdc];\n        if (chromaFormatIdc === 3)\n          eg.skipBits(1);\n        eg.skipUEG();\n        eg.skipUEG();\n        eg.skipBits(1);\n        if (eg.readBool()) {\n          var scalingListCount = chromaFormatIdc !== 3 ? 8 : 12;\n          for (var i = 0; i < scalingListCount; i++) {\n            if (eg.readBool()) {\n              if (i < 6) {\n                eg.skipScalingList(16);\n              } else {\n                eg.skipScalingList(64);\n              }\n            }\n          }\n        }\n      }\n      eg.skipUEG();\n      var picOrderCntType = eg.readUEG();\n      if (picOrderCntType === 0) {\n        eg.readUEG();\n      } else if (picOrderCntType === 1) {\n        eg.skipBits(1);\n        eg.skipUEG();\n        eg.skipUEG();\n        var numRefFramesInPicOrderCntCycle = eg.readUEG();\n        for (var _i2 = 0; _i2 < numRefFramesInPicOrderCntCycle; _i2++) {\n          eg.skipUEG();\n        }\n      }\n      eg.skipUEG();\n      eg.skipBits(1);\n      var picWidthInMbsMinus1 = eg.readUEG();\n      var picHeightInMapUnitsMinus1 = eg.readUEG();\n      var frameMbsOnlyFlag = eg.readBits(1);\n      if (frameMbsOnlyFlag === 0)\n        eg.skipBits(1);\n      eg.skipBits(1);\n      var frameCropLeftOffset = 0;\n      var frameCropRightOffset = 0;\n      var frameCropTopOffset = 0;\n      var frameCropBottomOffset = 0;\n      if (eg.readBool()) {\n        frameCropLeftOffset = eg.readUEG();\n        frameCropRightOffset = eg.readUEG();\n        frameCropTopOffset = eg.readUEG();\n        frameCropBottomOffset = eg.readUEG();\n      }\n      var sarRatio;\n      var fixedFrame;\n      var fpsNum;\n      var fpsDen;\n      var fps;\n      if (eg.readBool()) {\n        if (eg.readBool()) {\n          var aspectRatioIdc = eg.readUByte();\n          switch (aspectRatioIdc) {\n            case 1:\n              sarRatio = [1, 1];\n              break;\n            case 2:\n              sarRatio = [12, 11];\n              break;\n            case 3:\n              sarRatio = [10, 11];\n              break;\n            case 4:\n              sarRatio = [16, 11];\n              break;\n            case 5:\n              sarRatio = [40, 33];\n              break;\n            case 6:\n              sarRatio = [24, 11];\n              break;\n            case 7:\n              sarRatio = [20, 11];\n              break;\n            case 8:\n              sarRatio = [32, 11];\n              break;\n            case 9:\n              sarRatio = [80, 33];\n              break;\n            case 10:\n              sarRatio = [18, 11];\n              break;\n            case 11:\n              sarRatio = [15, 11];\n              break;\n            case 12:\n              sarRatio = [64, 33];\n              break;\n            case 13:\n              sarRatio = [160, 99];\n              break;\n            case 14:\n              sarRatio = [4, 3];\n              break;\n            case 15:\n              sarRatio = [3, 2];\n              break;\n            case 16:\n              sarRatio = [2, 1];\n              break;\n            case 255: {\n              sarRatio = [eg.readUByte() << 8 | eg.readUByte(), eg.readUByte() << 8 | eg.readUByte()];\n              break;\n            }\n          }\n        }\n        if (eg.readBool())\n          eg.readBool();\n        if (eg.readBool()) {\n          eg.readBits(4);\n          if (eg.readBool())\n            eg.readBits(24);\n        }\n        if (eg.readBool()) {\n          eg.readUEG();\n          eg.readUEG();\n        }\n        if (eg.readBool()) {\n          var numUnitsInTick = eg.readBits(32);\n          var timeScale = eg.readBits(32);\n          fixedFrame = eg.readBool();\n          fpsNum = timeScale;\n          fpsDen = numUnitsInTick * 2;\n          fps = fpsNum / fpsDen;\n        }\n      }\n      return {\n        codec: getAvcCodec(unit.subarray(1, 4)),\n        profileIdc,\n        profileCompatibility,\n        levelIdc,\n        chromaFormat,\n        width: Math.ceil((picWidthInMbsMinus1 + 1) * 16 - 2 * (frameCropLeftOffset + frameCropRightOffset)),\n        height: (2 - frameMbsOnlyFlag) * (picHeightInMapUnitsMinus1 + 1) * 16 - (frameMbsOnlyFlag ? 2 : 4) * (frameCropTopOffset + frameCropBottomOffset),\n        sarRatio,\n        fpsNum,\n        fpsDen,\n        fps,\n        fixedFrame\n      };\n    }\n  }]);\n  return AVC2;\n}();\nexport { AVC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NALu } from \"./nalu.js\";\nimport { ExpGolomb } from \"../utils/exp-golomb.js\";\nimport \"../utils/logger.js\";\nimport \"../utils/env.js\";\nvar HEVC = /* @__PURE__ */ function() {\n  function HEVC2() {\n    _classCallCheck(this, HEVC2);\n  }\n  _createClass(HEVC2, null, [{\n    key: \"parseHEVCDecoderConfigurationRecord\",\n    value: function parseHEVCDecoderConfigurationRecord(data) {\n      var hvcC = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (data.length < 23)\n        return;\n      hvcC = hvcC || {};\n      var nalUnitSize = (data[21] & 3) + 1;\n      var vpsParsed;\n      var spsParsed;\n      var spsArr = [];\n      var ppsArr = [];\n      var vpsArr = [];\n      var offset = 23;\n      var numOfArrays = data[22];\n      var nalUnitType;\n      var numNalus;\n      var nalSize;\n      for (var i = 0; i < numOfArrays; i++) {\n        nalUnitType = data[offset] & 63;\n        numNalus = data[offset + 1] << 8 | data[offset + 2];\n        offset += 3;\n        for (var j = 0; j < numNalus; j++) {\n          nalSize = data[offset] << 8 | data[offset + 1];\n          offset += 2;\n          if (!nalSize)\n            continue;\n          switch (nalUnitType) {\n            case 32:\n              {\n                var vps = data.subarray(offset, offset + nalSize);\n                if (!vpsParsed)\n                  vpsParsed = HEVC2.parseVPS(NALu.removeEPB(vps), hvcC);\n                vpsArr.push(vps);\n              }\n              break;\n            case 33:\n              {\n                var sps = data.subarray(offset, offset + nalSize);\n                if (!spsParsed)\n                  spsParsed = HEVC2.parseSPS(NALu.removeEPB(sps), hvcC);\n                spsArr.push(sps);\n              }\n              break;\n            case 34:\n              ppsArr.push(data.subarray(offset, offset + nalSize));\n              break;\n          }\n          offset += nalSize;\n        }\n      }\n      return {\n        hvcC,\n        sps: spsParsed,\n        spsArr,\n        ppsArr,\n        vpsArr,\n        nalUnitSize\n      };\n    }\n  }, {\n    key: \"parseVPS\",\n    value: function parseVPS(unit, hvcC) {\n      hvcC = hvcC || {};\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      eg.readUByte();\n      eg.readBits(12);\n      var vpsMaxSubLayersMinus1 = eg.readBits(3);\n      hvcC.numTemporalLayers = Math.max(hvcC.numTemporalLayers || 0, vpsMaxSubLayersMinus1 + 1);\n      eg.readBits(17);\n      HEVC2._parseProfileTierLevel(eg, vpsMaxSubLayersMinus1, hvcC);\n      return hvcC;\n    }\n  }, {\n    key: \"parseSPS\",\n    value: function parseSPS(unit) {\n      var hvcC = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      hvcC = hvcC || {};\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      eg.readUByte();\n      eg.readBits(4);\n      var spsMaxSubLayersMinus1 = eg.readBits(3);\n      hvcC.numTemporalLayers = Math.max(spsMaxSubLayersMinus1 + 1, hvcC.numTemporalLayers || 0);\n      hvcC.temporalIdNested = eg.readBits(1);\n      HEVC2._parseProfileTierLevel(eg, spsMaxSubLayersMinus1, hvcC);\n      eg.readUEG();\n      var chromaFormatIdc = hvcC.chromaFormatIdc = eg.readUEG();\n      var chromaFormat = 420;\n      if (chromaFormatIdc <= 3)\n        chromaFormat = [0, 420, 422, 444][chromaFormatIdc];\n      var separateColourPlaneFlag = 0;\n      if (chromaFormatIdc === 3) {\n        separateColourPlaneFlag = eg.readBits(1);\n      }\n      var width = eg.readUEG();\n      var height = eg.readUEG();\n      var conformanceWindowFlag = eg.readBits(1);\n      var confWinLeftOffset;\n      var confWinRightOffset;\n      var confWinTopOffset;\n      var confWinBottomOffset;\n      if (conformanceWindowFlag === 1) {\n        confWinLeftOffset = eg.readUEG();\n        confWinRightOffset = eg.readUEG();\n        confWinTopOffset = eg.readUEG();\n        confWinBottomOffset = eg.readUEG();\n      }\n      hvcC.bitDepthLumaMinus8 = eg.readUEG();\n      hvcC.bitDepthChromaMinus8 = eg.readUEG();\n      if (conformanceWindowFlag === 1) {\n        var subWidthC = (chromaFormatIdc === 1 || chromaFormatIdc === 2) && separateColourPlaneFlag === 0 ? 2 : 1;\n        var subHeightC = chromaFormatIdc === 1 && separateColourPlaneFlag === 0 ? 2 : 1;\n        width -= subWidthC * (confWinRightOffset + confWinLeftOffset);\n        height -= subHeightC * (confWinBottomOffset + confWinTopOffset);\n      }\n      return {\n        codec: \"hev1.1.6.L93.B0\",\n        width,\n        height,\n        chromaFormat,\n        hvcC\n      };\n    }\n  }, {\n    key: \"_parseProfileTierLevel\",\n    value: function _parseProfileTierLevel(eg, maxSubLayersMinus1, hvcC) {\n      var generalTierFlag = hvcC.generalTierFlag || 0;\n      hvcC.generalProfileSpace = eg.readBits(2);\n      hvcC.generalTierFlag = Math.max(eg.readBits(1), generalTierFlag);\n      hvcC.generalProfileIdc = Math.max(eg.readBits(5), hvcC.generalProfileIdc || 0);\n      hvcC.generalProfileCompatibilityFlags = eg.readBits(32);\n      hvcC.generalConstraintIndicatorFlags = [eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8)];\n      var generalLevelIdc = eg.readBits(8);\n      if (generalTierFlag < hvcC.generalTierFlag) {\n        hvcC.generalLevelIdc = generalLevelIdc;\n      } else {\n        hvcC.generalLevelIdc = Math.max(generalLevelIdc, hvcC.generalLevelIdc || 0);\n      }\n      var subLayerProfilePresentFlag = [];\n      var subLayerLevelPresentFlag = [];\n      if (maxSubLayersMinus1 > eg.bitsAvailable) {\n        throw new Error(\"maxSubLayersMinus inavlid size \".concat(maxSubLayersMinus1));\n      }\n      for (var j = 0; j < maxSubLayersMinus1; j++) {\n        subLayerProfilePresentFlag[j] = eg.readBits(1);\n        subLayerLevelPresentFlag[j] = eg.readBits(1);\n      }\n      if (maxSubLayersMinus1 > 0) {\n        eg.readBits((8 - maxSubLayersMinus1) * 2);\n      }\n      for (var i = 0; i < maxSubLayersMinus1; i++) {\n        if (subLayerProfilePresentFlag[i] !== 0) {\n          eg.readBits(2);\n          eg.readBits(1);\n          eg.readBits(5);\n          eg.readBits(16);\n          eg.readBits(16);\n          eg.readBits(4);\n          eg.readBits(16);\n          eg.readBits(16);\n          eg.readBits(12);\n        }\n        if (subLayerLevelPresentFlag[i] !== 0) {\n          eg.readBits(8);\n        }\n      }\n    }\n  }]);\n  return HEVC2;\n}();\nexport { HEVC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, VideoCodecType } from \"./types.js\";\nvar VideoTrack = /* @__PURE__ */ function() {\n  function VideoTrack2() {\n    _classCallCheck(this, VideoTrack2);\n    _defineProperty(this, \"id\", 1);\n    _defineProperty(this, \"type\", TrackType.VIDEO);\n    _defineProperty(this, \"codecType\", VideoCodecType.AVC);\n    _defineProperty(this, \"pid\", -1);\n    _defineProperty(this, \"hvcC\", void 0);\n    _defineProperty(this, \"codec\", \"\");\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"formatTimescale\", 0);\n    _defineProperty(this, \"sequenceNumber\", 0);\n    _defineProperty(this, \"baseMediaDecodeTime\", 0);\n    _defineProperty(this, \"baseDts\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"warnings\", []);\n    _defineProperty(this, \"samples\", []);\n    _defineProperty(this, \"pps\", []);\n    _defineProperty(this, \"sps\", []);\n    _defineProperty(this, \"vps\", []);\n    _defineProperty(this, \"fpsNum\", 0);\n    _defineProperty(this, \"fpsDen\", 0);\n    _defineProperty(this, \"sarRatio\", []);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"nalUnitSize\", 4);\n    _defineProperty(this, \"present\", false);\n    _defineProperty(this, \"isVideoEncryption\", false);\n    _defineProperty(this, \"isAudioEncryption\", false);\n    _defineProperty(this, \"isVideo\", true);\n    _defineProperty(this, \"lastKeyFrameDts\", 0);\n    _defineProperty(this, \"kid\", null);\n    _defineProperty(this, \"pssh\", null);\n    _defineProperty(this, \"ext\", void 0);\n  }\n  _createClass(VideoTrack2, [{\n    key: \"reset\",\n    value: function reset() {\n      this.sequenceNumber = this.width = this.height = this.fpsDen = this.fpsNum = this.duration = this.baseMediaDecodeTime = this.timescale = 0;\n      this.codec = \"\";\n      this.present = false;\n      this.pid = -1;\n      this.pps = [];\n      this.sps = [];\n      this.vps = [];\n      this.sarRatio = [];\n      this.samples = [];\n      this.warnings = [];\n      this.hvcC = null;\n    }\n  }, {\n    key: \"firstDts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].dts : null;\n    }\n  }, {\n    key: \"firstPts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].pts : null;\n    }\n  }, {\n    key: \"samplesDuration\",\n    get: function get() {\n      if (this.samples.length > 0) {\n        var first = this.samples[0];\n        var last = this.samples[this.samples.length - 1];\n        return last.dts - first.dts + last.duration;\n      }\n      return 0;\n    }\n  }, {\n    key: \"exist\",\n    value: function exist() {\n      if (/av01/.test(this.codec)) {\n        return true;\n      }\n      return !!(this.pps.length && this.sps.length && this.codec);\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!this.samples.length;\n    }\n  }, {\n    key: \"isEncryption\",\n    get: function get() {\n      return this.isVideoEncryption;\n    }\n  }]);\n  return VideoTrack2;\n}();\nexport { VideoTrack };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, AudioCodecType } from \"./types.js\";\nvar AudioTrack = /* @__PURE__ */ function() {\n  function AudioTrack2() {\n    _classCallCheck(this, AudioTrack2);\n    _defineProperty(this, \"id\", 2);\n    _defineProperty(this, \"type\", TrackType.AUDIO);\n    _defineProperty(this, \"codecType\", AudioCodecType.AAC);\n    _defineProperty(this, \"pid\", -1);\n    _defineProperty(this, \"codec\", \"\");\n    _defineProperty(this, \"sequenceNumber\", 0);\n    _defineProperty(this, \"sampleDuration\", 0);\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"formatTimescale\", 0);\n    _defineProperty(this, \"baseMediaDecodeTime\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"warnings\", []);\n    _defineProperty(this, \"samples\", []);\n    _defineProperty(this, \"baseDts\", 0);\n    _defineProperty(this, \"sampleSize\", 16);\n    _defineProperty(this, \"sampleRate\", 0);\n    _defineProperty(this, \"channelCount\", 0);\n    _defineProperty(this, \"objectType\", 0);\n    _defineProperty(this, \"sampleRateIndex\", 0);\n    _defineProperty(this, \"config\", []);\n    _defineProperty(this, \"present\", false);\n    _defineProperty(this, \"isVideoEncryption\", false);\n    _defineProperty(this, \"isAudioEncryption\", false);\n    _defineProperty(this, \"kid\", null);\n    _defineProperty(this, \"ext\", void 0);\n  }\n  _createClass(AudioTrack2, [{\n    key: \"reset\",\n    value: function reset() {\n      this.sequenceNumber = 0;\n      this.timescale = 0;\n      this.sampleDuration = 0;\n      this.sampleRate = 0;\n      this.channelCount = 0;\n      this.baseMediaDecodeTime = 0;\n      this.present = false;\n      this.pid = -1;\n      this.codec = \"\";\n      this.samples = [];\n      this.config = [];\n      this.warnings = [];\n    }\n  }, {\n    key: \"exist\",\n    value: function exist() {\n      return !!(this.sampleRate && this.channelCount && this.codec && (this.codecType === AudioCodecType.AAC || this.codecType === AudioCodecType.G711PCMA || this.codecType === AudioCodecType.G711PCMU || this.codecType === AudioCodecType.OPUS));\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!this.samples.length;\n    }\n  }, {\n    key: \"isEncryption\",\n    get: function get() {\n      return this.isAudioEncryption;\n    }\n  }, {\n    key: \"firstDts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].dts : null;\n    }\n  }, {\n    key: \"firstPts\",\n    get: function get() {\n      return this.samples.length ? this.samples[0].pts : null;\n    }\n  }, {\n    key: \"samplesDuration\",\n    get: function get() {\n      if (this.samples.length > 0) {\n        var first = this.samples[0];\n        var last = this.samples[this.samples.length - 1];\n        return last.dts - first.dts + last.duration;\n      }\n      return 0;\n    }\n  }]);\n  return AudioTrack2;\n}();\nexport { AudioTrack };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar VideoSample = /* @__PURE__ */ function() {\n  function VideoSample2(pts, dts, units) {\n    _classCallCheck(this, VideoSample2);\n    _defineProperty(this, \"flag\", {});\n    _defineProperty(this, \"keyframe\", false);\n    _defineProperty(this, \"gopId\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"size\", 0);\n    _defineProperty(this, \"units\", []);\n    _defineProperty(this, \"chromaFormat\", 420);\n    this.originPts = this.pts = pts;\n    this.originDts = this.dts = dts;\n    if (units)\n      this.units = units;\n  }\n  _createClass(VideoSample2, [{\n    key: \"cts\",\n    get: function get() {\n      return this.pts - this.dts;\n    }\n  }, {\n    key: \"setToKeyframe\",\n    value: function setToKeyframe() {\n      this.keyframe = true;\n      this.flag.dependsOn = 2;\n      this.flag.isNonSyncSample = 0;\n    }\n  }]);\n  return VideoSample2;\n}();\nexport { VideoSample };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType } from \"./types.js\";\nvar Sample = /* @__PURE__ */ _createClass(\n  function Sample2(data, pts) {\n    _classCallCheck(this, Sample2);\n    _defineProperty(this, \"time\", 0);\n    this.data = data;\n    this.originPts = this.pts = pts;\n  }\n);\nvar FlvScriptSample = /* @__PURE__ */ function(_Sample) {\n  _inherits(FlvScriptSample2, _Sample);\n  var _super = _createSuper(FlvScriptSample2);\n  function FlvScriptSample2() {\n    _classCallCheck(this, FlvScriptSample2);\n    return _super.apply(this, arguments);\n  }\n  return _createClass(FlvScriptSample2);\n}(Sample);\nvar SeiSample = /* @__PURE__ */ function(_Sample2) {\n  _inherits(SeiSample2, _Sample2);\n  var _super2 = _createSuper(SeiSample2);\n  function SeiSample2() {\n    _classCallCheck(this, SeiSample2);\n    return _super2.apply(this, arguments);\n  }\n  return _createClass(SeiSample2);\n}(Sample);\nvar MetadataTrack = /* @__PURE__ */ function() {\n  function MetadataTrack2() {\n    _classCallCheck(this, MetadataTrack2);\n    _defineProperty(this, \"id\", 3);\n    _defineProperty(this, \"type\", TrackType.METADATA);\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"flvScriptSamples\", []);\n    _defineProperty(this, \"seiSamples\", []);\n  }\n  _createClass(MetadataTrack2, [{\n    key: \"exist\",\n    value: function exist() {\n      return !!((this.flvScriptSamples.length || this.seiSamples.length) && this.timescale);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.timescale = 0;\n      this.flvScriptSamples = [];\n      this.seiSamples = [];\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!(this.flvScriptSamples.length || this.seiSamples.length);\n    }\n  }]);\n  return MetadataTrack2;\n}();\nexport { FlvScriptSample, MetadataTrack, SeiSample };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TsFixer } from \"./fixer.js\";\nimport { AAC } from \"../codec/aac.js\";\nimport { AVC } from \"../codec/avc.js\";\nimport { HEVC } from \"../codec/hevc.js\";\nimport { NALu } from \"../codec/nalu.js\";\nimport { VideoTrack } from \"../model/video-track.js\";\nimport { AudioTrack } from \"../model/audio-track.js\";\nimport { VideoSample } from \"../model/video-sample.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { MetadataTrack, SeiSample } from \"../model/metadata-track.js\";\nimport { VideoCodecType } from \"../model/types.js\";\nimport { concatUint8Array } from \"../utils/index.js\";\nimport { Logger } from \"../utils/logger.js\";\nvar logger = new Logger(\"TsDemuxer\");\nvar TsDemuxer = /* @__PURE__ */ function() {\n  function TsDemuxer2(videoTrack, audioTrack, metadataTrack) {\n    var fixerConfig = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};\n    _classCallCheck(this, TsDemuxer2);\n    _defineProperty(this, \"_pmtId\", -1);\n    _defineProperty(this, \"_remainingPacketData\", null);\n    _defineProperty(this, \"_videoPesData\", []);\n    _defineProperty(this, \"_audioPesData\", []);\n    _defineProperty(this, \"_gopId\", 0);\n    this.videoTrack = videoTrack || new VideoTrack();\n    this.audioTrack = audioTrack || new AudioTrack();\n    this.metadataTrack = metadataTrack || new MetadataTrack();\n    this._fixer = new TsFixer(this.videoTrack, this.audioTrack, this.metadataTrack, fixerConfig);\n  }\n  _createClass(TsDemuxer2, [{\n    key: \"demux\",\n    value: function demux(data) {\n      var discontinuity = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      var contiguous = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : true;\n      var audioTrack = this.audioTrack, videoTrack = this.videoTrack, metadataTrack = this.metadataTrack;\n      if (discontinuity) {\n        this._pmtId = -1;\n        videoTrack.reset();\n        audioTrack.reset();\n        metadataTrack.reset();\n      }\n      if (!contiguous || discontinuity) {\n        this._remainingPacketData = null;\n        this._videoPesData = [];\n        this._audioPesData = [];\n      } else {\n        videoTrack.samples = [];\n        audioTrack.samples = [];\n        metadataTrack.seiSamples = [];\n        videoTrack.warnings = [];\n        audioTrack.warnings = [];\n        if (this._remainingPacketData) {\n          data = concatUint8Array(this._remainingPacketData, data);\n          this._remainingPacketData = null;\n        }\n      }\n      var dataLen = data.length;\n      var remainingLength = dataLen % 188;\n      if (remainingLength) {\n        this._remainingPacketData = data.subarray(dataLen - remainingLength);\n        dataLen -= remainingLength;\n      }\n      var videoPid = videoTrack.pid;\n      var audioPid = audioTrack.pid;\n      for (var start = 0; start < dataLen; start += 188) {\n        if (data[start] !== 71)\n          throw new Error(\"TS packet did not start with 0x47\");\n        var payloadUnitStartIndicator = !!(data[start + 1] & 64);\n        var pid = ((data[start + 1] & 31) << 8) + data[start + 2];\n        var adaptationFiledControl = (data[start + 3] & 48) >> 4;\n        var offset = void 0;\n        if (adaptationFiledControl > 1) {\n          offset = start + 5 + data[start + 4];\n          if (offset === start + 188)\n            continue;\n        } else {\n          offset = start + 4;\n        }\n        switch (pid) {\n          case 0:\n            if (payloadUnitStartIndicator)\n              offset += data[offset] + 1;\n            this._pmtId = (data[offset + 10] & 31) << 8 | data[offset + 11];\n            break;\n          case this._pmtId:\n            {\n              if (payloadUnitStartIndicator)\n                offset += data[offset] + 1;\n              var tableEnd = offset + 3 + ((data[offset + 1] & 15) << 8 | data[offset + 2]) - 4;\n              var programInfoLength = (data[offset + 10] & 15) << 8 | data[offset + 11];\n              offset += 12 + programInfoLength;\n              while (offset < tableEnd) {\n                var esPid = (data[offset + 1] & 31) << 8 | data[offset + 2];\n                switch (data[offset]) {\n                  case 15:\n                    audioTrack.pid = audioPid = esPid;\n                    break;\n                  case 27:\n                    if (videoPid !== -1)\n                      break;\n                    videoTrack.codecType = VideoCodecType.AVC;\n                    videoTrack.pid = videoPid = esPid;\n                    break;\n                  case 36:\n                    if (videoPid !== -1)\n                      break;\n                    videoTrack.codecType = VideoCodecType.HEVC;\n                    videoTrack.pid = videoPid = esPid;\n                    break;\n                  default:\n                    logger.warn(\"Unsupported stream. type: \".concat(data[offset], \", pid: \").concat(esPid));\n                }\n                offset += ((data[offset + 3] & 15) << 8 | data[offset + 4]) + 5;\n              }\n            }\n            break;\n          case videoPid:\n            if (payloadUnitStartIndicator && this._videoPesData.length) {\n              this._parseVideoData();\n            }\n            this._videoPesData.push(data.subarray(offset, start + 188));\n            break;\n          case audioPid:\n            if (payloadUnitStartIndicator && this._audioPesData.length) {\n              this._parseAudioData();\n            }\n            this._audioPesData.push(data.subarray(offset, start + 188));\n            break;\n          case 17:\n          case 8191:\n            break;\n          default:\n            logger.warn(\"Unknown pid: \".concat(pid));\n        }\n      }\n      this._parseVideoData();\n      this._parseAudioData();\n      audioTrack.formatTimescale = videoTrack.formatTimescale = videoTrack.timescale = metadataTrack.timescale = 9e4;\n      audioTrack.timescale = audioTrack.sampleRate || 0;\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack\n      };\n    }\n  }, {\n    key: \"fix\",\n    value: function fix(startTime, discontinuity, contiguous) {\n      this._fixer.fix(startTime, discontinuity, contiguous);\n      return {\n        videoTrack: this.videoTrack,\n        audioTrack: this.audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"demuxAndFix\",\n    value: function demuxAndFix(data, discontinuity, contiguous, startTime) {\n      this.demux(data, discontinuity, contiguous);\n      return this.fix(startTime, discontinuity, contiguous);\n    }\n  }, {\n    key: \"_parseVideoData\",\n    value: function _parseVideoData() {\n      if (!this._videoPesData.length)\n        return;\n      var pes = TsDemuxer2._parsePES(concatUint8Array.apply(void 0, _toConsumableArray(this._videoPesData)));\n      if (!pes) {\n        logger.warn(\"Cannot parse video pes\", this._videoPesData);\n        return;\n      }\n      var units = NALu.parseAnnexB(pes.data);\n      if (units) {\n        this._createVideoSample(units, pes.pts, pes.dts);\n      } else {\n        logger.warn(\"Cannot parse avc units\", pes);\n      }\n      this._videoPesData = [];\n    }\n  }, {\n    key: \"_createVideoSample\",\n    value: function _createVideoSample(units, pts, dts) {\n      var _this = this;\n      if (!units.length)\n        return;\n      var track = this.videoTrack;\n      var isHevc = track.codecType === VideoCodecType.HEVC;\n      var sample = new VideoSample(pts, dts);\n      units.forEach(function(unit) {\n        var type = isHevc ? unit[0] >>> 1 & 63 : unit[0] & 31;\n        switch (type) {\n          case 5:\n          case 16:\n          case 17:\n          case 18:\n          case 19:\n          case 20:\n          case 21:\n          case 22:\n          case 23:\n            if (!isHevc && type !== 5 || isHevc && type === 5)\n              break;\n            sample.setToKeyframe();\n            _this._gopId++;\n            break;\n          case 6:\n          case 39:\n          case 40:\n            if (!isHevc && type !== 6 || isHevc && type === 6)\n              break;\n            _this.metadataTrack.seiSamples.push(new SeiSample(NALu.parseSEI(NALu.removeEPB(unit), isHevc), pts));\n            return;\n          case 32:\n            if (!isHevc)\n              break;\n            if (!track.vps.length) {\n              var hvcC = HEVC.parseVPS(NALu.removeEPB(unit), track.hvcC);\n              track.hvcC = track.hvcC || hvcC;\n              track.vps = [unit];\n            }\n            break;\n          case 7:\n          case 33:\n            if (!isHevc && type !== 7 || isHevc && type === 7)\n              break;\n            if (!track.sps.length) {\n              var data = NALu.removeEPB(unit);\n              var spsInfo = isHevc ? HEVC.parseSPS(data, track.hvcC) : AVC.parseSPS(data);\n              track.sps = [unit];\n              track.hvcC = track.hvcC || spsInfo.hvcC;\n              track.codec = spsInfo.codec;\n              track.width = spsInfo.width;\n              track.height = spsInfo.height;\n              track.sarRatio = spsInfo.sarRatio;\n              track.fpsNum = spsInfo.fpsNum;\n              track.fpsDen = spsInfo.fpsDen;\n            }\n            break;\n          case 8:\n          case 34:\n            if (!isHevc && type !== 8 || isHevc && type === 8)\n              break;\n            if (!track.pps.length)\n              track.pps = [unit];\n            break;\n          case 9:\n          case 35:\n            break;\n          case 38:\n            if (isHevc) {\n              var ffByteFound = false;\n              for (var i = 2; i < unit.byteLength; i++) {\n                if (unit[i] === 255) {\n                  ffByteFound = true;\n                  break;\n                }\n              }\n              if (!ffByteFound) {\n                return;\n              }\n            }\n            break;\n        }\n        sample.units.push(unit);\n      });\n      sample.gopId = this._gopId;\n      this._pushVideoSample(track, sample);\n    }\n  }, {\n    key: \"_pushVideoSample\",\n    value: function _pushVideoSample(track, sample) {\n      if (sample.units.length) {\n        if (sample.pts === null || sample.pts === void 0) {\n          logger.warn(\"Video sample no pts\", sample);\n          var lastSample = track.samples[track.samples.length - 1];\n          if (lastSample) {\n            sample.pts = lastSample.pts;\n            sample.dts = lastSample.dts;\n          } else {\n            logger.warn(\"Drop video sample\", sample);\n          }\n        } else {\n          track.samples.push(sample);\n        }\n      }\n    }\n  }, {\n    key: \"_parseAudioData\",\n    value: function _parseAudioData() {\n      if (!this._audioPesData.length)\n        return;\n      var pes = TsDemuxer2._parsePES(concatUint8Array.apply(void 0, _toConsumableArray(this._audioPesData)));\n      if (!pes) {\n        logger.warn(\"Cannot parse audio pes\", this._audioPesData);\n        return;\n      }\n      this._parseAacData(pes);\n      this._audioPesData = [];\n    }\n  }, {\n    key: \"_parseAacData\",\n    value: function _parseAacData(pes) {\n      var track = this.audioTrack;\n      var pts = pes.pts;\n      if (pts === null || pts === void 0) {\n        logger.warn(\"AAC pes not pts\", track);\n        if (!track.samples.length || !track.sampleRate) {\n          return;\n        }\n        pts = track.samples[track.samples.length - 1].pts + AAC.getFrameDuration(track.sampleRate);\n      }\n      var ret = AAC.parseADTS(pes.data, pts);\n      if (ret) {\n        var _track$samples;\n        track.codec = ret.codec;\n        track.channelCount = ret.channelCount;\n        track.sampleRate = ret.sampleRate;\n        track.objectType = ret.objectType;\n        track.sampleRateIndex = ret.samplingFrequencyIndex;\n        track.config = ret.config;\n        (_track$samples = track.samples).push.apply(_track$samples, _toConsumableArray(ret.frames.map(function(s) {\n          return new AudioSample(s.pts, s.data);\n        })));\n        if (ret.skip) {\n          logger.warn(\"Skip aac adts \".concat(ret.skip, \" bits\"));\n        }\n        if (ret.remaining) {\n          logger.warn(\"Remaining aac adts \".concat(ret.remaining, \" bits\"));\n        }\n      } else {\n        logger.warn(\"Cannot parse aac adts\", pes);\n      }\n    }\n  }], [{\n    key: \"probe\",\n    value: function probe(data) {\n      if (!data.length)\n        return false;\n      return data[0] === 71 && data[188] === 71 && data[376] === 71;\n    }\n  }, {\n    key: \"_parsePES\",\n    value: function _parsePES(data) {\n      var headerDataLen = data[8];\n      if (headerDataLen === null || headerDataLen === void 0 || data.length < headerDataLen + 9)\n        return;\n      var startPrefix = data[0] << 16 | data[1] << 8 | data[2];\n      if (startPrefix !== 1)\n        return;\n      var pesLen = (data[4] << 8) + data[5];\n      if (pesLen && pesLen > data.length - 6)\n        return;\n      var pts;\n      var dts;\n      var ptsDtsFlags = data[7];\n      if (ptsDtsFlags & 192) {\n        pts = (data[9] & 14) * 536870912 + (data[10] & 255) * 4194304 + (data[11] & 254) * 16384 + (data[12] & 255) * 128 + (data[13] & 254) / 2;\n        if (ptsDtsFlags & 64) {\n          dts = (data[14] & 14) * 536870912 + (data[15] & 255) * 4194304 + (data[16] & 254) * 16384 + (data[17] & 255) * 128 + (data[18] & 254) / 2;\n          if (pts - dts > 60 * 9e4)\n            pts = dts;\n        } else {\n          dts = pts;\n        }\n      }\n      return {\n        data: data.subarray(9 + headerDataLen),\n        pts,\n        dts\n      };\n    }\n  }]);\n  return TsDemuxer2;\n}();\nexport { TsDemuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar ByteReader = /* @__PURE__ */ function() {\n  function ByteReader2(buf, offset, len) {\n    _classCallCheck(this, ByteReader2);\n    this.dv = new DataView(buf);\n    this.start = this.offset = offset || this.dv.byteOffset;\n    this.end = len ? this.start + len : this.start + this.dv.byteLength;\n  }\n  _createClass(ByteReader2, [{\n    key: \"buffer\",\n    get: function get() {\n      return this.dv.buffer;\n    }\n  }, {\n    key: \"unreadLength\",\n    get: function get() {\n      return Math.max(this.end - this.offset, 0);\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      return this.end - this.start;\n    }\n  }, {\n    key: \"readFloat\",\n    value: function readFloat(byteNum) {\n      var val = 0;\n      switch (byteNum) {\n        case 4:\n          val = this.dv.getFloat32(this.offset);\n          break;\n        case 8:\n          val = this.dv.getFloat64(this.offset);\n          break;\n        default:\n          throw new Error(\"read \".concat(byteNum, \"-byte float is not supported\"));\n      }\n      this.offset += byteNum;\n      return val;\n    }\n  }, {\n    key: \"back\",\n    value: function back(byteNum) {\n      this.offset -= byteNum;\n    }\n  }, {\n    key: \"skip\",\n    value: function skip(byteNum) {\n      this.offset += byteNum;\n    }\n  }, {\n    key: \"readInt\",\n    value: function readInt(byteNum) {\n      var offset = this.offset;\n      this.offset += byteNum;\n      switch (byteNum) {\n        case 1:\n          return this.dv.getInt8(offset);\n        case 2:\n          return this.dv.getInt16(offset);\n        case 4:\n          return this.dv.getInt32(offset);\n        default:\n          throw new Error(\"read \".concat(byteNum, \"-byte integers is not supported\"));\n      }\n    }\n  }, {\n    key: \"read\",\n    value: function read(byteNum) {\n      var offset = this.offset;\n      this.offset += byteNum;\n      switch (byteNum) {\n        case 1:\n          return this.dv.getUint8(offset);\n        case 2:\n          return this.dv.getUint16(offset);\n        case 3:\n          return (this.dv.getUint16(offset) << 8) + this.dv.getUint8(offset + 2);\n        case 4:\n          return this.dv.getUint32(offset);\n        default:\n          this.back(byteNum - 4);\n          return this.read(byteNum - 4) + this.dv.getUint32(offset) * Math.pow(256, byteNum - 4);\n      }\n    }\n  }, {\n    key: \"write\",\n    value: function write(byteNum, val) {\n      var offset = this.offset;\n      this.offset += byteNum;\n      switch (byteNum) {\n        case 1:\n          return this.dv.setUint8(offset, val);\n        case 2:\n          return this.dv.setUint16(offset, val);\n        case 3:\n          return this.dv.setUint8(offset, val >>> 16), this.dv.setUint16(offset + 1, 65535 & val);\n        case 4:\n          return this.dv.setUint32(offset, val);\n        default:\n          throw new Error(\"write \".concat(byteNum, \"-byte integers is not supported\"));\n      }\n    }\n  }, {\n    key: \"readToBuffer\",\n    value: function readToBuffer(len) {\n      var buffer;\n      if (this.offset || len) {\n        buffer = this.dv.buffer.slice(this.offset, len ? this.offset + len : this.end);\n      } else {\n        buffer = this.dv.buffer;\n      }\n      this.offset += buffer.byteLength;\n      return buffer;\n    }\n  }, {\n    key: \"readToUint8\",\n    value: function readToUint8(len) {\n      var uint8 = new Uint8Array(this.dv.buffer, this.offset, len || this.unreadLength);\n      this.offset += uint8.byteLength;\n      return uint8;\n    }\n  }, {\n    key: \"readString\",\n    value: function readString(len) {\n      var i = 0, str = \"\";\n      for (; i < len; i++) {\n        str += String.fromCharCode(this.dv.getUint8(this.offset));\n        this.offset++;\n      }\n      return str;\n    }\n  }], [{\n    key: \"fromUint8\",\n    value: function fromUint8(uint8) {\n      return new ByteReader2(uint8.buffer, uint8.byteOffset, uint8.byteLength);\n    }\n  }, {\n    key: \"concatUint8s\",\n    value: function concatUint8s(args) {\n      var uint8 = new Uint8Array(args.reduce(function(ret, v) {\n        return ret + v.byteLength;\n      }, 0));\n      var offset = 0;\n      args.forEach(function(v) {\n        uint8.set(v, offset);\n        offset += v.byteLength;\n      });\n      return uint8;\n    }\n  }, {\n    key: \"concatUint8\",\n    value: function concatUint8() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      return this.concatUint8s(args);\n    }\n  }]);\n  return ByteReader2;\n}();\nexport { ByteReader };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar BitReader = /* @__PURE__ */ function() {\n  function BitReader2(val, size) {\n    _classCallCheck(this, BitReader2);\n    this.offset = 0;\n    this.val = val;\n    this.size = size;\n  }\n  _createClass(BitReader2, [{\n    key: \"skip\",\n    value: function skip(len) {\n      this.offset += len;\n    }\n  }, {\n    key: \"read\",\n    value: function read(len) {\n      var unreadLength = this.size - this.offset - len;\n      if (unreadLength >= 0) {\n        var bits = 0, i = 0;\n        this.offset += len;\n        if (this.size > 31) {\n          for (; i < len; i++) {\n            bits += Math.pow(2, i);\n          }\n          return this.val / Math.pow(2, unreadLength) & bits;\n        } else {\n          for (; i < len; i++) {\n            bits += 1 << i;\n          }\n          return this.val >>> unreadLength & bits;\n        }\n      }\n      throw new Error(\"the number of the read operation exceeds the total length limit of bits\");\n    }\n  }], [{\n    key: \"fromByte\",\n    value: function fromByte(byte, len) {\n      return new BitReader2(byte.read(len), len << 3);\n    }\n  }]);\n  return BitReader2;\n}();\nexport { BitReader };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { VideoCodecType, AudioCodecType } from \"../model/types.js\";\nimport { readBig32, readBig64, readBig24, readBig16, combineToFloat, toDegree, getAvcCodec } from \"../utils/index.js\";\nimport { AAC } from \"../codec/aac.js\";\nimport { ByteReader } from \"../utils/byte-reader.js\";\nimport { BitReader } from \"../utils/bit-reader.js\";\nvar MP4Parser = /* @__PURE__ */ function() {\n  function MP4Parser2() {\n    _classCallCheck(this, MP4Parser2);\n  }\n  _createClass(MP4Parser2, null, [{\n    key: \"findBox\",\n    value: function findBox(data, names) {\n      var start = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var ret = [];\n      if (!data)\n        return ret;\n      var size = 0;\n      var type = \"\";\n      var headerSize = 0;\n      while (data.length > 7) {\n        size = readBig32(data);\n        type = String.fromCharCode.apply(null, data.subarray(4, 8));\n        headerSize = 8;\n        if (size === 1) {\n          size = readBig64(data, 8);\n          headerSize += 8;\n        } else if (!size) {\n          size = data.length;\n        }\n        if (!names[0] || type === names[0]) {\n          var subData = data.subarray(0, size);\n          if (names.length < 2) {\n            ret.push({\n              start,\n              size,\n              headerSize,\n              type,\n              data: subData\n            });\n          } else {\n            return MP4Parser2.findBox(subData.subarray(headerSize), names.slice(1), start + headerSize);\n          }\n        }\n        start += size;\n        data = data.subarray(size);\n      }\n      return ret;\n    }\n  }, {\n    key: \"tfhd\",\n    value: function tfhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.trackId = readBig32(data);\n        var start = 4;\n        var baseDataOffsetPresent = ret.flags & 255 & 1;\n        var sampleDescriptionIndexPresent = ret.flags & 255 & 2;\n        var defaultSampleDurationPresent = ret.flags & 255 & 8;\n        var defaultSampleSizePresent = ret.flags & 255 & 16;\n        var defaultSampleFlagsPresent = ret.flags & 255 & 32;\n        if (baseDataOffsetPresent) {\n          start += 4;\n          ret.baseDataOffset = readBig32(data, start);\n          start += 4;\n        }\n        if (sampleDescriptionIndexPresent) {\n          ret.sampleDescriptionIndex = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleDurationPresent) {\n          ret.defaultSampleDuration = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleSizePresent) {\n          ret.defaultSampleSize = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleFlagsPresent) {\n          ret.defaultSampleFlags = readBig32(data, start);\n        }\n      });\n    }\n  }, {\n    key: \"sidx\",\n    value: function sidx(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        ret.reference_ID = readBig32(data, start);\n        start += 4;\n        ret.timescale = readBig32(data, start);\n        start += 4;\n        if (ret.version === 0) {\n          ret.earliest_presentation_time = readBig32(data, start);\n          start += 4;\n          ret.first_offset = readBig32(data, start);\n          start += 4;\n        } else {\n          ret.earliest_presentation_time = readBig64(data, start);\n          start += 8;\n          ret.first_offset = readBig64(data, start);\n          start += 8;\n        }\n        start += 2;\n        ret.references = [];\n        var count = readBig16(data, start);\n        start += 2;\n        for (var i = 0; i < count; i++) {\n          var ref = {};\n          ret.references.push(ref);\n          var tmp32 = readBig32(data, start);\n          start += 4;\n          ref.reference_type = tmp32 >> 31 & 1;\n          ref.referenced_size = tmp32 & 2147483647;\n          ref.subsegment_duration = readBig32(data, start);\n          start += 4;\n          tmp32 = readBig32(data, start);\n          start += 4;\n          ref.starts_with_SAP = tmp32 >> 31 & 1;\n          ref.SAP_type = tmp32 >> 28 & 7;\n          ref.SAP_delta_time = tmp32 & 268435455;\n        }\n      });\n    }\n  }, {\n    key: \"moov\",\n    value: function moov(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mvhd = MP4Parser2.mvhd(MP4Parser2.findBox(data, [\"mvhd\"], start)[0]);\n        ret.trak = MP4Parser2.findBox(data, [\"trak\"], start).map(function(trak) {\n          return MP4Parser2.trak(trak);\n        });\n        ret.pssh = MP4Parser2.pssh(MP4Parser2.findBox(data, [\"pssh\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"mvhd\",\n    value: function mvhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        if (ret.version === 1) {\n          ret.timescale = readBig32(data, 16);\n          ret.duration = readBig64(data, 20);\n          start += 28;\n        } else {\n          ret.timescale = readBig32(data, 8);\n          ret.duration = readBig32(data, 12);\n          start += 16;\n        }\n        ret.nextTrackId = readBig32(data, start + 76);\n      });\n    }\n  }, {\n    key: \"trak\",\n    value: function trak(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tkhd = MP4Parser2.tkhd(MP4Parser2.findBox(data, [\"tkhd\"], start)[0]);\n        ret.mdia = MP4Parser2.mdia(MP4Parser2.findBox(data, [\"mdia\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"tkhd\",\n    value: function tkhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var byte = ByteReader.fromUint8(data);\n        if (ret.version === 1) {\n          byte.read(8);\n          byte.read(8);\n          ret.trackId = byte.read(4);\n          byte.read(4);\n          ret.duration = byte.read(8);\n        } else {\n          byte.read(4);\n          byte.read(4);\n          ret.trackId = byte.read(4);\n          byte.read(4);\n          ret.duration = byte.read(4);\n        }\n        byte.skip(16);\n        ret.matrix = [];\n        for (var i = 0; i < 36; i++) {\n          ret.matrix.push(byte.read(1));\n        }\n        byte.back(36);\n        var caculatedMatrix = [];\n        for (var _i = 0, int32; _i < 3; _i++) {\n          caculatedMatrix.push(combineToFloat(byte.readInt(2), byte.readInt(2)));\n          caculatedMatrix.push(combineToFloat(byte.readInt(2), byte.readInt(2)));\n          int32 = byte.readInt(4);\n          caculatedMatrix.push(combineToFloat(int32 >> 30, int32 & 1073741823));\n        }\n        ret.rotation = toDegree(caculatedMatrix);\n        ret.width = byte.read(4);\n        ret.height = byte.read(4);\n      });\n    }\n  }, {\n    key: \"mdia\",\n    value: function mdia(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mdhd = MP4Parser2.mdhd(MP4Parser2.findBox(data, [\"mdhd\"], start)[0]);\n        ret.hdlr = MP4Parser2.hdlr(MP4Parser2.findBox(data, [\"hdlr\"], start)[0]);\n        ret.minf = MP4Parser2.minf(MP4Parser2.findBox(data, [\"minf\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"mdhd\",\n    value: function mdhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        if (ret.version === 1) {\n          ret.timescale = readBig32(data, 16);\n          ret.duration = readBig64(data, 20);\n          start += 28;\n        } else {\n          ret.timescale = readBig32(data, 8);\n          ret.duration = readBig32(data, 12);\n          start += 16;\n        }\n        var lang = readBig16(data, start);\n        ret.language = String.fromCharCode((lang >> 10 & 31) + 96, (lang >> 5 & 31) + 96, (lang & 31) + 96);\n      });\n    }\n  }, {\n    key: \"hdlr\",\n    value: function hdlr(box) {\n      return parseBox(box, true, function(ret, data) {\n        if (ret.version === 0) {\n          ret.handlerType = String.fromCharCode.apply(null, data.subarray(4, 8));\n        }\n      });\n    }\n  }, {\n    key: \"minf\",\n    value: function minf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.vmhd = MP4Parser2.vmhd(MP4Parser2.findBox(data, [\"vmhd\"], start)[0]);\n        ret.smhd = MP4Parser2.smhd(MP4Parser2.findBox(data, [\"smhd\"], start)[0]);\n        ret.stbl = MP4Parser2.stbl(MP4Parser2.findBox(data, [\"stbl\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"vmhd\",\n    value: function vmhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.graphicsmode = readBig16(data);\n        ret.opcolor = [readBig16(data, 2), readBig16(data, 4), readBig16(data, 6)];\n      });\n    }\n  }, {\n    key: \"smhd\",\n    value: function smhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.balance = readBig16(data);\n      });\n    }\n  }, {\n    key: \"stbl\",\n    value: function stbl(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var _ret$stsd$entries$, _ret$stsd$entries$$si, _ret$stsd$entries$$si2;\n        ret.stsd = MP4Parser2.stsd(MP4Parser2.findBox(data, [\"stsd\"], start)[0]);\n        ret.stts = MP4Parser2.stts(MP4Parser2.findBox(data, [\"stts\"], start)[0]);\n        ret.ctts = MP4Parser2.ctts(MP4Parser2.findBox(data, [\"ctts\"], start)[0]);\n        ret.stsc = MP4Parser2.stsc(MP4Parser2.findBox(data, [\"stsc\"], start)[0]);\n        ret.stsz = MP4Parser2.stsz(MP4Parser2.findBox(data, [\"stsz\"], start)[0]);\n        ret.stco = MP4Parser2.stco(MP4Parser2.findBox(data, [\"stco\"], start)[0]);\n        if (!ret.stco) {\n          ret.co64 = MP4Parser2.co64(MP4Parser2.findBox(data, [\"co64\"], start)[0]);\n          ret.stco = ret.co64;\n        }\n        var default_IV_size = (_ret$stsd$entries$ = ret.stsd.entries[0]) === null || _ret$stsd$entries$ === void 0 ? void 0 : (_ret$stsd$entries$$si = _ret$stsd$entries$.sinf) === null || _ret$stsd$entries$$si === void 0 ? void 0 : (_ret$stsd$entries$$si2 = _ret$stsd$entries$$si.schi) === null || _ret$stsd$entries$$si2 === void 0 ? void 0 : _ret$stsd$entries$$si2.tenc.default_IV_size;\n        ret.stss = MP4Parser2.stss(MP4Parser2.findBox(data, [\"stss\"], start)[0]);\n        ret.senc = MP4Parser2.senc(MP4Parser2.findBox(data, [\"senc\"], start)[0], default_IV_size);\n      });\n    }\n  }, {\n    key: \"senc\",\n    value: function senc(box) {\n      var iv = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 8;\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        var sampleCount = readBig32(data, start);\n        start += 4;\n        ret.samples = [];\n        for (var i = 0; i < sampleCount; i++) {\n          var sample = {};\n          sample.InitializationVector = [];\n          for (var j = 0; j < iv; j++) {\n            sample.InitializationVector[j] = data[start + j];\n          }\n          start += iv;\n          if (ret.flags & 2) {\n            sample.subsamples = [];\n            var subsampleCount = readBig16(data, start);\n            start += 2;\n            for (var _j = 0; _j < subsampleCount; _j++) {\n              var subsample = {};\n              subsample.BytesOfClearData = readBig16(data, start);\n              start += 2;\n              subsample.BytesOfProtectedData = readBig32(data, start);\n              start += 4;\n              sample.subsamples.push(subsample);\n            }\n          }\n          ret.samples.push(sample);\n        }\n      });\n    }\n  }, {\n    key: \"pssh\",\n    value: function pssh(box) {\n      return parseBox(box, true, function(ret, data) {\n        var keyIds = [];\n        var systemId = [];\n        var start = 0;\n        for (var i = 0; i < 16; i++) {\n          systemId.push(toHex(data[start + i]));\n        }\n        start += 16;\n        if (ret.version > 0) {\n          var numKeyIds = readBig32(data, start);\n          start += 4;\n          for (var _i2 = 0; _i2 < (\"\" + numKeyIds).length; _i2++) {\n            for (var j = 0; j < 16; j++) {\n              var keyId = data[start];\n              start += 1;\n              keyIds.push(toHex(keyId));\n            }\n          }\n        }\n        var dataSize = readBig32(data, start);\n        ret.data_size = dataSize;\n        start += 4;\n        ret.kid = keyIds;\n        ret.system_id = systemId;\n        ret.buffer = data;\n      });\n    }\n  }, {\n    key: \"stsd\",\n    value: function stsd(box) {\n      return parseBox(box, true, function(ret, data, start) {\n        ret.entryCount = readBig32(data);\n        ret.entries = MP4Parser2.findBox(data.subarray(4), [], start + 4).map(function(b) {\n          switch (b.type) {\n            case \"av01\":\n              return MP4Parser2.av01(b);\n            case \"avc1\":\n            case \"avc2\":\n            case \"avc3\":\n            case \"avc4\":\n              return MP4Parser2.avc1(b);\n            case \"hvc1\":\n            case \"hev1\":\n              return MP4Parser2.hvc1(b);\n            case \"mp4a\":\n              return MP4Parser2.mp4a(b);\n            case \"alaw\":\n            case \"ulaw\":\n              return MP4Parser2.alaw(b);\n            case \"enca\":\n              return parseBox(b, false, function(ret2, data2, start2) {\n                ret2.channelCount = readBig16(data2, 16);\n                ret2.samplesize = readBig16(data2, 18);\n                ret2.sampleRate = readBig32(data2, 24) / (1 << 16);\n                data2 = data2.subarray(28);\n                ret2.sinf = MP4Parser2.sinf(MP4Parser2.findBox(data2, [\"sinf\"], start2)[0]);\n                ret2.esds = MP4Parser2.esds(MP4Parser2.findBox(data2, [\"esds\"], start2)[0]);\n              });\n            case \"encv\":\n              return parseBox(b, false, function(ret2, data2, start2) {\n                ret2.width = readBig16(data2, 24);\n                ret2.height = readBig16(data2, 26);\n                ret2.horizresolution = readBig32(data2, 28);\n                ret2.vertresolution = readBig32(data2, 32);\n                data2 = data2.subarray(78);\n                ret2.sinf = MP4Parser2.sinf(MP4Parser2.findBox(data2, [\"sinf\"], start2)[0]);\n                ret2.avcC = MP4Parser2.avcC(MP4Parser2.findBox(data2, [\"avcC\"], start2)[0]);\n                ret2.hvcC = MP4Parser2.hvcC(MP4Parser2.findBox(data2, [\"hvcC\"], start2)[0]);\n                ret2.pasp = MP4Parser2.pasp(MP4Parser2.findBox(data2, [\"pasp\"], start2)[0]);\n              });\n          }\n        }).filter(Boolean);\n      });\n    }\n  }, {\n    key: \"tenc\",\n    value: function tenc(box) {\n      return parseBox(box, false, function(ret, data) {\n        var start = 6;\n        ret.default_IsEncrypted = data[start];\n        start += 1;\n        ret.default_IV_size = data[start];\n        start += 1;\n        ret.default_KID = [];\n        for (var i = 0; i < 16; i++) {\n          ret.default_KID.push(toHex(data[start]));\n          start += 1;\n        }\n      });\n    }\n  }, {\n    key: \"schi\",\n    value: function schi(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tenc = MP4Parser2.tenc(MP4Parser2.findBox(data, [\"tenc\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"sinf\",\n    value: function sinf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.schi = MP4Parser2.schi(MP4Parser2.findBox(data, [\"schi\"], start)[0]);\n        ret.frma = MP4Parser2.frma(MP4Parser2.findBox(data, [\"frma\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"frma\",\n    value: function frma(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data_format = \"\";\n        for (var i = 0; i < 4; i++) {\n          ret.data_format += String.fromCharCode(data[i]);\n        }\n      });\n    }\n  }, {\n    key: \"colr\",\n    value: function colr(box) {\n      return parseBox(box, false, function(ret, data) {\n        var byte = ByteReader.fromUint8(data);\n        ret.data = box.data;\n        ret.colorType = byte.readString(4);\n        if (ret.colorType === \"nclx\") {\n          ret.colorPrimaries = byte.read(2);\n          ret.transferCharacteristics = byte.read(2);\n          ret.matrixCoefficients = byte.read(2);\n          ret.fullRangeFlag = byte.read(1) >> 7;\n        } else if (ret.colorType === \"rICC\" || ret.colorType === \"prof\") {\n          ret.iccProfile = data.readToUint8();\n        }\n      });\n    }\n  }, {\n    key: \"av01\",\n    value: function av01(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.av1C = MP4Parser2.av1C(MP4Parser2.findBox(bodyData, [\"av1C\"], start)[0]);\n        ret.colr = MP4Parser2.colr(MP4Parser2.findBox(bodyData, [\"colr\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"av1C\",\n    value: function av1C(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data = box.data;\n        var byte = ByteReader.fromUint8(data);\n        var bit = BitReader.fromByte(byte, 4);\n        ret.marker = bit.read(1);\n        ret.version = bit.read(7);\n        ret.seqProfile = bit.read(3);\n        ret.seqLevelIdx0 = bit.read(5);\n        ret.seqTier0 = bit.read(1);\n        ret.highBitdepth = bit.read(1);\n        ret.twelveBit = bit.read(1);\n        ret.monochrome = bit.read(1);\n        ret.chromaSubsamplingX = bit.read(1);\n        ret.chromaSubsamplingY = bit.read(1);\n        ret.chromaSamplePosition = bit.read(2);\n        ret.reserved = bit.read(3);\n        ret.initialPresentationDelayPresent = bit.read(1);\n        if (ret.initialPresentationDelayPresent) {\n          ret.initialPresentationDelayMinusOne = bit.read(4);\n        } else {\n          ret.initialPresentationDelayMinusOne = 0;\n        }\n        ret.configOBUs = byte.readToUint8();\n        var bitdepth;\n        if (ret.seqLevelIdx0 === 2 && ret.highBitdepth === 1) {\n          bitdepth = ret.twelveBit === 1 ? \"12\" : \"10\";\n        } else if (ret.seqProfile <= 2) {\n          bitdepth = ret.highBitdepth === 1 ? \"10\" : \"08\";\n        }\n        ret.codec = [\"av01\", ret.seqProfile, (ret.seqLevelIdx0 < 10 ? \"0\" + ret.seqLevelIdx0 : ret.seqLevelIdx0) + (ret.seqTier0 ? \"H\" : \"M\"), bitdepth].join(\".\");\n      });\n    }\n  }, {\n    key: \"avc1\",\n    value: function avc1(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.avcC = MP4Parser2.avcC(MP4Parser2.findBox(bodyData, [\"avcC\"], start)[0]);\n        ret.pasp = MP4Parser2.pasp(MP4Parser2.findBox(bodyData, [\"pasp\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"avcC\",\n    value: function avcC(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data = box.data;\n        ret.configurationVersion = data[0];\n        ret.AVCProfileIndication = data[1];\n        ret.profileCompatibility = data[2];\n        ret.AVCLevelIndication = data[3];\n        ret.codec = getAvcCodec([data[1], data[2], data[3]]);\n        ret.lengthSizeMinusOne = data[4] & 3;\n        ret.spsLength = data[5] & 31;\n        ret.sps = [];\n        var start = 6;\n        for (var i = 0; i < ret.spsLength; i++) {\n          var size = readBig16(data, start);\n          start += 2;\n          ret.sps.push(data.subarray(start, start + size));\n          start += size;\n        }\n        ret.ppsLength = data[start];\n        start += 1;\n        ret.pps = [];\n        for (var _i3 = 0; _i3 < ret.ppsLength; _i3++) {\n          var _size = readBig16(data, start);\n          start += 2;\n          ret.pps.push(data.subarray(start, start += _size));\n          start += _size;\n        }\n      });\n    }\n  }, {\n    key: \"hvc1\",\n    value: function hvc1(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.hvcC = MP4Parser2.hvcC(MP4Parser2.findBox(bodyData, [\"hvcC\"], start)[0]);\n        ret.pasp = MP4Parser2.pasp(MP4Parser2.findBox(bodyData, [\"pasp\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"hvcC\",\n    value: function hvcC(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data = box.data;\n        ret.codec = \"hev1.1.6.L93.B0\";\n        ret.configurationVersion = data[0];\n        var tmp = data[1];\n        ret.generalProfileSpace = tmp >> 6;\n        ret.generalTierFlag = (tmp & 32) >> 5;\n        ret.generalProfileIdc = tmp & 31;\n        ret.generalProfileCompatibility = readBig32(data, 2);\n        ret.generalConstraintIndicatorFlags = data.subarray(6, 12);\n        ret.generalLevelIdc = data[12];\n        ret.avgFrameRate = readBig16(data, 19);\n        ret.numOfArrays = data[22];\n        ret.vps = [];\n        ret.sps = [];\n        ret.pps = [];\n        var start = 23;\n        var type = 0;\n        var numNalus = 0;\n        var size = 0;\n        for (var i = 0; i < ret.numOfArrays; i++) {\n          type = data[start] & 63;\n          numNalus = readBig16(data, start + 1);\n          start += 3;\n          var nalus = [];\n          for (var j = 0; j < numNalus; j++) {\n            size = readBig16(data, start);\n            start += 2;\n            nalus.push(data.subarray(start, start + size));\n            start += size;\n          }\n          if (type === 32) {\n            var _ret$vps;\n            (_ret$vps = ret.vps).push.apply(_ret$vps, nalus);\n          } else if (type === 33) {\n            var _ret$sps;\n            (_ret$sps = ret.sps).push.apply(_ret$sps, nalus);\n          } else if (type === 34) {\n            var _ret$pps;\n            (_ret$pps = ret.pps).push.apply(_ret$pps, nalus);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"pasp\",\n    value: function pasp(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.hSpacing = readBig32(data);\n        ret.vSpacing = readBig32(data, 4);\n      });\n    }\n  }, {\n    key: \"mp4a\",\n    value: function mp4a(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseAudioSampleEntry(ret, data);\n        ret.esds = MP4Parser2.esds(MP4Parser2.findBox(data.subarray(bodyStart), [\"esds\"], start + bodyStart)[0]);\n      });\n    }\n  }, {\n    key: \"esds\",\n    value: function esds(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.codec = \"mp4a.\";\n        var start = 0;\n        var byteRead = 0;\n        var size = 0;\n        var tag = 0;\n        while (data.length) {\n          start = 0;\n          tag = data[start];\n          byteRead = data[start + 1];\n          start += 2;\n          while (byteRead & 128) {\n            size = (byteRead & 127) << 7;\n            byteRead = data[start];\n            start += 1;\n          }\n          size += byteRead & 127;\n          if (tag === 3) {\n            data = data.subarray(start + 3);\n          } else if (tag === 4) {\n            ret.codec += (data[start].toString(16) + \".\").padStart(3, \"0\");\n            data = data.subarray(start + 13);\n          } else if (tag === 5) {\n            var config = ret.config = data.subarray(start, start + size);\n            var objectType = (config[0] & 248) >> 3;\n            if (objectType === 31 && config.length >= 2) {\n              objectType = 32 + ((config[0] & 7) << 3) + ((config[1] & 224) >> 5);\n            }\n            ret.objectType = objectType;\n            ret.codec += objectType.toString(16);\n            if (ret.codec[ret.codec.length - 1] === \".\") {\n              ret.codec = ret.codec.substring(0, ret.codec.length - 1);\n            }\n            return;\n          } else {\n            if (ret.codec[ret.codec.length - 1] === \".\") {\n              ret.codec = ret.codec.substring(0, ret.codec.length - 1);\n            }\n            return;\n          }\n        }\n      });\n    }\n  }, {\n    key: \"alaw\",\n    value: function alaw(box) {\n      return parseBox(box, false, function(ret, data) {\n        parseAudioSampleEntry(ret, data);\n      });\n    }\n  }, {\n    key: \"stts\",\n    value: function stts(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push({\n            count: readBig32(data, start),\n            delta: readBig32(data, start + 4)\n          });\n          start += 8;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"ctts\",\n    value: function ctts(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        if (ret.version === 1) {\n          for (var i = 0; i < entryCount; i++) {\n            entries.push({\n              count: readBig32(data, start),\n              offset: readBig32(data, start + 4)\n            });\n            start += 8;\n          }\n        } else {\n          for (var _i4 = 0; _i4 < entryCount; _i4++) {\n            entries.push({\n              count: readBig32(data, start),\n              offset: -(~readBig32(data, start + 4) + 1)\n            });\n            start += 8;\n          }\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stsc\",\n    value: function stsc(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push({\n            firstChunk: readBig32(data, start),\n            samplesPerChunk: readBig32(data, start + 4),\n            sampleDescriptionIndex: readBig32(data, start + 8)\n          });\n          start += 12;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stsz\",\n    value: function stsz(box) {\n      return parseBox(box, true, function(ret, data) {\n        var sampleSize = readBig32(data);\n        var sampleCount = readBig32(data, 4);\n        var entrySizes = [];\n        if (!sampleSize) {\n          var start = 8;\n          for (var i = 0; i < sampleCount; i++) {\n            entrySizes.push(readBig32(data, start));\n            start += 4;\n          }\n        }\n        ret.sampleSize = sampleSize;\n        ret.sampleCount = sampleCount;\n        ret.entrySizes = entrySizes;\n      });\n    }\n  }, {\n    key: \"stco\",\n    value: function stco(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig32(data, start));\n          start += 4;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"co64\",\n    value: function co64(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig64(data, start));\n          start += 8;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stss\",\n    value: function stss(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig32(data, start));\n          start += 4;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"moof\",\n    value: function moof(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mfhd = MP4Parser2.mfhd(MP4Parser2.findBox(data, [\"mfhd\"], start)[0]);\n        ret.traf = MP4Parser2.findBox(data, [\"traf\"], start).map(function(t) {\n          return MP4Parser2.traf(t);\n        });\n      });\n    }\n  }, {\n    key: \"mfhd\",\n    value: function mfhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.sequenceNumber = readBig32(data);\n      });\n    }\n  }, {\n    key: \"traf\",\n    value: function traf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tfhd = MP4Parser2.tfhd(MP4Parser2.findBox(data, [\"tfhd\"], start)[0]);\n        ret.tfdt = MP4Parser2.tfdt(MP4Parser2.findBox(data, [\"tfdt\"], start)[0]);\n        ret.trun = MP4Parser2.trun(MP4Parser2.findBox(data, [\"trun\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"trun\",\n    value: function trun(box) {\n      return parseBox(box, true, function(ret, data) {\n        var version = ret.version, flags = ret.flags;\n        var dataLen = data.length;\n        var sampleCount = ret.sampleCount = readBig32(data);\n        var offset = 4;\n        if (dataLen > offset && flags & 1) {\n          ret.dataOffset = -(~readBig32(data, offset) + 1);\n          offset += 4;\n        }\n        if (dataLen > offset && flags & 4) {\n          ret.firstSampleFlags = readBig32(data, offset);\n          offset += 4;\n        }\n        ret.samples = [];\n        if (dataLen > offset) {\n          var sample;\n          for (var i = 0; i < sampleCount; i++) {\n            sample = {};\n            if (flags & 256) {\n              sample.duration = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 512) {\n              sample.size = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 1024) {\n              sample.flags = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 2048) {\n              if (version) {\n                sample.cts = -(~readBig32(data, offset + 4) + 1);\n              } else {\n                sample.cts = readBig32(data, offset);\n              }\n              offset += 4;\n            }\n            ret.samples.push(sample);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"tfdt\",\n    value: function tfdt(box) {\n      return parseBox(box, true, function(ret, data) {\n        if (ret.version === 1) {\n          ret.baseMediaDecodeTime = readBig64(data);\n        } else {\n          ret.baseMediaDecodeTime = readBig32(data);\n        }\n      });\n    }\n  }, {\n    key: \"probe\",\n    value: function probe(data) {\n      return !!MP4Parser2.findBox(data, [\"ftyp\"]);\n    }\n  }, {\n    key: \"parseSampleFlags\",\n    value: function parseSampleFlags(flags) {\n      return {\n        isLeading: (flags[0] & 12) >>> 2,\n        dependsOn: flags[0] & 3,\n        isDependedOn: (flags[1] & 192) >>> 6,\n        hasRedundancy: (flags[1] & 48) >>> 4,\n        paddingValue: (flags[1] & 14) >>> 1,\n        isNonSyncSample: flags[1] & 1,\n        degradationPriority: flags[2] << 8 | flags[3]\n      };\n    }\n  }, {\n    key: \"moovToTrack\",\n    value: function moovToTrack(moov, videoTrack, audioTrack) {\n      var _e$esds, _e$esds2;\n      var tracks = moov.trak;\n      if (!tracks || !tracks.length)\n        return;\n      var vTrack = tracks.find(function(t) {\n        var _t$mdia, _t$mdia$hdlr;\n        return ((_t$mdia = t.mdia) === null || _t$mdia === void 0 ? void 0 : (_t$mdia$hdlr = _t$mdia.hdlr) === null || _t$mdia$hdlr === void 0 ? void 0 : _t$mdia$hdlr.handlerType) === \"vide\";\n      });\n      var aTrack = tracks.find(function(t) {\n        var _t$mdia2, _t$mdia2$hdlr;\n        return ((_t$mdia2 = t.mdia) === null || _t$mdia2 === void 0 ? void 0 : (_t$mdia2$hdlr = _t$mdia2.hdlr) === null || _t$mdia2$hdlr === void 0 ? void 0 : _t$mdia2$hdlr.handlerType) === \"soun\";\n      });\n      if (vTrack && videoTrack) {\n        var _vTrack$tkhd, _vTrack$mdia, _vTrack$mdia$minf, _vTrack$mdia$minf$stb, _vTrack$mdia2, _vTrack$mdia2$minf, _vTrack$mdia2$minf$st;\n        var v = videoTrack;\n        var _vTrackId = (_vTrack$tkhd = vTrack.tkhd) === null || _vTrack$tkhd === void 0 ? void 0 : _vTrack$tkhd.trackId;\n        if (_vTrackId !== null && _vTrackId !== void 0)\n          v.id = vTrack.tkhd.trackId;\n        v.tkhdDuration = vTrack.tkhd.duration;\n        v.mvhdDurtion = moov.mvhd.duration;\n        v.mvhdTimecale = moov.mvhd.timescale;\n        v.timescale = v.formatTimescale = vTrack.mdia.mdhd.timescale;\n        v.duration = vTrack.mdia.mdhd.duration || v.mvhdDurtion / v.mvhdTimecale * v.timescale;\n        v.rotation = vTrack.tkhd.rotation;\n        v.matrix = vTrack.tkhd.matrix;\n        var e1 = vTrack.mdia.minf.stbl.stsd.entries[0];\n        v.width = e1.width;\n        v.height = e1.height;\n        if (e1.pasp) {\n          v.sarRatio = [e1.pasp.hSpacing, e1.pasp.vSpacing];\n        }\n        if (e1.av1C) {\n          v.codecType = VideoCodecType.AV1;\n          v.codec = e1.av1C.codec;\n          v.av1C = e1.av1C.data;\n          v.colr = e1.colr.data;\n        } else if (e1.hvcC) {\n          v.codecType = VideoCodecType.HEVC;\n          v.codec = e1.hvcC.codec;\n          v.vps = e1.hvcC.vps;\n          v.sps = e1.hvcC.sps;\n          v.pps = e1.hvcC.pps;\n          v.hvcC = e1.hvcC.data;\n        } else if (e1.avcC) {\n          v.codec = e1.avcC.codec;\n          v.sps = e1.avcC.sps;\n          v.pps = e1.avcC.pps;\n        } else {\n          throw new Error(\"unknown video stsd entry\");\n        }\n        v.present = true;\n        v.ext = {};\n        v.ext.stss = (_vTrack$mdia = vTrack.mdia) === null || _vTrack$mdia === void 0 ? void 0 : (_vTrack$mdia$minf = _vTrack$mdia.minf) === null || _vTrack$mdia$minf === void 0 ? void 0 : (_vTrack$mdia$minf$stb = _vTrack$mdia$minf.stbl) === null || _vTrack$mdia$minf$stb === void 0 ? void 0 : _vTrack$mdia$minf$stb.stss;\n        v.ext.ctts = (_vTrack$mdia2 = vTrack.mdia) === null || _vTrack$mdia2 === void 0 ? void 0 : (_vTrack$mdia2$minf = _vTrack$mdia2.minf) === null || _vTrack$mdia2$minf === void 0 ? void 0 : (_vTrack$mdia2$minf$st = _vTrack$mdia2$minf.stbl) === null || _vTrack$mdia2$minf$st === void 0 ? void 0 : _vTrack$mdia2$minf$st.ctts;\n        if (e1 && e1.type === \"encv\") {\n          var _e1$sinf, _e1$sinf$schi, _e1$sinf2, _e1$sinf2$schi, _e1$sinf3, _e1$sinf3$schi, _e1$sinf4, _e1$sinf4$frma;\n          v.isVideoEncryption = true;\n          e1.default_KID = (_e1$sinf = e1.sinf) === null || _e1$sinf === void 0 ? void 0 : (_e1$sinf$schi = _e1$sinf.schi) === null || _e1$sinf$schi === void 0 ? void 0 : _e1$sinf$schi.tenc.default_KID;\n          e1.default_IsEncrypted = (_e1$sinf2 = e1.sinf) === null || _e1$sinf2 === void 0 ? void 0 : (_e1$sinf2$schi = _e1$sinf2.schi) === null || _e1$sinf2$schi === void 0 ? void 0 : _e1$sinf2$schi.tenc.default_IsEncrypted;\n          e1.default_IV_size = (_e1$sinf3 = e1.sinf) === null || _e1$sinf3 === void 0 ? void 0 : (_e1$sinf3$schi = _e1$sinf3.schi) === null || _e1$sinf3$schi === void 0 ? void 0 : _e1$sinf3$schi.tenc.default_IV_size;\n          v.videoSenc = vTrack.mdia.minf.stbl.senc && vTrack.mdia.minf.stbl.senc.samples;\n          e1.data_format = (_e1$sinf4 = e1.sinf) === null || _e1$sinf4 === void 0 ? void 0 : (_e1$sinf4$frma = _e1$sinf4.frma) === null || _e1$sinf4$frma === void 0 ? void 0 : _e1$sinf4$frma.data_format;\n          v.useEME = moov.useEME;\n          v.kidValue = moov.kidValue;\n          v.pssh = moov.pssh;\n          v.encv = e1;\n        }\n      }\n      if (aTrack && audioTrack) {\n        var _aTrack$tkhd, _e$esds3, _e$esds4, _aTrack$mdia, _aTrack$mdia$minf, _aTrack$mdia$minf$stb, _aTrack$mdia2, _aTrack$mdia2$minf, _aTrack$mdia2$minf$st;\n        var a = audioTrack;\n        var _aTrackId = (_aTrack$tkhd = aTrack.tkhd) === null || _aTrack$tkhd === void 0 ? void 0 : _aTrack$tkhd.trackId;\n        if (_aTrackId !== null && _aTrackId !== void 0)\n          a.id = aTrack.tkhd.trackId;\n        a.tkhdDuration = aTrack.tkhd.duration;\n        a.mvhdDurtion = moov.mvhd.duration;\n        a.mvhdTimecale = moov.mvhd.timescale;\n        a.timescale = a.formatTimescale = aTrack.mdia.mdhd.timescale;\n        a.duration = aTrack.mdia.mdhd.duration || a.mvhdDurtion / a.mvhdTimecale * a.timescale;\n        var _e = aTrack.mdia.minf.stbl.stsd.entries[0];\n        a.sampleSize = _e.sampleSize;\n        a.sampleRate = _e.sampleRate;\n        a.channelCount = _e.channelCount;\n        a.present = true;\n        switch (_e.type) {\n          case \"alaw\":\n            a.codecType = a.codec = AudioCodecType.G711PCMA;\n            a.sampleRate = 8e3;\n            break;\n          case \"ulaw\":\n            a.codecType = a.codec = AudioCodecType.G711PCMU;\n            a.sampleRate = 8e3;\n            break;\n          default:\n            a.sampleDuration = AAC.getFrameDuration(a.sampleRate, a.timescale);\n            a.sampleRateIndex = AAC.getRateIndexByRate(a.sampleRate);\n            a.objectType = ((_e$esds = _e.esds) === null || _e$esds === void 0 ? void 0 : _e$esds.objectType) || 2;\n            if (_e.esds)\n              a.config = Array.from(_e.esds.config);\n            a.codec = ((_e$esds2 = _e.esds) === null || _e$esds2 === void 0 ? void 0 : _e$esds2.codec) || \"mp4a.40.2\";\n            break;\n        }\n        a.sampleDuration = AAC.getFrameDuration(a.sampleRate, a.timescale);\n        a.objectType = ((_e$esds3 = _e.esds) === null || _e$esds3 === void 0 ? void 0 : _e$esds3.objectType) || 2;\n        if (_e.esds) {\n          if (_e.esds.config) {\n            a.config = Array.from(_e.esds.config);\n          } else {\n            console.warn(\"esds config is null\");\n          }\n        }\n        a.codec = ((_e$esds4 = _e.esds) === null || _e$esds4 === void 0 ? void 0 : _e$esds4.codec) || \"mp4a.40.2\";\n        a.sampleRateIndex = AAC.getRateIndexByRate(a.sampleRate);\n        a.ext = {};\n        a.ext.stss = (_aTrack$mdia = aTrack.mdia) === null || _aTrack$mdia === void 0 ? void 0 : (_aTrack$mdia$minf = _aTrack$mdia.minf) === null || _aTrack$mdia$minf === void 0 ? void 0 : (_aTrack$mdia$minf$stb = _aTrack$mdia$minf.stbl) === null || _aTrack$mdia$minf$stb === void 0 ? void 0 : _aTrack$mdia$minf$stb.stss;\n        a.ext.ctts = (_aTrack$mdia2 = aTrack.mdia) === null || _aTrack$mdia2 === void 0 ? void 0 : (_aTrack$mdia2$minf = _aTrack$mdia2.minf) === null || _aTrack$mdia2$minf === void 0 ? void 0 : (_aTrack$mdia2$minf$st = _aTrack$mdia2$minf.stbl) === null || _aTrack$mdia2$minf$st === void 0 ? void 0 : _aTrack$mdia2$minf$st.ctts;\n        a.present = true;\n        if (_e && _e.type === \"enca\") {\n          var _e$sinf, _e$sinf$frma, _e$sinf2, _e$sinf2$schi, _e$sinf3, _e$sinf3$schi, _e$sinf4, _e$sinf4$schi;\n          a.isAudioEncryption = true;\n          _e.data_format = (_e$sinf = _e.sinf) === null || _e$sinf === void 0 ? void 0 : (_e$sinf$frma = _e$sinf.frma) === null || _e$sinf$frma === void 0 ? void 0 : _e$sinf$frma.data_format;\n          _e.default_KID = (_e$sinf2 = _e.sinf) === null || _e$sinf2 === void 0 ? void 0 : (_e$sinf2$schi = _e$sinf2.schi) === null || _e$sinf2$schi === void 0 ? void 0 : _e$sinf2$schi.tenc.default_KID;\n          _e.default_IsEncrypted = (_e$sinf3 = _e.sinf) === null || _e$sinf3 === void 0 ? void 0 : (_e$sinf3$schi = _e$sinf3.schi) === null || _e$sinf3$schi === void 0 ? void 0 : _e$sinf3$schi.tenc.default_IsEncrypted;\n          _e.default_IV_size = (_e$sinf4 = _e.sinf) === null || _e$sinf4 === void 0 ? void 0 : (_e$sinf4$schi = _e$sinf4.schi) === null || _e$sinf4$schi === void 0 ? void 0 : _e$sinf4$schi.tenc.default_IV_size;\n          a.audioSenc = aTrack.mdia.minf.stbl.senc && aTrack.mdia.minf.stbl.senc.samples;\n          a.useEME = moov.useEME;\n          a.kidValue = moov.kidValue;\n          a.enca = _e;\n        }\n      }\n      audioTrack && (audioTrack.isVideoEncryption = videoTrack ? videoTrack.isVideoEncryption : false);\n      videoTrack && (videoTrack.isAudioEncryption = audioTrack ? audioTrack.isAudioEncryption : false);\n      if (videoTrack !== null && videoTrack !== void 0 && videoTrack.encv || audioTrack !== null && audioTrack !== void 0 && audioTrack.enca) {\n        var _videoTrack$encv, _audioTrack$enca;\n        var vkid = videoTrack === null || videoTrack === void 0 ? void 0 : (_videoTrack$encv = videoTrack.encv) === null || _videoTrack$encv === void 0 ? void 0 : _videoTrack$encv.default_KID;\n        var akid = audioTrack === null || audioTrack === void 0 ? void 0 : (_audioTrack$enca = audioTrack.enca) === null || _audioTrack$enca === void 0 ? void 0 : _audioTrack$enca.default_KID;\n        var kid = vkid || akid ? (vkid || akid).join(\"\") : null;\n        videoTrack && (videoTrack.kid = kid);\n        audioTrack && (audioTrack.kid = kid);\n      }\n      videoTrack && (videoTrack.flags = 3841);\n      audioTrack && (audioTrack.flags = 1793);\n      return {\n        videoTrack,\n        audioTrack\n      };\n    }\n  }, {\n    key: \"evaluateDefaultDuration\",\n    value: function evaluateDefaultDuration(videoTrack, audioTrack, videoSampleCount) {\n      var _audioTrack$samples;\n      var audioSampleCount = audioTrack === null || audioTrack === void 0 ? void 0 : (_audioTrack$samples = audioTrack.samples) === null || _audioTrack$samples === void 0 ? void 0 : _audioTrack$samples.length;\n      if (!audioSampleCount)\n        return 1024;\n      var segmentDuration = 1024 * audioSampleCount / audioTrack.timescale;\n      return segmentDuration * videoTrack.timescale / videoSampleCount;\n    }\n  }, {\n    key: \"moofToSamples\",\n    value: function moofToSamples(moof, videoTrack, audioTrack) {\n      var ret = {};\n      if (moof.mfhd) {\n        if (videoTrack)\n          videoTrack.sequenceNumber = moof.mfhd.sequenceNumber;\n        if (audioTrack)\n          audioTrack.sequenceNumber = moof.mfhd.sequenceNumber;\n      }\n      moof.traf.forEach(function(_ref) {\n        var tfhd = _ref.tfhd, tfdt = _ref.tfdt, trun = _ref.trun;\n        if (!tfhd || !trun)\n          return;\n        if (tfdt) {\n          if (videoTrack && videoTrack.id === tfhd.trackId)\n            videoTrack.baseMediaDecodeTime = tfdt.baseMediaDecodeTime;\n          if (audioTrack && audioTrack.id === tfhd.trackId)\n            audioTrack.baseMediaDecodeTime = tfdt.baseMediaDecodeTime;\n        }\n        var defaultSize = tfhd.defaultSampleSize || 0;\n        var defaultDuration = tfhd.defaultSampleDuration || MP4Parser2.evaluateDefaultDuration(videoTrack, audioTrack, trun.samples.length || trun.sampleCount);\n        var offset = trun.dataOffset || 0;\n        var dts = 0;\n        var gopId = -1;\n        if (!trun.samples.length && trun.sampleCount) {\n          ret[tfhd.trackId] = [];\n          for (var i = 0; i < trun.sampleCount; i++) {\n            ret[tfhd.trackId].push({\n              offset,\n              dts,\n              duration: defaultDuration,\n              size: defaultSize\n            });\n            dts += defaultDuration;\n            offset += defaultSize;\n          }\n        } else {\n          ret[tfhd.trackId] = trun.samples.map(function(s, index) {\n            s = {\n              offset,\n              dts,\n              pts: dts + (s.cts || 0),\n              duration: s.duration || defaultDuration,\n              size: s.size || defaultSize,\n              gopId,\n              keyframe: index === 0 || s.flags !== null && s.flags !== void 0 && (s.flags & 65536) >>> 0 !== 65536\n            };\n            if (s.keyframe) {\n              gopId++;\n              s.gopId = gopId;\n            }\n            dts += s.duration;\n            offset += s.size;\n            return s;\n          });\n        }\n      });\n      return ret;\n    }\n  }, {\n    key: \"moovToSamples\",\n    value: function moovToSamples(moov) {\n      var tracks = moov.trak;\n      if (!tracks || !tracks.length)\n        return;\n      var vTrack = tracks.find(function(t) {\n        var _t$mdia3, _t$mdia3$hdlr;\n        return ((_t$mdia3 = t.mdia) === null || _t$mdia3 === void 0 ? void 0 : (_t$mdia3$hdlr = _t$mdia3.hdlr) === null || _t$mdia3$hdlr === void 0 ? void 0 : _t$mdia3$hdlr.handlerType) === \"vide\";\n      });\n      var aTrack = tracks.find(function(t) {\n        var _t$mdia4, _t$mdia4$hdlr;\n        return ((_t$mdia4 = t.mdia) === null || _t$mdia4 === void 0 ? void 0 : (_t$mdia4$hdlr = _t$mdia4.hdlr) === null || _t$mdia4$hdlr === void 0 ? void 0 : _t$mdia4$hdlr.handlerType) === \"soun\";\n      });\n      if (!vTrack && !aTrack)\n        return;\n      var videoSamples;\n      var audioSamples;\n      if (vTrack) {\n        var _vTrack$mdia3, _vTrack$mdia3$minf;\n        var videoStbl = (_vTrack$mdia3 = vTrack.mdia) === null || _vTrack$mdia3 === void 0 ? void 0 : (_vTrack$mdia3$minf = _vTrack$mdia3.minf) === null || _vTrack$mdia3$minf === void 0 ? void 0 : _vTrack$mdia3$minf.stbl;\n        if (!videoStbl)\n          return;\n        var stts = videoStbl.stts, stsc = videoStbl.stsc, stsz = videoStbl.stsz, stco = videoStbl.stco, stss = videoStbl.stss, ctts = videoStbl.ctts;\n        if (!stts || !stsc || !stsz || !stco || !stss)\n          return;\n        videoSamples = getSamples(stts, stsc, stsz, stco, ctts, stss);\n      }\n      if (aTrack) {\n        var _aTrack$mdia3, _aTrack$mdia3$minf, _aTrack$mdia$mdhd;\n        var audioStbl = (_aTrack$mdia3 = aTrack.mdia) === null || _aTrack$mdia3 === void 0 ? void 0 : (_aTrack$mdia3$minf = _aTrack$mdia3.minf) === null || _aTrack$mdia3$minf === void 0 ? void 0 : _aTrack$mdia3$minf.stbl;\n        if (!audioStbl)\n          return;\n        var timescale = (_aTrack$mdia$mdhd = aTrack.mdia.mdhd) === null || _aTrack$mdia$mdhd === void 0 ? void 0 : _aTrack$mdia$mdhd.timescale;\n        var _stts = audioStbl.stts, _stsc = audioStbl.stsc, _stsz = audioStbl.stsz, _stco = audioStbl.stco;\n        if (!timescale || !_stts || !_stsc || !_stsz || !_stco)\n          return;\n        audioSamples = getSamples(_stts, _stsc, _stsz, _stco);\n      }\n      return {\n        videoSamples,\n        audioSamples\n      };\n    }\n  }]);\n  return MP4Parser2;\n}();\nfunction getSamples(stts, stsc, stsz, stco, ctts, stss) {\n  var samples = [];\n  var cttsEntries = ctts === null || ctts === void 0 ? void 0 : ctts.entries;\n  var stscEntries = stsc.entries;\n  var stcoEntries = stco.entries;\n  var stszEntrySizes = stsz.entrySizes;\n  var stssEntries = stss === null || stss === void 0 ? void 0 : stss.entries;\n  var keyframeMap;\n  if (stssEntries) {\n    keyframeMap = {};\n    stssEntries.forEach(function(x) {\n      keyframeMap[x - 1] = true;\n    });\n  }\n  var cttsArr;\n  if (cttsEntries) {\n    cttsArr = [];\n    cttsEntries.forEach(function(_ref2) {\n      var count = _ref2.count, offset = _ref2.offset;\n      for (var i = 0; i < count; i++) {\n        cttsArr.push(offset);\n      }\n    });\n  }\n  var sample;\n  var gopId = -1;\n  var dts = 0;\n  var pos = 0;\n  var chunkIndex = 0;\n  var chunkRunIndex = 0;\n  var offsetInChunk = 0;\n  var lastSampleInChunk = stscEntries[0].samplesPerChunk;\n  var lastChunkInRun = stscEntries[1] ? stscEntries[1].firstChunk - 1 : Infinity;\n  stts.entries.forEach(function(_ref3) {\n    var count = _ref3.count, delta = _ref3.delta;\n    for (var i = 0; i < count; i++) {\n      sample = {\n        dts,\n        duration: delta,\n        size: stszEntrySizes[pos] || stsz.sampleSize,\n        offset: stcoEntries[chunkIndex] + offsetInChunk,\n        index: pos\n      };\n      if (stssEntries) {\n        sample.keyframe = keyframeMap[pos];\n        if (sample.keyframe) {\n          gopId++;\n        }\n        sample.gopId = gopId;\n      }\n      if (cttsArr && pos < cttsArr.length) {\n        sample.pts = sample.dts + cttsArr[pos];\n      }\n      samples.push(sample);\n      dts += delta;\n      pos++;\n      if (pos < lastSampleInChunk) {\n        offsetInChunk += sample.size;\n      } else {\n        chunkIndex++;\n        offsetInChunk = 0;\n        if (chunkIndex >= lastChunkInRun) {\n          chunkRunIndex++;\n          lastChunkInRun = stscEntries[chunkRunIndex + 1] ? stscEntries[chunkRunIndex + 1].firstChunk - 1 : Infinity;\n        }\n        lastSampleInChunk += stscEntries[chunkRunIndex].samplesPerChunk;\n      }\n    }\n  });\n  return samples;\n}\nfunction parseVisualSampleEntry(ret, data) {\n  ret.dataReferenceIndex = readBig16(data, 6);\n  ret.width = readBig16(data, 24);\n  ret.height = readBig16(data, 26);\n  ret.horizresolution = readBig32(data, 28);\n  ret.vertresolution = readBig32(data, 32);\n  ret.frameCount = readBig16(data, 40);\n  ret.depth = readBig16(data, 74);\n  return 78;\n}\nfunction parseAudioSampleEntry(ret, data) {\n  ret.dataReferenceIndex = readBig16(data, 6);\n  ret.channelCount = readBig16(data, 16);\n  ret.sampleSize = readBig16(data, 18);\n  ret.sampleRate = readBig32(data, 24) / (1 << 16);\n  return 28;\n}\nfunction parseBox(box, isFullBox, parse) {\n  if (!box)\n    return;\n  if (box.size !== box.data.length) {\n    throw new Error(\"box \".concat(box.type, \" size !== data.length\"));\n  }\n  var ret = {\n    start: box.start,\n    size: box.size,\n    headerSize: box.headerSize,\n    type: box.type\n  };\n  if (isFullBox) {\n    ret.version = box.data[box.headerSize];\n    ret.flags = readBig24(box.data, box.headerSize + 1);\n    ret.headerSize += 4;\n  }\n  parse(ret, box.data.subarray(ret.headerSize), ret.start + ret.headerSize);\n  return ret;\n}\nvar padStart = function padStart2(str, length, pad) {\n  var charstr = String(pad);\n  var len = length >> 0;\n  var maxlen = Math.ceil(len / charstr.length);\n  var chars = [];\n  var r = String(str);\n  while (maxlen--) {\n    chars.push(charstr);\n  }\n  return chars.join(\"\").substring(0, len - r.length) + r;\n};\nvar toHex = function toHex2() {\n  var hex = [];\n  for (var _len = arguments.length, value = new Array(_len), _key = 0; _key < _len; _key++) {\n    value[_key] = arguments[_key];\n  }\n  value.forEach(function(item) {\n    hex.push(padStart(Number(item).toString(16), 2, 0));\n  });\n  return hex[0];\n};\nexport { MP4Parser };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { concatUint8Array } from \"xgplayer-streaming-shared\";\nvar Decryptor = /* @__PURE__ */ function() {\n  function Decryptor2() {\n    _classCallCheck(this, Decryptor2);\n    var crypto = window.crypto || window.msCrypto;\n    this.subtle = crypto && (crypto.subtle || crypto.webkitSubtle);\n    this.externalDecryptor = null;\n  }\n  _createClass(Decryptor2, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$externalDecrypt;\n      if ((_this$externalDecrypt = this.externalDecryptor) !== null && _this$externalDecrypt !== void 0 && _this$externalDecrypt.destroy) {\n        this.externalDecryptor.destroy();\n      }\n    }\n  }, {\n    key: \"decrypt\",\n    value: function decrypt(video, audio) {\n      if (!video && !audio)\n        return;\n      var ret = [];\n      if (video) {\n        ret[0] = this._decryptSegment(video);\n      }\n      if (audio) {\n        ret[1] = this._decryptSegment(audio);\n      }\n      return Promise.all(ret);\n    }\n  }, {\n    key: \"_decryptSegment\",\n    value: function() {\n      var _decryptSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2(seg) {\n        var data;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                data = seg.data;\n                if (!seg.key) {\n                  _context2.next = 5;\n                  break;\n                }\n                _context2.next = 4;\n                return this._decryptData(seg.data, seg.key, seg.keyIv);\n              case 4:\n                data = _context2.sent;\n              case 5:\n                if (seg.map) {\n                  _context2.next = 7;\n                  break;\n                }\n                return _context2.abrupt(\"return\", data);\n              case 7:\n                return _context2.abrupt(\"return\", concatUint8Array(seg.map, data));\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function _decryptSegment(_x4) {\n        return _decryptSegment2.apply(this, arguments);\n      }\n      return _decryptSegment;\n    }()\n  }, {\n    key: \"_decryptData\",\n    value: function() {\n      var _decryptData2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3(data, key, iv) {\n        var aesKey;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!this.externalDecryptor) {\n                  _context3.next = 6;\n                  break;\n                }\n                _context3.next = 3;\n                return this.externalDecryptor.decrypt(data, key, iv);\n              case 3:\n                return _context3.abrupt(\"return\", _context3.sent);\n              case 6:\n                if (this.subtle) {\n                  _context3.next = 8;\n                  break;\n                }\n                throw new Error(\"crypto is not defined\");\n              case 8:\n                _context3.next = 10;\n                return this.subtle.importKey(\"raw\", key, {\n                  name: \"AES-CBC\"\n                }, false, [\"encrypt\", \"decrypt\"]);\n              case 10:\n                aesKey = _context3.sent;\n                _context3.t0 = Uint8Array;\n                _context3.next = 14;\n                return this.subtle.decrypt({\n                  name: \"AES-CBC\",\n                  iv\n                }, aesKey, data);\n              case 14:\n                _context3.t1 = _context3.sent;\n                return _context3.abrupt(\"return\", new _context3.t0(_context3.t1));\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function _decryptData(_x5, _x6, _x7) {\n        return _decryptData2.apply(this, arguments);\n      }\n      return _decryptData;\n    }()\n  }]);\n  return Decryptor2;\n}();\nexport { Decryptor };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, toConsumableArray as _toConsumableArray, createForOfIteratorHelper as _createForOfIteratorHelper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { VideoTrack } from \"../model/video-track.js\";\nimport { AudioTrack } from \"../model/audio-track.js\";\nimport { VideoSample } from \"../model/video-sample.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { MetadataTrack } from \"../model/metadata-track.js\";\nimport { concatUint8Array, readBig32 } from \"../utils/index.js\";\nimport { MP4Parser } from \"./mp4-parser.js\";\nvar FMP4Demuxer = /* @__PURE__ */ function() {\n  function FMP4Demuxer2(videoTrack, audioTrack, metadataTrack) {\n    _classCallCheck(this, FMP4Demuxer2);\n    _defineProperty(this, \"__loadedMoofWraps\", []);\n    _defineProperty(this, \"__lastRemainData\", null);\n    _defineProperty(this, \"__lastRemainDataStart\", 0);\n    _defineProperty(this, \"__nextMoofStart\", -1);\n    this.videoTrack = videoTrack || new VideoTrack();\n    this.audioTrack = audioTrack || new AudioTrack();\n    this.metadataTrack = metadataTrack || new MetadataTrack();\n  }\n  _createClass(FMP4Demuxer2, [{\n    key: \"demuxPart\",\n    value: function demuxPart(partData, partDataStart, moov) {\n      var _this = this;\n      var videoTrack = this.videoTrack, audioTrack = this.audioTrack;\n      var videoExist = videoTrack.exist();\n      var audioExist = audioTrack.exist();\n      var isAV01 = /av01/.test(videoTrack.codec);\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      var data = partData;\n      var dataStart = partDataStart;\n      if (this.__lastRemainData) {\n        var lastRemainDataEnd = this.__lastRemainDataStart + this.__lastRemainData.byteLength;\n        var continuous = partDataStart <= lastRemainDataEnd && partDataStart > this.__lastRemainDataStart && partDataStart + partData.byteLength > lastRemainDataEnd;\n        if (continuous) {\n          var noDuplicateData = partData.subarray(this.__lastRemainData.byteLength + this.__lastRemainDataStart - partDataStart);\n          data = concatUint8Array(this.__lastRemainData, noDuplicateData);\n          dataStart = this.__lastRemainDataStart;\n          this.__lastRemainData = null;\n        } else {\n          this.__lastRemainData = null;\n          this.__lastRemainDataStart = 0;\n          this.__nextMoofStart = -1;\n        }\n      }\n      if (!moov) {\n        var moovBox = MP4Parser.findBox(data, [\"moov\"])[0];\n        if (!moovBox)\n          throw new Error(\"cannot found moov box\");\n        moov = MP4Parser.moov(moovBox);\n      }\n      if (data) {\n        var dataEnd = dataStart + data.byteLength;\n        if (!videoExist && !audioExist) {\n          MP4Parser.moovToTrack(moov, videoTrack, audioTrack);\n        }\n        var moofBoxes = [];\n        if (this.__nextMoofStart < 0) {\n          MP4Parser.findBox(data, [\"moof\"], dataStart).forEach(function(v) {\n            return moofBoxes.push(v);\n          });\n        } else if (this.__nextMoofStart >= dataStart && this.__nextMoofStart <= dataEnd - 8) {\n          MP4Parser.findBox(data.subarray(this.__nextMoofStart - dataStart), [\"moof\"], this.__nextMoofStart).forEach(function(v) {\n            return moofBoxes.push(v);\n          });\n        }\n        moofBoxes.filter(function(moofBox) {\n          return moofBox.size <= moofBox.data.length;\n        }).forEach(function(moofBox) {\n          var moof = MP4Parser.moof(moofBox);\n          _this.__nextMoofStart = moof.start + Math.max.apply(Math, _toConsumableArray(moof.traf.map(function(v) {\n            return v.trun.samples.reduce(function(ret, w) {\n              return ret + w.size;\n            }, v.trun.dataOffset || 0);\n          })));\n          _this.__loadedMoofWraps.push({\n            start: moof.start,\n            nextMoofStart: _this.__nextMoofStart,\n            moof\n          });\n          _this.__loadedMoofWraps.sort(function(p, n) {\n            return p.start - n.start;\n          });\n        });\n        var _iterator = _createForOfIteratorHelper(this.__loadedMoofWraps), _step;\n        try {\n          var _loop = function _loop2() {\n            var moofWrap = _step.value;\n            if (moofWrap.start > dataEnd || moofWrap.nextMoofStart < dataStart) {\n              return \"continue\";\n            }\n            var moofStart = moofWrap.start;\n            var tracks = MP4Parser.moofToSamples(moofWrap.moof, videoTrack, audioTrack);\n            var videoBaseMediaDecodeTime = videoTrack.baseMediaDecodeTime;\n            var audioBaseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n            var nalSize;\n            Object.keys(tracks).forEach(function(k) {\n              if (videoTrack.id == k) {\n                tracks[k].some(function(x) {\n                  var xStart = x.offset += moofStart;\n                  if (xStart < dataStart) {\n                    return;\n                  }\n                  if (xStart + x.size > dataEnd) {\n                    return true;\n                  }\n                  var sample = new VideoSample((x.pts || x.dts) + videoBaseMediaDecodeTime, x.dts + videoBaseMediaDecodeTime);\n                  sample.duration = x.duration;\n                  sample.gopId = x.gopId;\n                  if (x.keyframe)\n                    sample.setToKeyframe();\n                  var sampleData = data.subarray(xStart - dataStart, xStart - dataStart + x.size);\n                  sample.data = sampleData;\n                  if (!isAV01) {\n                    var start = 0;\n                    var len = sampleData.length - 1;\n                    while (start < len) {\n                      nalSize = readBig32(sampleData, start);\n                      start += 4;\n                      sample.units.push(sampleData.subarray(start, start + nalSize));\n                      start += nalSize;\n                    }\n                  }\n                  _this.__lastRemainDataStart = xStart + x.size;\n                  videoTrack.samples.push(sample);\n                });\n              } else if (audioTrack.id == k) {\n                tracks[k].some(function(x) {\n                  var xStart = x.offset + moofStart;\n                  if (xStart < dataStart) {\n                    return;\n                  }\n                  if (xStart + x.size > dataEnd) {\n                    return true;\n                  }\n                  var sampleData = data.subarray(xStart - dataStart, xStart - dataStart + x.size);\n                  audioTrack.samples.push(new AudioSample(x.dts + audioBaseMediaDecodeTime, sampleData, x.duration));\n                  _this.__lastRemainDataStart = xStart + x.size;\n                });\n              }\n            });\n          };\n          for (_iterator.s(); !(_step = _iterator.n()).done; ) {\n            var _ret = _loop();\n            if (_ret === \"continue\")\n              continue;\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n      if (this.__lastRemainDataStart > dataStart && this.__lastRemainDataStart < data.byteLength + dataStart) {\n        this.__lastRemainData = data.subarray(this.__lastRemainDataStart - dataStart);\n      } else {\n        this.__lastRemainData = data;\n        this.__lastRemainDataStart = dataStart;\n      }\n      if (videoTrack.samples.length) {\n        videoTrack.baseMediaDecodeTime = videoTrack.samples[0].pts;\n      }\n      if (audioTrack.samples.length) {\n        audioTrack.baseMediaDecodeTime = audioTrack.samples[0].pts;\n      }\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"demux\",\n    value: function demux(videoData, audioData) {\n      var videoTrack = this.videoTrack, audioTrack = this.audioTrack;\n      var videoExist = videoTrack.exist();\n      var audioExist = audioTrack.exist();\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      if (audioData) {\n        if (!audioExist) {\n          var moovBox = MP4Parser.findBox(audioData, [\"moov\"])[0];\n          if (!moovBox)\n            throw new Error(\"cannot found moov box\");\n          MP4Parser.moovToTrack(MP4Parser.moov(moovBox), null, audioTrack);\n        }\n        var moofBox = MP4Parser.findBox(audioData, [\"moof\"])[0];\n        if (moofBox) {\n          var samples = MP4Parser.moofToSamples(MP4Parser.moof(moofBox), null, audioTrack)[audioTrack.id];\n          var baseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n          if (samples) {\n            var baseOffset = moofBox.start;\n            samples.map(function(x) {\n              x.offset += baseOffset;\n              var sampleData = audioData.subarray(x.offset, x.offset + x.size);\n              audioTrack.samples.push(new AudioSample(x.dts + baseMediaDecodeTime, sampleData, x.duration));\n            });\n          }\n        }\n      }\n      if (videoData) {\n        if (!videoExist && !audioExist) {\n          var _moovBox = MP4Parser.findBox(videoData, [\"moov\"])[0];\n          if (!_moovBox)\n            throw new Error(\"cannot found moov box\");\n          MP4Parser.moovToTrack(MP4Parser.moov(_moovBox), videoTrack, audioTrack);\n        }\n        var _moofBox = MP4Parser.findBox(videoData, [\"moof\"])[0];\n        if (_moofBox) {\n          var tracks = MP4Parser.moofToSamples(MP4Parser.moof(_moofBox), videoTrack, audioTrack);\n          var videoBaseMediaDecodeTime = videoTrack.baseMediaDecodeTime;\n          var audioBaseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n          var _baseOffset = _moofBox.start;\n          var nalSize;\n          Object.keys(tracks).forEach(function(k) {\n            if (videoTrack.id == k) {\n              tracks[k].map(function(x) {\n                x.offset += _baseOffset;\n                var sample = new VideoSample((x.pts || x.dts) + videoBaseMediaDecodeTime, x.dts + videoBaseMediaDecodeTime);\n                sample.duration = x.duration;\n                sample.gopId = x.gopId;\n                if (x.keyframe)\n                  sample.setToKeyframe();\n                var sampleData = videoData.subarray(x.offset, x.offset + x.size);\n                sample.data = sampleData;\n                var start = 0;\n                var len = sampleData.length - 1;\n                while (start < len) {\n                  nalSize = readBig32(sampleData, start);\n                  start += 4;\n                  sample.units.push(sampleData.subarray(start, start + nalSize));\n                  start += nalSize;\n                }\n                videoTrack.samples.push(sample);\n              });\n            } else if (audioTrack.id == k) {\n              tracks[k].map(function(x) {\n                x.offset += _baseOffset;\n                var sampleData = videoData.subarray(x.offset, x.offset + x.size);\n                audioTrack.samples.push(new AudioSample(x.dts + audioBaseMediaDecodeTime, sampleData, x.duration));\n              });\n            }\n          });\n        }\n      }\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.videoTrack.reset();\n      this.audioTrack.reset();\n      this.metadataTrack.reset();\n    }\n  }], [{\n    key: \"probe\",\n    value: function probe(data) {\n      return MP4Parser.probe(data);\n    }\n  }]);\n  return FMP4Demuxer2;\n}();\nexport { FMP4Demuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction Concat(ResultConstructor) {\n  var totalLength = 0;\n  for (var _len = arguments.length, arrays = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    arrays[_key - 1] = arguments[_key];\n  }\n  arrays.forEach(function(arr) {\n    totalLength += arr.length;\n  });\n  var result = new ResultConstructor(totalLength);\n  var offset = 0;\n  arrays.forEach(function(arr) {\n    result.set(arr, offset);\n    offset += arr.length;\n  });\n  return result;\n}\nvar Buffer = /* @__PURE__ */ function() {\n  function Buffer2() {\n    _classCallCheck(this, Buffer2);\n    this.buffer = new Uint8Array(0);\n  }\n  _createClass(Buffer2, [{\n    key: \"write\",\n    value: function write() {\n      var self = this;\n      for (var _len2 = arguments.length, buffer = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        buffer[_key2] = arguments[_key2];\n      }\n      buffer.forEach(function(item) {\n        if (item) {\n          self.buffer = Concat(Uint8Array, self.buffer, item);\n        } else {\n          window.console.warn(item);\n        }\n      });\n    }\n  }], [{\n    key: \"writeUint16\",\n    value: function writeUint16(value) {\n      return new Uint8Array([value >> 8 & 255, value & 255]);\n    }\n  }, {\n    key: \"writeUint32\",\n    value: function writeUint32(value) {\n      return new Uint8Array([value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255]);\n    }\n  }]);\n  return Buffer2;\n}();\nexport { Buffer as default };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck, toConsumableArray as _toConsumableArray, slicedToArray as _slicedToArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, VideoCodecType, AudioCodecType } from \"../model/types.js\";\nimport { concatUint8Array, parse } from \"../utils/index.js\";\nimport Buffer from \"./buffer.js\";\nvar UINT32_MAX = Math.pow(2, 32) - 1;\nvar MP4 = /* @__PURE__ */ function() {\n  function MP42() {\n    _classCallCheck(this, MP42);\n  }\n  _createClass(MP42, null, [{\n    key: \"box\",\n    value: function box(type) {\n      for (var _len = arguments.length, payload = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        payload[_key - 1] = arguments[_key];\n      }\n      payload = payload.filter(Boolean);\n      var size = 8 + payload.reduce(function(p, c) {\n        return p + c.byteLength;\n      }, 0);\n      var ret = new Uint8Array(size);\n      ret[0] = size >> 24 & 255;\n      ret[1] = size >> 16 & 255;\n      ret[2] = size >> 8 & 255;\n      ret[3] = size & 255;\n      ret.set(type, 4);\n      var offset = 8;\n      payload.forEach(function(data) {\n        ret.set(data, offset);\n        offset += data.byteLength;\n      });\n      return ret;\n    }\n  }, {\n    key: \"ftyp\",\n    value: function ftyp(tracks) {\n      var isHevc = tracks.find(function(t) {\n        return t.type === TrackType.VIDEO && t.codecType === VideoCodecType.HEVC;\n      });\n      return isHevc ? MP42.FTYPHEV1 : MP42.FTYPAVC1;\n    }\n  }, {\n    key: \"initSegment\",\n    value: function initSegment(tracks) {\n      var ftyp = MP42.ftyp(tracks);\n      var init = concatUint8Array(ftyp, MP42.moov(tracks));\n      return init;\n    }\n  }, {\n    key: \"pssh\",\n    value: function pssh(data) {\n      var content = new Uint8Array([\n        1,\n        0,\n        0,\n        0\n      ].concat([16, 119, 239, 236, 192, 178, 77, 2, 172, 227, 60, 30, 82, 226, 251, 75], [0, 0, 0, 1], parse(data.kid), [0, 0, 0, 0]));\n      return MP42.box(MP42.types.pssh, content);\n    }\n  }, {\n    key: \"moov\",\n    value: function moov(tracks) {\n      if (tracks[0].useEME && (tracks[0].encv || tracks[0].enca)) {\n        if (!tracks[0].pssh) {\n          tracks[0].pssh = {\n            kid: tracks[0].kid\n          };\n        }\n        var pssh = this.pssh(tracks[0].pssh);\n        return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].mvhdDurtion || tracks[0].duration, tracks[0].mvhdTimecale || tracks[0].timescale), MP42.mvex(tracks)].concat(_toConsumableArray(tracks.map(function(t) {\n          return MP42.trak(t);\n        })), [pssh]));\n      } else {\n        return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].mvhdDurtion || tracks[0].duration, tracks[0].mvhdTimecale || tracks[0].timescale)].concat(_toConsumableArray(tracks.map(function(t) {\n          return MP42.trak(t);\n        })), [MP42.mvex(tracks)]));\n      }\n    }\n  }, {\n    key: \"mvhd\",\n    value: function mvhd(duration) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      var mvhd2 = MP42.box(MP42.types.mvhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        0,\n        1,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        64,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        255,\n        255,\n        255,\n        255\n      ]));\n      return mvhd2;\n    }\n  }, {\n    key: \"trak\",\n    value: function trak(track) {\n      var trak2 = MP42.box(MP42.types.trak, MP42.tkhd(track.id, track.tkhdDuration || 0, track.width, track.height), MP42.mdia(track));\n      return trak2;\n    }\n  }, {\n    key: \"tkhd\",\n    value: function tkhd(id, duration) {\n      var width = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var height = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n      var tkhd2 = MP42.box(MP42.types.tkhd, new Uint8Array([\n        0,\n        0,\n        0,\n        7,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        id >> 24 & 255,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        0,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        64,\n        0,\n        0,\n        0,\n        width >> 8 & 255,\n        width & 255,\n        0,\n        0,\n        height >> 8 & 255,\n        height & 255,\n        0,\n        0\n      ]));\n      return tkhd2;\n    }\n  }, {\n    key: \"mdia\",\n    value: function mdia(track) {\n      var mdia2 = MP42.box(MP42.types.mdia, MP42.mdhd(track.duration, track.timescale), MP42.hdlr(track.type), MP42.minf(track));\n      return mdia2;\n    }\n  }, {\n    key: \"mdhd\",\n    value: function mdhd(duration) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      var mdhd2 = MP42.box(MP42.types.mdhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        85,\n        196,\n        0,\n        0\n      ]));\n      return mdhd2;\n    }\n  }, {\n    key: \"hdlr\",\n    value: function hdlr(type) {\n      var hdlr2 = MP42.box(MP42.types.hdlr, MP42.HDLR_TYPES[type]);\n      return hdlr2;\n    }\n  }, {\n    key: \"minf\",\n    value: function minf(track) {\n      var minf2 = MP42.box(MP42.types.minf, track.type === TrackType.VIDEO ? MP42.VMHD : MP42.SMHD, MP42.DINF, MP42.stbl(track));\n      return minf2;\n    }\n  }, {\n    key: \"stbl\",\n    value: function stbl(track) {\n      var extBox = [];\n      if (track && track.ext) {\n        track.ext.stss && extBox.push(MP42.stss(track.ext.stss.entries));\n      }\n      var stbl2 = MP42.box(MP42.types.stbl, MP42.stsd(track), MP42.STTS, extBox[0], MP42.STSC, MP42.STSZ, MP42.STCO);\n      return stbl2;\n    }\n  }, {\n    key: \"stsd\",\n    value: function stsd(track) {\n      var content;\n      if (track.type === \"audio\") {\n        if (track.useEME && track.enca) {\n          content = MP42.enca(track);\n        } else {\n          if (track.codecType === AudioCodecType.OPUS) {\n            content = MP42.opus(track);\n          } else {\n            content = MP42.mp4a(track);\n          }\n        }\n      } else if (track.useEME && track.encv) {\n        content = MP42.encv(track);\n      } else if (track.av1C) {\n        content = MP42.av01(track);\n      } else {\n        content = MP42.avc1hev1(track);\n      }\n      var stsd2 = MP42.box(MP42.types.stsd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]), content);\n      return stsd2;\n    }\n  }, {\n    key: \"enca\",\n    value: function enca(data) {\n      var channelCount = data.enca.channelCount;\n      var sampleRate = data.enca.sampleRate;\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        sampleRate >> 8 & 255,\n        sampleRate & 255,\n        0,\n        0\n      ]);\n      var esds = MP42.esds(data.config);\n      var sinf = MP42.sinf(data.enca);\n      return MP42.box(MP42.types.enca, content, esds, sinf);\n    }\n  }, {\n    key: \"encv\",\n    value: function encv(track) {\n      var _concat$concat, _ref;\n      var sps = track.sps.length > 0 ? track.sps[0] : [];\n      var pps = track.pps.length > 0 ? track.pps[0] : [];\n      var width = track.width;\n      var height = track.height;\n      var hSpacing = track.sarRatio[0];\n      var vSpacing = track.sarRatio[1];\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        width >> 8 & 255,\n        width & 255,\n        height >> 8 & 255,\n        height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        18,\n        100,\n        97,\n        105,\n        108,\n        121,\n        109,\n        111,\n        116,\n        105,\n        111,\n        110,\n        47,\n        104,\n        108,\n        115,\n        46,\n        106,\n        115,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]);\n      var avcc = new Uint8Array((_concat$concat = (_ref = [\n        1,\n        sps[1],\n        sps[2],\n        sps[3],\n        252 | 3,\n        224 | 1,\n        sps.length >>> 8 & 255,\n        sps.length & 255\n      ]).concat.apply(_ref, _toConsumableArray(sps)).concat([1, pps.length >>> 8 & 255, pps.length & 255])).concat.apply(_concat$concat, _toConsumableArray(pps)));\n      var btrt = new Uint8Array([0, 0, 88, 57, 0, 15, 200, 192, 0, 4, 86, 72]);\n      var sinf = MP42.sinf(track.encv);\n      var pasp = new Uint8Array([\n        hSpacing >> 24,\n        hSpacing >> 16 & 255,\n        hSpacing >> 8 & 255,\n        hSpacing & 255,\n        vSpacing >> 24,\n        vSpacing >> 16 & 255,\n        vSpacing >> 8 & 255,\n        vSpacing & 255\n      ]);\n      return MP42.box(MP42.types.encv, content, MP42.box(MP42.types.avcC, avcc), MP42.box(MP42.types.btrt, btrt), sinf, MP42.box(MP42.types.pasp, pasp));\n    }\n  }, {\n    key: \"schi\",\n    value: function schi(data) {\n      var content = new Uint8Array([]);\n      var tenc = MP42.tenc(data);\n      return MP42.box(MP42.types.schi, content, tenc);\n    }\n  }, {\n    key: \"tenc\",\n    value: function tenc(data) {\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        data.default_IsEncrypted & 255,\n        data.default_IV_size & 255\n      ].concat(parse(data.default_KID)));\n      return MP42.box(MP42.types.tenc, content);\n    }\n  }, {\n    key: \"sinf\",\n    value: function sinf(data) {\n      var content = new Uint8Array([]);\n      var frma = new Uint8Array([data.data_format.charCodeAt(0), data.data_format.charCodeAt(1), data.data_format.charCodeAt(2), data.data_format.charCodeAt(3)]);\n      var schm = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        99,\n        101,\n        110,\n        99,\n        0,\n        1,\n        0,\n        0\n      ]);\n      var schi = MP42.schi(data);\n      return MP42.box(MP42.types.sinf, content, MP42.box(MP42.types.frma, frma), MP42.box(MP42.types.schm, schm), schi);\n    }\n  }, {\n    key: \"av01\",\n    value: function av01(track) {\n      return MP42.box(MP42.types.av01, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.width >> 8 & 255,\n        track.width & 255,\n        track.height >> 8 & 255,\n        track.height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]), track.av1C, track.colr);\n    }\n  }, {\n    key: \"avc1hev1\",\n    value: function avc1hev1(track) {\n      var isHevc = track.codecType === VideoCodecType.HEVC;\n      var typ = isHevc ? MP42.types.hvc1 : MP42.types.avc1;\n      var config = isHevc ? MP42.hvcC(track) : MP42.avcC(track);\n      var boxes = [new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.width >> 8 & 255,\n        track.width & 255,\n        track.height >> 8 & 255,\n        track.height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]), config];\n      if (isHevc) {\n        boxes.push(MP42.box(MP42.types.fiel, new Uint8Array([1, 0])));\n      } else if (track.sarRatio && track.sarRatio.length > 1) {\n        boxes.push(MP42.pasp(track.sarRatio));\n      }\n      return MP42.box.apply(MP42, [typ].concat(boxes));\n    }\n  }, {\n    key: \"avcC\",\n    value: function avcC(track) {\n      var _concat$concat2, _ref2;\n      var sps = [];\n      var pps = [];\n      var len;\n      track.sps.forEach(function(s) {\n        len = s.byteLength;\n        sps.push(len >>> 8 & 255);\n        sps.push(len & 255);\n        sps.push.apply(sps, _toConsumableArray(s));\n      });\n      track.pps.forEach(function(p) {\n        len = p.byteLength;\n        pps.push(len >>> 8 & 255);\n        pps.push(len & 255);\n        pps.push.apply(pps, _toConsumableArray(p));\n      });\n      return MP42.box(MP42.types.avcC, new Uint8Array((_concat$concat2 = (_ref2 = [\n        1,\n        sps[3],\n        sps[4],\n        sps[5],\n        252 | 3,\n        224 | track.sps.length\n      ]).concat.apply(_ref2, sps).concat([track.pps.length])).concat.apply(_concat$concat2, pps)));\n    }\n  }, {\n    key: \"hvcC\",\n    value: function hvcC(track) {\n      var hvcC2 = track.hvcC;\n      if (hvcC2 instanceof ArrayBuffer || hvcC2 instanceof Uint8Array)\n        return hvcC2;\n      var vps = track.vps, sps = track.sps, pps = track.pps;\n      var data;\n      if (hvcC2) {\n        var pcf = hvcC2.generalProfileCompatibilityFlags;\n        var cif = hvcC2.generalConstraintIndicatorFlags;\n        var numOfArrays = (vps.length && 1) + (sps.length && 1) + (pps.length && 1);\n        data = [\n          1,\n          hvcC2.generalProfileSpace << 6 | hvcC2.generalTierFlag << 5 | hvcC2.generalProfileIdc,\n          pcf >>> 24,\n          pcf >>> 16,\n          pcf >>> 8,\n          pcf,\n          cif[0],\n          cif[1],\n          cif[2],\n          cif[3],\n          cif[4],\n          cif[5],\n          hvcC2.generalLevelIdc,\n          240,\n          0,\n          252,\n          hvcC2.chromaFormatIdc | 252,\n          hvcC2.bitDepthLumaMinus8 | 248,\n          hvcC2.bitDepthChromaMinus8 | 248,\n          0,\n          0,\n          hvcC2.numTemporalLayers << 3 | hvcC2.temporalIdNested << 2 | 3,\n          numOfArrays\n        ];\n        var write = function write2(x) {\n          var _data;\n          data.push(x.length >> 8, x.length);\n          (_data = data).push.apply(_data, _toConsumableArray(x));\n        };\n        if (vps.length) {\n          data.push(160, 0, vps.length);\n          vps.forEach(write);\n        }\n        if (sps.length) {\n          data.push(161, 0, sps.length);\n          sps.forEach(write);\n        }\n        if (pps.length) {\n          data.push(162, 0, pps.length);\n          pps.forEach(write);\n        }\n      } else {\n        data = [\n          1,\n          1,\n          96,\n          0,\n          0,\n          0,\n          144,\n          0,\n          0,\n          0,\n          0,\n          0,\n          93,\n          240,\n          0,\n          252,\n          253,\n          248,\n          248,\n          0,\n          0,\n          15,\n          3,\n          160,\n          0,\n          1,\n          0,\n          24,\n          64,\n          1,\n          12,\n          1,\n          255,\n          255,\n          1,\n          96,\n          0,\n          0,\n          3,\n          0,\n          144,\n          0,\n          0,\n          3,\n          0,\n          0,\n          3,\n          0,\n          93,\n          153,\n          152,\n          9,\n          161,\n          0,\n          1,\n          0,\n          45,\n          66,\n          1,\n          1,\n          1,\n          96,\n          0,\n          0,\n          3,\n          0,\n          144,\n          0,\n          0,\n          3,\n          0,\n          0,\n          3,\n          0,\n          93,\n          160,\n          2,\n          128,\n          128,\n          45,\n          22,\n          89,\n          153,\n          164,\n          147,\n          43,\n          154,\n          128,\n          128,\n          128,\n          130,\n          0,\n          0,\n          3,\n          0,\n          2,\n          0,\n          0,\n          3,\n          0,\n          50,\n          16,\n          162,\n          0,\n          1,\n          0,\n          7,\n          68,\n          1,\n          193,\n          114,\n          180,\n          98,\n          64\n        ];\n      }\n      return MP42.box(MP42.types.hvcC, new Uint8Array(data));\n    }\n  }, {\n    key: \"pasp\",\n    value: function pasp(_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2), hSpacing = _ref4[0], vSpacing = _ref4[1];\n      return MP42.box(MP42.types.pasp, new Uint8Array([hSpacing >> 24, hSpacing >> 16 & 255, hSpacing >> 8 & 255, hSpacing & 255, vSpacing >> 24, vSpacing >> 16 & 255, vSpacing >> 8 & 255, vSpacing & 255]));\n    }\n  }, {\n    key: \"mp4a\",\n    value: function mp4a(track) {\n      return MP42.box(MP42.types.mp4a, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        track.sampleRate >> 8 & 255,\n        track.sampleRate & 255,\n        0,\n        0\n      ]), track.config.length ? MP42.esds(track.config) : void 0);\n    }\n  }, {\n    key: \"esds\",\n    value: function esds(config) {\n      var len = config.length;\n      var esds2 = MP42.box(MP42.types.esds, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        3,\n        23 + len,\n        0,\n        0,\n        0,\n        4,\n        15 + len,\n        64,\n        21,\n        0,\n        6,\n        0,\n        0,\n        0,\n        218,\n        192,\n        0,\n        0,\n        218,\n        192,\n        5\n      ].concat([len]).concat(config).concat(\n        [6, 1, 2]\n      )));\n      return esds2;\n    }\n  }, {\n    key: \"opus\",\n    value: function opus(track) {\n      var opusAudioDescription = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        track.sampleRate >> 8 & 255,\n        track.sampleRate & 255,\n        0,\n        0\n      ]);\n      var opusSpecificConfig = track.config.length ? MP42.dOps(track) : [];\n      return MP42.box(MP42.types.Opus, opusAudioDescription, opusSpecificConfig);\n    }\n  }, {\n    key: \"dOps\",\n    value: function dOps(track) {\n      if (track.config) {\n        track.config[4] = track.sampleRate >>> 24 & 255;\n        track.config[5] = track.sampleRate >>> 16 & 255;\n        track.config[6] = track.sampleRate >>> 8 & 255;\n        track.config[7] = track.sampleRate & 255;\n        return MP42.box(MP42.types.dOps, track.config);\n      }\n    }\n  }, {\n    key: \"mvex\",\n    value: function mvex(tracks) {\n      var mvex2 = MP42.box.apply(MP42, [MP42.types.mvex].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.trex(t.id);\n      }))));\n      return mvex2;\n    }\n  }, {\n    key: \"trex\",\n    value: function trex(id) {\n      var trex2 = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        1\n      ]));\n      return trex2;\n    }\n  }, {\n    key: \"trex1\",\n    value: function trex1(id) {\n      var trex = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        2,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0\n      ]));\n      return trex;\n    }\n  }, {\n    key: \"trex2\",\n    value: function trex2(id) {\n      var trex = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        4,\n        0,\n        0,\n        0,\n        0,\n        0,\n        2,\n        0,\n        0,\n        0\n      ]));\n      return trex;\n    }\n  }, {\n    key: \"moof\",\n    value: function moof(tracks) {\n      var moof2 = MP42.box.apply(MP42, [MP42.types.moof, MP42.mfhd(tracks[0].samples ? tracks[0].samples[0].gopId : 0)].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.traf(t);\n      }))));\n      return moof2;\n    }\n  }, {\n    key: \"mfhd\",\n    value: function mfhd(sequenceNumber) {\n      var mfhd2 = MP42.box(MP42.types.mfhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        sequenceNumber >> 24,\n        sequenceNumber >> 16 & 255,\n        sequenceNumber >> 8 & 255,\n        sequenceNumber & 255\n      ]));\n      return mfhd2;\n    }\n  }, {\n    key: \"traf\",\n    value: function traf(track) {\n      var tfhd = MP42.tfhd(track.id);\n      var tfdt = MP42.tfdt(track, track.baseMediaDecodeTime);\n      var sencLength = 0;\n      var samples;\n      if (track.isVideo && track.videoSenc) {\n        samples = track.videoSenc;\n        samples.forEach(function(item) {\n          sencLength = sencLength + 8;\n          if (item.subsamples && item.subsamples.length) {\n            sencLength = sencLength + 2;\n            sencLength = sencLength + item.subsamples.length * 6;\n          }\n        });\n      }\n      track.videoSencLength = sencLength;\n      if (!track.useEME || !track.isVideoEncryption && !track.isAudioEncryption) {\n        var sdtp = MP42.sdtp(track);\n        var offset = 16 + 20 + 8 + 16 + 8 + 8;\n        return MP42.box(MP42.types.traf, tfhd, tfdt, sdtp, MP42.trun(track.samples, sdtp.byteLength + offset));\n      } else if (track.isVideoEncryption) {\n        if (track.isVideo) {\n          var saiz = MP42.saiz(track);\n          var saio = MP42.saio(track);\n          var trun = MP42.trun1(track);\n          var senc = MP42.senc(track);\n          var traf2 = MP42.box(MP42.types.traf, tfhd, tfdt, saiz, saio, trun, senc);\n          return traf2;\n        } else {\n          if (!track.isAudioEncryption) {\n            var sbgp = MP42.sbgp();\n            var _trun = MP42.trun1(track);\n            return MP42.box(MP42.types.traf, tfhd, tfdt, sbgp, _trun);\n          } else {\n            var _sbgp = MP42.sbgp();\n            var _saiz = MP42.saiz(track);\n            var _saio = MP42.saio(track);\n            var _senc = MP42.senc(track);\n            var _trun2 = MP42.trun1(track);\n            var _traf = MP42.box(MP42.types.traf, tfhd, tfdt, _sbgp, _saiz, _saio, _senc, _trun2);\n            return _traf;\n          }\n        }\n      } else {\n        if (track.isVideo) {\n          var _trun3 = MP42.trun1(track);\n          return MP42.box(MP42.types.traf, tfhd, tfdt, _trun3);\n        } else {\n          var _sbgp2 = MP42.sbgp();\n          var _saiz2 = MP42.saiz(track);\n          var _saio2 = MP42.saio(track);\n          var _senc2 = MP42.senc(track);\n          var _trun4 = MP42.trun1(track);\n          var _traf2 = MP42.box(MP42.types.traf, tfhd, tfdt, _sbgp2, _saiz2, _saio2, _senc2, _trun4);\n          return _traf2;\n        }\n      }\n    }\n  }, {\n    key: \"sdtp\",\n    value: function sdtp(data) {\n      var buffer = new Buffer();\n      data.samples.forEach(function(item) {\n        buffer.write(new Uint8Array(data.isVideo ? [item.keyframe ? 32 : 16] : [16]));\n      });\n      return MP42.box(MP42.types.sdtp, this.extension(0, 0), buffer.buffer);\n    }\n  }, {\n    key: \"trun1\",\n    value: function trun1(data) {\n      var buffer = new Buffer();\n      var sampleCount = Buffer.writeUint32(data.samples.length);\n      var offset = null;\n      if (data.isVideo) {\n        var sencLength = data.videoSencLength;\n        offset = Buffer.writeUint32(data.samples.length * 16 + sencLength + 149);\n        if (!data.isVideoEncryption && data.isAudioEncryption) {\n          offset = Buffer.writeUint32(data.samples.length * 16 + 92);\n        }\n      } else {\n        var len = data.samples.length * 12 + 124;\n        if (data.isAudioEncryption) {\n          len = data.samples.length * 12 + 8 * data.audioSenc.length + 177;\n        }\n        offset = Buffer.writeUint32(len);\n      }\n      data.samples.forEach(function(item) {\n        buffer.write(Buffer.writeUint32(item.duration));\n        buffer.write(Buffer.writeUint32(item.size));\n        buffer.write(Buffer.writeUint32(item.keyframe ? 33554432 : 65536));\n        if (data.isVideo) {\n          buffer.write(Buffer.writeUint32(item.cts ? item.cts : 0));\n        }\n      });\n      return MP42.box(MP42.types.trun, this.extension(0, data.flags), sampleCount, offset, buffer.buffer);\n    }\n  }, {\n    key: \"senc\",\n    value: function senc(data) {\n      var buffer = new Buffer();\n      var len = data.samples.length;\n      var ceil = data.isVideo ? 16 : 8;\n      var flag = data.isVideo ? 2 : 0;\n      var samples = [];\n      var samplesLength = 0;\n      if (data.isVideo) {\n        samples = data.videoSenc;\n        samplesLength = data.videoSencLength;\n      } else {\n        samples = data.audioSenc;\n      }\n      samplesLength = samplesLength || ceil * len;\n      buffer.write(Buffer.writeUint32(16 + samplesLength), MP42.types.senc, this.extension(0, flag));\n      buffer.write(Buffer.writeUint32(len));\n      samples.forEach(function(item) {\n        for (var i = 0; i < item.InitializationVector.length; i++) {\n          buffer.write(new Uint8Array([item.InitializationVector[i]]));\n        }\n        if (item.subsamples && item.subsamples.length) {\n          buffer.write(Buffer.writeUint16(item.subsamples.length));\n          item.subsamples.forEach(function(value) {\n            buffer.write(Buffer.writeUint16(value.BytesOfClearData));\n            buffer.write(Buffer.writeUint32(value.BytesOfProtectedData));\n          });\n        }\n      });\n      return buffer.buffer;\n    }\n  }, {\n    key: \"saio\",\n    value: function saio(data) {\n      var length = data.samples.length * 12 + 141;\n      if (!data.isVideo && data.isAudioEncryption) {\n        length = 149;\n      }\n      var content = new Uint8Array([1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, length >> 24 & 255, length >> 16 & 255, length >> 8 & 255, length & 255]);\n      return MP42.box(MP42.types.saio, content);\n    }\n  }, {\n    key: \"saiz\",\n    value: function saiz(data) {\n      var samplesLength = data.samples.length;\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        16,\n        samplesLength >> 24 & 255,\n        samplesLength >> 16 & 255,\n        samplesLength >> 8 & 255,\n        samplesLength & 255\n      ]);\n      return MP42.box(MP42.types.saiz, content);\n    }\n  }, {\n    key: \"sbgp\",\n    value: function sbgp() {\n      var content = new Uint8Array([\n        114,\n        111,\n        108,\n        108,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        1,\n        25,\n        0,\n        0,\n        0,\n        1\n      ]);\n      return MP42.box(MP42.types.sbgp, this.extension(0, 0), content);\n    }\n  }, {\n    key: \"extension\",\n    value: function extension(version, flag) {\n      return new Uint8Array([version, flag >> 16 & 255, flag >> 8 & 255, flag & 255]);\n    }\n  }, {\n    key: \"tfhd\",\n    value: function tfhd(id) {\n      return MP42.box(MP42.types.tfhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255\n      ]));\n    }\n  }, {\n    key: \"tfdt\",\n    value: function tfdt(data, baseMediaDecodeTime) {\n      var upperWordBaseMediaDecodeTime = Math.floor(baseMediaDecodeTime / (UINT32_MAX + 1));\n      var lowerWordBaseMediaDecodeTime = Math.floor(baseMediaDecodeTime % (UINT32_MAX + 1));\n      if (data.useEME && (data.isVideoEncryption || data.isAudioEncryption)) {\n        return MP42.box(MP42.types.tfdt, new Uint8Array([\n          0,\n          0,\n          0,\n          0,\n          lowerWordBaseMediaDecodeTime >> 24,\n          lowerWordBaseMediaDecodeTime >> 16 & 255,\n          lowerWordBaseMediaDecodeTime >> 8 & 255,\n          lowerWordBaseMediaDecodeTime & 255\n        ]));\n      } else {\n        return MP42.box(MP42.types.tfdt, new Uint8Array([\n          1,\n          0,\n          0,\n          0,\n          upperWordBaseMediaDecodeTime >> 24,\n          upperWordBaseMediaDecodeTime >> 16 & 255,\n          upperWordBaseMediaDecodeTime >> 8 & 255,\n          upperWordBaseMediaDecodeTime & 255,\n          lowerWordBaseMediaDecodeTime >> 24,\n          lowerWordBaseMediaDecodeTime >> 16 & 255,\n          lowerWordBaseMediaDecodeTime >> 8 & 255,\n          lowerWordBaseMediaDecodeTime & 255\n        ]));\n      }\n    }\n  }, {\n    key: \"trun\",\n    value: function trun(samples, offset) {\n      var sampleLen = samples.length;\n      var dataLen = 12 + 16 * sampleLen;\n      offset += 8 + dataLen;\n      var data = new Uint8Array(dataLen);\n      data.set([\n        0,\n        0,\n        15,\n        1,\n        sampleLen >>> 24 & 255,\n        sampleLen >>> 16 & 255,\n        sampleLen >>> 8 & 255,\n        sampleLen & 255,\n        offset >>> 24 & 255,\n        offset >>> 16 & 255,\n        offset >>> 8 & 255,\n        offset & 255\n      ], 0);\n      for (var i = 0; i < sampleLen; i++) {\n        var _samples$i = samples[i], duration = _samples$i.duration, size = _samples$i.size, _samples$i$flag = _samples$i.flag, flag = _samples$i$flag === void 0 ? {} : _samples$i$flag, _samples$i$cts = _samples$i.cts, cts = _samples$i$cts === void 0 ? 0 : _samples$i$cts;\n        data.set([\n          duration >>> 24 & 255,\n          duration >>> 16 & 255,\n          duration >>> 8 & 255,\n          duration & 255,\n          size >>> 24 & 255,\n          size >>> 16 & 255,\n          size >>> 8 & 255,\n          size & 255,\n          flag.isLeading << 2 | (flag.dependsOn === null || flag.dependsOn === void 0 ? 1 : flag.dependsOn),\n          flag.isDependedOn << 6 | flag.hasRedundancy << 4 | flag.paddingValue << 1 | (flag.isNonSyncSample === null || flag.isNonSyncSample === void 0 ? 1 : flag.isNonSyncSample),\n          flag.degradationPriority & 240 << 8,\n          flag.degradationPriority & 15,\n          cts >>> 24 & 255,\n          cts >>> 16 & 255,\n          cts >>> 8 & 255,\n          cts & 255\n        ], 12 + 16 * i);\n      }\n      return MP42.box(MP42.types.trun, data);\n    }\n  }, {\n    key: \"moovMP4\",\n    value: function moovMP4(tracks) {\n      return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].duration, tracks[0].timescale)].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.trackMP4(t);\n      }))));\n    }\n  }, {\n    key: \"trackMP4\",\n    value: function trackMP4(track) {\n      return MP42.box(MP42.types.trak, MP42.tkhd(track.id, track.duration, track.width, track.height), MP42.mdiaMP4(track));\n    }\n  }, {\n    key: \"mdiaMP4\",\n    value: function mdiaMP4(track) {\n      return MP42.box(MP42.types.mdia, MP42.mdhd(track.duration, track.timescale), MP42.hdlr(track.type), MP42.minfMP4(track));\n    }\n  }, {\n    key: \"minfMP4\",\n    value: function minfMP4(track) {\n      return MP42.box(MP42.types.minf, track.type === TrackType.VIDEO ? MP42.VMHD : MP42.SMHD, MP42.DINF, MP42.stblMP4(track));\n    }\n  }, {\n    key: \"stblMP4\",\n    value: function stblMP4(track) {\n      var ext = track.ext;\n      var boxes = [MP42.stsd(track), MP42.stts(ext.stts), MP42.stsc(ext.stsc), MP42.stsz(ext.stsz), MP42.stco(ext.stco)];\n      if (ext.stss.length) {\n        boxes.push(MP42.stss(ext.stss));\n      }\n      if (ext.ctts.length) {\n        boxes.push(MP42.ctts(ext.ctts));\n      }\n      return MP42.box.apply(MP42, [MP42.types.stbl].concat(boxes));\n    }\n  }, {\n    key: \"stts\",\n    value: function stts(samples) {\n      var len = samples.length;\n      var data = new Uint8Array(8 * len);\n      var offset = 0;\n      samples.forEach(function(_ref5) {\n        var value = _ref5.value, count = _ref5.count;\n        data.set([count >> 24, count >> 16 & 255, count >> 8 & 255, count & 255, value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255], offset);\n        offset += 8;\n      });\n      return MP42.box(MP42.types.stts, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stsc\",\n    value: function stsc(entries) {\n      var len = entries.length;\n      var data = new Uint8Array(12 * len);\n      var offset = 0;\n      entries.forEach(function(_ref6) {\n        var firstChunk = _ref6.firstChunk, samplesPerChunk = _ref6.samplesPerChunk, sampleDescIndex = _ref6.sampleDescIndex;\n        data.set([firstChunk >> 24, firstChunk >> 16 & 255, firstChunk >> 8 & 255, firstChunk & 255, samplesPerChunk >> 24, samplesPerChunk >> 16 & 255, samplesPerChunk >> 8 & 255, samplesPerChunk & 255, sampleDescIndex >> 24, sampleDescIndex >> 16 & 255, sampleDescIndex >> 8 & 255, sampleDescIndex & 255], offset);\n        offset += 12;\n      });\n      return MP42.box(MP42.types.stsc, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stsz\",\n    value: function stsz(samplesSizes) {\n      var len = samplesSizes.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      samplesSizes.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stsz, concatUint8Array(new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stco\",\n    value: function stco(offsets) {\n      var len = offsets.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      offsets.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stco, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stss\",\n    value: function stss(keyframeIndexes) {\n      var len = keyframeIndexes.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      keyframeIndexes.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stss, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"ctts\",\n    value: function ctts(samples) {\n      var len = samples.length;\n      var data = new Uint8Array(8 * len);\n      var offset = 0;\n      samples.forEach(function(_ref7) {\n        var value = _ref7.value, count = _ref7.count;\n        data.set([count >> 24, count >> 16 & 255, count >> 8 & 255, count & 255, value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255], offset);\n        offset += 8;\n      });\n      return MP42.box(MP42.types.ctts, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"styp\",\n    value: function styp() {\n      return MP42.box(MP42.types.styp, new Uint8Array([109, 115, 100, 104, 0, 0, 0, 0, 109, 115, 100, 104, 109, 115, 105, 120]));\n    }\n  }, {\n    key: \"sidx\",\n    value: function sidx(data) {\n      var timescale = data.timescale;\n      var duration = data.samples[0].duration;\n      var durationCount = duration * data.samples.length;\n      var earliestTime = data.samples[0].sampleOffset * duration;\n      var mdatSize = 8;\n      data.samples.forEach(function(item) {\n        mdatSize += item.size;\n      });\n      var length = 0;\n      if (data.isVideo) {\n        var sencLength = 0;\n        var samples;\n        if (data.videoSenc) {\n          samples = data.videoSenc;\n        }\n        if (data.isVideo) {\n          samples.forEach(function(item) {\n            sencLength = sencLength + 8;\n            if (item.subsamples && item.subsamples.length) {\n              sencLength = sencLength + 2;\n              sencLength = sencLength + item.subsamples.length * 6;\n            }\n          });\n        }\n        data.videoSencLength = sencLength;\n        length = mdatSize + 141 + data.samples.length * 16 + sencLength;\n        if (data.useEME && data.isAudioEncryption && !data.isVideoEncryption) {\n          length = mdatSize + data.samples.length * 16 + 84;\n        }\n      } else {\n        length = mdatSize + 116 + data.samples.length * 12;\n        if (data.useEME && data.isAudioEncryption) {\n          length = mdatSize + 169 + data.samples.length * 12 + 8 * data.audioSenc.length;\n        }\n      }\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        data.id & 255,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        earliestTime >> 24 & 255,\n        earliestTime >> 16 & 255,\n        earliestTime >> 8 & 255,\n        earliestTime & 255,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        length >> 16 & 255,\n        length >> 8 & 255,\n        length & 255,\n        durationCount >> 24 & 255,\n        durationCount >> 16 & 255,\n        durationCount >> 8 & 255,\n        durationCount & 255,\n        144,\n        0,\n        0,\n        0\n      ]);\n      return MP42.box(MP42.types.sidx, content);\n    }\n  }, {\n    key: \"mdat\",\n    value: function mdat(data) {\n      var mdat2 = MP42.box(MP42.types.mdat, data);\n      return mdat2;\n    }\n  }]);\n  return MP42;\n}();\n_defineProperty(MP4, \"types\", [\"Opus\", \"dOps\", \"av01\", \"av1C\", \"avc1\", \"avcC\", \"hvc1\", \"hvcC\", \"dinf\", \"dref\", \"esds\", \"ftyp\", \"hdlr\", \"mdat\", \"mdhd\", \"mdia\", \"mfhd\", \"minf\", \"moof\", \"moov\", \"mp4a\", \"mvex\", \"mvhd\", \"pasp\", \"stbl\", \"stco\", \"stsc\", \"stsd\", \"stsz\", \"stts\", \"tfdt\", \"tfhd\", \"traf\", \"trak\", \"trex\", \"tkhd\", \"vmhd\", \"smhd\", \"ctts\", \"stss\", \"styp\", \"pssh\", \"sidx\", \"sbgp\", \"saiz\", \"saio\", \"senc\", \"trun\", \"encv\", \"enca\", \"sinf\", \"btrt\", \"frma\", \"tenc\", \"schm\", \"schi\", \"mehd\", \"fiel\", \"sdtp\"].reduce(function(p, c) {\n  p[c] = [c.charCodeAt(0), c.charCodeAt(1), c.charCodeAt(2), c.charCodeAt(3)];\n  return p;\n}, /* @__PURE__ */ Object.create(null)));\n_defineProperty(MP4, \"HDLR_TYPES\", {\n  video: new Uint8Array([\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    118,\n    105,\n    100,\n    101,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    86,\n    105,\n    100,\n    101,\n    111,\n    72,\n    97,\n    110,\n    100,\n    108,\n    101,\n    114,\n    0\n  ]),\n  audio: new Uint8Array([\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    115,\n    111,\n    117,\n    110,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    83,\n    111,\n    117,\n    110,\n    100,\n    72,\n    97,\n    110,\n    100,\n    108,\n    101,\n    114,\n    0\n  ])\n});\n_defineProperty(MP4, \"FTYPAVC1\", MP4.box(MP4.types.ftyp, new Uint8Array([\n  105,\n  115,\n  111,\n  109,\n  0,\n  0,\n  0,\n  1,\n  105,\n  115,\n  111,\n  109,\n  97,\n  118,\n  99,\n  49\n])));\n_defineProperty(MP4, \"FTYPHEV1\", MP4.box(MP4.types.ftyp, new Uint8Array([\n  105,\n  115,\n  111,\n  109,\n  0,\n  0,\n  0,\n  1,\n  105,\n  115,\n  111,\n  109,\n  104,\n  101,\n  118,\n  49\n])));\n_defineProperty(MP4, \"DINF\", MP4.box(MP4.types.dinf, MP4.box(MP4.types.dref, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  1,\n  0,\n  0,\n  0,\n  12,\n  117,\n  114,\n  108,\n  32,\n  0,\n  0,\n  0,\n  1\n]))));\n_defineProperty(MP4, \"VMHD\", MP4.box(MP4.types.vmhd, new Uint8Array([\n  0,\n  0,\n  0,\n  1,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"SMHD\", MP4.box(MP4.types.smhd, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"StblTable\", new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n]));\n_defineProperty(MP4, \"STTS\", MP4.box(MP4.types.stts, MP4.StblTable));\n_defineProperty(MP4, \"STSC\", MP4.box(MP4.types.stsc, MP4.StblTable));\n_defineProperty(MP4, \"STSZ\", MP4.box(MP4.types.stsz, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"STCO\", MP4.box(MP4.types.stco, MP4.StblTable));\nexport { MP4 };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name, enable) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n    Logger2.disabled = enable;\n  }\n  _createClass(Logger2, [{\n    key: \"debug\",\n    value: function debug() {\n      var _console;\n      if (Logger2.disabled)\n        return;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_console = console).debug.apply(_console, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      var _console2;\n      if (Logger2.disabled)\n        return;\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      (_console2 = console).log.apply(_console2, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      var _console3;\n      if (Logger2.disabled)\n        return;\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      (_console3 = console).warn.apply(_console3, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      var _console4;\n      if (Logger2.disabled)\n        return;\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      (_console4 = console).error.apply(_console4, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"table\",\n    value: function table() {\n      var _console5;\n      if (Logger2.disabled)\n        return;\n      console.group(this._prefix);\n      (_console5 = console).table.apply(_console5, arguments);\n      console.groupEnd();\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nexport { Logger };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MP4 } from \"./mp4.js\";\nimport { concatUint8Array } from \"../utils/index.js\";\nimport { Logger } from \"./logger.js\";\nvar FMP4Remuxer = /* @__PURE__ */ function() {\n  function FMP4Remuxer2(videoTrack, audioTrack, options) {\n    _classCallCheck(this, FMP4Remuxer2);\n    this.videoTrack = videoTrack;\n    this.audioTrack = audioTrack;\n    var browserVersions = /Chrome\\/([^.]+)/.exec(navigator.userAgent);\n    this.forceFirstIDR = browserVersions && Number(browserVersions[1]) < 50;\n    this.log = new Logger(\"FMP4Remuxer\", options && options.openLog ? !options.openLog : true);\n  }\n  _createClass(FMP4Remuxer2, [{\n    key: \"remux\",\n    value: function remux() {\n      var createInit = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var videoTrack = this.videoTrack;\n      var audioTrack = this.audioTrack;\n      var hasVideo = videoTrack.exist();\n      var hasAudio = audioTrack.exist();\n      var videoInitSegment;\n      var audioInitSegment;\n      var initSegment;\n      var tracks = [];\n      if (createInit) {\n        if (options && options.initMerge) {\n          if (hasVideo) {\n            tracks.push(this.videoTrack);\n          }\n          if (hasAudio) {\n            tracks.push(this.audioTrack);\n          }\n          initSegment = MP4.initSegment(tracks);\n        } else {\n          if (hasVideo)\n            videoInitSegment = MP4.initSegment([this.videoTrack]);\n          if (hasAudio)\n            audioInitSegment = MP4.initSegment([this.audioTrack]);\n        }\n      }\n      var videoSegment;\n      var audioSegment;\n      if (hasVideo && videoTrack.hasSample()) {\n        videoSegment = this._remuxVideo();\n      }\n      if (hasAudio && audioTrack.hasSample()) {\n        audioSegment = this._remuxAudio();\n      }\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      return {\n        initSegment,\n        videoInitSegment,\n        audioInitSegment,\n        videoSegment,\n        audioSegment\n      };\n    }\n  }, {\n    key: \"_remuxVideo\",\n    value: function _remuxVideo() {\n      var track = this.videoTrack;\n      if (this.forceFirstIDR) {\n        track.samples[0].flag = {\n          dependsOn: 2,\n          isNonSyncSample: 0\n        };\n      }\n      var samples = track.samples;\n      var isAV01 = /av01/.test(track.codec);\n      var mdatSize = 0;\n      if (isAV01) {\n        samples.forEach(function(s) {\n          mdatSize += s.data.byteLength;\n        });\n      } else {\n        samples.forEach(function(s) {\n          mdatSize += s.units.reduce(function(t, c) {\n            return t + c.byteLength;\n          }, 0);\n          mdatSize += s.units.length * 4;\n        });\n      }\n      var mdata = new Uint8Array(mdatSize);\n      if (isAV01) {\n        for (var i = 0, l = samples.length, offset = 0, sample; i < l; i++) {\n          sample = samples[i];\n          mdata.set(sample.data, offset);\n          sample.size = sample.data.byteLength;\n          offset += sample.size;\n        }\n      } else {\n        var mdatView = new DataView(mdata.buffer);\n        var _loop = function _loop2(_offset2, _sample2) {\n          _sample2 = samples[_i];\n          var sampleSize = 0;\n          _sample2.units.forEach(function(u) {\n            mdatView.setUint32(_offset2, u.byteLength);\n            _offset2 += 4;\n            mdata.set(u, _offset2);\n            _offset2 += u.byteLength;\n            sampleSize += 4 + u.byteLength;\n          });\n          _sample2.size = sampleSize;\n          _offset = _offset2, _sample = _sample2;\n        };\n        for (var _i = 0, _l = samples.length, _offset = 0, _sample; _i < _l; _i++) {\n          _loop(_offset, _sample);\n        }\n      }\n      var mdat = MP4.mdat(mdata);\n      var moof = MP4.moof([track]);\n      return concatUint8Array(moof, mdat);\n    }\n  }, {\n    key: \"_remuxAudio\",\n    value: function _remuxAudio() {\n      var track = this.audioTrack;\n      var mdata = new Uint8Array(track.samples.reduce(function(t, c) {\n        return t + c.size;\n      }, 0));\n      track.samples.reduce(function(offset, s) {\n        mdata.set(s.data, offset);\n        return offset + s.size;\n      }, 0);\n      var mdat = MP4.mdat(mdata);\n      var moof = MP4.moof([track]);\n      return concatUint8Array(moof, mdat);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.videoTrack.reset();\n      this.audioTrack.reset();\n    }\n  }]);\n  return FMP4Remuxer2;\n}();\nexport { FMP4Remuxer };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT } from \"xgplayer-streaming-shared\";\nvar Event = _objectSpread2(_objectSpread2({}, EVENT), {}, {\n  STREAM_PARSED: \"core.streamparsed\",\n  NO_AUDIO_TRACK: \"core.noaudiotrack\",\n  SUBTITLE_SEGMENTS: \"core.subtitlesegments\",\n  SUBTITLE_PLAYLIST: \"core.subtitleplaylist\",\n  SEI_PAYLOAD_TIME: \"core.seipayloadtime\",\n  APPEND_COST: \"core.appendcost\"\n});\nexport { Event };\n","import { createClass as _createClass, objectSpread2 as _objectSpread2, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Logger, concatUint8Array, StreamingError, ERR } from \"xgplayer-streaming-shared\";\nimport { TrackType, WarningType, FMP4Demuxer, TsDemuxer, FMP4Remuxer } from \"xgplayer-transmuxer\";\nimport { Event } from \"../../constants.js\";\nvar logger = new Logger(\"Transmuxer\");\nvar Transmuxer = /* @__PURE__ */ function() {\n  function Transmuxer2(hls, isMP4, needRemux, fixerConfig) {\n    _classCallCheck(this, Transmuxer2);\n    _defineProperty(this, \"_initSegmentId\", \"\");\n    this.hls = hls;\n    this._demuxer = isMP4 ? new FMP4Demuxer() : new TsDemuxer(null, null, null, fixerConfig);\n    this._isMP4 = isMP4;\n    if (needRemux)\n      this._remuxer = new FMP4Remuxer(this._demuxer.videoTrack, this._demuxer.audioTrack);\n  }\n  _createClass(Transmuxer2, [{\n    key: \"transmux\",\n    value: function transmux(videoChunk, audioChunk, discontinuity, contiguous, startTime, needInit) {\n      var demuxer = this._demuxer;\n      try {\n        if (this._isMP4) {\n          demuxer.demux(videoChunk, audioChunk);\n        } else {\n          demuxer.demuxAndFix(concatUint8Array(videoChunk, audioChunk), discontinuity, contiguous, startTime);\n        }\n      } catch (error) {\n        throw new StreamingError(ERR.DEMUX, ERR.SUB_TYPES.HLS, error);\n      }\n      var videoTrack = demuxer.videoTrack, audioTrack = demuxer.audioTrack, metadataTrack = demuxer.metadataTrack;\n      var vParsed = {\n        codec: videoTrack.codec,\n        timescale: videoTrack.timescale,\n        firstDts: videoTrack.firstDts / videoTrack.timescale,\n        firstPts: videoTrack.firstPts / videoTrack.timescale,\n        duration: videoTrack.samplesDuration / videoTrack.timescale\n      };\n      var aParsed = {\n        codec: audioTrack.codec,\n        timescale: audioTrack.timescale,\n        firstDts: audioTrack.firstDts / videoTrack.timescale,\n        firstPts: audioTrack.firstPts / videoTrack.timescale,\n        duration: audioTrack.samplesDuration / videoTrack.timescale\n      };\n      var newId = \"\".concat(videoTrack.codec, \"/\").concat(videoTrack.width, \"/\").concat(videoTrack.height, \"/\").concat(audioTrack.codec, \"/\").concat(audioTrack.config);\n      if (newId !== this._initSegmentId) {\n        this._initSegmentId = newId;\n        needInit = true;\n      }\n      this._fireEvents(videoTrack, audioTrack, metadataTrack, discontinuity || needInit);\n      this.hls.emit(Event.DEMUXED_TRACK, {\n        videoTrack,\n        audioTrack\n      });\n      if (this._remuxer) {\n        if (needInit && this.hls.isLive && !this.hls.config.mseLowLatency) {\n          videoTrack.duration = this.hls.totalDuration * videoTrack.timescale;\n          audioTrack.duration = this.hls.totalDuration * audioTrack.timescale;\n        }\n        try {\n          var _this$_remuxer$remux = this._remuxer.remux(needInit), videoInitSegment = _this$_remuxer$remux.videoInitSegment, videoSegment = _this$_remuxer$remux.videoSegment, audioInitSegment = _this$_remuxer$remux.audioInitSegment, audioSegment = _this$_remuxer$remux.audioSegment;\n          var v = concatUint8Array(videoInitSegment, videoSegment);\n          var a = concatUint8Array(audioInitSegment, audioSegment);\n          return [v ? _objectSpread2(_objectSpread2({}, vParsed), {}, {\n            data: v\n          }) : void 0, a ? _objectSpread2(_objectSpread2({}, aParsed), {}, {\n            data: a\n          }) : void 0];\n        } catch (error) {\n          throw new StreamingError(ERR.REMUX, ERR.SUB_TYPES.FMP4, error);\n        }\n      } else {\n        return [videoTrack, audioTrack];\n      }\n    }\n  }, {\n    key: \"_fireEvents\",\n    value: function _fireEvents(videoTrack, audioTrack, metadataTrack, discontinuity) {\n      var _this = this;\n      var tracks = [videoTrack, audioTrack];\n      var logCC = \"discontinuity: \".concat(discontinuity);\n      tracks.forEach(function(track) {\n        var _track$samples;\n        if ((_track$samples = track.samples) !== null && _track$samples !== void 0 && _track$samples.length) {\n          logCC += \"; \".concat(track.samples.length, \" \").concat(track.type === TrackType.VIDEO ? \"video\" : \"audio\", \" samples, firstDts/firstPts/duration: \").concat((track.firstDts / track.timescale).toFixed(3), \"/\").concat((track.firstPts / track.timescale).toFixed(3), \"/\").concat((track.samplesDuration / track.timescale).toFixed(3));\n        }\n        if (discontinuity && track.exist()) {\n          _this.hls.emit(Event.METADATA_PARSED, {\n            type: track.type,\n            track,\n            meta: _objectSpread2({\n              codec: track.codec,\n              timescale: track.timescale,\n              baseDts: track.baseDts\n            }, track.type === TrackType.VIDEO ? {\n              width: track.width,\n              height: track.height,\n              sarRatio: track.sarRatio\n            } : {\n              codec: track.codec,\n              channelCount: track.channelCount,\n              sampleRate: track.sampleRate\n            })\n          });\n        }\n      });\n      logger.debug(logCC);\n      videoTrack.warnings.forEach(function(warn) {\n        var type;\n        switch (warn.type) {\n          case WarningType.LARGE_AV_SHIFT:\n            type = Event.LARGE_AV_FIRST_FRAME_GAP_DETECT;\n            break;\n          case WarningType.LARGE_VIDEO_GAP:\n            type = Event.LARGE_VIDEO_DTS_GAP_DETECT;\n            break;\n          case WarningType.LARGE_VIDEO_GAP_BETWEEN_CHUNK:\n            type = Event.MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT;\n            break;\n        }\n        if (type)\n          _this.hls.emit(Event.STREAM_EXCEPTION, _objectSpread2(_objectSpread2({}, warn), {}, {\n            type\n          }));\n        logger.warn(\"video exception\", warn);\n      });\n      audioTrack.warnings.forEach(function(warn) {\n        var type;\n        switch (warn.type) {\n          case WarningType.LARGE_AUDIO_GAP:\n            type = Event.LARGE_AUDIO_DTS_GAP_DETECT;\n            break;\n          case WarningType.AUDIO_FILLED:\n            type = Event.AUDIO_GAP_DETECT;\n            break;\n          case WarningType.AUDIO_DROPPED:\n            type = Event.AUDIO_OVERLAP_DETECT;\n            break;\n        }\n        if (type)\n          _this.hls.emit(Event.STREAM_EXCEPTION, _objectSpread2(_objectSpread2({}, warn), {}, {\n            type\n          }));\n        logger.warn(\"audio exception\", warn);\n      });\n      videoTrack.samples.forEach(function(sample) {\n        if (sample.keyframe) {\n          _this.hls.emit(Event.KEYFRAME, {\n            pts: sample.pts\n          });\n        }\n      });\n      metadataTrack.seiSamples.forEach(function(sei) {\n        _this.hls.emit(Event.SEI, _objectSpread2(_objectSpread2({}, sei), {}, {\n          originPts: sei.originPts / 90,\n          sei: {\n            code: sei.data.type,\n            content: sei.data.payload,\n            dts: sei.pts\n          }\n        }));\n      });\n    }\n  }]);\n  return Transmuxer2;\n}();\nexport { Transmuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray, objectWithoutProperties as _objectWithoutProperties } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TsDemuxer, MP4Parser } from \"xgplayer-transmuxer\";\nimport { Logger, StreamingError, ERR, MSE, EVENT, Buffer } from \"xgplayer-streaming-shared\";\nimport { Decryptor } from \"./decrypt/index.js\";\nimport { Transmuxer } from \"./transmuxer/index.js\";\nimport { Event } from \"../constants.js\";\nvar _excluded = [\"data\"], _excluded2 = [\"data\"];\nvar logger = new Logger(\"BufferService\");\nvar BufferService = /* @__PURE__ */ function() {\n  function BufferService2(hls) {\n    var _this = this;\n    _classCallCheck(this, BufferService2);\n    _defineProperty(this, \"_decryptor\", new Decryptor());\n    _defineProperty(this, \"_transmuxer\", null);\n    _defineProperty(this, \"_mse\", null);\n    _defineProperty(this, \"_softVideo\", null);\n    _defineProperty(this, \"_sourceCreated\", false);\n    _defineProperty(this, \"_needInitSegment\", true);\n    _defineProperty(this, \"_directAppend\", false);\n    this.hls = hls;\n    if (hls.config.softDecode) {\n      this._softVideo = hls.media;\n    } else {\n      this._mse = new MSE(null, {\n        preferMMS: hls.config.preferMMS\n      });\n      if (hls.config.url) {\n        this._mse.bindMedia(hls.media).then(function(e) {\n          _this.hls.emit(EVENT.MEDIASOURCE_OPENED, e);\n        });\n      }\n    }\n    if (hls.config.decryptor) {\n      this._decryptor.externalDecryptor = hls.config.decryptor;\n    }\n  }\n  _createClass(BufferService2, [{\n    key: \"baseDts\",\n    get: function get() {\n      var _this$_transmuxer, _this$_transmuxer$_de, _this$_transmuxer$_de2;\n      return (_this$_transmuxer = this._transmuxer) === null || _this$_transmuxer === void 0 ? void 0 : (_this$_transmuxer$_de = _this$_transmuxer._demuxer) === null || _this$_transmuxer$_de === void 0 ? void 0 : (_this$_transmuxer$_de2 = _this$_transmuxer$_de._fixer) === null || _this$_transmuxer$_de2 === void 0 ? void 0 : _this$_transmuxer$_de2._baseDts;\n    }\n  }, {\n    key: \"nbSb\",\n    get: function get() {\n      var _this$_mse;\n      if (!((_this$_mse = this._mse) !== null && _this$_mse !== void 0 && _this$_mse._sourceBuffer))\n        return 0;\n      return Object.keys(this._mse._sourceBuffer).length;\n    }\n  }, {\n    key: \"msIsOpened\",\n    get: function get() {\n      var _this$_mse2;\n      return (_this$_mse2 = this._mse) === null || _this$_mse2 === void 0 ? void 0 : _this$_mse2.isOpened;\n    }\n  }, {\n    key: \"msHasOpTasks\",\n    get: function get() {\n      var _this$_mse3;\n      return (_this$_mse3 = this._mse) === null || _this$_mse3 === void 0 ? void 0 : _this$_mse3.hasOpTasks;\n    }\n  }, {\n    key: \"msStreaming\",\n    get: function get() {\n      var _this$_mse4;\n      return (_this$_mse4 = this._mse) === null || _this$_mse4 === void 0 ? void 0 : _this$_mse4.streaming;\n    }\n  }, {\n    key: \"updateDuration\",\n    value: function() {\n      var _updateDuration = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(duration) {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                logger.debug(\"update duration\", duration);\n                if (!this._mse) {\n                  _context.next = 9;\n                  break;\n                }\n                if (this._mse.isOpened) {\n                  _context.next = 5;\n                  break;\n                }\n                _context.next = 5;\n                return this._mse.open();\n              case 5:\n                _context.next = 7;\n                return this._mse.updateDuration(duration);\n              case 7:\n                _context.next = 10;\n                break;\n              case 9:\n                if (this._softVideo) {\n                  this._softVideo.duration = duration;\n                }\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function updateDuration(_x) {\n        return _updateDuration.apply(this, arguments);\n      }\n      return updateDuration;\n    }()\n  }, {\n    key: \"createSource\",\n    value: function createSource(videoChunk, audioChunk, videoCodec, audioCodec) {\n      if (this._sourceCreated)\n        return;\n      var chunk = videoChunk || audioChunk;\n      if (!chunk)\n        return;\n      if (TsDemuxer.probe(chunk)) {\n        if (!this._transmuxer)\n          this._transmuxer = new Transmuxer(this.hls, false, !this._softVideo, this.hls.config.fixerConfig);\n      } else if (MP4Parser.probe(chunk)) {\n        if (this._softVideo) {\n          if (!this._transmuxer)\n            this._transmuxer = new Transmuxer(this.hls, true, null, this.hls.config.fixerConfig);\n        } else {\n          this._directAppend = true;\n          var mix = false;\n          if (videoChunk && !videoCodec) {\n            MP4Parser.findBox(videoChunk, [\"moov\", \"trak\"]).forEach(function(t) {\n              var box = MP4Parser.findBox(t.data, [\"trak\", \"mdia\", \"minf\", \"stbl\", \"stsd\"])[0];\n              if (box) {\n                var e = MP4Parser.stsd(box).entries[0];\n                if (e) {\n                  if (e.hvcC) {\n                    videoCodec = e.hvcC.codec || \"hev1.1.6.L93.B0\";\n                  } else if (e.avcC) {\n                    videoCodec = e.avcC.codec;\n                  } else if (e.sampleRate || e.esds) {\n                    var _e$esds;\n                    audioCodec = ((_e$esds = e.esds) === null || _e$esds === void 0 ? void 0 : _e$esds.codec) || \"mp4a.40.2\";\n                    mix = true;\n                  }\n                }\n              }\n            });\n          }\n          if (audioChunk && !audioCodec) {\n            MP4Parser.findBox(audioChunk, [\"moov\", \"trak\", \"mdia\", \"minf\", \"stbl\", \"stsd\"]).forEach(function(stsd) {\n              var e = MP4Parser.stsd(stsd).entries[0];\n              if (e && e.esds)\n                audioCodec = e.esds.codec;\n            });\n          }\n          if (videoChunk && !videoCodec)\n            videoCodec = \"avc1.42e01e\";\n          if (audioChunk && !audioCodec)\n            audioCodec = \"mp4a.40.2\";\n          if (mix) {\n            videoCodec += \", \".concat(audioCodec);\n            audioCodec = \"\";\n          }\n          this._createMseSource(videoCodec, audioCodec);\n        }\n      } else {\n        throw new StreamingError(ERR.OTHER, null, null, null, \"unsupported stream\");\n      }\n      if (this._softVideo)\n        this._sourceCreated = true;\n    }\n  }, {\n    key: \"appendBuffer\",\n    value: function() {\n      var _appendBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2(segment, audioSegment, videoChunk, audioChunk, discontinuity, contiguous, startTime) {\n        var _this2 = this;\n        var afterAppend, p, needInit, _this$_transmuxer$tra, _this$_transmuxer$tra2, video, audio, isFirstAppend, mse, _p, videoData, videoRest, audioData, audioRest;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(!(videoChunk !== null && videoChunk !== void 0 && videoChunk.length) && !(audioChunk !== null && audioChunk !== void 0 && audioChunk.length))) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 2:\n                afterAppend = function afterAppend2() {\n                  var _this2$hls;\n                  if ((_this2$hls = _this2.hls) !== null && _this2$hls !== void 0 && _this2$hls.emit) {\n                    var _this2$hls2;\n                    (_this2$hls2 = _this2.hls) === null || _this2$hls2 === void 0 ? void 0 : _this2$hls2.emit(EVENT.APPEND_BUFFER, {\n                      start: segment.start,\n                      end: segment.end\n                    });\n                  }\n                };\n                if (!this._directAppend) {\n                  _context2.next = 8;\n                  break;\n                }\n                p = [];\n                if (videoChunk)\n                  p.push(this._mse.append(MSE.VIDEO, videoChunk));\n                if (audioChunk)\n                  p.push(this._mse.append(MSE.AUDIO, audioChunk));\n                return _context2.abrupt(\"return\", Promise.all(p).then(afterAppend));\n              case 8:\n                needInit = this._needInitSegment || discontinuity;\n                _this$_transmuxer$tra = this._transmuxer.transmux(videoChunk, audioChunk, needInit, contiguous, startTime, this._needInitSegment || discontinuity), _this$_transmuxer$tra2 = _slicedToArray(_this$_transmuxer$tra, 2), video = _this$_transmuxer$tra2[0], audio = _this$_transmuxer$tra2[1];\n                if (audioChunk && audioSegment) {\n                  audioSegment === null || audioSegment === void 0 ? void 0 : audioSegment.setTrackExist(false, true);\n                }\n                if (audioChunk && segment) {\n                  segment === null || segment === void 0 ? void 0 : segment.setTrackExist(true, false);\n                }\n                if (!audioSegment) {\n                  segment === null || segment === void 0 ? void 0 : segment.setTrackExist(!!video, !!audio);\n                }\n                if (video && !audio) {\n                  this.hls.emit(Event.NO_AUDIO_TRACK);\n                }\n                if (!this._softVideo) {\n                  _context2.next = 20;\n                  break;\n                }\n                this._softVideo.appendBuffer(video, audio);\n                this._needInitSegment = false;\n                afterAppend();\n                _context2.next = 30;\n                break;\n              case 20:\n                if (!this._mse) {\n                  _context2.next = 30;\n                  break;\n                }\n                isFirstAppend = !this._sourceCreated;\n                if (isFirstAppend) {\n                  this._createMseSource(video === null || video === void 0 ? void 0 : video.codec, audio === null || audio === void 0 ? void 0 : audio.codec);\n                }\n                this._needInitSegment = false;\n                mse = this._mse;\n                _p = [];\n                if (needInit && !isFirstAppend) {\n                  this._handleCodecChange(video, audio).forEach(function(task) {\n                    return _p.push(task);\n                  });\n                }\n                if (video) {\n                  videoData = video.data, videoRest = _objectWithoutProperties(video, _excluded);\n                  _p.push(mse.append(MSE.VIDEO, videoData, videoRest));\n                }\n                if (audio) {\n                  audioData = audio.data, audioRest = _objectWithoutProperties(audio, _excluded2);\n                  _p.push(mse.append(MSE.AUDIO, audioData, audioRest));\n                }\n                return _context2.abrupt(\"return\", Promise.all(_p).then(afterAppend));\n              case 30:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function appendBuffer(_x2, _x3, _x4, _x5, _x6, _x7, _x8) {\n        return _appendBuffer.apply(this, arguments);\n      }\n      return appendBuffer;\n    }()\n  }, {\n    key: \"removeBuffer\",\n    value: function() {\n      var _removeBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n        var _this3 = this;\n        var start, end, media, _args3 = arguments;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                start = _args3.length > 0 && _args3[0] !== void 0 ? _args3[0] : 0;\n                end = _args3.length > 1 && _args3[1] !== void 0 ? _args3[1] : Infinity;\n                media = this.hls.media;\n                if (!(!this._mse || !media || start < 0 || end < start || start >= this._mse.duration)) {\n                  _context3.next = 5;\n                  break;\n                }\n                return _context3.abrupt(\"return\");\n              case 5:\n                return _context3.abrupt(\"return\", this._mse.clearBuffer(start, end).then(function() {\n                  return _this3.hls.emit(EVENT.REMOVE_BUFFER, {\n                    start,\n                    end,\n                    removeEnd: end\n                  });\n                }));\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function removeBuffer() {\n        return _removeBuffer.apply(this, arguments);\n      }\n      return removeBuffer;\n    }()\n  }, {\n    key: \"evictBuffer\",\n    value: function() {\n      var _evictBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee4(bufferBehind) {\n        var media, currentTime, removeEnd, start;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1)\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                media = this.hls.media;\n                if (!(!this._mse || !media || !bufferBehind || bufferBehind < 0)) {\n                  _context4.next = 3;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 3:\n                currentTime = media.currentTime;\n                removeEnd = currentTime - bufferBehind;\n                if (!(removeEnd <= 0)) {\n                  _context4.next = 7;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 7:\n                start = Buffer.start(Buffer.get(media));\n                if (!(start + 1 >= removeEnd)) {\n                  _context4.next = 10;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 10:\n                return _context4.abrupt(\"return\", this.removeBuffer(0, removeEnd));\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n        }, _callee4, this);\n      }));\n      function evictBuffer(_x9) {\n        return _evictBuffer.apply(this, arguments);\n      }\n      return evictBuffer;\n    }()\n  }, {\n    key: \"clearAllBuffer\",\n    value: function() {\n      var _clearAllBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee5() {\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1)\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!this._mse) {\n                  _context5.next = 2;\n                  break;\n                }\n                return _context5.abrupt(\"return\", this._mse.clearAllBuffer());\n              case 2:\n              case \"end\":\n                return _context5.stop();\n            }\n        }, _callee5, this);\n      }));\n      function clearAllBuffer() {\n        return _clearAllBuffer.apply(this, arguments);\n      }\n      return clearAllBuffer;\n    }()\n  }, {\n    key: \"decryptBuffer\",\n    value: function decryptBuffer(video, audio) {\n      return this._decryptor.decrypt(video, audio);\n    }\n  }, {\n    key: \"reset\",\n    value: function() {\n      var _reset = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee6() {\n        var reuseMse, _args6 = arguments;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1)\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                reuseMse = _args6.length > 0 && _args6[0] !== void 0 ? _args6[0] : false;\n                if (!(this._mse && !reuseMse)) {\n                  _context6.next = 8;\n                  break;\n                }\n                this._transmuxer = null;\n                this._sourceCreated = false;\n                _context6.next = 6;\n                return this._mse.unbindMedia();\n              case 6:\n                _context6.next = 8;\n                return this._mse.bindMedia(this.hls.media);\n              case 8:\n                this._needInitSegment = true;\n                this._directAppend = false;\n              case 10:\n              case \"end\":\n                return _context6.stop();\n            }\n        }, _callee6, this);\n      }));\n      function reset() {\n        return _reset.apply(this, arguments);\n      }\n      return reset;\n    }()\n  }, {\n    key: \"endOfStream\",\n    value: function() {\n      var _endOfStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee7() {\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1)\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!this._mse) {\n                  _context7.next = 5;\n                  break;\n                }\n                if (!this._sourceCreated) {\n                  _context7.next = 5;\n                  break;\n                }\n                _context7.next = 4;\n                return this._mse.endOfStream();\n              case 4:\n                this.hls.emit(EVENT.BUFFEREOS);\n              case 5:\n                if (this._softVideo) {\n                  this._softVideo.endOfStream();\n                }\n              case 6:\n              case \"end\":\n                return _context7.stop();\n            }\n        }, _callee7, this);\n      }));\n      function endOfStream() {\n        return _endOfStream.apply(this, arguments);\n      }\n      return endOfStream;\n    }()\n  }, {\n    key: \"setLiveSeekableRange\",\n    value: function() {\n      var _setLiveSeekableRange = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee8(start, end) {\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1)\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                if (this._mse)\n                  this._mse.setLiveSeekableRange(start, end);\n              case 1:\n              case \"end\":\n                return _context8.stop();\n            }\n        }, _callee8, this);\n      }));\n      function setLiveSeekableRange(_x10, _x11) {\n        return _setLiveSeekableRange.apply(this, arguments);\n      }\n      return setLiveSeekableRange;\n    }()\n  }, {\n    key: \"detachMedia\",\n    value: function() {\n      var _detachMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee9() {\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1)\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                if (!this._mse) {\n                  _context9.next = 3;\n                  break;\n                }\n                _context9.next = 3;\n                return this._mse.unbindMedia();\n              case 3:\n              case \"end\":\n                return _context9.stop();\n            }\n        }, _callee9, this);\n      }));\n      function detachMedia() {\n        return _detachMedia.apply(this, arguments);\n      }\n      return detachMedia;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function() {\n      var _destroy = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee10() {\n        var _this$_decryptor;\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1)\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                (_this$_decryptor = this._decryptor) === null || _this$_decryptor === void 0 ? void 0 : _this$_decryptor.destroy();\n                _context10.next = 3;\n                return this.detachMedia();\n              case 3:\n                this._decryptor = null;\n                this._mse = null;\n                this._softVideo = null;\n              case 6:\n              case \"end\":\n                return _context10.stop();\n            }\n        }, _callee10, this);\n      }));\n      function destroy() {\n        return _destroy.apply(this, arguments);\n      }\n      return destroy;\n    }()\n  }, {\n    key: \"_createMseSource\",\n    value: function _createMseSource(videoCodec, audioCodec) {\n      logger.debug(\"create mse source, videoCodec=\".concat(videoCodec, \", audioCodec=\").concat(audioCodec));\n      var mse = this._mse;\n      if (!mse)\n        return;\n      if (videoCodec) {\n        mse.createSource(MSE.VIDEO, \"video/mp4;codecs=\".concat(videoCodec));\n        this._sourceCreated = true;\n      }\n      if (audioCodec) {\n        mse.createSource(MSE.AUDIO, \"audio/mp4;codecs=\".concat(audioCodec));\n        this._sourceCreated = true;\n      }\n      this.hls.emit(EVENT.SOURCEBUFFER_CREATED);\n    }\n  }, {\n    key: \"_handleCodecChange\",\n    value: function _handleCodecChange(video, audio) {\n      var tasks = [];\n      var mse = this._mse;\n      var codecList = [{\n        type: MSE.VIDEO,\n        codecs: video === null || video === void 0 ? void 0 : video.codec\n      }, {\n        type: MSE.AUDIO,\n        codecs: audio === null || audio === void 0 ? void 0 : audio.codec\n      }];\n      codecList.filter(function(item) {\n        return !!item.codecs;\n      }).forEach(function(_ref) {\n        var type = _ref.type, codecs = _ref.codecs;\n        var sourceBuffer = mse.getSourceBuffer(type);\n        if (sourceBuffer) {\n          var codec = codecs.split(\",\")[0];\n          if (!new RegExp(codec, \"ig\").test(sourceBuffer.mimeType)) {\n            tasks.push(mse.changeType(type, \"\".concat(type, \"/mp4;codecs=\").concat(codecs)));\n          }\n        }\n      });\n      return tasks;\n    }\n  }, {\n    key: \"seamlessSwitch\",\n    value: function seamlessSwitch() {\n      this._needInitSegment = true;\n    }\n  }, {\n    key: \"isFull\",\n    value: function isFull() {\n      var _this$_mse5;\n      var mediaType = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : MSE.VIDEO;\n      return (_this$_mse5 = this._mse) === null || _this$_mse5 === void 0 ? void 0 : _this$_mse5.isFull(mediaType);\n    }\n  }]);\n  return BufferService2;\n}();\nexport { BufferService };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction getConfig(cfg) {\n  var media = (cfg === null || cfg === void 0 ? void 0 : cfg.media) || document.createElement(\"video\");\n  return _objectSpread2(_objectSpread2({\n    maxPlaylistSize: 50,\n    retryCount: 3,\n    retryDelay: 1e3,\n    pollRetryCount: 2,\n    loadTimeout: 1e4,\n    manifestLoadTimeout: 1e4,\n    preloadTime: 30,\n    softDecode: false,\n    bufferBehind: 10,\n    maxJumpDistance: 3,\n    startTime: 0,\n    useLowLatency: true,\n    targetLatency: 10,\n    maxLatency: 20,\n    allowedStreamTrackChange: true,\n    seiInTime: false,\n    manifestList: [],\n    minSegmentsStartPlay: 3,\n    preferMMS: false,\n    preferMMSStreaming: false,\n    mseLowLatency: true,\n    fixerConfig: {\n      forceFixLargeGap: false,\n      largeGapThreshold: 5\n    }\n  }, cfg), {}, {\n    media\n  });\n}\nexport { getConfig };\n","var LoaderType = {\n  FETCH: \"fetch\",\n  XHR: \"xhr\"\n};\nvar ResponseType = {\n  ARRAY_BUFFER: \"arraybuffer\",\n  TEXT: \"text\",\n  JSON: \"json\"\n};\nexport { LoaderType, ResponseType };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, wrapNativeSuper as _wrapNativeSuper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { LoaderType } from \"./types.js\";\nvar NetError = /* @__PURE__ */ function(_Error) {\n  _inherits(NetError2, _Error);\n  var _super = _createSuper(NetError2);\n  function NetError2(url, request, response, msg) {\n    var _this;\n    _classCallCheck(this, NetError2);\n    _this = _super.call(this, msg);\n    _defineProperty(_assertThisInitialized(_this), \"retryCount\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"isTimeout\", false);\n    _defineProperty(_assertThisInitialized(_this), \"loaderType\", LoaderType.FETCH);\n    _defineProperty(_assertThisInitialized(_this), \"startTime\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"endTime\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"options\", {});\n    _this.url = url;\n    _this.request = request;\n    _this.response = response;\n    return _this;\n  }\n  return _createClass(NetError2);\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nexport { NetError };\n","import { typeof as _typeof } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar toString = Object.prototype.toString;\nfunction isObject(a) {\n  return a !== null && _typeof(a) === \"object\";\n}\nfunction isPlainObject(val) {\n  if (toString.call(val) !== \"[object Object]\") {\n    return false;\n  }\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\nfunction isDate(a) {\n  return toString.call(a) === \"[object Date]\";\n}\nexport { isDate, isObject, isPlainObject };\n","import { isDate, isObject } from \"../is.js\";\nfunction getRangeValue(value) {\n  if (!value || value[0] === null || value[0] === void 0 || value[0] === 0 && (value[1] === null || value[1] === void 0)) {\n    return;\n  }\n  var ret = \"bytes=\" + value[0] + \"-\";\n  if (value[1])\n    ret += value[1];\n  return ret;\n}\nfunction encode(val) {\n  return encodeURIComponent(val).replace(/%3A/gi, \":\").replace(/%24/g, \"$\").replace(/%2C/gi, \",\").replace(/%20/g, \"+\").replace(/%5B/gi, \"[\").replace(/%5D/gi, \"]\");\n}\nfunction setUrlParams(url, params) {\n  if (!url)\n    return;\n  if (!params)\n    return url;\n  var v;\n  var str = Object.keys(params).map(function(k) {\n    v = params[k];\n    if (v === null || v === void 0)\n      return;\n    if (Array.isArray(v)) {\n      k = k + \"[]\";\n    } else {\n      v = [v];\n    }\n    return v.map(function(x) {\n      if (isDate(x)) {\n        x = x.toISOString();\n      } else if (isObject(x)) {\n        x = JSON.stringify(x);\n      }\n      return \"\".concat(encode(k), \"=\").concat(encode(x));\n    }).join(\"&\");\n  }).filter(Boolean).join(\"&\");\n  if (str) {\n    var hashIndex = url.indexOf(\"#\");\n    if (hashIndex !== -1) {\n      url = url.slice(0, hashIndex);\n    }\n    url += (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + str;\n  }\n  return url;\n}\nfunction createResponse(data, done, response, contentLength, age, startTime, firstByteTime, index, range, vid, priOptions) {\n  age = age !== null && age !== void 0 ? parseFloat(age) : null;\n  contentLength = parseInt(contentLength || \"0\", 10);\n  if (Number.isNaN(contentLength))\n    contentLength = 0;\n  var options = {\n    range,\n    vid,\n    index,\n    contentLength,\n    age,\n    startTime,\n    firstByteTime,\n    endTime: Date.now(),\n    priOptions\n  };\n  return {\n    data,\n    done,\n    options,\n    response\n  };\n}\nfunction calculateSpeed(byteLen, milliSecond) {\n  return Math.round(byteLen * 8 * 1e3 / milliSecond / 1024);\n}\nexport { calculateSpeed, createResponse, getRangeValue, setUrlParams };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NetError } from \"./error.js\";\nimport { setUrlParams, getRangeValue, createResponse, calculateSpeed } from \"./helper.js\";\nimport { ResponseType } from \"./types.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar CACHESIZE = 2 * 1024 * 1024;\nvar FetchLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(FetchLoader2, _EventEmitter);\n  var _super = _createSuper(FetchLoader2);\n  function FetchLoader2() {\n    var _this;\n    _classCallCheck(this, FetchLoader2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"_abortController\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_timeoutTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_reader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_response\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_aborted\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_index\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_range\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_receivedLength\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_running\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_logger\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_vid\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_onProcessMinLen\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_onCancel\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_priOptions\", null);\n    return _this;\n  }\n  _createClass(FetchLoader2, [{\n    key: \"load\",\n    value: function load(_ref) {\n      var _this$_abortControlle, _this2 = this;\n      var url = _ref.url, vid = _ref.vid, timeout = _ref.timeout, responseType = _ref.responseType, onProgress = _ref.onProgress, index = _ref.index, onTimeout = _ref.onTimeout, onCancel = _ref.onCancel, range = _ref.range, transformResponse = _ref.transformResponse, request = _ref.request, params = _ref.params, logger = _ref.logger, method = _ref.method, headers = _ref.headers, body = _ref.body, mode = _ref.mode, credentials = _ref.credentials, cache = _ref.cache, redirect = _ref.redirect, referrer = _ref.referrer, referrerPolicy = _ref.referrerPolicy, onProcessMinLen = _ref.onProcessMinLen, priOptions = _ref.priOptions;\n      this._logger = logger;\n      this._aborted = false;\n      this._onProcessMinLen = onProcessMinLen;\n      this._onCancel = onCancel;\n      this._abortController = typeof AbortController !== \"undefined\" && new AbortController();\n      this._running = true;\n      this._index = index;\n      this._range = range || [0, 0];\n      this._vid = vid || url;\n      this._priOptions = priOptions || {};\n      var init = {\n        method,\n        headers,\n        body,\n        mode,\n        credentials,\n        cache,\n        redirect,\n        referrer,\n        referrerPolicy,\n        signal: (_this$_abortControlle = this._abortController) === null || _this$_abortControlle === void 0 ? void 0 : _this$_abortControlle.signal\n      };\n      var isTimeout = false;\n      clearTimeout(this._timeoutTimer);\n      url = setUrlParams(url, params);\n      var rangeValue = getRangeValue(range);\n      if (rangeValue) {\n        if (request) {\n          headers = request.headers;\n        } else {\n          headers = init.headers = init.headers || (Headers ? new Headers() : {});\n        }\n        if (Headers && headers instanceof Headers) {\n          headers.append(\"Range\", rangeValue);\n        } else {\n          headers.Range = rangeValue;\n        }\n      }\n      if (timeout) {\n        this._timeoutTimer = setTimeout(function() {\n          isTimeout = true;\n          _this2.cancel();\n          if (onTimeout) {\n            var error = new NetError(url, init, null, \"timeout\");\n            error.isTimeout = true;\n            onTimeout(error, {\n              index: _this2._index,\n              range: _this2._range,\n              vid: _this2._vid,\n              priOptions: _this2._priOptions\n            });\n          }\n        }, timeout);\n      }\n      var startTime = Date.now();\n      this._logger.debug(\"[fetch load start], index,\", index, \",range,\", range);\n      return new Promise(function(resolve, reject) {\n        fetch(request || url, request ? void 0 : init).then(/* @__PURE__ */ function() {\n          var _ref2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(response) {\n            var firstByteTime, data, costTime, speed;\n            return _regeneratorRuntime().wrap(function _callee$(_context) {\n              while (1)\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    clearTimeout(_this2._timeoutTimer);\n                    _this2._response = response;\n                    if (!(_this2._aborted || !_this2._running)) {\n                      _context.next = 4;\n                      break;\n                    }\n                    return _context.abrupt(\"return\");\n                  case 4:\n                    if (transformResponse) {\n                      response = transformResponse(response, url) || response;\n                    }\n                    if (response.ok) {\n                      _context.next = 7;\n                      break;\n                    }\n                    throw new NetError(url, init, response, \"bad network response\");\n                  case 7:\n                    firstByteTime = Date.now();\n                    if (!(responseType === ResponseType.TEXT)) {\n                      _context.next = 15;\n                      break;\n                    }\n                    _context.next = 11;\n                    return response.text();\n                  case 11:\n                    data = _context.sent;\n                    _this2._running = false;\n                    _context.next = 37;\n                    break;\n                  case 15:\n                    if (!(responseType === ResponseType.JSON)) {\n                      _context.next = 22;\n                      break;\n                    }\n                    _context.next = 18;\n                    return response.json();\n                  case 18:\n                    data = _context.sent;\n                    _this2._running = false;\n                    _context.next = 37;\n                    break;\n                  case 22:\n                    if (!onProgress) {\n                      _context.next = 29;\n                      break;\n                    }\n                    _this2.resolve = resolve;\n                    _this2.reject = reject;\n                    _this2._loadChunk(response, onProgress, startTime, firstByteTime);\n                    return _context.abrupt(\"return\");\n                  case 29:\n                    _context.next = 31;\n                    return response.arrayBuffer();\n                  case 31:\n                    data = _context.sent;\n                    data = new Uint8Array(data);\n                    _this2._running = false;\n                    costTime = Date.now() - startTime;\n                    speed = calculateSpeed(data.byteLength, costTime);\n                    _this2.emit(EVENT.REAL_TIME_SPEED, {\n                      speed,\n                      len: data.byteLength,\n                      time: costTime,\n                      vid: _this2._vid,\n                      index: _this2._index,\n                      range: _this2._range,\n                      priOptions: _this2._priOptions\n                    });\n                  case 37:\n                    _this2._logger.debug(\"[fetch load end], index,\", index, \",range,\", range);\n                    resolve(createResponse(data, true, response, response.headers.get(\"Content-Length\"), response.headers.get(\"age\"), startTime, firstByteTime, index, range, _this2._vid, _this2._priOptions));\n                  case 39:\n                  case \"end\":\n                    return _context.stop();\n                }\n            }, _callee);\n          }));\n          return function(_x) {\n            return _ref2.apply(this, arguments);\n          };\n        }()).catch(function(error) {\n          var _error;\n          clearTimeout(_this2._timeoutTimer);\n          _this2._running = false;\n          if (_this2._aborted && !isTimeout)\n            return;\n          error = error instanceof NetError ? error : new NetError(url, init, null, (_error = error) === null || _error === void 0 ? void 0 : _error.message);\n          error.startTime = startTime;\n          error.endTime = Date.now();\n          error.isTimeout = isTimeout;\n          error.options = {\n            index: _this2._index,\n            range: _this2._range,\n            vid: _this2._vid,\n            priOptions: _this2._priOptions\n          };\n          reject(error);\n        });\n      });\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this._aborted) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 2:\n                this._aborted = true;\n                this._running = false;\n                if (!this._response) {\n                  _context2.next = 14;\n                  break;\n                }\n                _context2.prev = 5;\n                if (!this._reader) {\n                  _context2.next = 9;\n                  break;\n                }\n                _context2.next = 9;\n                return this._reader.cancel();\n              case 9:\n                _context2.next = 13;\n                break;\n              case 11:\n                _context2.prev = 11;\n                _context2.t0 = _context2[\"catch\"](5);\n              case 13:\n                this._response = this._reader = null;\n              case 14:\n                if (this._abortController) {\n                  try {\n                    this._abortController.abort();\n                  } catch (error) {\n                  }\n                  this._abortController = null;\n                }\n                if (this._onCancel) {\n                  this._onCancel({\n                    index: this._index,\n                    range: this._range,\n                    vid: this._vid,\n                    priOptions: this._priOptions\n                  });\n                }\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this, [[5, 11]]);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"_loadChunk\",\n    value: function _loadChunk(response, onProgress, st, firstByteTime) {\n      var _this3 = this;\n      if (!response.body || !response.body.getReader) {\n        this._running = false;\n        var err = new NetError(response.url, \"\", response, \"onProgress of bad response.body.getReader\");\n        err.options = {\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        this.reject(err);\n        return;\n      }\n      if (this._onProcessMinLen > 0) {\n        this._cache = new Uint8Array(CACHESIZE);\n        this._writeIdx = 0;\n      }\n      var reader = this._reader = response.body.getReader();\n      var data;\n      var startTime;\n      var endTime;\n      var pump = /* @__PURE__ */ function() {\n        var _ref3 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n          var _this3$_range;\n          var startRange, startByte, curLen, retData, temp, costTime, speed;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1)\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  startTime = Date.now();\n                  _context3.prev = 1;\n                  _context3.next = 4;\n                  return reader.read();\n                case 4:\n                  data = _context3.sent;\n                  endTime = Date.now();\n                  _context3.next = 13;\n                  break;\n                case 8:\n                  _context3.prev = 8;\n                  _context3.t0 = _context3[\"catch\"](1);\n                  endTime = Date.now();\n                  if (!_this3._aborted) {\n                    _this3._running = false;\n                    _context3.t0.options = {\n                      index: _this3._index,\n                      range: _this3._range,\n                      vid: _this3._vid,\n                      priOptions: _this3._priOptions\n                    };\n                    _this3.reject(_context3.t0);\n                  }\n                  return _context3.abrupt(\"return\");\n                case 13:\n                  startRange = ((_this3$_range = _this3._range) === null || _this3$_range === void 0 ? void 0 : _this3$_range.length) > 0 ? _this3._range[0] : 0;\n                  startByte = startRange + _this3._receivedLength;\n                  if (!_this3._aborted) {\n                    _context3.next = 19;\n                    break;\n                  }\n                  _this3._running = false;\n                  onProgress(void 0, false, {\n                    range: [startByte, startByte],\n                    vid: _this3._vid,\n                    index: _this3._index,\n                    startTime,\n                    endTime,\n                    st,\n                    firstByteTime,\n                    priOptions: _this3._priOptions\n                  }, response);\n                  return _context3.abrupt(\"return\");\n                case 19:\n                  curLen = data.value ? data.value.byteLength : 0;\n                  _this3._receivedLength += curLen;\n                  _this3._logger.debug(\"\\u3010fetchLoader,onProgress call\\u3011,task,\", _this3._range, \", start,\", startByte, \", end,\", startRange + _this3._receivedLength, \", done,\", data.done);\n                  if (_this3._onProcessMinLen > 0) {\n                    if (_this3._writeIdx + curLen >= _this3._onProcessMinLen || data.done) {\n                      retData = new Uint8Array(_this3._writeIdx + curLen);\n                      retData.set(_this3._cache.slice(0, _this3._writeIdx), 0);\n                      curLen > 0 && retData.set(data.value, _this3._writeIdx);\n                      _this3._writeIdx = 0;\n                      _this3._logger.debug(\"\\u3010fetchLoader,onProgress enough\\u3011,done,\", data.done, \",len,\", retData.byteLength, \", writeIdx,\", _this3._writeIdx);\n                    } else {\n                      if (curLen > 0 && _this3._writeIdx + curLen < CACHESIZE) {\n                        _this3._cache.set(data.value, _this3._writeIdx);\n                        _this3._writeIdx += curLen;\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress cache\\u3011,len,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                      } else if (curLen > 0) {\n                        temp = new Uint8Array(_this3._writeIdx + curLen + 2048);\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress extra start\\u3011,size,\", _this3._writeIdx + curLen + 2048, \", datalen,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                        temp.set(_this3._cache.slice(0, _this3._writeIdx), 0);\n                        curLen > 0 && temp.set(data.value, _this3._writeIdx);\n                        _this3._writeIdx += curLen;\n                        delete _this3._cache;\n                        _this3._cache = temp;\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress extra end\\u3011,len,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                      }\n                    }\n                  } else {\n                    retData = data.value;\n                  }\n                  if (retData && retData.byteLength > 0 || data.done) {\n                    onProgress(retData, data.done, {\n                      range: [_this3._range[0] + _this3._receivedLength - (retData ? retData.byteLength : 0), _this3._range[0] + _this3._receivedLength],\n                      vid: _this3._vid,\n                      index: _this3._index,\n                      startTime,\n                      endTime,\n                      st,\n                      firstByteTime,\n                      priOptions: _this3._priOptions\n                    }, response);\n                  }\n                  if (!data.done) {\n                    pump();\n                  } else {\n                    costTime = Date.now() - st;\n                    speed = calculateSpeed(_this3._receivedLength, costTime);\n                    _this3.emit(EVENT.REAL_TIME_SPEED, {\n                      speed,\n                      len: _this3._receivedLength,\n                      time: costTime,\n                      vid: _this3._vid,\n                      index: _this3._index,\n                      range: _this3._range,\n                      priOptions: _this3._priOptions\n                    });\n                    _this3._running = false;\n                    _this3._logger.debug(\"[fetchLoader onProgress end],task,\", _this3._range, \",done,\", data.done);\n                    _this3.resolve(createResponse(data, true, response, response.headers.get(\"Content-Length\"), response.headers.get(\"age\"), st, firstByteTime, _this3._index, _this3._range, _this3._vid, _this3._priOptions));\n                  }\n                case 25:\n                case \"end\":\n                  return _context3.stop();\n              }\n          }, _callee3, null, [[1, 8]]);\n        }));\n        return function pump2() {\n          return _ref3.apply(this, arguments);\n        };\n      }();\n      pump();\n    }\n  }, {\n    key: \"receiveLen\",\n    get: function get() {\n      return this._receivedLength;\n    }\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._running;\n    },\n    set: function set(status) {\n      this._running = status;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return !!(typeof fetch !== \"undefined\");\n    }\n  }]);\n  return FetchLoader2;\n}(EventEmitter);\nexport { FetchLoader };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { LoaderType, ResponseType } from \"./types.js\";\nfunction getConfig(cfg) {\n  return _objectSpread2({\n    loaderType: LoaderType.FETCH,\n    retry: 0,\n    retryDelay: 0,\n    timeout: 0,\n    request: null,\n    onTimeout: void 0,\n    onProgress: void 0,\n    onRetryError: void 0,\n    transformRequest: void 0,\n    transformResponse: void 0,\n    transformError: void 0,\n    responseType: ResponseType.TEXT,\n    range: void 0,\n    url: \"\",\n    params: void 0,\n    method: \"GET\",\n    headers: {},\n    body: void 0,\n    mode: void 0,\n    credentials: void 0,\n    cache: void 0,\n    redirect: void 0,\n    referrer: void 0,\n    referrerPolicy: void 0,\n    integrity: void 0,\n    onProcessMinLen: 0\n  }, cfg);\n}\nexport { getConfig };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf, createForOfIteratorHelper as _createForOfIteratorHelper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NetError } from \"./error.js\";\nimport { setUrlParams, getRangeValue, calculateSpeed, createResponse } from \"./helper.js\";\nimport { ResponseType } from \"./types.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar XhrLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(XhrLoader2, _EventEmitter);\n  var _super = _createSuper(XhrLoader2);\n  function XhrLoader2() {\n    var _this;\n    _classCallCheck(this, XhrLoader2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"_xhr\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_aborted\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_timeoutTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_range\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_receivedLength\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_url\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_onProgress\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_index\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_headers\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_currentChunkSizeKB\", 384);\n    _defineProperty(_assertThisInitialized(_this), \"_timeout\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_xhr\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_withCredentials\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_startTime\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_loadCompleteResolve\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_loadCompleteReject\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_runing\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_logger\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_vid\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_responseType\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_credentials\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_method\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_transformResponse\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_firstRtt\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_onCancel\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_priOptions\", null);\n    return _this;\n  }\n  _createClass(XhrLoader2, [{\n    key: \"load\",\n    value: function load(req) {\n      var _this2 = this;\n      clearTimeout(this._timeoutTimer);\n      this._logger = req.logger;\n      this._range = req.range;\n      this._onProgress = req.onProgress;\n      this._index = req.index;\n      this._headers = req.headers;\n      this._withCredentials = req.credentials === \"include\" || req.credentials === \"same-origin\";\n      this._body = req.body || null;\n      req.method && (this._method = req.method);\n      this._timeout = req.timeout || null;\n      this._runing = true;\n      this._vid = req.vid || req.url;\n      this._responseType = req.responseType;\n      this._firstRtt = -1;\n      this._onTimeout = req.onTimeout;\n      this._onCancel = req.onCancel;\n      this._request = req.request;\n      this._priOptions = req.priOptions || {};\n      this._logger.debug(\"\\u3010xhrLoader task\\u3011, range\", this._range);\n      this._url = setUrlParams(req.url, req.params);\n      var startTime = Date.now();\n      return new Promise(function(resolve, reject) {\n        _this2._loadCompleteResolve = resolve;\n        _this2._loadCompleteReject = reject;\n        _this2._startLoad();\n      }).catch(function(error) {\n        clearTimeout(_this2._timeoutTimer);\n        _this2._runing = false;\n        if (_this2._aborted)\n          return;\n        error = error instanceof NetError ? error : new NetError(_this2._url, _this2._request);\n        error.startTime = startTime;\n        error.endTime = Date.now();\n        error.options = {\n          index: _this2._index,\n          vid: _this2._vid,\n          priOptions: _this2._priOptions\n        };\n        throw error;\n      });\n    }\n  }, {\n    key: \"_startLoad\",\n    value: function _startLoad() {\n      var range = null;\n      if (this._responseType === ResponseType.ARRAY_BUFFER && this._range && this._range.length > 1) {\n        if (this._onProgress) {\n          this._firstRtt = -1;\n          var chunkSize = this._currentChunkSizeKB * 1024;\n          var from = this._range[0] + this._receivedLength;\n          var to = this._range[1];\n          if (chunkSize < this._range[1] - from) {\n            to = from + chunkSize;\n          }\n          range = [from, to];\n          this._logger.debug(\"[xhr_loader->],tast :\", this._range, \", SubRange, \", range);\n        } else {\n          range = this._range;\n          this._logger.debug(\"[xhr_loader->],tast :\", this._range, \", allRange, \", range);\n        }\n      }\n      this._internalOpen(range);\n    }\n  }, {\n    key: \"_internalOpen\",\n    value: function _internalOpen(range) {\n      var _this3 = this;\n      try {\n        this._startTime = Date.now();\n        var xhr = this._xhr = new XMLHttpRequest();\n        xhr.open(this._method || \"GET\", this._url, true);\n        xhr.responseType = this._responseType;\n        this._timeout && (xhr.timeout = this._timeout);\n        xhr.withCredentials = this._withCredentials;\n        xhr.onload = this._onLoad.bind(this);\n        xhr.onreadystatechange = this._onReadyStatechange.bind(this);\n        xhr.onerror = function(errorEvent) {\n          var _errorEvent$currentTa, _errorEvent$currentTa2, _errorEvent$currentTa3;\n          _this3._running = false;\n          var error = new NetError(_this3._url, _this3._request, errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa = errorEvent.currentTarget) === null || _errorEvent$currentTa === void 0 ? void 0 : _errorEvent$currentTa.response, \"xhr.onerror.status:\" + (errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa2 = errorEvent.currentTarget) === null || _errorEvent$currentTa2 === void 0 ? void 0 : _errorEvent$currentTa2.status) + \",statusText,\" + (errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa3 = errorEvent.currentTarget) === null || _errorEvent$currentTa3 === void 0 ? void 0 : _errorEvent$currentTa3.statusText));\n          error.options = {\n            index: _this3._index,\n            range: _this3._range,\n            vid: _this3._vid,\n            priOptions: _this3._priOptions\n          };\n          _this3._loadCompleteReject(error);\n        };\n        xhr.ontimeout = function(event) {\n          _this3.cancel();\n          var error = new NetError(_this3._url, _this3._request, {\n            status: 408\n          }, \"timeout\");\n          if (_this3._onTimeout) {\n            error.isTimeout = true;\n            _this3._onTimeout(error, {\n              index: _this3._index,\n              range: _this3._range,\n              vid: _this3._vid,\n              priOptions: _this3._priOptions\n            });\n          }\n          error.options = {\n            index: _this3._index,\n            range: _this3._range,\n            vid: _this3._vid,\n            priOptions: _this3._priOptions\n          };\n          _this3._loadCompleteReject(error);\n        };\n        var headers = this._headers || {};\n        var rangeValue = getRangeValue(range);\n        if (rangeValue) {\n          headers.Range = rangeValue;\n        }\n        if (headers) {\n          Object.keys(headers).forEach(function(k) {\n            xhr.setRequestHeader(k, headers[k]);\n          });\n        }\n        this._logger.debug(\"[xhr.send->] tast,\", this._range, \",load sub range, \", range);\n        xhr.send(this._body);\n      } catch (e) {\n        e.options = {\n          index: this._index,\n          range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        this._loadCompleteReject(e);\n      }\n    }\n  }, {\n    key: \"_onReadyStatechange\",\n    value: function _onReadyStatechange(e) {\n      var xhr = e.target;\n      if (xhr.readyState === 2) {\n        this._firstRtt < 0 && (this._firstRtt = Date.now());\n      }\n    }\n  }, {\n    key: \"_onLoad\",\n    value: function _onLoad(e) {\n      var _this$_range;\n      var status = e.target.status;\n      if (status < 200 || status > 299) {\n        var error = new NetError(this._url, null, _objectSpread2(_objectSpread2({}, e.target.response), {}, {\n          status\n        }), \"bad response,status:\" + status);\n        error.options = {\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        return this._loadCompleteReject(error);\n      }\n      var data = null;\n      var done = false;\n      var byteStart;\n      var startRange = ((_this$_range = this._range) === null || _this$_range === void 0 ? void 0 : _this$_range.length) > 0 ? this._range[0] : 0;\n      if (this._responseType === ResponseType.ARRAY_BUFFER) {\n        var _this$_range2;\n        var chunk = new Uint8Array(e.target.response);\n        byteStart = startRange + this._receivedLength;\n        if (chunk && chunk.byteLength > 0) {\n          this._receivedLength += chunk.byteLength;\n          var costTime = Date.now() - this._startTime;\n          var speed = calculateSpeed(this._receivedLength, costTime);\n          this.emit(EVENT.REAL_TIME_SPEED, {\n            speed,\n            len: this._receivedLength,\n            time: costTime,\n            vid: this._vid,\n            index: this._index,\n            range: [byteStart, startRange + this._receivedLength],\n            priOptions: this._priOptions\n          });\n        }\n        data = chunk;\n        if (((_this$_range2 = this._range) === null || _this$_range2 === void 0 ? void 0 : _this$_range2.length) > 1 && this._range[1] && this._receivedLength < this._range[1] - this._range[0]) {\n          done = false;\n        } else {\n          done = true;\n        }\n        this._logger.debug(\"[xhr load done->], tast :\", this._range, \", start\", byteStart, \"end \", startRange + this._receivedLength, \",dataLen,\", chunk ? chunk.byteLength : 0, \",receivedLength\", this._receivedLength, \",index,\", this._index, \", done,\", done);\n      } else {\n        done = true;\n        data = e.target.response;\n      }\n      var response = {\n        ok: status >= 200 && status < 300,\n        status,\n        statusText: this._xhr.statusText,\n        url: this._xhr.responseURL,\n        headers: this._getHeaders(this._xhr),\n        body: this._xhr.response\n      };\n      if (this._transformResponse) {\n        response = this._transformResponse(response, this._url) || response;\n      }\n      if (this._onProgress) {\n        this._onProgress(data, done, {\n          index: this._index,\n          vid: this._vid,\n          range: [byteStart, startRange + this._receivedLength],\n          startTime: this._startTime,\n          endTime: Date.now(),\n          priOptions: this._priOptions\n        }, response);\n      }\n      if (!done) {\n        this._startLoad();\n      } else {\n        this._runing = false;\n        this._loadCompleteResolve && this._loadCompleteResolve(createResponse(this._onProgress ? null : data, done, response, response.headers[\"content-length\"], response.headers.age, this._startTime, this._firstRtt, this._index, this._range, this._vid, this._priOptions));\n      }\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      if (this._aborted)\n        return;\n      this._aborted = true;\n      this._runing = false;\n      _get(_getPrototypeOf(XhrLoader2.prototype), \"removeAllListeners\", this).call(this);\n      if (this._onCancel) {\n        this._onCancel({\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        });\n      }\n      if (this._xhr) {\n        return this._xhr.abort();\n      }\n    }\n  }, {\n    key: \"receiveLen\",\n    get: function get() {\n      return this._receivedLength;\n    }\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._running;\n    },\n    set: function set(status) {\n      this._running = status;\n    }\n  }, {\n    key: \"_getHeaders\",\n    value: function _getHeaders(xhr) {\n      var headerLines = xhr.getAllResponseHeaders().trim().split(\"\\r\\n\");\n      var headers = {};\n      var _iterator = _createForOfIteratorHelper(headerLines), _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done; ) {\n          var header = _step.value;\n          var parts = header.split(\": \");\n          headers[parts[0].toLowerCase()] = parts.slice(1).join(\": \");\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return headers;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return typeof XMLHttpRequest !== \"undefined\";\n    }\n  }]);\n  return XhrLoader2;\n}(EventEmitter);\nexport { XhrLoader };\n","import { createClass as _createClass, objectWithoutProperties as _objectWithoutProperties, classCallCheck as _classCallCheck, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { FetchLoader } from \"./fetch.js\";\nimport { XhrLoader } from \"./xhr.js\";\nimport { LoaderType } from \"./types.js\";\nimport { createPublicPromise } from \"../utils.js\";\nimport { Logger } from \"../logger.js\";\nvar _excluded = [\"retry\", \"retryDelay\", \"onRetryError\", \"transformError\"];\nvar Task = /* @__PURE__ */ function() {\n  function Task2(type, config) {\n    _classCallCheck(this, Task2);\n    this.promise = createPublicPromise();\n    this.alive = !!config.onProgress;\n    !config.logger && (config.logger = new Logger(\"Loader\"));\n    this._loaderType = type;\n    this._loader = type === LoaderType.FETCH && typeof fetch !== \"undefined\" ? new FetchLoader() : new XhrLoader();\n    this._config = config;\n    this._retryCount = 0;\n    this._retryTimer = null;\n    this._canceled = false;\n    this._retryCheckFunc = config.retryCheckFunc;\n    this._logger = config.logger;\n  }\n  _createClass(Task2, [{\n    key: \"exec\",\n    value: function exec() {\n      var _this = this;\n      var _this$_config = this._config, retry = _this$_config.retry, retryDelay = _this$_config.retryDelay, onRetryError = _this$_config.onRetryError, transformError = _this$_config.transformError, rest = _objectWithoutProperties(_this$_config, _excluded);\n      var request = /* @__PURE__ */ function() {\n        var _ref = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n          var response, error, isRetry;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1)\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.prev = 0;\n                  _context.next = 3;\n                  return _this._loader.load(rest);\n                case 3:\n                  response = _context.sent;\n                  _this.promise.resolve(response);\n                  _context.next = 27;\n                  break;\n                case 7:\n                  _context.prev = 7;\n                  _context.t0 = _context[\"catch\"](0);\n                  _this._loader.running = false;\n                  _this._logger.debug(\"[task request catch err]\", _context.t0);\n                  if (!_this._canceled) {\n                    _context.next = 13;\n                    break;\n                  }\n                  return _context.abrupt(\"return\");\n                case 13:\n                  _context.t0.loaderType = _this._loaderType;\n                  _context.t0.retryCount = _this._retryCount;\n                  error = _context.t0;\n                  if (transformError) {\n                    error = transformError(error) || error;\n                  }\n                  if (onRetryError && _this._retryCount > 0)\n                    onRetryError(error, _this._retryCount, {\n                      index: rest.index,\n                      vid: rest.vid,\n                      range: rest.range,\n                      priOptions: rest.priOptions\n                    });\n                  _this._retryCount++;\n                  isRetry = true;\n                  if (_this._retryCheckFunc) {\n                    isRetry = _this._retryCheckFunc(_context.t0);\n                  }\n                  if (!(isRetry && _this._retryCount <= retry)) {\n                    _context.next = 26;\n                    break;\n                  }\n                  clearTimeout(_this._retryTimer);\n                  _this._logger.debug(\"[task request setTimeout],retry\", _this._retryCount, \",retry range,\", rest.range);\n                  _this._retryTimer = setTimeout(request, retryDelay);\n                  return _context.abrupt(\"return\");\n                case 26:\n                  _this.promise.reject(error);\n                case 27:\n                case \"end\":\n                  return _context.stop();\n              }\n          }, _callee, null, [[0, 7]]);\n        }));\n        return function request2() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      request();\n      return this.promise;\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                clearTimeout(this._retryTimer);\n                this._canceled = true;\n                this._loader.running = false;\n                return _context2.abrupt(\"return\", this._loader.cancel());\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._loader && this._loader.running;\n    }\n  }, {\n    key: \"loader\",\n    get: function get() {\n      return this._loader;\n    }\n  }]);\n  return Task2;\n}();\nexport { Task };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { FetchLoader } from \"./fetch.js\";\nimport { LoaderType } from \"./types.js\";\nexport { LoaderType, ResponseType } from \"./types.js\";\nimport { getConfig } from \"./config.js\";\nimport { Task } from \"./task.js\";\nimport { isPlainObject } from \"../is.js\";\nimport { sleep } from \"../streaming-helper.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar NetLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(NetLoader2, _EventEmitter);\n  var _super = _createSuper(NetLoader2);\n  function NetLoader2(cfg) {\n    var _this;\n    _classCallCheck(this, NetLoader2);\n    _this = _super.call(this, cfg);\n    _defineProperty(_assertThisInitialized(_this), \"type\", LoaderType.FETCH);\n    _defineProperty(_assertThisInitialized(_this), \"_queue\", []);\n    _defineProperty(_assertThisInitialized(_this), \"_alive\", []);\n    _defineProperty(_assertThisInitialized(_this), \"_currentTask\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_finnalUrl\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_config\", void 0);\n    _this._config = getConfig(cfg);\n    if (_this._config.loaderType === LoaderType.XHR || !FetchLoader.isSupported()) {\n      _this.type = LoaderType.XHR;\n    }\n    _this.log = cfg.logger;\n    return _this;\n  }\n  _createClass(NetLoader2, [{\n    key: \"isFetch\",\n    value: function isFetch() {\n      return this.type === LoaderType.FETCH;\n    }\n  }, {\n    key: \"load\",\n    value: function load(url) {\n      var _this2 = this;\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (typeof url === \"string\" || !url) {\n        config.url = url || config.url || this._config.url;\n      } else {\n        config = url;\n      }\n      config = Object.assign({}, this._config, config);\n      if (config.params)\n        config.params = Object.assign({}, config.params);\n      if (config.headers && isPlainObject(config.headers))\n        config.headers = Object.assign({}, config.headers);\n      if (config.body && isPlainObject(config.body))\n        config.body = Object.assign({}, config.body);\n      if (config.transformRequest) {\n        config = config.transformRequest(config) || config;\n      }\n      config.logger = this.log;\n      var task = new Task(this.type, config);\n      task.loader.on(EVENT.REAL_TIME_SPEED, function(data) {\n        _this2.emit(EVENT.REAL_TIME_SPEED, data);\n      });\n      this._queue.push(task);\n      if (this._queue.length === 1 && (!this._currentTask || !this._currentTask.running)) {\n        this._processTask();\n      }\n      return task.promise;\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n        var cancels;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                cancels = this._queue.map(function(t) {\n                  return t.cancel();\n                }).concat(this._alive.map(function(t) {\n                  return t.cancel();\n                }));\n                if (this._currentTask) {\n                  cancels.push(this._currentTask.cancel());\n                }\n                this._queue = [];\n                this._alive = [];\n                _context.next = 6;\n                return Promise.all(cancels);\n              case 6:\n                _context.next = 8;\n                return sleep();\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"_processTask\",\n    value: function _processTask() {\n      var _this3 = this;\n      this._currentTask = this._queue.shift();\n      if (!this._currentTask)\n        return;\n      if (this._currentTask.alive) {\n        this._alive.push(this._currentTask);\n      }\n      var req = this._currentTask.exec().catch(function(e) {\n      });\n      if (!(req && typeof req.finally === \"function\"))\n        return;\n      req.finally(function() {\n        var _this3$_currentTask, _this3$_alive;\n        if ((_this3$_currentTask = _this3._currentTask) !== null && _this3$_currentTask !== void 0 && _this3$_currentTask.alive && ((_this3$_alive = _this3._alive) === null || _this3$_alive === void 0 ? void 0 : _this3$_alive.length) > 0) {\n          _this3._alive = _this3._alive.filter(function(task) {\n            return task && task !== _this3._currentTask;\n          });\n        }\n        _this3._processTask();\n      });\n    }\n  }], [{\n    key: \"isFetchSupport\",\n    value: function isFetchSupport() {\n      return FetchLoader.isSupported();\n    }\n  }]);\n  return NetLoader2;\n}(EventEmitter);\nexport { NetLoader };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, assertThisInitialized as _assertThisInitialized } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nvar MasterPlaylist = /* @__PURE__ */ _createClass(function MasterPlaylist2() {\n  _classCallCheck(this, MasterPlaylist2);\n  _defineProperty(this, \"version\", 0);\n  _defineProperty(this, \"streams\", []);\n  _defineProperty(this, \"isMaster\", true);\n});\nvar MediaType = {\n  Audio: \"AUDIO\",\n  Video: \"VIDEO\",\n  SubTitle: \"SUBTITLE\",\n  ClosedCaptions: \"CLOSED-CAPTIONS\"\n};\nvar KeySystems = {\n  CLEAR_KEY: \"org.w3.clearkey\",\n  FAIRPLAY: [\"urn:uuid:94ce86fb-07ff-4f43-adb8-93d2fa968ca2\", \"com.apple.streamingkeydelivery\"],\n  WIDEVINE: [\"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed\", \"com.widevine.alpha\", \"com.widevine\"],\n  PLAYREADY: [\"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95\", \"com.microsoft.playready\"]\n};\nfunction flatArray(arr) {\n  var ret = [];\n  for (var i = 0; i < arr.length; i++) {\n    if (Array.isArray(arr[i])) {\n      ret = ret.concat(flatArray(arr[i]));\n    } else {\n      ret.push(arr[i]);\n    }\n  }\n  return ret;\n}\nvar MediaStream = /* @__PURE__ */ _createClass(function MediaStream2() {\n  _classCallCheck(this, MediaStream2);\n  _defineProperty(this, \"id\", 0);\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"default\", false);\n  _defineProperty(this, \"autoSelect\", false);\n  _defineProperty(this, \"forced\", false);\n  _defineProperty(this, \"group\", \"\");\n  _defineProperty(this, \"name\", \"\");\n  _defineProperty(this, \"lang\", \"\");\n  _defineProperty(this, \"segments\", []);\n  _defineProperty(this, \"endSN\", 0);\n});\nvar AudioStream = /* @__PURE__ */ function(_MediaStream) {\n  _inherits(AudioStream2, _MediaStream);\n  var _super = _createSuper(AudioStream2);\n  function AudioStream2() {\n    var _this;\n    _classCallCheck(this, AudioStream2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"mediaType\", MediaType.Audio);\n    _defineProperty(_assertThisInitialized(_this), \"channels\", 0);\n    return _this;\n  }\n  return _createClass(AudioStream2);\n}(MediaStream);\nvar SubTitleStream = /* @__PURE__ */ function(_MediaStream3) {\n  _inherits(SubTitleStream2, _MediaStream3);\n  var _super3 = _createSuper(SubTitleStream2);\n  function SubTitleStream2() {\n    var _this3;\n    _classCallCheck(this, SubTitleStream2);\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    _this3 = _super3.call.apply(_super3, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this3), \"mediaType\", MediaType.SubTitle);\n    return _this3;\n  }\n  return _createClass(SubTitleStream2);\n}(MediaStream);\nvar MasterStream = /* @__PURE__ */ _createClass(function MasterStream2() {\n  _classCallCheck(this, MasterStream2);\n  _defineProperty(this, \"id\", 0);\n  _defineProperty(this, \"bitrate\", 0);\n  _defineProperty(this, \"width\", 0);\n  _defineProperty(this, \"height\", 0);\n  _defineProperty(this, \"name\", \"\");\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"audioCodec\", \"\");\n  _defineProperty(this, \"videoCodec\", \"\");\n  _defineProperty(this, \"textCodec\", \"\");\n  _defineProperty(this, \"audioGroup\", \"\");\n  _defineProperty(this, \"audioStreams\", []);\n  _defineProperty(this, \"subtitleStreams\", []);\n  _defineProperty(this, \"closedCaptionsStream\", []);\n});\nvar MediaPlaylist = /* @__PURE__ */ _createClass(function MediaPlaylist2() {\n  _classCallCheck(this, MediaPlaylist2);\n  _defineProperty(this, \"version\", 0);\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"type\", \"\");\n  _defineProperty(this, \"startCC\", 0);\n  _defineProperty(this, \"endCC\", 0);\n  _defineProperty(this, \"startSN\", 0);\n  _defineProperty(this, \"endSN\", 0);\n  _defineProperty(this, \"totalDuration\", 0);\n  _defineProperty(this, \"targetDuration\", 0);\n  _defineProperty(this, \"partTargetDuration\", 0);\n  _defineProperty(this, \"canSkipUntil\", 0);\n  _defineProperty(this, \"canSkipDateRanges\", false);\n  _defineProperty(this, \"skippedSegments\", 0);\n  _defineProperty(this, \"canBlockReload\", false);\n  _defineProperty(this, \"partHoldBack\", 0);\n  _defineProperty(this, \"live\", true);\n  _defineProperty(this, \"lowLatency\", false);\n  _defineProperty(this, \"endPartIndex\", 0);\n  _defineProperty(this, \"segments\", []);\n  _defineProperty(this, \"dateRanges\", {});\n  _defineProperty(this, \"skippedSegments\", 0);\n});\nvar MediaSegment = /* @__PURE__ */ function() {\n  function MediaSegment2(parentUrl) {\n    _classCallCheck(this, MediaSegment2);\n    _defineProperty(this, \"sn\", 0);\n    _defineProperty(this, \"cc\", 0);\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"parentUrl\", \"\");\n    _defineProperty(this, \"title\", \"\");\n    _defineProperty(this, \"start\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"dataTime\", \"\");\n    _defineProperty(this, \"key\", null);\n    _defineProperty(this, \"byteRange\", null);\n    _defineProperty(this, \"isInitSegment\", false);\n    _defineProperty(this, \"initSegment\", null);\n    _defineProperty(this, \"isLast\", false);\n    _defineProperty(this, \"hasAudio\", false);\n    _defineProperty(this, \"hasVideo\", false);\n    _defineProperty(this, \"independent\", false);\n    _defineProperty(this, \"partIndex\", 0);\n    this.parentUrl = parentUrl;\n  }\n  _createClass(MediaSegment2, [{\n    key: \"end\",\n    get: function get() {\n      return this.start + this.duration;\n    }\n  }, {\n    key: \"setTrackExist\",\n    value: function setTrackExist(v, a) {\n      this.hasVideo = v;\n      this.hasAudio = a;\n    }\n  }, {\n    key: \"setByteRange\",\n    value: function setByteRange(data, prevSegment) {\n      this.byteRange = [0];\n      var bytes = data.split(\"@\");\n      if (bytes.length === 1 && prevSegment && prevSegment.byteRange) {\n        this.byteRange[0] = prevSegment.byteRange[1] || 0;\n        if (this.byteRange[0])\n          this.byteRange[0] += 1;\n      } else {\n        this.byteRange[0] = parseInt(bytes[1]);\n      }\n      this.byteRange[1] = this.byteRange[0] + parseInt(bytes[0]) - 1;\n    }\n  }]);\n  return MediaSegment2;\n}();\nvar MediaSegmentKey = /* @__PURE__ */ function() {\n  function MediaSegmentKey2(segKey) {\n    _classCallCheck(this, MediaSegmentKey2);\n    _defineProperty(this, \"method\", \"\");\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"iv\", null);\n    _defineProperty(this, \"keyFormat\", \"\");\n    _defineProperty(this, \"keyFormatVersions\", \"\");\n    if (segKey instanceof MediaSegmentKey2) {\n      this.method = segKey.method;\n      this.url = segKey.url;\n      this.keyFormat = segKey.keyFormat;\n      this.keyFormatVersions = segKey.keyFormatVersions;\n      if (segKey.iv)\n        this.iv = new Uint8Array(segKey.iv);\n    }\n  }\n  _createClass(MediaSegmentKey2, [{\n    key: \"clone\",\n    value: function clone(sn) {\n      var key = new MediaSegmentKey2(this);\n      if (sn !== null && sn !== void 0)\n        key.setIVFromSN(sn);\n      return key;\n    }\n  }, {\n    key: \"setIVFromSN\",\n    value: function setIVFromSN(sn) {\n      if (!this.iv && this.method === \"AES-128\" && typeof sn === \"number\" && this.url) {\n        this.iv = new Uint8Array(16);\n        for (var i = 12; i < 16; i++) {\n          this.iv[i] = sn >> 8 * (15 - i) & 255;\n        }\n      }\n    }\n  }, {\n    key: \"isSegmentEncrypted\",\n    value: function isSegmentEncrypted() {\n      var method = this.method;\n      return method === \"AES-128\";\n    }\n  }, {\n    key: \"isValidKeySystem\",\n    value: function isValidKeySystem() {\n      var isKeyFormatValid = flatArray([KeySystems.CLEAR_KEY, KeySystems.FAIRPLAY, KeySystems.WIDEVINE, KeySystems.PLAYREADY]).indexOf(this.keyFormat) > -1;\n      if (!isKeyFormatValid) {\n        return false;\n      }\n      var isMethodValid = [\"SAMPLE-AES\", \"SAMPLE-AES-CENC\", \"SAMPLE-AES-CTR\"].indexOf(this.method) > -1;\n      if (!isMethodValid) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"isSupported\",\n    value: function isSupported() {\n      if (!this.method) {\n        return false;\n      }\n      if (this.isSegmentEncrypted()) {\n        return true;\n      } else if (this.isValidKeySystem()) {\n        return true;\n      }\n      return false;\n    }\n  }]);\n  return MediaSegmentKey2;\n}();\nexport { AudioStream, MasterPlaylist, MasterStream, MediaPlaylist, MediaSegment, MediaSegmentKey, MediaStream, SubTitleStream };\n","var REGEXP_TAG = /^#(EXT[^:]*)(?::(.*))?$/;\nvar REGEXP_ATTR = /([^=]+)=(?:\"([^\"]*)\"|([^\",]*))(?:,|$)/g;\nvar REGEXP_ABSOLUTE_URL = /^(?:[a-zA-Z0-9+\\-.]+:)?\\/\\//;\nvar REGEXP_URL_PAIR = /^((?:[a-zA-Z0-9+\\-.]+:)?\\/\\/[^/?#]*)?([^?#]*\\/)?/;\nfunction getLines(text) {\n  return text.split(/[\\r\\n]/).map(function(x) {\n    return x.trim();\n  }).filter(Boolean);\n}\nfunction parseTag(text) {\n  var ret = text.match(REGEXP_TAG);\n  if (!ret || !ret[1])\n    return;\n  return [ret[1].replace(\"EXT-X-\", \"\"), ret[2]];\n}\nfunction parseAttr(text) {\n  var ret = {};\n  var match = REGEXP_ATTR.exec(text);\n  while (match) {\n    ret[match[1]] = match[2] || match[3];\n    match = REGEXP_ATTR.exec(text);\n  }\n  return ret;\n}\nfunction getAbsoluteUrl(url, parentUrl) {\n  if (!parentUrl || !url || REGEXP_ABSOLUTE_URL.test(url))\n    return url;\n  var pairs = REGEXP_URL_PAIR.exec(parentUrl);\n  if (!pairs)\n    return url;\n  if (url[0] === \"/\")\n    return pairs[1] + url;\n  return pairs[1] + pairs[2] + url;\n}\nvar CODECS_REGEXP = {\n  audio: [/^mp4a/, /^vorbis$/, /^opus$/, /^flac$/, /^[ae]c-3$/],\n  video: [/^avc/, /^hev/, /^hvc/, /^vp0?[89]/, /^av1$/],\n  text: [/^vtt$/, /^wvtt/, /^stpp/]\n};\nfunction getCodecs(type, codecs) {\n  var re = CODECS_REGEXP[type];\n  if (!re || !codecs || !codecs.length)\n    return;\n  for (var i = 0; i < re.length; i++) {\n    for (var j = 0; j < codecs.length; j++) {\n      if (re[i].test(codecs[j]))\n        return codecs[j];\n    }\n  }\n}\nfunction isValidDaterange(attr, dateRangeWithSameId) {\n  var _badValueForSameId;\n  if (dateRangeWithSameId) {\n    for (var key in dateRangeWithSameId) {\n      if (Object.prototype.hasOwnProperty.call(dateRangeWithSameId, key) && attr[key] !== dateRangeWithSameId[key]) {\n        _badValueForSameId = key;\n        break;\n      }\n    }\n  }\n  var duration = null;\n  if (attr.DURATION) {\n    duration = parseFloat(attr.DURATION);\n    if (!Number.isFinite(duration)) {\n      duration = null;\n    } else if (attr._endDate) {\n      duration = (attr._endDate.getTime() - attr._startDate.getTime()) / 1e3;\n    }\n  }\n  var cue = enumeratedStringList(attr.CUE || attr[\"X-CUE\"], {\n    pre: false,\n    post: false,\n    once: false\n  });\n  return !!attr.ID && !_badValueForSameId && Number.isFinite(attr._startDate.getTime()) && (duration === null || duration >= 0) && (!(attr.END_ON_NEXT === \"YES\") || !!attr.CLASS) && (!attr.CUE || !cue.pre && !cue.post || cue.pre !== cue.post) && (!(attr.CLASS === \"com.apple.hls.interstitial\") || \"X-ASSET-URI\" in attr || \"X-ASSET-LIST\" in attr);\n}\nfunction enumeratedStringList(attrValue, dict) {\n  return (attrValue ? attrValue.split(/[ ,]+/) : []).reduce(function(result, identifier) {\n    result[identifier.toLowerCase()] = true;\n    return result;\n  }, dict);\n}\nexport { getAbsoluteUrl, getCodecs, getLines, isValidDaterange, parseAttr, parseTag };\n","import { slicedToArray as _slicedToArray } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MasterPlaylist, MediaStream, SubTitleStream, AudioStream, MasterStream } from \"./model.js\";\nimport { parseTag, parseAttr, getAbsoluteUrl, getCodecs } from \"./utils.js\";\nfunction parseMasterPlaylist(lines, parentUrl) {\n  var master = new MasterPlaylist();\n  var index = 0;\n  var line;\n  var audioStreams = [];\n  var subtitleStreams = [];\n  while (line = lines[index++]) {\n    var tag = parseTag(line);\n    if (!tag)\n      continue;\n    var _tag = _slicedToArray(tag, 2), name = _tag[0], data = _tag[1];\n    if (name === \"VERSION\") {\n      master.version = parseInt(data);\n    } else if (name === \"MEDIA\" && data) {\n      var attr = parseAttr(data);\n      var stream = void 0;\n      switch (attr.TYPE) {\n        case \"AUDIO\":\n          stream = new AudioStream();\n          break;\n        case \"SUBTITLES\":\n          stream = new SubTitleStream();\n          break;\n        default:\n          stream = new MediaStream();\n      }\n      stream.url = getAbsoluteUrl(attr.URI, parentUrl);\n      stream.default = attr.DEFAULT === \"YES\";\n      stream.autoSelect = attr.AUTOSELECT === \"YES\";\n      stream.group = attr[\"GROUP-ID\"];\n      stream.name = attr.NAME;\n      stream.lang = attr.LANGUAGE;\n      if (attr.CHANNELS) {\n        stream.channels = Number(attr.CHANNELS.split(\"/\")[0]);\n        if (Number.isNaN(stream.channels))\n          stream.channels = 0;\n      }\n      if (attr.TYPE === \"AUDIO\" && attr.URI) {\n        audioStreams.push(stream);\n      }\n      if (attr.TYPE === \"SUBTITLES\") {\n        subtitleStreams.push(stream);\n      }\n    } else if (name === \"STREAM-INF\" && data) {\n      var _stream = new MasterStream();\n      var _attr = parseAttr(data);\n      _stream.bitrate = parseInt(_attr[\"AVERAGE-BANDWIDTH\"] || _attr.BANDWIDTH);\n      _stream.name = _attr.NAME;\n      _stream.url = getAbsoluteUrl(lines[index++], parentUrl);\n      if (_attr.RESOLUTION) {\n        var _attr$RESOLUTION$spli = _attr.RESOLUTION.split(\"x\"), _attr$RESOLUTION$spli2 = _slicedToArray(_attr$RESOLUTION$spli, 2), w = _attr$RESOLUTION$spli2[0], h = _attr$RESOLUTION$spli2[1];\n        _stream.width = parseInt(w);\n        _stream.height = parseInt(h);\n      }\n      if (_attr.CODECS) {\n        var codecs = _attr.CODECS.split(/[ ,]+/).filter(Boolean);\n        _stream.videoCodec = getCodecs(\"video\", codecs);\n        _stream.audioCodec = getCodecs(\"audio\", codecs);\n        _stream.textCodec = getCodecs(\"text\", codecs);\n      }\n      _stream.audioGroup = _attr.AUDIO;\n      _stream.subtitleGroup = _attr.SUBTITLES;\n      master.streams.push(_stream);\n    }\n  }\n  master.streams.forEach(function(s, i) {\n    s.id = i;\n  });\n  if (audioStreams.length) {\n    audioStreams.forEach(function(s, i) {\n      s.id = i;\n    });\n    master.streams.forEach(function(stream2) {\n      if (stream2.audioGroup) {\n        stream2.audioStreams = audioStreams.filter(function(x) {\n          return x.group === stream2.audioGroup;\n        });\n      }\n    });\n  }\n  if (subtitleStreams.length) {\n    subtitleStreams.forEach(function(s, i) {\n      s.id = i;\n    });\n    master.streams.forEach(function(stream2) {\n      if (stream2.subtitleGroup) {\n        stream2.subtitleStreams = subtitleStreams.filter(function(x) {\n          return x.group === stream2.subtitleGroup;\n        });\n      }\n    });\n  }\n  return master;\n}\nexport { parseMasterPlaylist };\n","import { slicedToArray as _slicedToArray } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MediaPlaylist, MediaSegment, MediaSegmentKey } from \"./model.js\";\nimport { getAbsoluteUrl, parseTag, parseAttr, isValidDaterange } from \"./utils.js\";\nfunction parseMediaPlaylist(lines, parentUrl, useLowLatency) {\n  var media = new MediaPlaylist();\n  media.url = parentUrl;\n  var curSegment = new MediaSegment(parentUrl);\n  var curInitSegment = null;\n  var curKey = null;\n  var totalDuration = 0;\n  var curSN = 0;\n  var curCC = 0;\n  var index = 0;\n  var line;\n  var endOfList = false;\n  var partSegmentIndex = 0;\n  while (line = lines[index++]) {\n    if (line[0] !== \"#\") {\n      if (media.lowLatency) {\n        curSN++;\n        continue;\n      }\n      curSegment.sn = curSN;\n      curSegment.cc = curCC;\n      curSegment.url = getAbsoluteUrl(line, parentUrl);\n      if (curKey)\n        curSegment.key = curKey.clone(curSN);\n      if (curInitSegment)\n        curSegment.initSegment = curInitSegment;\n      media.segments.push(curSegment);\n      curSegment = new MediaSegment(parentUrl);\n      curSN++;\n      continue;\n    }\n    var tag = parseTag(line);\n    if (!tag)\n      continue;\n    var _tag = _slicedToArray(tag, 2), name = _tag[0], data = _tag[1];\n    switch (name) {\n      case \"VERSION\":\n        media.version = parseInt(data);\n        break;\n      case \"PLAYLIST-TYPE\":\n        media.type = data === null || data === void 0 ? void 0 : data.toUpperCase();\n        break;\n      case \"TARGETDURATION\":\n        media.targetDuration = parseFloat(data);\n        break;\n      case \"PART-INF\":\n        {\n          if (useLowLatency) {\n            media.lowLatency = true;\n          }\n          var attr = parseAttr(data);\n          if (attr[\"PART-TARGET\"]) {\n            media.partTargetDuration = parseFloat(attr[\"PART-TARGET\"]);\n          }\n        }\n        break;\n      case \"SERVER-CONTROL\":\n        {\n          var _attr = parseAttr(data);\n          media.canBlockReload = _attr[\"CAN-BLOCK-RELOAD\"] === \"YES\";\n          media.partHoldBack = parseFloat(_attr[\"PART-HOLD-BACK\"] || 0);\n          media.canSkipUntil = parseFloat(_attr[\"CAN-SKIP-UNTIL\"] || 0);\n          media.canSkipDateRanges = _attr[\"CAN-SKIP-DATERANGES\"] === \"YES\";\n        }\n        break;\n      case \"ENDLIST\":\n        {\n          endOfList = true;\n        }\n        break;\n      case \"MEDIA-SEQUENCE\":\n        curSN = media.startSN = parseInt(data);\n        break;\n      case \"DISCONTINUITY-SEQUENCE\":\n        curCC = media.startCC = parseInt(data);\n        break;\n      case \"DISCONTINUITY\":\n        curCC++;\n        break;\n      case \"BYTERANGE\":\n        curSegment.setByteRange(data, media.segments[media.segments.length - 1]);\n        break;\n      case \"PART\":\n        {\n          if (!media.lowLatency)\n            break;\n          var _attr2 = parseAttr(data);\n          curSegment.duration = parseFloat(_attr2[\"DURATION\"]);\n          curSegment.independent = _attr2[\"INDEPENDENT\"] === \"YES\";\n          curSegment.sn = curSN;\n          curSegment.cc = curCC;\n          curSegment.partIndex = partSegmentIndex;\n          curSegment.start = totalDuration;\n          curSegment.duration = parseFloat(_attr2[\"DURATION\"]);\n          totalDuration += curSegment.duration;\n          curSegment.url = getAbsoluteUrl(_attr2[\"URI\"], parentUrl);\n          if (curKey)\n            curSegment.key = curKey.clone(curSN);\n          if (curInitSegment)\n            curSegment.initSegment = curInitSegment;\n          media.segments.push(curSegment);\n          curSegment = new MediaSegment(parentUrl);\n          partSegmentIndex++;\n        }\n        break;\n      case \"PRELOAD-HINT\":\n        break;\n      case \"PROGRAM-DATE-TIME\":\n        curSegment.dataTime = data;\n        break;\n      case \"EXTINF\":\n        {\n          if (media.lowLatency) {\n            partSegmentIndex = 0;\n            break;\n          }\n          var _data$split = data.split(\",\"), _data$split2 = _slicedToArray(_data$split, 2), duration = _data$split2[0], title = _data$split2[1];\n          curSegment.start = totalDuration;\n          curSegment.duration = parseFloat(duration);\n          totalDuration += curSegment.duration;\n          curSegment.title = title;\n        }\n        break;\n      case \"KEY\":\n        {\n          var _attr3 = parseAttr(data);\n          if (_attr3.METHOD === \"NONE\") {\n            curKey = null;\n            break;\n          }\n          curKey = new MediaSegmentKey();\n          curKey.method = _attr3.METHOD;\n          curKey.url = /^blob:/.test(_attr3.URI) ? _attr3.URI : getAbsoluteUrl(_attr3.URI, parentUrl);\n          curKey.keyFormat = _attr3.KEYFORMAT || \"identity\";\n          curKey.keyFormatVersions = _attr3.KEYFORMATVERSIONS;\n          if (!curKey.isSupported()) {\n            throw new Error(\"encrypt \".concat(_attr3.METHOD, \"/\").concat(_attr3.KEYFORMAT, \" is not supported\"));\n          }\n          if (_attr3.IV) {\n            var str = _attr3.IV.slice(2);\n            str = (str.length & 1 ? \"0\" : \"\") + str;\n            curKey.iv = new Uint8Array(str.length / 2);\n            for (var i = 0, l = str.length / 2; i < l; i++) {\n              curKey.iv[i] = parseInt(str.slice(i * 2, i * 2 + 2), 16);\n            }\n          }\n        }\n        break;\n      case \"MAP\":\n        {\n          var _attr4 = parseAttr(data);\n          curSegment.url = getAbsoluteUrl(_attr4.URI, parentUrl);\n          if (_attr4.BYTERANGE)\n            curSegment.setByteRange(_attr4.BYTERANGE);\n          curSegment.isInitSegment = true;\n          curSegment.sn = 0;\n          if (curKey) {\n            curSegment.key = curKey.clone(0);\n          }\n          curInitSegment = curSegment;\n          curSegment = new MediaSegment(parentUrl);\n        }\n        break;\n      case \"SKIP\":\n        {\n          var _attr5 = parseAttr(data);\n          var skippedSegments = parseInt(_attr5[\"SKIPPED-SEGMENTS\"], 10);\n          if (skippedSegments <= Number.MAX_SAFE_INTEGER) {\n            media.skippedSegments += skippedSegments;\n          }\n        }\n        break;\n      case \"DATERANGE\":\n        {\n          var _attr6 = parseAttr(data);\n          var dateRangeWithSameId = media.dateRanges[_attr6.ID];\n          _attr6._startDate = dateRangeWithSameId ? dateRangeWithSameId._startDate : new Date(_attr6[\"START-DATE\"]);\n          var endDate = (dateRangeWithSameId === null || dateRangeWithSameId === void 0 ? void 0 : dateRangeWithSameId._endDate) || new Date(_attr6.END_DATE);\n          if (Number.isFinite(endDate)) {\n            _attr6._endDate = endDate;\n          }\n          if (isValidDaterange(_attr6, dateRangeWithSameId) || media.skippedSegments) {\n            media.dateRanges[_attr6.ID] = _attr6;\n          }\n        }\n        break;\n    }\n  }\n  media.segments = media.segments.filter(function(x) {\n    return x.duration !== 0;\n  });\n  var lastSegment = media.segments[media.segments.length - 1];\n  if (lastSegment) {\n    if (endOfList) {\n      lastSegment.isLast = true;\n    }\n    media.endSN = lastSegment.sn;\n    media.endPartIndex = lastSegment.partIndex;\n  }\n  if (endOfList) {\n    media.live = false;\n  }\n  media.totalDuration = totalDuration;\n  media.endCC = curCC;\n  return media;\n}\nexport { parseMediaPlaylist };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { parseMasterPlaylist } from \"./master.js\";\nimport { parseMediaPlaylist } from \"./media.js\";\nimport { getLines } from \"./utils.js\";\nvar M3U8Parser = /* @__PURE__ */ function() {\n  function M3U8Parser2() {\n    _classCallCheck(this, M3U8Parser2);\n  }\n  _createClass(M3U8Parser2, null, [{\n    key: \"parse\",\n    value: function parse() {\n      var text = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"\";\n      var parentUrl = arguments.length > 1 ? arguments[1] : void 0;\n      var useLowLatency = arguments.length > 2 ? arguments[2] : void 0;\n      if (!text.includes(\"#EXTM3U\"))\n        throw new Error(\"Invalid m3u8 file\");\n      var lines = getLines(text);\n      if (M3U8Parser2.isMediaPlaylist(text)) {\n        return parseMediaPlaylist(lines, parentUrl, useLowLatency);\n      }\n      return parseMasterPlaylist(lines, parentUrl);\n    }\n  }, {\n    key: \"isMediaPlaylist\",\n    value: function isMediaPlaylist(text) {\n      return text.includes(\"#EXTINF:\") || text.includes(\"#EXT-X-TARGETDURATION:\");\n    }\n  }]);\n  return M3U8Parser2;\n}();\nexport { M3U8Parser };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT, StreamingError, NetLoader, ERR } from \"xgplayer-streaming-shared\";\nimport { M3U8Parser } from \"./parser/index.js\";\nimport { Event } from \"../constants.js\";\nvar ManifestLoader = /* @__PURE__ */ function() {\n  function ManifestLoader2(hls) {\n    var _this = this;\n    _classCallCheck(this, ManifestLoader2);\n    _defineProperty(this, \"_emitOnLoaded\", function(res, url) {\n      var response = res.response, options = res.options;\n      var _ref = options || {}, firstByteTime = _ref.firstByteTime, startTime = _ref.startTime, endTime = _ref.endTime, contentLength = _ref.contentLength;\n      var time = endTime - startTime;\n      _this.hls.emit(EVENT.SPEED, {\n        time,\n        byteLength: contentLength,\n        url\n      });\n      _this.hls.emit(EVENT.LOAD_COMPLETE, {\n        url,\n        elapsed: time || 0\n      });\n      _this.hls.emit(EVENT.TTFB, {\n        url,\n        responseUrl: response.url,\n        elapsed: firstByteTime - startTime\n      });\n      _this.hls.emit(EVENT.LOAD_RESPONSE_HEADERS, {\n        headers: response.headers,\n        url\n      });\n    });\n    _defineProperty(this, \"_onLoaderRetry\", function(error, retryTime) {\n      _this.hls.emit(Event.LOAD_RETRY, {\n        error: StreamingError.network(error),\n        retryTime\n      });\n    });\n    this.hls = hls;\n    this._timer = null;\n    this._useLowLatency = hls.config.useLowLatency;\n    var _this$hls$config = this.hls.config, retryCount = _this$hls$config.retryCount, retryDelay = _this$hls$config.retryDelay, manifestLoadTimeout = _this$hls$config.manifestLoadTimeout, fetchOptions = _this$hls$config.fetchOptions;\n    this._loader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._audioLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._subtitleLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n  }\n  _createClass(ManifestLoader2, [{\n    key: \"load\",\n    value: function() {\n      var _load = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(url, audioUrl, subtitleUrl) {\n        var toLoad, videoText, audioText, subtitleText, videoResUrl, audioResUrl, subtitleResUrl, _yield$Promise$all, _yield$Promise$all2, video, audio, subtitle, _audio$response, _subtitle$response, _audio$response2, onPreM3U8Parse, playlist, audioPlaylist, subtitlePlaylist, _playlist;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                toLoad = [this._loader.load(url)];\n                if (audioUrl) {\n                  toLoad.push(this._audioLoader.load(audioUrl));\n                }\n                if (subtitleUrl) {\n                  toLoad.push(this._subtitleLoader.load(subtitleUrl));\n                }\n                _context.prev = 3;\n                _context.next = 6;\n                return Promise.all(toLoad);\n              case 6:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 3);\n                video = _yield$Promise$all2[0];\n                audio = _yield$Promise$all2[1];\n                subtitle = _yield$Promise$all2[2];\n                if (video) {\n                  _context.next = 13;\n                  break;\n                }\n                return _context.abrupt(\"return\", []);\n              case 13:\n                this._emitOnLoaded(video, url);\n                videoText = video.data;\n                videoResUrl = video.response.url || url;\n                if (audioUrl) {\n                  audioText = audio === null || audio === void 0 ? void 0 : audio.data;\n                  subtitleText = subtitle === null || subtitle === void 0 ? void 0 : subtitle.data;\n                  audioResUrl = (audio === null || audio === void 0 ? void 0 : (_audio$response = audio.response) === null || _audio$response === void 0 ? void 0 : _audio$response.url) || audioUrl;\n                  subtitleResUrl = (subtitle === null || subtitle === void 0 ? void 0 : (_subtitle$response = subtitle.response) === null || _subtitle$response === void 0 ? void 0 : _subtitle$response.url) || subtitleUrl;\n                  audioText && this._emitOnLoaded(audio, audioUrl);\n                  subtitleText && this._emitOnLoaded(subtitle, subtitleUrl);\n                } else {\n                  subtitleText = audio === null || audio === void 0 ? void 0 : audio.data;\n                  subtitleResUrl = (audio === null || audio === void 0 ? void 0 : (_audio$response2 = audio.response) === null || _audio$response2 === void 0 ? void 0 : _audio$response2.url) || subtitleUrl;\n                  subtitleText && this._emitOnLoaded(audio, subtitleUrl);\n                }\n                _context.next = 22;\n                break;\n              case 19:\n                _context.prev = 19;\n                _context.t0 = _context[\"catch\"](3);\n                throw StreamingError.network(_context.t0);\n              case 22:\n                onPreM3U8Parse = this.hls.config.onPreM3U8Parse;\n                _context.prev = 23;\n                if (onPreM3U8Parse) {\n                  videoText = onPreM3U8Parse(videoText) || videoText;\n                  if (audioText)\n                    audioText = onPreM3U8Parse(audioText, true) || audioText;\n                  if (subtitleText)\n                    subtitleText = onPreM3U8Parse(subtitleText, true) || subtitleText;\n                }\n                playlist = M3U8Parser.parse(videoText, videoResUrl, this._useLowLatency);\n                if (!(((_playlist = playlist) === null || _playlist === void 0 ? void 0 : _playlist.live) === false && playlist.segments && !playlist.segments.length)) {\n                  _context.next = 28;\n                  break;\n                }\n                throw new Error(\"empty segments list\");\n              case 28:\n                if (audioText) {\n                  audioPlaylist = M3U8Parser.parse(audioText, audioResUrl, this._useLowLatency);\n                }\n                if (subtitleText) {\n                  subtitlePlaylist = M3U8Parser.parse(subtitleText, subtitleResUrl, this._useLowLatency);\n                }\n                _context.next = 35;\n                break;\n              case 32:\n                _context.prev = 32;\n                _context.t1 = _context[\"catch\"](23);\n                throw new StreamingError(ERR.MANIFEST, ERR.SUB_TYPES.HLS, _context.t1);\n              case 35:\n                if (playlist) {\n                  if (playlist.isMaster) {\n                    this.hls.emit(Event.HLS_MANIFEST_LOADED, {\n                      playlist\n                    });\n                  } else {\n                    this.hls.emit(Event.HLS_LEVEL_LOADED, {\n                      playlist\n                    });\n                  }\n                }\n                return _context.abrupt(\"return\", [playlist, audioPlaylist, subtitlePlaylist]);\n              case 37:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this, [[3, 19], [23, 32]]);\n      }));\n      function load(_x, _x2, _x3) {\n        return _load.apply(this, arguments);\n      }\n      return load;\n    }()\n  }, {\n    key: \"parseText\",\n    value: function parseText(videoText, url) {\n      var onPreM3U8Parse = this.hls.config.onPreM3U8Parse;\n      var playlist;\n      try {\n        var _playlist2;\n        if (onPreM3U8Parse) {\n          videoText = onPreM3U8Parse(videoText) || videoText;\n        }\n        playlist = M3U8Parser.parse(videoText, url, this._useLowLatency);\n        if (((_playlist2 = playlist) === null || _playlist2 === void 0 ? void 0 : _playlist2.live) === false && playlist.segments && !playlist.segments.length) {\n          throw new Error(\"empty segments list\");\n        }\n      } catch (error) {\n        throw new StreamingError(ERR.MANIFEST, ERR.SUB_TYPES.HLS, error);\n      }\n      if (playlist) {\n        if (playlist.isMaster) {\n          this.hls.emit(Event.HLS_MANIFEST_LOADED, {\n            playlist\n          });\n        } else {\n          this.hls.emit(Event.HLS_LEVEL_LOADED, {\n            playlist\n          });\n        }\n      }\n      return [playlist];\n    }\n  }, {\n    key: \"poll\",\n    value: function poll(url, audioUrl, subtitleUrl, cb, errorCb, time) {\n      var _this2 = this;\n      clearTimeout(this._timer);\n      time = time || 3e3;\n      var retryCount = this.hls.config.pollRetryCount;\n      var fn = /* @__PURE__ */ function() {\n        var _ref2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n          var res;\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1)\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  clearTimeout(_this2._timer);\n                  _context2.prev = 1;\n                  _context2.next = 4;\n                  return _this2.load(url, audioUrl, subtitleUrl);\n                case 4:\n                  res = _context2.sent;\n                  if (res[0]) {\n                    _context2.next = 7;\n                    break;\n                  }\n                  return _context2.abrupt(\"return\");\n                case 7:\n                  retryCount = _this2.hls.config.pollRetryCount;\n                  cb(res[0], res[1], res[2]);\n                  _context2.next = 15;\n                  break;\n                case 11:\n                  _context2.prev = 11;\n                  _context2.t0 = _context2[\"catch\"](1);\n                  retryCount--;\n                  if (retryCount <= 0) {\n                    errorCb(_context2.t0);\n                  }\n                case 15:\n                  _this2._timer = setTimeout(fn, time);\n                case 16:\n                case \"end\":\n                  return _context2.stop();\n              }\n          }, _callee2, null, [[1, 11]]);\n        }));\n        return function fn2() {\n          return _ref2.apply(this, arguments);\n        };\n      }();\n      this._timer = setTimeout(fn, time);\n    }\n  }, {\n    key: \"stopPoll\",\n    value: function stopPoll() {\n      clearTimeout(this._timer);\n      return this.cancel();\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      return Promise.all([this._loader.cancel(), this._audioLoader.cancel()]);\n    }\n  }]);\n  return ManifestLoader2;\n}();\nexport { ManifestLoader };\n","function clamp(num, min, max) {\n  if (min > max) {\n    max = min;\n  }\n  return Math.min(Math.max(num, min), max);\n}\nexport { clamp };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Logger } from \"xgplayer-streaming-shared\";\nvar logger = new Logger(\"playlist\");\nvar Stream = /* @__PURE__ */ function() {\n  function Stream2(playlist, audioPlaylist, subtitlePlaylist) {\n    _classCallCheck(this, Stream2);\n    _defineProperty(this, \"live\", void 0);\n    _defineProperty(this, \"id\", 0);\n    _defineProperty(this, \"bitrate\", 0);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"name\", \"\");\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"audioCodec\", \"\");\n    _defineProperty(this, \"videoCodec\", \"\");\n    _defineProperty(this, \"textCodec\", \"\");\n    _defineProperty(this, \"startCC\", 0);\n    _defineProperty(this, \"endCC\", 0);\n    _defineProperty(this, \"startSN\", 0);\n    _defineProperty(this, \"endSN\", -1);\n    _defineProperty(this, \"totalDuration\", 0);\n    _defineProperty(this, \"targetDuration\", 0);\n    _defineProperty(this, \"partTargetDuration\", 0);\n    _defineProperty(this, \"canSkipUntil\", 0);\n    _defineProperty(this, \"canSkipDateRanges\", false);\n    _defineProperty(this, \"skippedSegments\", 0);\n    _defineProperty(this, \"canBlockReload\", false);\n    _defineProperty(this, \"partHoldBack\", 0);\n    _defineProperty(this, \"lowLatency\", false);\n    _defineProperty(this, \"endPartIndex\", 0);\n    _defineProperty(this, \"snDiff\", null);\n    _defineProperty(this, \"segments\", []);\n    _defineProperty(this, \"audioStreams\", []);\n    _defineProperty(this, \"subtitleStreams\", []);\n    _defineProperty(this, \"closedCaptions\", []);\n    _defineProperty(this, \"currentAudioStream\", null);\n    _defineProperty(this, \"currentSubtitleStream\", null);\n    this.update(this._setLLPlaybackPoint(playlist), audioPlaylist, subtitlePlaylist);\n  }\n  _createClass(Stream2, [{\n    key: \"lastSegment\",\n    get: function get() {\n      if (this.segments.length) {\n        return this.segments[this.segments.length - 1];\n      }\n      return null;\n    }\n  }, {\n    key: \"segmentDuration\",\n    get: function get() {\n      var _this$segments$;\n      return this.targetDuration || ((_this$segments$ = this.segments[0]) === null || _this$segments$ === void 0 ? void 0 : _this$segments$.duration) || 0;\n    }\n  }, {\n    key: \"liveEdge\",\n    get: function get() {\n      return this.endTime;\n    },\n    set: function set(end) {\n      this.endTime = end;\n    }\n  }, {\n    key: \"endTime\",\n    get: function get() {\n      var _this$lastSegment;\n      return ((_this$lastSegment = this.lastSegment) === null || _this$lastSegment === void 0 ? void 0 : _this$lastSegment.end) || 0;\n    },\n    set: function set(end) {\n      var lastSeg = this.lastSegment;\n      if (lastSeg)\n        lastSeg.duration = end - lastSeg.start;\n    }\n  }, {\n    key: \"currentSubtitleEndSn\",\n    get: function get() {\n      var _this$currentSubtitle;\n      return ((_this$currentSubtitle = this.currentSubtitleStream) === null || _this$currentSubtitle === void 0 ? void 0 : _this$currentSubtitle.endSN) || 0;\n    }\n  }, {\n    key: \"clearOldSegment\",\n    value: function clearOldSegment(startTime, pointer) {\n      if (this.currentAudioStream) {\n        this._clearSegments(startTime, pointer);\n      }\n      return this._clearSegments(startTime, pointer);\n    }\n  }, {\n    key: \"getAudioSegment\",\n    value: function getAudioSegment(seg) {\n      if (!seg || !this.currentAudioStream)\n        return;\n      var sn = seg.sn - this.snDiff;\n      return this.currentAudioStream.segments.find(function(x) {\n        return x.sn === sn;\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update(playlist, audioPlaylist) {\n      this.url = playlist.url;\n      if (Array.isArray(playlist.segments)) {\n        if (this.live === null || this.live === void 0)\n          this.live = playlist.live;\n        this._updateSegments(playlist, this);\n        this.startCC = playlist.startCC;\n        this.endCC = playlist.endCC;\n        this.startSN = playlist.startSN;\n        this.endSN = playlist.endSN || -1;\n        this.totalDuration = playlist.totalDuration;\n        this.targetDuration = playlist.targetDuration;\n        this.live = playlist.live;\n        this.lowLatency = playlist.lowLatency;\n        this.canBlockReload = playlist.canBlockReload;\n        this.canSkipDateRanges = playlist.canSkipDateRanges;\n        this.canSkipUntil = playlist.canSkipUntil;\n        this.partHoldBack = playlist.partHoldBack;\n        this.partTargetDuration = playlist.partTargetDuration;\n        this.skippedSegments = playlist.skippedSegments;\n        this.endPartIndex = playlist.endPartIndex;\n        if (audioPlaylist && this.currentAudioStream && Array.isArray(audioPlaylist.segments)) {\n          this._updateSegments(audioPlaylist, this.currentAudioStream);\n          if ((this.snDiff === null || this.snDiff === void 0) && playlist.segments.length && audioPlaylist.segments.length) {\n            this.snDiff = playlist.segments[0].sn - audioPlaylist.segments[0].sn;\n          }\n        }\n      } else {\n        this.id = playlist.id;\n        this.bitrate = playlist.bitrate;\n        this.width = playlist.width;\n        this.height = playlist.height;\n        this.name = playlist.name;\n        this.audioCodec = playlist.audioCodec;\n        this.videoCodec = playlist.videoCodec;\n        this.textCodec = playlist.textCodec;\n        this.audioStreams = playlist.audioStreams;\n        this.subtitleStreams = playlist.subtitleStreams;\n        if (!this.currentAudioStream && this.audioStreams.length) {\n          this.currentAudioStream = this.audioStreams.find(function(x) {\n            return x.default;\n          }) || this.audioStreams[0];\n        }\n        if (!this.currentSubtitleStream && this.subtitleStreams.length) {\n          this.currentSubtitleStream = this.subtitleStreams.find(function(x) {\n            return x.default;\n          }) || this.subtitleStreams[0];\n        }\n      }\n    }\n  }, {\n    key: \"updateSubtitle\",\n    value: function updateSubtitle(subtitlePlaylist) {\n      var _this = this;\n      if (!(subtitlePlaylist && this.currentSubtitleStream && Array.isArray(subtitlePlaylist.segments)))\n        return;\n      var newSegs = this._updateSegments(subtitlePlaylist, this.currentSubtitleStream);\n      var segs = this.currentSubtitleStream.segments;\n      if (segs.length > 100) {\n        this.currentSubtitleStream.segments = segs.slice(100);\n      }\n      if (!newSegs)\n        return;\n      return newSegs.map(function(x) {\n        return {\n          sn: x.sn,\n          url: x.url,\n          duration: x.duration,\n          start: x.start,\n          end: x.end,\n          lang: _this.currentSubtitleStream.lang\n        };\n      });\n    }\n  }, {\n    key: \"switchSubtitle\",\n    value: function switchSubtitle(lang) {\n      var toSwitch = this.subtitleStreams.find(function(x) {\n        return x.lang === lang;\n      });\n      var origin = this.currentSubtitleStream;\n      if (toSwitch) {\n        this.currentSubtitleStream = toSwitch;\n        origin.segments = [];\n      }\n    }\n  }, {\n    key: \"_setLLPlaybackPoint\",\n    value: function _setLLPlaybackPoint(playlist) {\n      if (!playlist.lowLatency || !playlist.segments.length)\n        return playlist;\n      var maxStartPoint = playlist.totalDuration - playlist.partHoldBack;\n      var segs = playlist.segments;\n      var index = 0;\n      for (var i = 0, l = segs.length; i < l; i++) {\n        if (segs[i].start <= maxStartPoint && segs[i].independent) {\n          index = i;\n        }\n      }\n      var usefulSegs = segs.slice(index);\n      var endTime = 0;\n      usefulSegs.forEach(function(s) {\n        s.start = endTime;\n        endTime = s.end;\n      });\n      playlist.segments = usefulSegs;\n      playlist.totalDuration = endTime;\n      playlist.startSN = usefulSegs[0].sn;\n      playlist.startCC = usefulSegs[0].cc;\n      logger.log(\"set ll-hls playback point: SN=\".concat(playlist.startSN, \" partIndex=\").concat(usefulSegs[0].partIndex, \", duration=\").concat(endTime));\n      return playlist;\n    }\n  }, {\n    key: \"_clearSegments\",\n    value: function _clearSegments(startTime, pointer) {\n      var sliceStart = 0;\n      var segments = this.segments;\n      for (var i = 0, l = segments.length; i < l; i++) {\n        if (segments[i].end >= startTime) {\n          sliceStart = i;\n          break;\n        }\n      }\n      if (sliceStart > pointer) {\n        sliceStart = pointer;\n      }\n      if (sliceStart) {\n        this.segments = this.segments.slice(sliceStart);\n        if (this.currentAudioStream) {\n          this.currentAudioStream.segments = this.currentAudioStream.segments.slice(sliceStart);\n        }\n      }\n      return pointer - sliceStart;\n    }\n  }, {\n    key: \"_updateSegments\",\n    value: function _updateSegments(playlist, segObj) {\n      var segments = segObj.segments;\n      if (this.live) {\n        var _endSeg$sn;\n        var lowLatency = playlist.lowLatency;\n        var endSeg = segments[segments.length - 1];\n        var endSN = (_endSeg$sn = endSeg === null || endSeg === void 0 ? void 0 : endSeg.sn) !== null && _endSeg$sn !== void 0 ? _endSeg$sn : -1;\n        var endPartIndex = (endSeg === null || endSeg === void 0 ? void 0 : endSeg.partIndex) || 0;\n        var hasNew = endSN < playlist.endSN && playlist.segments.length;\n        if (lowLatency) {\n          hasNew = hasNew || endPartIndex < playlist.endPartIndex;\n        }\n        if (hasNew) {\n          logger.log(\"update segments: endSN:\".concat(endSN, \", partIndex:\").concat(endPartIndex, \" --> endSN:\").concat(playlist.endSN, \", partIndex:\").concat(playlist.endPartIndex));\n          var index = playlist.segments.findIndex(function(x) {\n            return x.sn === endSN && x.partIndex === endPartIndex;\n          });\n          var toAppend = index < 0 ? playlist.segments : playlist.segments.slice(index + 1);\n          if (segments.length && toAppend.length) {\n            var endTime = endSeg.end;\n            var endTimeBeforeAppend = endTime;\n            toAppend.forEach(function(seg) {\n              seg.start = endTime;\n              endTime = seg.end;\n            });\n            logger.log(\"liveEdge: \".concat(endTimeBeforeAppend, \" -> \").concat(endTime));\n            var lastCC = (endSeg === null || endSeg === void 0 ? void 0 : endSeg.cc) || -1;\n            if (lastCC > toAppend[0].cc) {\n              toAppend.forEach(function(seg) {\n                return seg.cc += lastCC;\n              });\n            }\n          }\n          segObj.endSN = playlist.endSN;\n          segObj.segments = segments.concat(toAppend);\n          return toAppend;\n        }\n      } else {\n        segObj.segments = playlist.segments;\n      }\n    }\n  }]);\n  return Stream2;\n}();\nexport { Stream };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { clamp } from \"../utils.js\";\nimport { Stream } from \"./stream.js\";\nimport { Event } from \"../constants.js\";\nvar Playlist = /* @__PURE__ */ function() {\n  function Playlist2(hls) {\n    _classCallCheck(this, Playlist2);\n    _defineProperty(this, \"streams\", []);\n    _defineProperty(this, \"currentStream\", null);\n    _defineProperty(this, \"dvrWindow\", 0);\n    _defineProperty(this, \"_segmentPointer\", -1);\n    this.hls = hls;\n  }\n  _createClass(Playlist2, [{\n    key: \"lowLatency\",\n    get: function get() {\n      var _this$currentStream;\n      return (_this$currentStream = this.currentStream) === null || _this$currentStream === void 0 ? void 0 : _this$currentStream.lowLatency;\n    }\n  }, {\n    key: \"lastSegment\",\n    get: function get() {\n      var _this$currentStream2;\n      return (_this$currentStream2 = this.currentStream) === null || _this$currentStream2 === void 0 ? void 0 : _this$currentStream2.lastSegment;\n    }\n  }, {\n    key: \"currentSegment\",\n    get: function get() {\n      var _this$currentSegments;\n      return (_this$currentSegments = this.currentSegments) === null || _this$currentSegments === void 0 ? void 0 : _this$currentSegments[this._segmentPointer];\n    }\n  }, {\n    key: \"nextSegment\",\n    get: function get() {\n      var _this$currentSegments2;\n      return (_this$currentSegments2 = this.currentSegments) === null || _this$currentSegments2 === void 0 ? void 0 : _this$currentSegments2[this._segmentPointer + 1];\n    }\n  }, {\n    key: \"currentSegments\",\n    get: function get() {\n      var _this$currentStream3;\n      return (_this$currentStream3 = this.currentStream) === null || _this$currentStream3 === void 0 ? void 0 : _this$currentStream3.segments;\n    }\n  }, {\n    key: \"currentSubtitleEndSn\",\n    get: function get() {\n      var _this$currentStream4;\n      return (_this$currentStream4 = this.currentStream) === null || _this$currentStream4 === void 0 ? void 0 : _this$currentStream4.currentSubtitleEndSn;\n    }\n  }, {\n    key: \"liveEdge\",\n    get: function get() {\n      var _this$currentStream5;\n      return (_this$currentStream5 = this.currentStream) === null || _this$currentStream5 === void 0 ? void 0 : _this$currentStream5.liveEdge;\n    },\n    set: function set(end) {\n      if (this.currentStream) {\n        this.currentStream.liveEdge = end;\n      }\n    }\n  }, {\n    key: \"totalDuration\",\n    get: function get() {\n      var _this$currentStream6;\n      return ((_this$currentStream6 = this.currentStream) === null || _this$currentStream6 === void 0 ? void 0 : _this$currentStream6.totalDuration) || 0;\n    }\n  }, {\n    key: \"seekRange\",\n    get: function get() {\n      var segments = this.currentSegments;\n      if (!segments || !segments.length)\n        return;\n      return [segments[0].start, segments[segments.length - 1].end];\n    }\n  }, {\n    key: \"nbSegments\",\n    get: function get() {\n      var _this$currentSegments3;\n      return ((_this$currentSegments3 = this.currentSegments) === null || _this$currentSegments3 === void 0 ? void 0 : _this$currentSegments3.length) || 0;\n    }\n  }, {\n    key: \"isEmpty\",\n    get: function get() {\n      var _this$currentSegments4;\n      return !((_this$currentSegments4 = this.currentSegments) !== null && _this$currentSegments4 !== void 0 && _this$currentSegments4.length);\n    }\n  }, {\n    key: \"isLive\",\n    get: function get() {\n      var _this$currentStream7;\n      return (_this$currentStream7 = this.currentStream) === null || _this$currentStream7 === void 0 ? void 0 : _this$currentStream7.live;\n    }\n  }, {\n    key: \"hadSegmentLoaded\",\n    get: function get() {\n      return this._segmentPointer !== -1;\n    }\n  }, {\n    key: \"hasSubtitle\",\n    get: function get() {\n      var _this$currentStream8;\n      return !!((_this$currentStream8 = this.currentStream) !== null && _this$currentStream8 !== void 0 && _this$currentStream8.currentSubtitleStream);\n    }\n  }, {\n    key: \"getAudioSegment\",\n    value: function getAudioSegment(seg) {\n      var _this$currentStream9;\n      return (_this$currentStream9 = this.currentStream) === null || _this$currentStream9 === void 0 ? void 0 : _this$currentStream9.getAudioSegment(seg);\n    }\n  }, {\n    key: \"moveSegmentPointer\",\n    value: function moveSegmentPointer(pos) {\n      var _this$currentSegments5;\n      if (pos === null || pos === void 0)\n        pos = this._segmentPointer + 1;\n      this._segmentPointer = clamp(pos, -1, (_this$currentSegments5 = this.currentSegments) === null || _this$currentSegments5 === void 0 ? void 0 : _this$currentSegments5.length);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.streams = [];\n      this.currentStream = null;\n      this.dvrWindow = 0;\n      this._segmentPointer = -1;\n    }\n  }, {\n    key: \"getSegmentByIndex\",\n    value: function getSegmentByIndex(index) {\n      var _this$currentSegments6;\n      return (_this$currentSegments6 = this.currentSegments) === null || _this$currentSegments6 === void 0 ? void 0 : _this$currentSegments6[index];\n    }\n  }, {\n    key: \"setNextSegmentByIndex\",\n    value: function setNextSegmentByIndex() {\n      var index = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      this._segmentPointer = index - 1;\n    }\n  }, {\n    key: \"setNextSegmentBySN\",\n    value: function setNextSegmentBySN() {\n      var _this$currentSegments7;\n      var sn = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var preIndex = (_this$currentSegments7 = this.currentSegments) === null || _this$currentSegments7 === void 0 ? void 0 : _this$currentSegments7.findIndex(function(x) {\n        return x.sn === sn;\n      });\n      if (preIndex !== -1) {\n        this.setNextSegmentByIndex(preIndex + 1);\n      }\n      return preIndex;\n    }\n  }, {\n    key: \"findSegmentIndexByTime\",\n    value: function findSegmentIndexByTime(time) {\n      var segments = this.currentSegments;\n      if (segments) {\n        for (var i = 0, l = segments.length, seg; i < l; i++) {\n          seg = segments[i];\n          if (time >= seg.start && time < seg.end) {\n            return i;\n          }\n        }\n        var lastSegment = segments[segments.length - 1];\n        if (Math.abs(time - (lastSegment === null || lastSegment === void 0 ? void 0 : lastSegment.end)) < 0.2)\n          return segments.length - 1;\n      }\n    }\n  }, {\n    key: \"upsertPlaylist\",\n    value: function upsertPlaylist(playlist, audioPlaylist, subtitlePlaylist) {\n      var _this = this;\n      if (!playlist)\n        return;\n      if (playlist.isMaster) {\n        this.streams.length = playlist.streams.length;\n        playlist.streams.filter(function(x) {\n          return x.url;\n        }).forEach(function(stream2, i) {\n          if (_this.streams[i]) {\n            _this.streams[i].update(stream2);\n          } else {\n            _this.streams[i] = new Stream(stream2);\n          }\n        });\n        this.currentStream = this.streams[0];\n      } else if (Array.isArray(playlist.segments)) {\n        var stream = this.currentStream;\n        if (stream) {\n          stream.update(playlist, audioPlaylist, subtitlePlaylist);\n          var newSubtitleSegs = stream.updateSubtitle(subtitlePlaylist);\n          if (newSubtitleSegs) {\n            this.hls.emit(Event.SUBTITLE_SEGMENTS, {\n              list: newSubtitleSegs\n            });\n          }\n        } else {\n          this.reset();\n          this.currentStream = this.streams[0] = new Stream(playlist, audioPlaylist, subtitlePlaylist);\n        }\n      }\n      var currentStream = this.currentStream;\n      if (currentStream) {\n        if (this.hls.isLive && !this.dvrWindow) {\n          this.dvrWindow = this.currentSegments.reduce(function(a, c) {\n            a += c.duration;\n            return a;\n          }, 0);\n        }\n      }\n    }\n  }, {\n    key: \"updateSegmentsRanges\",\n    value: function updateSegmentsRanges(sn, start) {\n      var _this$currentSegments8;\n      var segs = (_this$currentSegments8 = this.currentSegments) === null || _this$currentSegments8 === void 0 ? void 0 : _this$currentSegments8.filter(function(x) {\n        return x.sn >= sn;\n      });\n      segs.forEach(function(s) {\n        s.start = start;\n        start = s.end;\n      });\n    }\n  }, {\n    key: \"switchSubtitle\",\n    value: function switchSubtitle(lang) {\n      var _this$currentStream10;\n      (_this$currentStream10 = this.currentStream) === null || _this$currentStream10 === void 0 ? void 0 : _this$currentStream10.switchSubtitle(lang);\n    }\n  }, {\n    key: \"clearOldSegment\",\n    value: function clearOldSegment() {\n      var maxPlaylistSize = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 50;\n      var stream = this.currentStream;\n      if (!this.dvrWindow || !stream)\n        return;\n      var startTime = stream.endTime - this.dvrWindow;\n      if (startTime <= 0)\n        return;\n      var segments = stream.segments;\n      if (segments.length <= maxPlaylistSize)\n        return;\n      this._segmentPointer = stream.clearOldSegment(startTime, this._segmentPointer);\n    }\n  }, {\n    key: \"checkSegmentTrackChange\",\n    value: function checkSegmentTrackChange(cTime, nbSb) {\n      var index = this.findSegmentIndexByTime(cTime);\n      var seg = this.getSegmentByIndex(index);\n      if (!seg)\n        return;\n      if (!seg.hasAudio && !seg.hasVideo)\n        return;\n      if (nbSb !== 2 && seg.hasAudio && seg.hasVideo)\n        return seg;\n      if (seg.end - cTime > 0.3)\n        return;\n      var next = this.getSegmentByIndex(index + 1);\n      if (!next)\n        return;\n      if (!next.hasAudio && !next.hasVideo)\n        return;\n      if (next.hasAudio !== seg.hasAudio || next.hasVideo !== seg.hasVideo)\n        return next;\n    }\n  }, {\n    key: \"feedbackLiveEdge\",\n    value: function feedbackLiveEdge(segment, bufferEnd) {\n      var _this$lastSegment;\n      var segs = this.currentSegments;\n      if (!segs)\n        return;\n      var isLast = ((_this$lastSegment = this.lastSegment) === null || _this$lastSegment === void 0 ? void 0 : _this$lastSegment.sn) === segment.sn;\n      if (isLast) {\n        this.liveEdge = bufferEnd;\n        return;\n      }\n      this.updateSegmentsRanges(segment.sn + 1, bufferEnd);\n    }\n  }]);\n  return Playlist2;\n}();\nexport { Playlist };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar SKIP_SMALL_CHUNK = 1e3;\nvar MAX_CHUNK_SAVE_SIZE = 50;\nvar MAX_SEGMENT_SAVE_SIZE = 3;\nvar LONGTIME_NO_RECEIVE = 3e3;\nvar BandwidthService = /* @__PURE__ */ function() {\n  function BandwidthService2(opts) {\n    _classCallCheck(this, BandwidthService2);\n    _defineProperty(this, \"_chunkSpeed\", 0);\n    _defineProperty(this, \"_chunkCache\", []);\n    _defineProperty(this, \"_speeds\", []);\n    _defineProperty(this, \"_totalSize\", 0);\n    _defineProperty(this, \"_totalCost\", 0);\n    this._opts = opts || {};\n  }\n  _createClass(BandwidthService2, [{\n    key: \"addRecord\",\n    value: function addRecord(totalByte, ms) {\n      if (!totalByte || !ms)\n        return;\n      this._speeds.push(8e3 * totalByte / ms);\n      this._speeds = this._speeds.slice(-MAX_SEGMENT_SAVE_SIZE);\n    }\n  }, {\n    key: \"addChunkRecord\",\n    value: function addChunkRecord(totalByte, ms) {\n      var _this$_opts, _this$_opts2;\n      if (!totalByte || !ms || totalByte < (((_this$_opts = this._opts) === null || _this$_opts === void 0 ? void 0 : _this$_opts.skipChunkSize) || SKIP_SMALL_CHUNK))\n        return;\n      this._totalSize += totalByte;\n      this._totalCost += ms;\n      this._chunkSpeed = 8e3 * totalByte / ms;\n      this._chunkCache.push({\n        size: totalByte,\n        duration: ms,\n        timestamp: performance.now()\n      });\n      var size = ((_this$_opts2 = this._opts) === null || _this$_opts2 === void 0 ? void 0 : _this$_opts2.chunkCountForSpeed) || MAX_CHUNK_SAVE_SIZE;\n      if (this._chunkCache.length > size) {\n        this._chunkCache = this._chunkCache.slice(-size);\n      }\n    }\n  }, {\n    key: \"getAvgSpeed\",\n    value: function getAvgSpeed() {\n      var _this$_opts3;\n      if (!this._chunkCache.length && !this._speeds.length)\n        return 0;\n      if (this._speeds.length) {\n        return this._speeds.reduce(function(a, c) {\n          return a += c;\n        }) / this._speeds.length;\n      }\n      var lastSample = this._chunkCache[this._chunkCache.length - 1];\n      var cost = performance.now() - lastSample.timestamp;\n      if (cost > (((_this$_opts3 = this._opts) === null || _this$_opts3 === void 0 ? void 0 : _this$_opts3.longtimeNoReceived) || LONGTIME_NO_RECEIVE)) {\n        this._chunkCache.push({\n          size: 0,\n          duration: cost,\n          timestamp: performance.now()\n        });\n      }\n      var totalSize = this._chunkCache.reduce(function(a, c) {\n        return a += c.size;\n      }, 0);\n      var totalDuration = this._chunkCache.reduce(function(a, c) {\n        return a += c.duration;\n      }, 0);\n      return 8e3 * totalSize / totalDuration;\n    }\n  }, {\n    key: \"getLatestSpeed\",\n    value: function getLatestSpeed() {\n      if (!this._chunkCache.length && !this._speeds.length)\n        return 0;\n      if (this._speeds.length) {\n        return this._speeds[this._speeds.length - 1];\n      }\n      return this._chunkSpeed;\n    }\n  }, {\n    key: \"getTotalSize\",\n    value: function getTotalSize() {\n      return this._totalSize;\n    }\n  }, {\n    key: \"getTotalCost\",\n    value: function getTotalCost() {\n      return this._totalCost;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._chunkCache = [];\n      this._speeds = [];\n      this._totalSize = 0;\n      this._totalCost = 0;\n    }\n  }]);\n  return BandwidthService2;\n}();\nexport { BandwidthService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT, StreamingError, BandwidthService, NetLoader } from \"xgplayer-streaming-shared\";\nvar SegmentLoader = /* @__PURE__ */ function() {\n  function SegmentLoader2(hls) {\n    var _this = this;\n    _classCallCheck(this, SegmentLoader2);\n    _defineProperty(this, \"error\", null);\n    _defineProperty(this, \"_emitOnLoaded\", function(res, url) {\n      var data = res.data, response = res.response, options = res.options;\n      var _ref = options || {}, firstByteTime = _ref.firstByteTime, startTime = _ref.startTime, endTime = _ref.endTime, contentLength = _ref.contentLength;\n      var time = endTime - startTime;\n      _this._bandwidthService.addRecord(contentLength || data.byteLength, time);\n      _this.hls.emit(EVENT.SPEED, {\n        time,\n        byteLength: contentLength,\n        url\n      });\n      _this.hls.emit(EVENT.LOAD_COMPLETE, {\n        url,\n        elapsed: time || 0\n      });\n      _this.hls.emit(EVENT.TTFB, {\n        url,\n        responseUrl: response.url,\n        elapsed: firstByteTime - startTime\n      });\n      _this.hls.emit(EVENT.LOAD_RESPONSE_HEADERS, {\n        headers: response.headers,\n        url\n      });\n    });\n    _defineProperty(this, \"_onLoaderRetry\", function(error, retryTime) {\n      _this.hls.emit(EVENT.LOAD_RETRY, {\n        error: StreamingError.network(error),\n        retryTime\n      });\n    });\n    this.hls = hls;\n    this._bandwidthService = new BandwidthService();\n    this._mapCache = {};\n    this._keyCache = {};\n    var _this$hls$config = this.hls.config, retryCount = _this$hls$config.retryCount, retryDelay = _this$hls$config.retryDelay, loadTimeout = _this$hls$config.loadTimeout, fetchOptions = _this$hls$config.fetchOptions;\n    this._segmentLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._audioSegmentLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._keyLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n  }\n  _createClass(SegmentLoader2, [{\n    key: \"speedInfo\",\n    value: function speedInfo() {\n      return {\n        speed: this._bandwidthService.getLatestSpeed(),\n        avgSpeed: this._bandwidthService.getAvgSpeed()\n      };\n    }\n  }, {\n    key: \"load\",\n    value: function load(seg, audioSeg, loadInit) {\n      var loadAudioInit = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : loadInit;\n      var toLoad = [];\n      if (seg)\n        toLoad[0] = this.loadVideoSegment(seg, loadInit);\n      if (audioSeg)\n        toLoad[1] = this.loadAudioSegment(audioSeg, loadAudioInit);\n      return Promise.all(toLoad);\n    }\n  }, {\n    key: \"loadVideoSegment\",\n    value: function loadVideoSegment(seg, loadInit) {\n      return this._loadSegment(this._segmentLoader, seg, loadInit);\n    }\n  }, {\n    key: \"loadAudioSegment\",\n    value: function loadAudioSegment(seg, loadInit) {\n      return this._loadSegment(this._audioSegmentLoader, seg, loadInit);\n    }\n  }, {\n    key: \"_loadSegment\",\n    value: function() {\n      var _loadSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(segLoader, seg, loadInit) {\n        var _this2 = this, _seg$key;\n        var map, key, keyIv, mapKey, mapKeyIv, toLoad, _seg$initSegment$key, mapUrl, _keyUrl, keyUrl, _yield$Promise$all, _yield$Promise$all2, s, data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                toLoad = [];\n                this.hls.emit(EVENT.LOAD_START, {\n                  url: seg.url\n                });\n                toLoad[0] = segLoader.load(seg.url);\n                if (loadInit && seg.initSegment) {\n                  mapUrl = seg.initSegment.url;\n                  map = this._mapCache[mapUrl];\n                  if (!map) {\n                    this.hls.emit(EVENT.LOAD_START, {\n                      url: mapUrl\n                    });\n                    toLoad[1] = segLoader.load(mapUrl).then(function(r) {\n                      if (r) {\n                        var l = Object.keys(_this2._mapCache);\n                        if (l > 30)\n                          _this2._mapCache = {};\n                        map = _this2._mapCache[mapUrl] = r.data;\n                        _this2._emitOnLoaded(r, mapUrl);\n                      }\n                    });\n                  }\n                  _keyUrl = (_seg$initSegment$key = seg.initSegment.key) === null || _seg$initSegment$key === void 0 ? void 0 : _seg$initSegment$key.url;\n                  if (_keyUrl) {\n                    mapKeyIv = seg.initSegment.key.iv;\n                    mapKey = this._keyCache[_keyUrl];\n                    if (!mapKey) {\n                      this.hls.emit(EVENT.LOAD_START, {\n                        url: _keyUrl\n                      });\n                      toLoad[2] = this._keyLoader.load(_keyUrl).then(function(r) {\n                        if (r) {\n                          mapKey = _this2._keyCache[_keyUrl] = r.data;\n                          _this2._emitOnLoaded(r, _keyUrl);\n                        }\n                      });\n                    }\n                  }\n                }\n                keyUrl = (_seg$key = seg.key) === null || _seg$key === void 0 ? void 0 : _seg$key.url;\n                if (keyUrl && seg.key.isSegmentEncrypted()) {\n                  keyIv = seg.key.iv;\n                  key = this._keyCache[keyUrl];\n                  if (!key) {\n                    this.hls.emit(EVENT.LOAD_START, {\n                      url: keyUrl\n                    });\n                    toLoad[3] = this._keyLoader.load(keyUrl).then(function(r) {\n                      if (r) {\n                        key = _this2._keyCache[keyUrl] = r.data;\n                        _this2._emitOnLoaded(r, keyUrl);\n                      }\n                    });\n                  }\n                }\n                _context.next = 8;\n                return Promise.all(toLoad);\n              case 8:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 1);\n                s = _yield$Promise$all2[0];\n                if (s) {\n                  _context.next = 13;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 13:\n                data = s.data;\n                this._emitOnLoaded(s, seg.url);\n                return _context.abrupt(\"return\", {\n                  data,\n                  map,\n                  key,\n                  mapKey,\n                  keyIv,\n                  mapKeyIv\n                });\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function _loadSegment(_x, _x2, _x3) {\n        return _loadSegment2.apply(this, arguments);\n      }\n      return _loadSegment;\n    }()\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.error = null;\n      this._mapCache = {};\n      this._keyCache = {};\n      this._bandwidthService.reset();\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return Promise.all([this._keyLoader.cancel(), this._segmentLoader.cancel(), this._audioSegmentLoader.cancel()]);\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }]);\n  return SegmentLoader2;\n}();\nexport { SegmentLoader };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, asyncToGenerator as _asyncToGenerator, slicedToArray as _slicedToArray, regeneratorRuntime as _regeneratorRuntime, typeof as _typeof, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nimport { Logger, Buffer, StreamingError, isMediaPlaying, SeiService, GapService, MediaStatsService, MSE, getVideoPlaybackQuality, ERR } from \"xgplayer-streaming-shared\";\nimport { Logger as Logger$1 } from \"xgplayer-transmuxer\";\nimport { BufferService } from \"./buffer-service/index.js\";\nimport { getConfig } from \"./config.js\";\nexport { getConfig } from \"./config.js\";\nimport { Event } from \"./constants.js\";\nimport { ManifestLoader } from \"./manifest-loader/index.js\";\nexport { ManifestLoader } from \"./manifest-loader/index.js\";\nimport { Playlist } from \"./playlist/index.js\";\nexport { Playlist } from \"./playlist/index.js\";\nimport { SegmentLoader } from \"./segment-loader/index.js\";\nexport { SegmentLoader } from \"./segment-loader/index.js\";\nimport { clamp } from \"./utils.js\";\nvar logger = new Logger(\"hls\");\nvar Hls = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(Hls2, _EventEmitter);\n  var _super = _createSuper(Hls2);\n  function Hls2(_cfg) {\n    var _this;\n    _classCallCheck(this, Hls2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"version\", Hls2.version);\n    _defineProperty(_assertThisInitialized(_this), \"media\", null);\n    _defineProperty(_assertThisInitialized(_this), \"config\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_manifestLoader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_segmentLoader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_playlist\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_bufferService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_gapService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_seiService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_stats\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_prevSegSn\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_prevSegCc\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_tickTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_tickInterval\", 500);\n    _defineProperty(_assertThisInitialized(_this), \"_segmentProcessing\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_reloadOnPlay\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_switchUrlOpts\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_isProcessQuotaExceeded\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_loadSegment\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n      var _this$_playlist, nextSegment, lastSegment, _assertThisInitialize, config, minFrameDuration, maxBufferThroughout, bInfo, bufferThroughout;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1)\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(_this._segmentProcessing || !_this.media)) {\n                _context.next = 2;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 2:\n              _this$_playlist = _this._playlist, nextSegment = _this$_playlist.nextSegment, lastSegment = _this$_playlist.lastSegment;\n              _assertThisInitialize = _assertThisInitialized(_this), config = _assertThisInitialize.config;\n              minFrameDuration = 0.016;\n              maxBufferThroughout = Math.min(Math.max((lastSegment === null || lastSegment === void 0 ? void 0 : lastSegment.duration) - minFrameDuration / 2 || 0, minFrameDuration), 0.1);\n              if (nextSegment) {\n                _context.next = 8;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 8:\n              if (_this.isLive) {\n                _context.next = 18;\n                break;\n              }\n              bInfo = _this.bufferInfo();\n              if (_this.media.paused && !_this.media.currentTime) {\n                bInfo = _this.bufferInfo(bInfo.nextStart || 0.5);\n              }\n              bufferThroughout = Math.abs(bInfo.end - _this.media.duration) < maxBufferThroughout;\n              if (!(bInfo.remaining >= config.preloadTime || bufferThroughout)) {\n                _context.next = 15;\n                break;\n              }\n              _this._tryEos();\n              return _context.abrupt(\"return\");\n            case 15:\n              if (!(config.preferMMSStreaming && !_this._bufferService.msStreaming)) {\n                _context.next = 17;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 17:\n              if (!_this._urlSwitching && _this._prevSegSn !== nextSegment.sn - 1 && bInfo.end && Math.abs(nextSegment.start - bInfo.end) > 1) {\n                _this._playlist.setNextSegmentByIndex(_this._playlist.findSegmentIndexByTime(bInfo.end + 0.1));\n              }\n            case 18:\n              return _context.abrupt(\"return\", _this._loadSegmentDirect());\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n      }, _callee);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onLoadeddata\", function() {\n      if (_this.isLive && !_this.config.mseLowLatency) {\n        if (_this.media.duration !== Infinity) {\n          _this._bufferService.updateDuration(Infinity).catch(function(e) {\n          });\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onPlay\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1)\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(_this.media.seeking && _this.media.currentTime === 0)) {\n                _context2.next = 3;\n                break;\n              }\n              logger.debug(\"replay currentTime 0, return\");\n              return _context2.abrupt(\"return\");\n            case 3:\n              clearTimeout(_this._disconnectTimer);\n              if (!_this._reloadOnPlay) {\n                _context2.next = 9;\n                break;\n              }\n              _this._reloadOnPlay = false;\n              _this.replay(true);\n              _context2.next = 12;\n              break;\n            case 9:\n              _context2.next = 11;\n              return _this._loadSegment();\n            case 11:\n              _this._startTick();\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n      }, _callee2);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onPause\", function() {\n      if (_this.isLive) {\n        if (!_this._reloadOnPlay) {\n          var disconnectTime = _this.config.disconnectTime;\n          if (disconnectTime === null || disconnectTime === void 0)\n            disconnectTime = _this._playlist.dvrWindow;\n          if (!Number.isFinite(disconnectTime))\n            return;\n          clearTimeout(_this._disconnectTimer);\n          _this._disconnectTimer = setTimeout(function() {\n            _this._reloadOnPlay = true;\n            _this._clear();\n          }, disconnectTime || 0);\n        }\n      } else {\n        _this._stopTick();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeking\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n      var seekTime, seekRange, newSeekTime, curSeg, info, segIndex, seg;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1)\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (_this.media) {\n                _context3.next = 2;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 2:\n              _this._onCheckQuotaExceeded();\n              seekTime = _this.media.currentTime;\n              seekRange = _this._playlist.seekRange;\n              if (!seekRange) {\n                _context3.next = 10;\n                break;\n              }\n              newSeekTime = clamp(seekTime, seekRange[0], _this.isLive ? seekRange[1] : _this.media.duration);\n              if (!(newSeekTime >= 0 && Math.abs(seekTime - newSeekTime) >= 0.1)) {\n                _context3.next = 10;\n                break;\n              }\n              _this.media.currentTime = newSeekTime;\n              return _context3.abrupt(\"return\");\n            case 10:\n              curSeg = _this._playlist.currentSegment;\n              info = Buffer.info(Buffer.get(_this.media), seekTime, 0.1);\n              if (!curSeg) {\n                _context3.next = 17;\n                break;\n              }\n              if (!(info.end && Math.abs(info.end - curSeg.end) < 0.2)) {\n                _context3.next = 15;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 15:\n              if (!(_this.isLive && info.end)) {\n                _context3.next = 17;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 17:\n              segIndex = _this._playlist.findSegmentIndexByTime(seekTime);\n              seg = _this._playlist.getSegmentByIndex(segIndex);\n              if (!(segIndex === null || segIndex === void 0 || !seg || _this._segmentProcessing && seg === _this._playlist.nextSegment)) {\n                _context3.next = 21;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 21:\n              logger.debug(\"seek to\", seekTime, seg);\n              _this._playlist.setNextSegmentByIndex(segIndex);\n              _this._stopTick();\n              _context3.next = 26;\n              return _this._segmentLoader.cancel();\n            case 26:\n              _this._segmentProcessing = false;\n              if (!(!info.end || _this.isLive)) {\n                _context3.next = 30;\n                break;\n              }\n              _context3.next = 30;\n              return _this._loadSegmentDirect(true);\n            case 30:\n              _this._startTick();\n            case 31:\n            case \"end\":\n              return _context3.stop();\n          }\n      }, _callee3);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeupdate\", function() {\n      if (!_this.media)\n        return;\n      var cfg = _this.config;\n      if (cfg.isLive && cfg.maxLatency && cfg.targetLatency && _this.media) {\n        var liveEdge = _this._playlist.liveEdge;\n        if (!liveEdge)\n          return;\n        var latency = liveEdge - _this.media.currentTime;\n        if (latency >= cfg.maxLatency) {\n          logger.debug(\"latency jump, currentTime:\".concat(_this.media.currentTime, \", liveEdge:\").concat(liveEdge, \",  latency=\").concat(latency));\n          _this.media.currentTime = liveEdge - cfg.targetLatency;\n        }\n      }\n      if (cfg.seiInTime) {\n        var _this$_seiService;\n        (_this$_seiService = _this._seiService) === null || _this$_seiService === void 0 ? void 0 : _this$_seiService.throw(_this.media.currentTime);\n      }\n      if (_this.config.allowedStreamTrackChange && !_this.config.softDecode) {\n        _this._checkStreamTrackChange(_this.media.currentTime);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_tick\", function() {\n      if (!_this.media)\n        return;\n      _this._startTick();\n      var media = _this.media;\n      var buffered = Buffer.get(media);\n      var segLoaderError = _this._segmentLoader.error;\n      _this._onCheckQuotaExceeded();\n      if (_this._isProcessQuotaExceeded) {\n        if (!_this._bufferService.isFull()) {\n          _this._isProcessQuotaExceeded = false;\n          _this._segmentProcessing = false;\n        }\n      }\n      if (segLoaderError) {\n        var bufferMaxHoleTolerance = 0.5;\n        if (!media.readyState || _this.bufferInfo(bufferMaxHoleTolerance).remaining < 1) {\n          segLoaderError.fatal = true;\n          _this._emitError(StreamingError.network(segLoaderError));\n        }\n        return;\n      }\n      if (Buffer.end(buffered) >= 0.1 && media.readyState) {\n        if (isMediaPlaying(media)) {\n          _this._loadSegment();\n          if (_this._gapService) {\n            _this._gapService.do(media, _this.config.maxJumpDistance, _this.isLive);\n          }\n        } else {\n          if (media.readyState < 2 && _this._gapService) {\n            _this._gapService.do(media, _this.config.maxJumpDistance, !media.currentTime ? true : _this.isLive);\n          }\n        }\n      }\n      if (!_this.isLive) {\n        _this._tryEos();\n      }\n    });\n    _this.config = _cfg = getConfig(_cfg);\n    _this.media = _this.config.media;\n    _this._manifestLoader = new ManifestLoader(_assertThisInitialized(_this));\n    _this._segmentLoader = new SegmentLoader(_assertThisInitialized(_this));\n    _this._playlist = new Playlist(_assertThisInitialized(_this));\n    _this._bufferService = new BufferService(_assertThisInitialized(_this));\n    if (_cfg.seiInTime) {\n      _this._seiService = new SeiService(_assertThisInitialized(_this));\n    }\n    if (!_cfg.softDecode)\n      _this._gapService = new GapService();\n    _this._stats = new MediaStatsService(_assertThisInitialized(_this), 9e4);\n    _this.media.addEventListener(\"loadeddata\", _this._onLoadeddata);\n    _this.media.addEventListener(\"play\", _this._onPlay);\n    _this.media.addEventListener(\"pause\", _this._onPause);\n    _this.media.addEventListener(\"seeking\", _this._onSeeking);\n    _this.media.addEventListener(\"timeupdate\", _this._onTimeupdate);\n    return _this;\n  }\n  _createClass(Hls2, [{\n    key: \"isLive\",\n    get: function get() {\n      return this._playlist.isLive;\n    }\n  }, {\n    key: \"streams\",\n    get: function get() {\n      return this._playlist.streams;\n    }\n  }, {\n    key: \"currentStream\",\n    get: function get() {\n      return this._playlist.currentStream;\n    }\n  }, {\n    key: \"hasSubtitle\",\n    get: function get() {\n      return this._playlist.hasSubtitle;\n    }\n  }, {\n    key: \"totalDuration\",\n    get: function get() {\n      return this._playlist.totalDuration;\n    }\n  }, {\n    key: \"baseDts\",\n    get: function get() {\n      var _this$_bufferService;\n      return (_this$_bufferService = this._bufferService) === null || _this$_bufferService === void 0 ? void 0 : _this$_bufferService.baseDts;\n    }\n  }, {\n    key: \"abrSwitchPoint\",\n    get: function get() {\n      var targetSeg = this._urlSwitching ? this._playlist.currentSegment : this._playlist.nextSegment;\n      return targetSeg ? targetSeg.start + targetSeg.duration / 2 : null;\n    }\n  }, {\n    key: \"speedInfo\",\n    value: function speedInfo() {\n      return this._segmentLoader.speedInfo();\n    }\n  }, {\n    key: \"bufferInfo\",\n    value: function bufferInfo() {\n      var _this$media;\n      var maxHole = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0.1;\n      return Buffer.info(Buffer.get(this.media), (_this$media = this.media) === null || _this$media === void 0 ? void 0 : _this$media.currentTime, maxHole);\n    }\n  }, {\n    key: \"getStats\",\n    value: function getStats() {\n      return this._stats.getStats();\n    }\n  }, {\n    key: \"playbackQuality\",\n    value: function playbackQuality() {\n      return getVideoPlaybackQuality(this.media);\n    }\n  }, {\n    key: \"load\",\n    value: function() {\n      var _load = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee4() {\n        var url, options, reuseMse, _args4 = arguments;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1)\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                url = _args4.length > 0 && _args4[0] !== void 0 ? _args4[0] : \"\";\n                options = _args4.length > 1 && _args4[1] !== void 0 ? _args4[1] : {};\n                reuseMse = typeof options === \"boolean\" ? options : !!(options !== null && options !== void 0 && options.reuseMse);\n                if (_typeof(options) === \"object\" && options !== null && options !== void 0 && options.clearSwitchStatus) {\n                  this._urlSwitching = false;\n                  this._switchUrlOpts = null;\n                  this.config.startTime = void 0;\n                }\n                if (url)\n                  this.config.url = url;\n                url = this.config.url;\n                _context4.next = 8;\n                return this._reset(reuseMse);\n              case 8:\n                _context4.next = 10;\n                return this._loadData(url);\n              case 10:\n                this._startTick();\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n        }, _callee4, this);\n      }));\n      function load() {\n        return _load.apply(this, arguments);\n      }\n      return load;\n    }()\n  }, {\n    key: \"_loadData\",\n    value: function() {\n      var _loadData2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee5(url) {\n        var manifest, currentStream, preIndex, _this$_switchUrlOpts, _this$_switchUrlOpts3, _this$_switchUrlOpts4, _this$_switchUrlOpts2, switchTimePoint, segIdx, nextSeg, bufferClearStartPoint, startTime, _this$_switchUrlOpts5;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1)\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                try {\n                  if (url)\n                    url = url.trim();\n                } catch (e) {\n                }\n                if (url) {\n                  _context5.next = 3;\n                  break;\n                }\n                throw this._emitError(new StreamingError(ERR.OTHER, ERR.SUB_TYPES.OPTION, null, null, \"m3u8 url is missing\"));\n              case 3:\n                _context5.next = 5;\n                return this._loadM3U8(url);\n              case 5:\n                manifest = _context5.sent;\n                currentStream = this._playlist.currentStream;\n                if (!this._urlSwitching) {\n                  _context5.next = 23;\n                  break;\n                }\n                if (!this.isLive) {\n                  _context5.next = 14;\n                  break;\n                }\n                preIndex = this._playlist.setNextSegmentBySN(this._prevSegSn);\n                logger.log(\"segment nb=\".concat(this._prevSegSn, \" index of \").concat(preIndex, \" in the new playlist\"));\n                if (preIndex === -1) {\n                  this._prevSegCc = null;\n                  this._prevSegSn = null;\n                }\n                _context5.next = 23;\n                break;\n              case 14:\n                if (currentStream.bitrate === 0 && (_this$_switchUrlOpts = this._switchUrlOpts) !== null && _this$_switchUrlOpts !== void 0 && _this$_switchUrlOpts.bitrate) {\n                  currentStream.bitrate = (_this$_switchUrlOpts2 = this._switchUrlOpts) === null || _this$_switchUrlOpts2 === void 0 ? void 0 : _this$_switchUrlOpts2.bitrate;\n                }\n                switchTimePoint = typeof ((_this$_switchUrlOpts3 = this._switchUrlOpts) === null || _this$_switchUrlOpts3 === void 0 ? void 0 : _this$_switchUrlOpts3.startTime) === \"number\" ? (_this$_switchUrlOpts4 = this._switchUrlOpts) === null || _this$_switchUrlOpts4 === void 0 ? void 0 : _this$_switchUrlOpts4.startTime : this._getSeamlessSwitchPoint();\n                this.config.startTime = switchTimePoint;\n                segIdx = this._playlist.findSegmentIndexByTime(switchTimePoint);\n                nextSeg = this._playlist.getSegmentByIndex(segIdx + 1);\n                if (!nextSeg) {\n                  _context5.next = 23;\n                  break;\n                }\n                bufferClearStartPoint = nextSeg.start;\n                _context5.next = 23;\n                return this._bufferService.removeBuffer(bufferClearStartPoint);\n              case 23:\n                if (manifest) {\n                  _context5.next = 25;\n                  break;\n                }\n                return _context5.abrupt(\"return\");\n              case 25:\n                if (!this.isLive) {\n                  _context5.next = 36;\n                  break;\n                }\n                this._bufferService.setLiveSeekableRange(0, 4294967295);\n                logger.log(\"totalDuration first time got:\", this._playlist.totalDuration);\n                logger.log(\"nb segments got:\", this._playlist.nbSegments);\n                if (this.config.targetLatency < this._playlist.totalDuration) {\n                  this.config.targetLatency = this._playlist.totalDuration;\n                  this.config.maxLatency = 1.5 * this.config.targetLatency;\n                }\n                if (!manifest.isMaster)\n                  this._pollM3U8(url);\n                if (!(this._playlist.nbSegments < this.config.minSegmentsStartPlay)) {\n                  _context5.next = 33;\n                  break;\n                }\n                return _context5.abrupt(\"return\");\n              case 33:\n                _context5.next = 35;\n                return this._loadSegment();\n              case 35:\n                return _context5.abrupt(\"return\");\n              case 36:\n                _context5.next = 38;\n                return this._bufferService.updateDuration(currentStream.totalDuration);\n              case 38:\n                startTime = this.config.startTime;\n                if (startTime) {\n                  if (!((_this$_switchUrlOpts5 = this._switchUrlOpts) !== null && _this$_switchUrlOpts5 !== void 0 && _this$_switchUrlOpts5.seamless)) {\n                    this.media.currentTime = startTime;\n                  }\n                  this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(startTime) || 0);\n                }\n                _context5.next = 42;\n                return this._loadSegment();\n              case 42:\n              case \"end\":\n                return _context5.stop();\n            }\n        }, _callee5, this);\n      }));\n      function _loadData(_x) {\n        return _loadData2.apply(this, arguments);\n      }\n      return _loadData;\n    }()\n  }, {\n    key: \"replay\",\n    value: function() {\n      var _replay = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee6(isPlayEmit) {\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1)\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                this.config.startTime = 0;\n                this._urlSwitching = false;\n                this._switchUrlOpts = null;\n                _context6.next = 5;\n                return this.load();\n              case 5:\n                this._reloadOnPlay = false;\n                return _context6.abrupt(\"return\", this.media.play(!isPlayEmit));\n              case 7:\n              case \"end\":\n                return _context6.stop();\n            }\n        }, _callee6, this);\n      }));\n      function replay(_x2) {\n        return _replay.apply(this, arguments);\n      }\n      return replay;\n    }()\n  }, {\n    key: \"switchURL\",\n    value: function() {\n      var _switchURL = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee7(url) {\n        var options, defaultOpts, key, _options, seamless, startTime, appended, _args7 = arguments;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1)\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                options = _args7.length > 1 && _args7[1] !== void 0 ? _args7[1] : {};\n                defaultOpts = {\n                  seamless: false,\n                  startTime: 0,\n                  bitrate: 0\n                };\n                _context7.t0 = _typeof(options);\n                _context7.next = _context7.t0 === \"number\" ? 5 : _context7.t0 === \"boolean\" ? 7 : _context7.t0 === \"object\" ? 9 : 11;\n                break;\n              case 5:\n                options = {\n                  startTime: options\n                };\n                return _context7.abrupt(\"break\", 12);\n              case 7:\n                options = {\n                  seamless: options\n                };\n                return _context7.abrupt(\"break\", 12);\n              case 9:\n                for (key in options) {\n                  if (options[key] === void 0 || options[key] === null) {\n                    delete options[key];\n                  }\n                }\n                return _context7.abrupt(\"break\", 12);\n              case 11:\n                throw \"unsupported switchURL args: \".concat(options);\n              case 12:\n                options = Object.assign({}, defaultOpts, options);\n                _options = options, seamless = _options.seamless, startTime = _options.startTime;\n                this.config.url = url;\n                this.config.startTime = startTime;\n                this._switchUrlOpts = options;\n                if (seamless) {\n                  _context7.next = 38;\n                  break;\n                }\n                _context7.prev = 18;\n                if (!this.config.softDecode) {\n                  _context7.next = 23;\n                  break;\n                }\n                _context7.t1 = this.load(url);\n                _context7.next = 26;\n                break;\n              case 23:\n                _context7.next = 25;\n                return this.load(url);\n              case 25:\n                _context7.t1 = _context7.sent;\n              case 26:\n                appended = _context7.t1;\n                _context7.next = 33;\n                break;\n              case 29:\n                _context7.prev = 29;\n                _context7.t2 = _context7[\"catch\"](18);\n                this.emit(Event.SWITCH_URL_FAILED, _context7.t2);\n                throw _context7.t2;\n              case 33:\n                this._reloadOnPlay = false;\n                if (appended) {\n                  this.emit(Event.SWITCH_URL_SUCCESS, {\n                    url\n                  });\n                }\n                return _context7.abrupt(\"return\", this.media.play(true));\n              case 38:\n                this._urlSwitching = true;\n                if (!this.isLive) {\n                  this._prevSegSn = null;\n                  this._prevSegCc = null;\n                }\n                this._playlist.reset();\n                this._bufferService.seamlessSwitch();\n                _context7.next = 44;\n                return this._clear();\n              case 44:\n                _context7.next = 46;\n                return this._loadData(url);\n              case 46:\n                this._startTick();\n              case 47:\n                this._switchUrlOpts = null;\n              case 48:\n              case \"end\":\n                return _context7.stop();\n            }\n        }, _callee7, this, [[18, 29]]);\n      }));\n      function switchURL(_x3) {\n        return _switchURL.apply(this, arguments);\n      }\n      return switchURL;\n    }()\n  }, {\n    key: \"switchStream\",\n    value: function() {\n      var _switchStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee8(id) {\n        var force, curStream, streams, toSwitch, curId, _args8 = arguments;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1)\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                force = _args8.length > 1 && _args8[1] !== void 0 ? _args8[1] : true;\n                curStream = this.currentStream;\n                streams = this.streams;\n                if (!(!curStream || curStream.id === id || !streams || streams.length < 2)) {\n                  _context8.next = 5;\n                  break;\n                }\n                return _context8.abrupt(\"return\");\n              case 5:\n                toSwitch = streams.find(function(x) {\n                  return x.id === id;\n                });\n                if (toSwitch) {\n                  _context8.next = 8;\n                  break;\n                }\n                return _context8.abrupt(\"return\");\n              case 8:\n                _context8.prev = 8;\n                _context8.next = 11;\n                return this._clear();\n              case 11:\n                if (!force) {\n                  _context8.next = 14;\n                  break;\n                }\n                _context8.next = 14;\n                return this._bufferService.clearAllBuffer();\n              case 14:\n                _context8.next = 19;\n                break;\n              case 16:\n                _context8.prev = 16;\n                _context8.t0 = _context8[\"catch\"](8);\n                throw this._emitError(StreamingError.create(_context8.t0));\n              case 19:\n                if (curStream.currentAudioStream && toSwitch.audioStreams.length > 2) {\n                  curId = curStream.currentAudioStream.id;\n                  toSwitch.currentAudioStream = toSwitch.audioStreams.find(function(x) {\n                    return x.id === curId;\n                  }) || toSwitch.currentAudioStream;\n                }\n                this._playlist.currentStream = toSwitch;\n                _context8.prev = 21;\n                if (!(this.isLive || !toSwitch.segments.length)) {\n                  _context8.next = 25;\n                  break;\n                }\n                _context8.next = 25;\n                return this._refreshM3U8();\n              case 25:\n                this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(this.media.currentTime) || 0);\n                this._prevSegCc = null;\n                _context8.next = 29;\n                return this._loadSegmentDirect();\n              case 29:\n                _context8.next = 35;\n                break;\n              case 31:\n                _context8.prev = 31;\n                _context8.t1 = _context8[\"catch\"](21);\n                this._playlist.currentStream = curStream;\n                throw _context8.t1;\n              case 35:\n                this._startTick();\n                return _context8.abrupt(\"return\", toSwitch);\n              case 37:\n              case \"end\":\n                return _context8.stop();\n            }\n        }, _callee8, this, [[8, 16], [21, 31]]);\n      }));\n      function switchStream(_x4) {\n        return _switchStream.apply(this, arguments);\n      }\n      return switchStream;\n    }()\n  }, {\n    key: \"switchAudioStream\",\n    value: function() {\n      var _switchAudioStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee9(id) {\n        var force, curStream, audioStream, toSwitch, _args9 = arguments;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1)\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                force = _args9.length > 1 && _args9[1] !== void 0 ? _args9[1] : true;\n                curStream = this.currentStream;\n                if (curStream) {\n                  _context9.next = 4;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 4:\n                audioStream = curStream.currentAudioStream;\n                if (!(!audioStream || audioStream.id === id || curStream.audioStreams.length < 2)) {\n                  _context9.next = 7;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 7:\n                toSwitch = curStream.audioStreams.find(function(x) {\n                  return x.id === id;\n                });\n                if (toSwitch) {\n                  _context9.next = 10;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 10:\n                _context9.prev = 10;\n                _context9.next = 13;\n                return this._clear();\n              case 13:\n                if (!force) {\n                  _context9.next = 16;\n                  break;\n                }\n                _context9.next = 16;\n                return this._bufferService.clearAllBuffer();\n              case 16:\n                _context9.next = 21;\n                break;\n              case 18:\n                _context9.prev = 18;\n                _context9.t0 = _context9[\"catch\"](10);\n                throw this._emitError(StreamingError.create(_context9.t0));\n              case 21:\n                curStream.currentAudioStream = toSwitch;\n                _context9.prev = 22;\n                if (!(this.isLive || !toSwitch.segments.length)) {\n                  _context9.next = 26;\n                  break;\n                }\n                _context9.next = 26;\n                return this._refreshM3U8();\n              case 26:\n                this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(this.media.currentTime) || 0);\n                this._prevSegCc = null;\n                _context9.next = 30;\n                return this._loadSegmentDirect();\n              case 30:\n                _context9.next = 36;\n                break;\n              case 32:\n                _context9.prev = 32;\n                _context9.t1 = _context9[\"catch\"](22);\n                curStream.currentAudioStream = audioStream;\n                throw _context9.t1;\n              case 36:\n                this._startTick();\n                return _context9.abrupt(\"return\", toSwitch);\n              case 38:\n              case \"end\":\n                return _context9.stop();\n            }\n        }, _callee9, this, [[10, 18], [22, 32]]);\n      }));\n      function switchAudioStream(_x5) {\n        return _switchAudioStream.apply(this, arguments);\n      }\n      return switchAudioStream;\n    }()\n  }, {\n    key: \"switchSubtitleStream\",\n    value: function() {\n      var _switchSubtitleStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee10(lang) {\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1)\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                this._playlist.switchSubtitle(lang);\n                _context10.next = 3;\n                return this._manifestLoader.stopPoll();\n              case 3:\n                _context10.next = 5;\n                return this._refreshM3U8();\n              case 5:\n              case \"end\":\n                return _context10.stop();\n            }\n        }, _callee10, this);\n      }));\n      function switchSubtitleStream(_x6) {\n        return _switchSubtitleStream.apply(this, arguments);\n      }\n      return switchSubtitleStream;\n    }()\n  }, {\n    key: \"detachMedia\",\n    value: function() {\n      var _detachMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee11() {\n        return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n          while (1)\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                if (!this._bufferService) {\n                  _context11.next = 3;\n                  break;\n                }\n                _context11.next = 3;\n                return this._bufferService.detachMedia();\n              case 3:\n              case \"end\":\n                return _context11.stop();\n            }\n        }, _callee11, this);\n      }));\n      function detachMedia() {\n        return _detachMedia.apply(this, arguments);\n      }\n      return detachMedia;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function() {\n      var _destroy = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee12() {\n        var _this$_seiService2;\n        return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n          while (1)\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                if (this.media) {\n                  _context12.next = 2;\n                  break;\n                }\n                return _context12.abrupt(\"return\");\n              case 2:\n                this.removeAllListeners();\n                this._playlist.reset();\n                this._segmentLoader.reset();\n                (_this$_seiService2 = this._seiService) === null || _this$_seiService2 === void 0 ? void 0 : _this$_seiService2.reset();\n                this.media.removeEventListener(\"loadeddata\", this._onLoadeddata);\n                this.media.removeEventListener(\"play\", this._onPlay);\n                this.media.removeEventListener(\"pause\", this._onPause);\n                this.media.removeEventListener(\"seeking\", this._onSeeking);\n                this.media.removeEventListener(\"timeupdate\", this._onTimeupdate);\n                _context12.next = 13;\n                return Promise.all([this._clear(), this._bufferService.destroy()]);\n              case 13:\n                this.media = null;\n              case 14:\n              case \"end\":\n                return _context12.stop();\n            }\n        }, _callee12, this);\n      }));\n      function destroy() {\n        return _destroy.apply(this, arguments);\n      }\n      return destroy;\n    }()\n  }, {\n    key: \"_loadM3U8\",\n    value: function() {\n      var _loadM3U = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee13(url) {\n        var playlist, _this$config$manifest, _this$config$manifest2, manifest, _ref4, _ref5, _this$_playlist$curre;\n        return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n          while (1)\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                _context13.prev = 0;\n                manifest = (_this$config$manifest = this.config.manifestList) === null || _this$config$manifest === void 0 ? void 0 : (_this$config$manifest2 = _this$config$manifest.filter(function(x) {\n                  return x.url === url;\n                })[0]) === null || _this$config$manifest2 === void 0 ? void 0 : _this$config$manifest2.manifest;\n                if (!manifest) {\n                  _context13.next = 6;\n                  break;\n                }\n                _context13.t0 = this._manifestLoader.parseText(manifest, url);\n                _context13.next = 9;\n                break;\n              case 6:\n                _context13.next = 8;\n                return this._manifestLoader.load(url);\n              case 8:\n                _context13.t0 = _context13.sent;\n              case 9:\n                _ref4 = _context13.t0;\n                _ref5 = _slicedToArray(_ref4, 1);\n                playlist = _ref5[0];\n                _context13.next = 17;\n                break;\n              case 14:\n                _context13.prev = 14;\n                _context13.t1 = _context13[\"catch\"](0);\n                throw this._emitError(StreamingError.create(_context13.t1));\n              case 17:\n                if (playlist) {\n                  _context13.next = 19;\n                  break;\n                }\n                return _context13.abrupt(\"return\");\n              case 19:\n                this._playlist.upsertPlaylist(playlist);\n                if (!playlist.isMaster) {\n                  _context13.next = 24;\n                  break;\n                }\n                if ((_this$_playlist$curre = this._playlist.currentStream.subtitleStreams) !== null && _this$_playlist$curre !== void 0 && _this$_playlist$curre.length) {\n                  this.emit(Event.SUBTITLE_PLAYLIST, {\n                    list: this._playlist.currentStream.subtitleStreams\n                  });\n                }\n                _context13.next = 24;\n                return this._refreshM3U8();\n              case 24:\n                this.emit(Event.STREAM_PARSED);\n                return _context13.abrupt(\"return\", playlist);\n              case 26:\n              case \"end\":\n                return _context13.stop();\n            }\n        }, _callee13, this, [[0, 14]]);\n      }));\n      function _loadM3U8(_x7) {\n        return _loadM3U.apply(this, arguments);\n      }\n      return _loadM3U8;\n    }()\n  }, {\n    key: \"_refreshM3U8\",\n    value: function _refreshM3U8() {\n      var _stream$currentAudioS, _stream$currentSubtit, _this2 = this;\n      var stream = this._playlist.currentStream;\n      if (!stream || !stream.url)\n        throw this._emitError(StreamingError.create(null, null, new Error(\"m3u8 url is not defined\")));\n      var url = stream.url;\n      var audioUrl = (_stream$currentAudioS = stream.currentAudioStream) === null || _stream$currentAudioS === void 0 ? void 0 : _stream$currentAudioS.url;\n      var subtitleUrl = (_stream$currentSubtit = stream.currentSubtitleStream) === null || _stream$currentSubtit === void 0 ? void 0 : _stream$currentSubtit.url;\n      return this._manifestLoader.load(url, audioUrl, subtitleUrl).then(function(_ref6) {\n        var _ref7 = _slicedToArray(_ref6, 3), mediaPlaylist = _ref7[0], audioPlaylist = _ref7[1], subtitlePlaylist = _ref7[2];\n        if (!mediaPlaylist)\n          return;\n        _this2._playlist.upsertPlaylist(mediaPlaylist, audioPlaylist, subtitlePlaylist);\n        if (!_this2.isLive)\n          return;\n        _this2._pollM3U8(url, audioUrl, subtitleUrl);\n      }).catch(function(err) {\n        throw _this2._emitError(StreamingError.create(err));\n      });\n    }\n  }, {\n    key: \"_pollM3U8\",\n    value: function _pollM3U8(url, audioUrl, subtitleUrl) {\n      var _this3 = this;\n      var isEmpty = this._playlist.isEmpty;\n      var pollInterval;\n      if (this._playlist.lowLatency) {\n        pollInterval = (this._playlist.currentStream.partTargetDuration || 0) * 1e3;\n      } else {\n        var _this$_playlist$lastS;\n        pollInterval = (((_this$_playlist$lastS = this._playlist.lastSegment) === null || _this$_playlist$lastS === void 0 ? void 0 : _this$_playlist$lastS.duration) || 0) * 1e3;\n      }\n      this._manifestLoader.poll(\n        url,\n        audioUrl,\n        subtitleUrl,\n        function(p1, p2, p3) {\n          _this3._playlist.upsertPlaylist(p1, p2, p3);\n          _this3._playlist.clearOldSegment();\n          var switchToNoEmpty = p1 && isEmpty && !_this3._playlist.isEmpty;\n          if (switchToNoEmpty || !_this3._playlist.hadSegmentLoaded && _this3._playlist.nbSegments >= _this3.config.minSegmentsStartPlay) {\n            _this3._loadSegment();\n          }\n          if (isEmpty)\n            isEmpty = _this3._playlist.isEmpty;\n        },\n        function(err) {\n          _this3._emitError(StreamingError.create(err));\n        },\n        pollInterval\n      );\n    }\n  }, {\n    key: \"_loadSegmentDirect\",\n    value: function() {\n      var _loadSegmentDirect2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee14(loadOnce) {\n        var seg, appended, cachedError, _this$_playlist$curre2, bufferEnd, sameStream;\n        return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n          while (1)\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                seg = this._playlist.nextSegment;\n                if (seg) {\n                  _context14.next = 3;\n                  break;\n                }\n                return _context14.abrupt(\"return\");\n              case 3:\n                appended = false;\n                cachedError = null;\n                _context14.prev = 5;\n                this._segmentProcessing = true;\n                logger.log(\"load segment, sn:\".concat(seg.sn, \", [\").concat(seg.start, \", \").concat(seg.end, \"], partIndex:\").concat(seg.partIndex));\n                _context14.next = 10;\n                return this._reqAndBufferSegment(seg, this._playlist.getAudioSegment(seg));\n              case 10:\n                appended = _context14.sent;\n                _context14.next = 16;\n                break;\n              case 13:\n                _context14.prev = 13;\n                _context14.t0 = _context14[\"catch\"](5);\n                cachedError = _context14.t0;\n              case 16:\n                _context14.prev = 16;\n                this._segmentProcessing = false;\n                return _context14.finish(16);\n              case 19:\n                if (!cachedError) {\n                  _context14.next = 26;\n                  break;\n                }\n                if (!this._bufferService.isFull()) {\n                  _context14.next = 25;\n                  break;\n                }\n                logger.log(\"load segment, sn:\".concat(seg.sn, \", partIndex:\").concat(seg.partIndex));\n                this._segmentProcessing = true;\n                this._isProcessQuotaExceeded = true;\n                return _context14.abrupt(\"return\", false);\n              case 25:\n                return _context14.abrupt(\"return\", this._emitError(StreamingError.create(cachedError)));\n              case 26:\n                if (appended) {\n                  bufferEnd = this.bufferInfo().end;\n                  if (this.isLive && !this.media.seeking && bufferEnd && Math.abs(seg.end - bufferEnd) > 1) {\n                    logger.warn(\"segment: \".concat(seg.sn, \" expected end=\").concat(seg.end, \", real end=\").concat(bufferEnd));\n                    this._playlist.feedbackLiveEdge(seg, bufferEnd);\n                  }\n                  sameStream = ((_this$_playlist$curre2 = this._playlist.currentStream) === null || _this$_playlist$curre2 === void 0 ? void 0 : _this$_playlist$curre2.url) === seg.parentUrl;\n                  if (this._urlSwitching && !sameStream) {\n                    logger.warn(\"pre playlist segment appended!\");\n                    this._bufferService.seamlessSwitch();\n                  }\n                  if (this.isLive && this._urlSwitching && sameStream) {\n                    this._urlSwitching = false;\n                    this.emit(Event.SWITCH_URL_SUCCESS, {\n                      url: this.config.url\n                    });\n                  }\n                  this._playlist.moveSegmentPointer();\n                  if (seg.isLast) {\n                    this._end();\n                  } else if (!loadOnce) {\n                    this._loadSegment();\n                  }\n                }\n                return _context14.abrupt(\"return\", appended);\n              case 28:\n              case \"end\":\n                return _context14.stop();\n            }\n        }, _callee14, this, [[5, 13, 16, 19]]);\n      }));\n      function _loadSegmentDirect(_x8) {\n        return _loadSegmentDirect2.apply(this, arguments);\n      }\n      return _loadSegmentDirect;\n    }()\n  }, {\n    key: \"_reqAndBufferSegment\",\n    value: function() {\n      var _reqAndBufferSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee15(seg, audioSeg) {\n        var _this$_bufferService2;\n        var cc, discontinuity, responses, data, sn, start, stream, before, contiguous, segStart;\n        return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n          while (1)\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                cc = seg ? seg.cc : audioSeg.cc;\n                discontinuity = this._prevSegCc !== cc;\n                responses = [];\n                _context15.prev = 3;\n                _context15.next = 6;\n                return this._segmentLoader.load(seg, audioSeg, discontinuity);\n              case 6:\n                responses = _context15.sent;\n                _context15.next = 14;\n                break;\n              case 9:\n                _context15.prev = 9;\n                _context15.t0 = _context15[\"catch\"](3);\n                _context15.t0.fatal = false;\n                this._segmentLoader.error = _context15.t0;\n                throw _context15.t0;\n              case 14:\n                if (responses[0]) {\n                  _context15.next = 16;\n                  break;\n                }\n                return _context15.abrupt(\"return\");\n              case 16:\n                _context15.next = 18;\n                return (_this$_bufferService2 = this._bufferService).decryptBuffer.apply(_this$_bufferService2, _toConsumableArray(responses));\n              case 18:\n                data = _context15.sent;\n                if (data) {\n                  _context15.next = 21;\n                  break;\n                }\n                return _context15.abrupt(\"return\");\n              case 21:\n                sn = seg ? seg.sn : audioSeg.sn;\n                start = seg ? seg.start : audioSeg.start;\n                stream = this._playlist.currentStream;\n                this._bufferService.createSource(data[0], data[1], stream === null || stream === void 0 ? void 0 : stream.videoCodec, stream === null || stream === void 0 ? void 0 : stream.audioCodec);\n                before = Date.now();\n                contiguous = this._prevSegSn === sn - 1;\n                if (this.isLive && this._urlSwitching) {\n                  segStart = this.bufferInfo().end;\n                  this._playlist.updateSegmentsRanges(sn, segStart);\n                  logger.warn(\"update the new playlist liveEdge, segment id=\".concat(sn, \", buffer start=\").concat(segStart, \", liveEdge=\").concat(this._playlist.liveEdge));\n                  start = segStart;\n                }\n                _context15.next = 30;\n                return this._bufferService.appendBuffer(seg, audioSeg, data[0], data[1], discontinuity, contiguous, start);\n              case 30:\n                this.emit(Event.APPEND_COST, {\n                  elapsed: Date.now() - before,\n                  url: seg.url\n                });\n                _context15.next = 33;\n                return this._bufferService.evictBuffer(this.config.bufferBehind);\n              case 33:\n                this._prevSegCc = cc;\n                this._prevSegSn = sn;\n                return _context15.abrupt(\"return\", true);\n              case 36:\n              case \"end\":\n                return _context15.stop();\n            }\n        }, _callee15, this, [[3, 9]]);\n      }));\n      function _reqAndBufferSegment(_x9, _x10) {\n        return _reqAndBufferSegment2.apply(this, arguments);\n      }\n      return _reqAndBufferSegment;\n    }()\n  }, {\n    key: \"_onCheckQuotaExceeded\",\n    value: function() {\n      var _onCheckQuotaExceeded2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee16() {\n        var seekTime, buffered, inBuffered, i, bufferBehind, mediaTime;\n        return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n          while (1)\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                seekTime = this.media.currentTime;\n                buffered = this.media.buffered;\n                inBuffered = false;\n                i = 0;\n              case 4:\n                if (!(i < buffered.length)) {\n                  _context16.next = 11;\n                  break;\n                }\n                if (!(buffered.start(0) >= seekTime && seekTime < buffered.end(i))) {\n                  _context16.next = 8;\n                  break;\n                }\n                inBuffered = true;\n                return _context16.abrupt(\"break\", 11);\n              case 8:\n                i++;\n                _context16.next = 4;\n                break;\n              case 11:\n                if (!this._bufferService.isFull()) {\n                  _context16.next = 17;\n                  break;\n                }\n                bufferBehind = inBuffered ? this.config.bufferBehind : 5;\n                mediaTime = this.media.currentTime;\n                if (!(mediaTime - bufferBehind > 0)) {\n                  _context16.next = 17;\n                  break;\n                }\n                _context16.next = 17;\n                return this._bufferService.removeBuffer(0, mediaTime - bufferBehind);\n              case 17:\n              case \"end\":\n                return _context16.stop();\n            }\n        }, _callee16, this);\n      }));\n      function _onCheckQuotaExceeded() {\n        return _onCheckQuotaExceeded2.apply(this, arguments);\n      }\n      return _onCheckQuotaExceeded;\n    }()\n  }, {\n    key: \"_checkStreamTrackChange\",\n    value: function _checkStreamTrackChange(time) {\n      var changedSeg = this._playlist.checkSegmentTrackChange(time, this._bufferService.nbSb);\n      if (!changedSeg)\n        return;\n      this.switchURL(this.config.url, changedSeg.start + 0.2);\n    }\n  }, {\n    key: \"_clear\",\n    value: function() {\n      var _clear2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee17() {\n        return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n          while (1)\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                clearTimeout(this._disconnectTimer);\n                this._stopTick();\n                _context17.next = 4;\n                return Promise.all([this._segmentLoader.cancel(), this._manifestLoader.stopPoll()]);\n              case 4:\n                this._segmentProcessing = false;\n              case 5:\n              case \"end\":\n                return _context17.stop();\n            }\n        }, _callee17, this);\n      }));\n      function _clear() {\n        return _clear2.apply(this, arguments);\n      }\n      return _clear;\n    }()\n  }, {\n    key: \"_reset\",\n    value: function() {\n      var _reset2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee18() {\n        var _this$_seiService3;\n        var reuseMse, _args18 = arguments;\n        return _regeneratorRuntime().wrap(function _callee18$(_context18) {\n          while (1)\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                reuseMse = _args18.length > 0 && _args18[0] !== void 0 ? _args18[0] : false;\n                this._reloadOnPlay = false;\n                this._prevSegSn = null;\n                this._prevSegCc = null;\n                this._switchUrlOpts = null;\n                this._playlist.reset();\n                this._segmentLoader.reset();\n                (_this$_seiService3 = this._seiService) === null || _this$_seiService3 === void 0 ? void 0 : _this$_seiService3.reset();\n                this._stats.reset();\n                _context18.next = 11;\n                return this._clear();\n              case 11:\n                return _context18.abrupt(\"return\", this._bufferService.reset(reuseMse));\n              case 12:\n              case \"end\":\n                return _context18.stop();\n            }\n        }, _callee18, this);\n      }));\n      function _reset() {\n        return _reset2.apply(this, arguments);\n      }\n      return _reset;\n    }()\n  }, {\n    key: \"_end\",\n    value: function _end() {\n      this._clear();\n      this._bufferService.endOfStream();\n      if (this.media.readyState <= 2 || this.media.buffered.length > 1) {\n        this._startTick();\n      }\n    }\n  }, {\n    key: \"_stopTick\",\n    value: function _stopTick() {\n      if (this._tickTimer) {\n        clearTimeout(this._tickTimer);\n      }\n      this._tickTimer = null;\n    }\n  }, {\n    key: \"_startTick\",\n    value: function _startTick() {\n      this._stopTick();\n      this._tickTimer = setTimeout(this._tick, this._tickInterval);\n    }\n  }, {\n    key: \"_emitError\",\n    value: function _emitError(error) {\n      var _error$originError;\n      var endOfStream = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      if (((_error$originError = error.originError) === null || _error$originError === void 0 ? void 0 : _error$originError.fatal) === false) {\n        logger.warn(error);\n      } else {\n        var _this$media2, _this$media3, _this$_seiService4;\n        logger.table(error);\n        logger.error(error);\n        logger.error((_this$media2 = this.media) === null || _this$media2 === void 0 ? void 0 : _this$media2.error);\n        if ((_this$media3 = this.media) !== null && _this$media3 !== void 0 && _this$media3.readyState) {\n          this.media.pause();\n        }\n        this._stopTick();\n        if (this._urlSwitching) {\n          this._urlSwitching = false;\n          this.emit(Event.SWITCH_URL_FAILED, error);\n        }\n        this.emit(Event.ERROR, error);\n        if (endOfStream)\n          this._end();\n        (_this$_seiService4 = this._seiService) === null || _this$_seiService4 === void 0 ? void 0 : _this$_seiService4.reset();\n      }\n      return error;\n    }\n  }, {\n    key: \"_getSeamlessSwitchPoint\",\n    value: function _getSeamlessSwitchPoint() {\n      var media = this.media;\n      var nextLoadPoint = media.currentTime;\n      if (!media.paused) {\n        var _this$_stats;\n        var segIdx = this._playlist.findSegmentIndexByTime(media.currentTime);\n        var curSeg = this._playlist.getSegmentByIndex(segIdx);\n        var latestKbps = (_this$_stats = this._stats) === null || _this$_stats === void 0 ? void 0 : _this$_stats.getStats().downloadSpeed;\n        if (latestKbps && curSeg) {\n          var delay = curSeg.duration * this._playlist.currentStream.bitrate / latestKbps + 1;\n          nextLoadPoint += delay;\n        } else {\n          nextLoadPoint += 5;\n        }\n      }\n      return nextLoadPoint;\n    }\n  }, {\n    key: \"_tryEos\",\n    value: function _tryEos() {\n      var _this$_bufferService3, _this$_bufferService4;\n      var media = this.media;\n      var _this$_playlist2 = this._playlist, nextSegment = _this$_playlist2.nextSegment, lastSegment = _this$_playlist2.lastSegment;\n      var eosAllowed = (!nextSegment || lastSegment && Buffer.isBuffered(media, lastSegment.start + lastSegment.duration / 2)) && media.readyState && media.duration > 0 && ((_this$_bufferService3 = this._bufferService) === null || _this$_bufferService3 === void 0 ? void 0 : _this$_bufferService3.msIsOpened) && !((_this$_bufferService4 = this._bufferService) !== null && _this$_bufferService4 !== void 0 && _this$_bufferService4.msHasOpTasks);\n      if (!eosAllowed) {\n        return;\n      }\n      var bInfo = this.bufferInfo();\n      if (media.paused && !media.currentTime) {\n        bInfo = this.bufferInfo(bInfo.nextStart || 0.5);\n      }\n      var bufferThroughout = Math.abs(bInfo.end - media.duration) < 0.1 || !this.isLive && lastSegment && bInfo.end >= lastSegment.start + lastSegment.duration;\n      if (bufferThroughout) {\n        this._bufferService.endOfStream();\n      }\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported(mediaType) {\n      if (!mediaType || mediaType === \"video\" || mediaType === \"audio\") {\n        return MSE.isSupported();\n      }\n      return typeof WebAssembly !== \"undefined\";\n    }\n  }, {\n    key: \"enableLogger\",\n    value: function enableLogger() {\n      Logger.enable();\n      Logger$1.enable();\n    }\n  }, {\n    key: \"disableLogger\",\n    value: function disableLogger() {\n      Logger.disable();\n      Logger$1.disable();\n    }\n  }]);\n  return Hls2;\n}(EventEmitter);\n_defineProperty(Hls, \"version\", \"3.0.20\");\ntry {\n  if (localStorage.getItem(\"xgd\")) {\n    Hls.enableLogger();\n  } else {\n    Hls.disableLogger();\n  }\n} catch (error) {\n}\nexport { Hls, logger };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { Event } from \"./hls/constants.js\";\nvar PluginExtension = /* @__PURE__ */ function() {\n  function PluginExtension2(opts, plugin) {\n    var _this = this;\n    _classCallCheck(this, PluginExtension2);\n    _defineProperty(this, \"_opts\", null);\n    _defineProperty(this, \"_plugin\", null);\n    _defineProperty(this, \"_onLowDecode\", function() {\n      var _this$_plugin, _this$_plugin$player, _this$_plugin2, _this$_plugin2$player;\n      var _this$_opts = _this._opts, media = _this$_opts.media, innerDegrade = _this$_opts.innerDegrade;\n      (_this$_plugin = _this._plugin) === null || _this$_plugin === void 0 ? void 0 : (_this$_plugin$player = _this$_plugin.player) === null || _this$_plugin$player === void 0 ? void 0 : _this$_plugin$player.emit(\"lowdecode\", media.degradeInfo);\n      (_this$_plugin2 = _this._plugin) === null || _this$_plugin2 === void 0 ? void 0 : (_this$_plugin2$player = _this$_plugin2.player) === null || _this$_plugin2$player === void 0 ? void 0 : _this$_plugin2$player.emit(\"core_event\", _objectSpread2(_objectSpread2({}, media.degradeInfo), {}, {\n        eventName: Event.LOWDECODE\n      }));\n      if (innerDegrade === 1) {\n        _this._degrade(media.src);\n      }\n    });\n    _defineProperty(this, \"_degrade\", function(url) {\n      var player = _this._plugin.player;\n      var originVideo = player.video;\n      if (originVideo && originVideo.TAG !== \"MVideo\")\n        return;\n      var newVideo = player.video.degradeVideo;\n      player.video = newVideo;\n      originVideo.degrade(url);\n      if (url) {\n        player.config.url = url;\n      }\n      var firstChild = player.root.firstChild;\n      if (firstChild.TAG === \"MVideo\") {\n        player.root.replaceChild(newVideo, firstChild);\n      }\n      var hlsPlugin = _this._plugin.constructor.pluginName.toLowerCase();\n      player.unRegisterPlugin(hlsPlugin);\n      player.once(\"canplay\", function() {\n        player.play();\n      });\n    });\n    _defineProperty(this, \"forceDegradeToVideo\", function(url) {\n      var innerDegrade = _this._opts.innerDegrade;\n      if (innerDegrade === 1) {\n        _this._degrade(url);\n      }\n    });\n    this._opts = opts;\n    this._plugin = plugin;\n    this._init();\n  }\n  _createClass(PluginExtension2, [{\n    key: \"_init\",\n    value: function _init() {\n      var _this$_opts2 = this._opts, media = _this$_opts2.media, preloadTime = _this$_opts2.preloadTime, innerDegrade = _this$_opts2.innerDegrade, isLive = _this$_opts2.isLive;\n      if (!media)\n        return;\n      if (!isLive && media.setPlayMode) {\n        media.setPlayMode(\"VOD\");\n        return;\n      }\n      if (innerDegrade) {\n        media.setAttribute(\"innerdegrade\", innerDegrade);\n      }\n      if (preloadTime) {\n        media.setAttribute(\"preloadtime\", preloadTime);\n      }\n      this._bindEvents();\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var media = this._opts.media;\n      media.addEventListener(\"lowdecode\", this._onLowDecode);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$_opts3, _this$_opts3$media;\n      (_this$_opts3 = this._opts) === null || _this$_opts3 === void 0 ? void 0 : (_this$_opts3$media = _this$_opts3.media) === null || _this$_opts3$media === void 0 ? void 0 : _this$_opts3$media.removeEventListener(\"lowdecode\", this._onLowDecode);\n      this._plugin = null;\n    }\n  }]);\n  return PluginExtension2;\n}();\nexport { PluginExtension as default };\n","import { defineProperty as _defineProperty, typeof as _typeof, objectWithoutProperties as _objectWithoutProperties, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { BasePlugin, Events, Errors } from \"xgplayer\";\nimport { MSE, EVENT } from \"xgplayer-streaming-shared\";\nimport { Hls, logger } from \"./hls/index.js\";\nimport { Event } from \"./hls/constants.js\";\nimport PluginExtension from \"./plugin-extension.js\";\nvar _excluded = [\"currentTime\"];\nfunction parseSwitchUrlArgs(args, plugin) {\n  var player = plugin.player;\n  var curTime = player.currentTime;\n  var options = {\n    startTime: curTime\n  };\n  switch (_typeof(args)) {\n    case \"boolean\":\n      options.seamless = args;\n      break;\n    case \"object\": {\n      var currentTime = args.currentTime, rest = _objectWithoutProperties(args, _excluded);\n      Object.assign(options, rest);\n      if (typeof currentTime === \"number\") {\n        options.startTime = currentTime;\n      }\n      break;\n    }\n  }\n  return options;\n}\nvar HlsPlugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(HlsPlugin2, _BasePlugin);\n  var _super = _createSuper(HlsPlugin2);\n  function HlsPlugin2() {\n    var _this;\n    _classCallCheck(this, HlsPlugin2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"logger\", logger);\n    _defineProperty(_assertThisInitialized(_this), \"hls\", null);\n    _defineProperty(_assertThisInitialized(_this), \"pluginExtension\", null);\n    _defineProperty(_assertThisInitialized(_this), \"getStats\", function() {\n      var _this$hls;\n      return (_this$hls = _this.hls) === null || _this$hls === void 0 ? void 0 : _this$hls.getStats();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSwitchSubtitle\", function(_ref) {\n      var _this$hls2;\n      var lang = _ref.lang;\n      (_this$hls2 = _this.hls) === null || _this$hls2 === void 0 ? void 0 : _this$hls2.switchSubtitleStream(lang);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_keepPauseStatus\", function() {\n      var paused = _this.player.paused;\n      if (!paused)\n        return;\n      _this.player.once(\"canplay\", function() {\n        _this.player.pause();\n      });\n    });\n    return _this;\n  }\n  _createClass(HlsPlugin2, [{\n    key: \"core\",\n    get: function get() {\n      return this.hls;\n    }\n  }, {\n    key: \"version\",\n    get: function get() {\n      var _this$hls3;\n      return (_this$hls3 = this.hls) === null || _this$hls3 === void 0 ? void 0 : _this$hls3.version;\n    }\n  }, {\n    key: \"softDecode\",\n    get: function get() {\n      var _this$player, _this$player$config;\n      var mediaType = (_this$player = this.player) === null || _this$player === void 0 ? void 0 : (_this$player$config = _this$player.config) === null || _this$player$config === void 0 ? void 0 : _this$player$config.mediaType;\n      return !!mediaType && mediaType !== \"video\" && mediaType !== \"audio\";\n    }\n  }, {\n    key: \"beforePlayerInit\",\n    value: function beforePlayerInit() {\n      var _this2 = this;\n      var config = this.player.config;\n      var mediaElem = this.player.media || this.player.video;\n      var hlsOpts = config.hls || {};\n      if (!config.url && !config.__allowHlsEmptyUrl__ || !hlsOpts.preferMMS && MSE.isMMSOnly()) {\n        return;\n      }\n      if (this.hls)\n        this.hls.destroy();\n      var descriptor = Object.getOwnPropertyDescriptor(this.player, \"switchURL\");\n      if (!descriptor || descriptor.writable) {\n        this.player.switchURL = function(url, args) {\n          return new Promise(function(resolve, reject) {\n            var player = _this2.player, hls = _this2.hls;\n            if (hls) {\n              var _this2$player$config, _this2$player$config$;\n              var options = parseSwitchUrlArgs(args, _this2);\n              player.config.url = url;\n              hls.switchURL(url, options).then(function() {\n                return resolve(true);\n              }).catch(reject);\n              if (!options.seamless && (_this2$player$config = _this2.player.config) !== null && _this2$player$config !== void 0 && (_this2$player$config$ = _this2$player$config.hls) !== null && _this2$player$config$ !== void 0 && _this2$player$config$.keepStatusAfterSwitch) {\n                _this2._keepPauseStatus();\n              }\n            } else {\n              reject();\n            }\n          });\n        };\n      }\n      var onSwitchUrl = this.player.switchURL;\n      this.player.handleSource = false;\n      hlsOpts.innerDegrade = hlsOpts.innerDegrade || config.innerDegrade;\n      if (hlsOpts.disconnectTime === null || hlsOpts.disconnectTime === void 0)\n        hlsOpts.disconnectTime = 0;\n      this.hls = new Hls(_objectSpread2({\n        softDecode: this.softDecode,\n        isLive: config.isLive,\n        media: mediaElem,\n        startTime: config.startTime,\n        url: config.url\n      }, hlsOpts));\n      if (!this.softDecode) {\n        BasePlugin.defineGetterOrSetter(this.player, {\n          url: {\n            get: function get() {\n              var _this2$hls, _this2$hls$media;\n              return (_this2$hls = _this2.hls) === null || _this2$hls === void 0 ? void 0 : (_this2$hls$media = _this2$hls.media) === null || _this2$hls$media === void 0 ? void 0 : _this2$hls$media.src;\n            },\n            configurable: true\n          }\n        });\n      }\n      if (this.softDecode) {\n        this.pluginExtension = new PluginExtension(_objectSpread2({\n          isLive: config.isLive,\n          media: mediaElem\n        }, hlsOpts), this);\n        this.player.forceDegradeToVideo = function() {\n          var _this2$pluginExtensio;\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          return (_this2$pluginExtensio = _this2.pluginExtension) === null || _this2$pluginExtensio === void 0 ? void 0 : _this2$pluginExtensio.forceDegradeToVideo.apply(_this2$pluginExtensio, args);\n        };\n      }\n      if (config.isLive) {\n        var _this$player2;\n        (_this$player2 = this.player) === null || _this$player2 === void 0 ? void 0 : _this$player2.useHooks(\"replay\", function() {\n          var _this2$hls2;\n          return (_this2$hls2 = _this2.hls) === null || _this2$hls2 === void 0 ? void 0 : _this2$hls2.replay();\n        });\n      }\n      this.on(Events.URL_CHANGE, onSwitchUrl);\n      this.on(Events.SWITCH_SUBTITLE || \"switch_subtitle\", this._onSwitchSubtitle);\n      this.on(Events.DESTROY, this.destroy.bind(this));\n      this._transError();\n      this._transCoreEvent(EVENT.TTFB);\n      this._transCoreEvent(EVENT.LOAD_START);\n      this._transCoreEvent(EVENT.LOAD_RESPONSE_HEADERS);\n      this._transCoreEvent(EVENT.LOAD_COMPLETE);\n      this._transCoreEvent(EVENT.LOAD_RETRY);\n      this._transCoreEvent(EVENT.SOURCEBUFFER_CREATED);\n      this._transCoreEvent(EVENT.MEDIASOURCE_OPENED);\n      this._transCoreEvent(EVENT.APPEND_BUFFER);\n      this._transCoreEvent(EVENT.REMOVE_BUFFER);\n      this._transCoreEvent(EVENT.BUFFEREOS);\n      this._transCoreEvent(EVENT.KEYFRAME);\n      this._transCoreEvent(EVENT.METADATA_PARSED);\n      this._transCoreEvent(EVENT.DEMUXED_TRACK);\n      this._transCoreEvent(EVENT.SEI);\n      this._transCoreEvent(EVENT.SEI_IN_TIME);\n      this._transCoreEvent(EVENT.SPEED);\n      this._transCoreEvent(EVENT.HLS_MANIFEST_LOADED);\n      this._transCoreEvent(EVENT.HLS_LEVEL_LOADED);\n      this._transCoreEvent(EVENT.STREAM_EXCEPTION);\n      this._transCoreEvent(EVENT.SWITCH_URL_SUCCESS);\n      this._transCoreEvent(EVENT.SWITCH_URL_FAILED);\n      this._transCoreEvent(Event.NO_AUDIO_TRACK);\n      this._transCoreEvent(Event.STREAM_PARSED);\n      this._transCoreEvent(Event.SUBTITLE_SEGMENTS);\n      this._transCoreEvent(Event.SUBTITLE_PLAYLIST);\n      this._transCoreEvent(Event.APPEND_COST);\n      if (config.url) {\n        this.hls.load(config.url, {\n          reuseMse: true\n        }).catch(function(e) {\n        });\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$pluginExtension;\n      if (this.hls) {\n        this.hls.destroy();\n        this.hls = null;\n      }\n      (_this$pluginExtension = this.pluginExtension) === null || _this$pluginExtension === void 0 ? void 0 : _this$pluginExtension.destroy();\n      this.pluginExtension = null;\n    }\n  }, {\n    key: \"_transError\",\n    value: function _transError() {\n      var _this3 = this;\n      this.hls.on(Event.ERROR, function(err) {\n        if (_this3.player) {\n          _this3.player.emit(Events.ERROR, new Errors(_this3.player, err));\n        }\n      });\n    }\n  }, {\n    key: \"_transCoreEvent\",\n    value: function _transCoreEvent(eventName) {\n      var _this4 = this;\n      this.hls.on(eventName, function(e) {\n        if (_this4.player) {\n          _this4.player.emit(\"core_event\", _objectSpread2(_objectSpread2({}, e), {}, {\n            eventName\n          }));\n          if (eventName === EVENT.SEI_IN_TIME && _this4.hls.hasSubtitle) {\n            _this4._emitSeiPaylodTime(e);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_emitSeiPaylodTime\",\n    value: function _emitSeiPaylodTime(e) {\n      try {\n        var seiJson = JSON.parse(Array.from(e.data.payload).map(function(x) {\n          return String.fromCharCode(x);\n        }).join(\"\").slice(0, -1));\n        if (!seiJson[\"rtmp_dts\"])\n          return;\n        this.player.emit(\"core_event\", {\n          eventName: Event.SEI_PAYLOAD_TIME,\n          time: seiJson[\"rtmp_dts\"]\n        });\n      } catch (e2) {\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"hls\";\n    }\n  }, {\n    key: \"isSupported\",\n    value: function isSupported(mediaType, codec) {\n      return Hls.isSupported(mediaType, codec);\n    }\n  }]);\n  return HlsPlugin2;\n}(BasePlugin);\n_defineProperty(HlsPlugin, \"Hls\", Hls);\n_defineProperty(HlsPlugin, \"EVENT\", Event);\nexport { HlsPlugin, parseSwitchUrlArgs };\n","import { render } from \"./index.vue?vue&type=template&id=8933a988&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=8933a988&scoped=true&lang=scss\"\nimport \"./index.vue?vue&type=style&index=1&id=8933a988&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8933a988\"]])\n\nexport default __exports__"],"names":["DOCUMENT_NODE_TYPE","Element","prototype","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","closest","element","selector","nodeType","parentNode","module","exports","require","_delegate","type","callback","useCapture","listenerFn","listener","apply","this","arguments","addEventListener","destroy","removeEventListener","delegate","elements","bind","document","querySelectorAll","Array","map","call","e","delegateTarget","target","root","factory","define","download","data","strFileName","strMimeType","blob","reader","self","window","defaultMime","mimeType","payload","url","anchor","createElement","toString","a","String","myBlob","Blob","MozBlob","WebKitBlob","fileName","length","split","pop","href","indexOf","ajax","XMLHttpRequest","open","responseType","onload","response","setTimeout","send","test","navigator","msSaveBlob","dataUrlToBlob","saver","i","tempUiArr","Uint8Array","mx","charCodeAt","strUrl","parts","decoder","atob","decodeURIComponent","binData","uiArr","winMode","setAttribute","className","innerHTML","style","display","body","appendChild","click","removeChild","URL","revokeObjectURL","userAgent","replace","confirm","location","f","src","createObjectURL","constructor","btoa","y","encodeURIComponent","FileReader","result","readAsDataURL","has","Object","hasOwnProperty","prefix","Events","EE","fn","context","once","addListener","emitter","event","TypeError","evt","_events","push","_eventsCount","clearEvent","EventEmitter","create","__proto__","eventNames","events","name","names","slice","getOwnPropertySymbols","concat","listeners","handlers","l","ee","listenerCount","emit","a1","a2","a3","a4","a5","args","len","removeListener","undefined","j","on","removeAllListeners","off","prefixed","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_Fragment","_renderList","_ctx","ads","item","_hoisted_3","_createVNode","_component_van_image","onClick","$event","$options","goAd","link","fit","position","picUrl","loading","_withCtx","_component_van_loading","size","_","$data","key","id","_component_Title","category","classifyName","titleMap","language","suffix","_hoisted_4","videos","v","_hoisted_5","_component_Card","_hoisted_6","adsSide","idx","title","components","Card","Title","props","processedData","Boolean","default","_ads","computed","mapState","state","common","menus","methods","initData","count","times","Math","ceil","shift","func","async","menu","rows","code","api","page","pageSize","classifyId","specialId","mounted","__exports__","render","_hoisted_7","_imports_0","alt","_toDisplayString","watchTimes","_hoisted_8","formatTime","createdAt","_hoisted_9","_hoisted_10","_imports_1","_hoisted_11","_hoisted_12","_hoisted_13","_createCommentVNode","_hoisted_14","titleUs","_hoisted_15","titleCn","titleChinese","_hoisted_16","_hoisted_17","_hoisted_18","relatedMap","more","_hoisted_19","_createBlock","_hoisted_20","_hoisted_21","_cache","goCategory","moreRelatedMap","_component_Sidebar","ownKeys","object","enumerableOnly","keys","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","_objectSpread2","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_typeof","obj","Symbol","iterator","obj2","_classCallCheck","instance","Constructor","_defineProperties","descriptor","configurable","writable","_toPropertyKey","_createClass","protoProps","staticProps","value","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","o2","p","p2","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","valueOf","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","Super","NewTarget","_superPropBase","property","_get","get","receiver","base","desc","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","isArray","_arrayLikeToArray","iter","from","minLen","n","arr2","_toPrimitive","input","hint","prim","toPrimitive","res","Number","arg","XG_DEBUG_OPEN","STYLE","info","error","warn","XGTAG","XG_DEBUG","config","debug","logInfo","message","_console","_len","optionalParams","_key","console","log","logWarn","_console2","_len2","_key2","logError","_console3","_fun","_len3","_key3","bindDebug","player","XgplayerTimeRange","XgplayerTimeRange2","bufferedList","index","start","end","util","checkIsIn","list","isObject","debounce","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","useRAF","requestAnimationFrame","invokeFunc","time","thisArg","startTimer","pendingFunc","wait2","cancelAnimationFrame","cancelTimer","clearTimeout","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","min","shouldInvoke","Date","now","trailingEdge","cancel","flush","pending","debounced","isInvoking","max","throttle","getLang","lang","documentElement","getAttribute","toLocaleLowerCase","checkIsCurrentVideo","playerId","pid","tagName","createDom","el","tpl","attrs","cname","dom","createDomFromHtml","html","classname","doc","children","addClass","err","hasClass","some","classList","orgClassName","match","RegExp","add","removeClass","remove","reg","toggleClass","classNames","_arguments","_loop","i2","typeOf","join","findDom","sel","querySelector","getElementById","getCss","currentStyle","defaultView","getComputedStyle","padStart","str","pad","charstr","maxlen","chars","r","substring","format","isNaN","round","hour","floor","minute","second","touches","touch","changedTouches","clientX","clientY","offsetX","pageX","offsetLeft","offsetY","pageY","offsetTop","_target","srcElement","deepCopy","dst","Node","deepMerge","_dst$key","getBgImage","backgroundImage","copyDom","back","attributes","node","setInterval","eventName","intervalFunc","frequency","_interval","clearInterval","fun","_timers","splice","clearAllTimers","_timerIds","createImgBtn","imgUrl","width","height","w","h","unit","btn","every","parseFloat","trim","backgroundSize","margin","Hex2RGBA","hex","alpha","rgb","sixHex","kw","parseInt","getFullScreenEl","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","checkIsFunction","checkIsObject","hide","show","isUndefined","val","isNotNull","setStyleFromCsstext","text","styleArr","filterStyleFromText","_cssText","cssText","ret","remain","getStyleFromCsstext","preloadImg","onerror","img","Image","stopPropagation","scrollTop","pageYOffset","scrollLeft","pageXOffset","checkTouchSupport","getBuffered2","vbuffered","maxHoleDuration","buffered","sort","b","diff","buffered2","_i","buf2len","buf2end","getEventPos","zoom","x","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","getHostFromUrl","results","domain","frameId","mozCancelAnimationFrame","cancelRequestAnimationFrame","isMSE","video","media","HTMLMediaElement","currentSrc","isBlob","generateSessionId","did","d","getTime","performance","uuid","c","random","createEvent","Event","initEvent","adjustTimeByDuration","duration","isEnded","createPositionBar","getTransformStyle","pos","scale","rotate","transformValue","styles","translate","stylesKeys","lastIndex","convertDeg","abs","getIndexByTime","segments","_index","getOffsetCurrentTime","currentTime","_segments$_index","cTime","offset","getCurrentTimeByOffset","offsetTime","VERSION_REG","android","ios","H264_MIMETYPES","sniffer","device","os","isPc","browser","ua","toLowerCase","ie","firefox","chrome","opera","safari","isWindowsPhone","isSymbian","isAndroid","isFireFox","isIpad","platform","maxTouchPoints","isTablet","isPhone","isIos","osVersion","_match","exec","version","isWeixin","isSupportMP4","isSupport","mime","supportResult","canPlayType","isMSESupport","MediaSource","isTypeSupported","_logger","isHevcSupported","probeConfigSupported","defaults","supported","smooth","powerEfficient","Promise","resolve","mediaCapabilities","decodingInfo","videoConfig","audioConfig","audio","videoSupported","contentType","audioSupported","ERROR_TYPE_MAP","ERROR_MAP","Errors","Errors2","errorInfo","errorType","errorCode","errorMessage","originError","ext","mediaError","ERROR_TYPES","i18n","ended","_player$media","readyState","networkState","_errc","playerVersion","stack","host","_r","ex","msg","PLAY","PLAYING","ENDED","PAUSE","ERROR","SEEKING","SEEKED","TIME_UPDATE","WAITING","CANPLAY","CANPLAY_THROUGH","DURATION_CHANGE","VOLUME_CHANGE","LOADED_DATA","LOADED_METADATA","RATE_CHANGE","PROGRESS","LOAD_START","EMPTIED","STALLED","SUSPEND","ABORT","BUFFER_CHANGE","PLAYER_FOCUS","PLAYER_BLUR","READY","URL_NULL","AUTOPLAY_STARTED","AUTOPLAY_PREVENTED","COMPLETE","REPLAY","DESTROY","URL_CHANGE","DOWNLOAD_SPEED_CHANGE","LEAVE_PLAYER","ENTER_PLAYER","LOADING","FULLSCREEN_CHANGE","CSS_FULLSCREEN_CHANGE","MINI_STATE_CHANGE","DEFINITION_CHANGE","BEFORE_DEFINITION_CHANGE","AFTER_DEFINITION_CHANGE","SEI_PARSED","RETRY","VIDEO_RESIZE","PIP_CHANGE","ROTATE","SCREEN_SHOT","PLAYNEXT","SHORTCUT","XGLOG","USER_ACTION","RESET","SOURCE_ERROR","SOURCE_SUCCESS","SWITCH_SUBTITLE","VIDEO_EVENTS","STATS_EVENTS","STATS_INFO","STATS_DOWNLOAD","STATS_RESET","FPS_STUCK","emitVideoEvent","eventKey","errorHandler","getVideoEventHandler","_err","eData","originalEvent","detail","timeStamp","paused","isInternalOp","_internalOp","muted","volume","vtype","removeInnerOP","_currentTime","_rate","playbackRate","_duration","isMutedChange","_lastMuted","mediaEventMiddleware","MediaProxy","_EventEmitter","MediaProxy2","_super","_this","_hasStart","mediaConfig","assign","controls","autoplay","playsinline","x5VideoPlayerFullscreen","x5VideoOrientation","airplay","tabindex","mediaType","videoAttributes","playerType","x5VideoPlayerType","loop","autoplayMuted","defaultPlaybackRate","attachVideoEvents","middlewares","_this2","_this3","_this4","_evHandlers","funName","charAt","toUpperCase","_this5","urls","_this6","removeAttribute","load","_c","_videoSourceCount","_videoSourceIndex","_vLoadeddata","_eHandler","_sourceError","_dIndex","_e","k","pause","detachVideoEvents","set","play","range","isTrue","_buffered","crossOrigin","defaultMuted","status","rate","Infinity","played","preload","seekable","seeking","onWaiting","_detachSourceEvents","_attachSourceEvents","vol","videoWidth","videoHeight","_get2","_get3","_get4","_get5","_len4","_key4","INDEXDB","INDEXDB2","mydb","db","ojstore","keypath","indexedDB","webkitindexedDB","IDBKeyRange","webkitIDBKeyRange","myDB","request","onsuccess","onupgradeneeded","transaction","objectStoreNames","contains","createObjectStore","keyPath","deleteDatabase","close","storename","store","objectStore","put","delete","clear","FULLSCREEN_EVENTS","GET_FULLSCREEN_API","EXIT_FULLSCREEN_API","PLATER_ID","callHandler","handler","next","then","args2","hook","hookName","preset","pre","__hooks","_preset$pre","pluginName","preRet","runHooks","isContinue","catch","findHookIndex","hookHandlers","useHooks","removeHooks","hooks","usePluginHooks","plugins","plugin","removePluginHooks","hooksDescriptor","presetHooks","delHooksDescriptor","_len5","_key5","runHooksRecursive","runHooksRecursive2","hookName2","handler2","_len6","_key6","hook2","showErrorMsg","BasePlugin","BasePlugin2","beforeCreate","__args","__events","__onceEvents","playerConfig","__init","logger","i18nKeys","domEventType","_this$player","action","params","nParams","emitUserAction","registerPlugin","getPlugin","offAll","unRegisterPlugin","Obj","ROOT_TYPES","CONTROLS","ROOT","POSITIONS","ROOT_LEFT","ROOT_RIGHT","ROOT_TOP","CONTROLS_LEFT","CONTROLS_RIGTH","CONTROLS_RIGHT","CONTROLS_CENTER","PLUGIN_STATE_CLASS","ICON_DISABLE","ICON_HIDE","isUrl","mergeIconClass","icon","mergeIconAttr","attr","createIcon","newIcon","key2","tag","registerIconsObj","iconsConfig","_icons","icons","orgIcon","registerTextObj","textConfig","langText","Plugin","_BasePlugin","Plugin2","__delegates","_parent","_el","parent","_orgicons","registerIcons","defaultTexConfig","registerLanguageTexts","renderStr","Error","insert","setAttr","setStyle","__registerChildren","_children","_Plugin","_plugin","checkChildren","langKey","langTextShow","disable","find","qs","eventType","bindEL","unbindEL","htmlStr","eventHandle","isBubble","cs","cssDisplayValue","getPropertyValue","pdom","child","_this7","insertIdx","isDomElement","coordinate","mode","curIdx","insertBefore","insertAdjacentHTML","capture","dels","ret2","ResizeObserver","ResizeObserver2","entries","t","__runHandler","__handlers","observer","__trigger","observe","_pid","_this$observer","unobserve","_this$observer2","disconnect","resizeObserver","addObserver","unObserver","_resizeObserver","pluginsManager","pluginGroup","init","cgid","_pluginInfoId","closeResizeObserver","resize","_originalOptions","_plugins","formatPluginInfo","PLUFGIN","checkPluginIfExits","getRootByConfig","_pConfig","lazyRegister","lazyPlugin","timeout","race","loader","__esModule","register","reject","originalOptions","isSupported","codecType","defaultConfig","unRegister","_instance","afterCreate","__destroy","deletePlugin","getPlugins","findPlugin","cName","beforeInit","retPromise","prevTask","_loadingPlugins","all","pluginsRet","pName","beforePlayerInit","afterInit","afterPlayerInit","setLang","updateLang","reRender","_pList","onPluginsReady","_Object$keys","STATE_CLASS","DEFAULT","DEFAULT_SKIN","ENTER","PAUSED","NO_START","ACTIVE","INACTIVE","FULLSCREEN","CSS_FULLSCREEN","ROTATE_FULLSCREEN","PARENT_ROTATE_FULLSCREEN","PARENT_FULLSCREEN","INNER_FULLSCREEN","NO_CONTROLS","FLEX_CONTROLS","CONTROLS_FOLLOW","CONTROLS_AUTOHIDE","TOP_BAR_AUTOHIDE","NOT_ALLOW_AUTOPLAY","PC","MOBILE","MINI","getDefaultConfig","nullUrlStart","fluid","fitVideoSize","videoFillMode","isLive","videoInit","poster","isMobileSimulateMode","execBeforePluginsCall","allowSeekAfterEnded","enableContextmenu","closeVideoClick","closeVideoDblclick","closePlayerBlur","closeDelayBlur","leavePlayerTime","closePlayVideoFocus","closePauseVideoFocus","closeFocusVideoFocus","closeControlsBlur","topBarAutoHide","startTime","seekedStatus","miniprogress","disableSwipeHandler","enableSwipeHandler","preProcessUrl","ignores","whitelist","inactive","marginControls","fullscreenTarget","screenShot","pip","mini","cssFullscreen","keyShortcut","presets","definition","customDuration","timeOffset","thumbnail","isHideTips","minWaitDelay","commonStyle","progressColor","playedColor","cachedColor","sliderBtnStyle","volumeColor","usePreset","Preset","_player$config$plugin","_player$config$ignore","presetInst","_presetInst","_presetInst$plugins","_presetInst$ignores","_presetInst$icons","_presetInst$i18n","_ci18n","Controls","Controls2","_assertThisInitialize","focus","autoHide","_assertThisInitialize2","_this$config","left","center","right","innerRoot","isMini","onMouseEnter","onMouseLeave","blur","ignorePaused","unbind","_this$config2","initShow","EN","LANG","TEXT","network","mse","parse","runtime","other","HAVE_NOTHING","HAVE_METADATA","HAVE_CURRENT_DATA","HAVE_FUTURE_DATA","HAVE_ENOUGH_DATA","NETWORK_EMPTY","NETWORK_IDLE","NETWORK_LOADING","NETWORK_NO_SOURCE","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","PLAY_TIPS","PAUSE_TIPS","PLAYNEXT_TIPS","DOWNLOAD_TIPS","ROTATE_TIPS","RELOAD_TIPS","FULLSCREEN_TIPS","EXITFULLSCREEN_TIPS","CSSFULLSCREEN_TIPS","EXITCSSFULLSCREEN_TIPS","TEXTTRACK","PIP","SCREENSHOT","LIVE","OFF","OPEN","MINI_DRAG","MINISCREEN","REFRESH_TIPS","REFRESH","FORWARD","LIVE_TIP","XGI18nLang","langKeys","textKeys","_s","_t","updateKeys","en","extend","i18nTextList","i18nLangs","lang2","keyLang","_i18nLangs","use","langData","_clang","texts","_ret$langKeys","pId","I18N","zh","STATES","INITIAL","ATTACHING","ATTACHED","NOTALLOW","RUNNING","DESTROYED","STATE_ARRAY","InstManager","InstManager2","setActive","isUserActive","endEarly","_iterate","flag","isActive","inst","isInstNext","isNext","checkPlayerRoot","PlAYER_HOOKS","REAL_TIME_SPEED","AVG_SPEED","instManager","Player","_MediaProxy","Player2","_config","__startTime","_seekToStartTime","_useAutoplay","mediaPlay","canPlayFunc","isFullScreen","delayResize","fullEl","_fullActionFrom","prop","to","isVideo","_fullscreenEl","fullscreen","changeFullStyle","_fullScreenOffset","cssfullscreen","exitCssFullscreen","needFullscreenScroll","scrollTo","top","recoverFullStyle","onFullscreenChange","defaultPreset","defaultIdx","userTimer","waitTimer","handleSource","_state","isAd","isError","isSeeking","isCanplay","rotateDeg","isRotateFullscreen","timeSegments","_cssfullscreenEl","curDefinition","_orgCss","_videoHeight","_videoWidth","videoPos","pi","vy","vx","sizeInfo","_accPlayed","acc","loopAcc","_offsetInfo","innerContainer","topBar","__i18n","database","_onceSeekCanplay","_isPauseBeforeSeek","innerStates","isActiveLocked","rootInit","_initDOM","_this$config2$definit","defaultDefinitionObj","defaultDefinition","_bindEvents","_registerPresets","_registerPlugins","getInitDefinition","setState","onReady","hasStart","_instManager","vid","line","handle","_initBaseDoms","XgVideoProxy","_nVideo","_root","_this$config3","_width","_height","_this$root$getBoundin","getBoundingClientRect","leftBar","rightBar","_onWebkitbeginfullscreen","_onWebkitendfullscreen","playFunc","mousemoveFunc","firstChild","isInit","ignoresStr","cuPlugins","lazy","loadingPlugin","forceBeforeInit","_retPlugin","exits","_this$controls","_getRootByPosition","removedFromConfig","deregister","removePluginFromConfig","_this8","_furl","_preProcessUrl","_startInit","lineNumber","_this9","_src","curTime","isPaused","_error","_canplay","_this10","playPromise","onError","_errorTimer","_this11","_this12","_this13","_this$config4","isSeekedPlay","_status","_this14","_this$config5","_this15","bitrate","switchURL","seamless","reloadFunc","_this16","REPLAY2","ERROR2","LOADING2","clsList","mediaPause","cls","_this17","unregisterPlugins","isResetConfig","resetState","pn","de","_instManager2","_this18","updateAcc","_unbindEvents","exitFullscreen","cList","_this19","onPlay","_this20","cur","_srcRet","rootClass","pClassName","_orgPCss","webkitRequestFullscreen","ALLOW_KEYBOARD_INPUT","fullscreenEnabled","webkitSupportsFullscreen","webkitEnterFullscreen","exitRotateFullscreen","webkitExitFullScreen","_class","_this$config$fullscre","useCssFullscreen","_this$config$fullscre2","setRotateDeg","_rootStyle","innerHeight","deg","orientation","delay","onFocus","_clearUserTimer","onBlur","_this21","isLock","_ref","_ref$ignorePaused","_this22","_this23","_this24","endType","_at","startDiff","endDiff","_ref2","_ref2$startDiff","_ref2$endDiff","_this$videoPos","_pi","_pos","offsetWidth","offsetHeight","rHeight","rWidth","formStyle","transform","webkitTransform","resizePosition","_this25","setConfig","_this26","_this27","containerSize","_this$media","_this$config6","controlsHeight","videoFit","_style","paddingTop","videoScale","vWidth","vHeight","cWidth","cHeight","updateObjectPosition","objectPosition","newState","_this$config7","preProcessUrlOptions","processUrlOptions","bool","_this28","curDef","targetDef","_this28$curDefinition","changeDefinition","total","dropped","corrupted","droppedRate","droppedDuration","getVideoPlaybackQuality","_quality","droppedVideoFrames","totalVideoFrames","corruptedVideoFrames","cumulateTime","_l","__url","posterUrl","update","_this$_accPlayed","isMuted","_instManager3","addInnerOP","_instManager4","getActiveId","_instManager5","getInstance","LOG_TYPES","FIRST_FRAME","WAIT_START","WAIT_END","SEEK_START","SEEK_END","XGLogger","XGLogger2","isTimeUpdate","autoplayStart","_sendFF","vt","isFFLoading","isFFSend","isLs","pt","fvt","newPointTime","loadedCostTime","startCostTime","_isSeeking","seekingStart","waitingStart","fixedWaitingStart","_isWaiting","_waitTimer","_waittTimer","_waitType","suspendWaitingStatus","emitLog","suspendSeekingStatus","fixedStart","_startWaitTimeout","_onReset","_initOnceEvents","_onWaitingLoadStart","_this2$_state","_onSeeking","_onSeeked","endState","_onPlaying","_onWaiting","_onError","_onAutoplayStart","_onTimeupdate","s","_this$_state","costTime","waitTimeout","_now","_cost","_fixedCost","fixedCostTime","ReplaySvg","DOMParser","parseFromString","Replay","Replay2","replay","__handleReplay","preventDefault","path","Poster","Poster2","isEndedShow","hideCanplay","onTimeUpdate","_bg","fillMode","notHidden","getBgSize","PlaySvg","PauseSvg","AnimateMap","addAnimate","seconds","clearAnimation","Start","Start2","autoPlayStart","toggleTo","initIcons","listenEvents","bindClickEvents","onAutoplayStart","onPlayerReset","clickHandler","switchPausePlay","cancelable","startPlay","startPause","isAnimate","endShow","_animateId","switchStatus","isShowPause","isShowEnd","endAnimate","disableAnimate","animate","Enter","Enter2","innerHtml","HTMLElement","barStr","logo","xgIconTips","textKey","isShow","MiniScreenIcon","MiniScreenIcon2","getMini","exitMini","getStyleSize","num","isValid","measurements","measurementsLength","getZeroSize","innerWidth","outerWidth","outerHeight","measurement","getStyle","elem","getSize","isBorderBox","boxSizing","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderWidth","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","getTouch","dentifier","identifier","EVENTS","START","MOVE","POST_START_EVENTS","mousedown","touchstart","pointerdown","Draggabilly","Draggabilly2","isEnabled","isDragging","isDown","downPoint","dragPoint","startPos","_handlerDom","_bindStartEvent","_startKey","_boundPointerEvents","onUp","positionDrag","webKitTransform","dragStart","dragMove","dragEnd","touchIdentifier","pointerId","dragCancel","pointer","_getPosition","maxY","maxX","setLeftTop","_bindPostStartEvents","_unbindPostStartEvents","presetInfo","moveVector","hasDragStarted","dragRealStart","_this$startPos","_dragPointerMove","dragX","dragY","checkContain","_unbindStartEvent","axis","drag","grid","_getPositionCoord","_addTransformPosition","matrixValues","xIndex","translateX","translateY","styleSide","measure","parentSize","MiniScreen","MiniScreen2","isClose","scrollY","scrollHeight","lastStyle","isShowIcon","onCancelClick","onCenterClick","disableDrag","_draggabilly","isScrollSwitch","onScroll","MOUSE_EVENTS","mouseenter","mouseleave","mousemove","HOOKS","PCPlugin","PCPlugin2","_this$playerConfig","_assertThisInitialize3","__canvas","closeVideoStopPropagation","_clickCount","clickTimer","switchPlayPause","_assertThisInitialize4","getFullscreen","initEvents","onVideoClick","onVideoDblClick","onContextmenu","returnValue","cancelBubble","_this$player2","PRESS","PRESS_END","DOUBlE_CLICK","CLICK","TOUCH_MOVE","TOUCH_START","TOUCH_END","TOUCHS","move","MOUSES","pressDelay","dbClickDelay","disablePress","disableDbClick","miniStep","needPreventDefault","Touche","Touche2","__setPress","onTouchEnd","onTouchCancel","onTouchMove","trigger","__clearPress","moving","press","__setDb","diffx","diffy","pressIntrvalId","dbIntrvalId","_initEvent","onTouchStart","__clearDb","touchend","touchmove","SeekTipIcon","ACTIONS","AUTO","PLAYBACK","LIGHT","MobilePlugin","MobilePlugin2","touche","getTouche","disableGesture","isStart","timer","rect","_x","_y","scopeL","scopeR","scopeM1","scopeM","scopeM2","miniMoveStep","hideControlsActive","scope","checkScope","gestureY","gestureX","executeMove","resetSeekState","endLastMove","resetPos","changeAction","checkIsRootTarget","light","seekTipIcon","closedbClick","xgMask","initCustomStyle","registerThumbnail","onRootTouchMove","onRootTouchEnd","player2","config2","moveDuration","_this2$pos","eventsMap","pressend","doubleclick","disableActive","progressPlugin","progress","addCallBack","activeSeekNote","forward","usable","createThumbnail","timePreview","timePreviewStyle","curTimeColor","durationColor","backgroundColor","previewDom","curColor","durColor","color","disableTimeProgress","startPlugin","recover","mold","updateTime","updateBrightness","updateVolume","lastScope","seek","toFixed","hideControlsEnd","sendUseAction","focusVideoClick","dbClickHandler","pressRate","percent","updatePercent","isTouchingSeek","darkness","maxDarkness","isForward","focusHide","updateThumbnails","gradient","disableSeekIcon","miniYPer","isDisableTag","isContentEditable","Keyboard","Keyboard2","keyCode","_keyState","disableBodyTrigger","isIgnoreUserActive","checkIsVisible","metaKey","altKey","ctrlKey","isBodyKeyDown","repeat","isKeyDown","isGlobalTrigger","checkCode","onBodyKeyUp","handleKeyDown","handleKeyUp","disableRootTrigger","onKeyup","extendkeyCodeMap","keyCodeMap","key1","seekStep","space","noBodyTarget","up","down","pressAction","esc","mergekeyCodeMap","isPress","tt","onKeydown","onBodyKeyDown","newConfig","checkVisible","rec","bottom","isBodyTarget","offsetCurrentTime","offsetDuration","_time","_step","_seekTime","handleKeyCode","curKeyCode","_this$keyCodeMap$arr$","_action","loadingIcon","Loading","Loading2","TPL","styleKey","InnerList","InnerList2","fragments","_callBack","actionCallback","fragConfig","fragFocusClass","fragAutoFocus","fragClass","cachedIndex","playedIndex","focusIndex","newIndex","curIndex","millisecond","progressList","curPFrag","per","newPIndex","findIndex","unHightLight","setHightLight","_data2","preIndex","fragment","_data","cached","updateDuration","updateProgress","newCIndex","newOptions","_this$fragConfig","inner","isFocus","item2","FRAGMENT_FOCUS_CLASS","POINT","HIGHLIGHT","Progress","Progress2","_ePos","computeTime","triggerCallbacks","_updateInnerFocus","isLocked","updateWidth","seekTime","isPauseMoving","closeMoveSeek","isPlaying","onMoveStart","prePlayTime","isProgressMoving","progressBtn","_mouseDownHandlerHook","onMouseMove","onMouseUp","onMoveOnly","_assertThisInitialize5","onMoveEnd","_mouseUpHandlerHook","isEnter","_assertThisInitialize6","miniStartStep","_mouseMoveHandlerHook","_assertThisInitialize7","unlock","_this$pos","useable","__dragCallBacks","direc","_disableBlur","isDragingSeek","isDraggingSeek","innerList","reset","outer","updateFocus","_initInner","isMobile","bindDomEvents","onTimeupdate","onCacheUpdate","onReset","onVideoResize","frags","boxShadow","_mouseDownHandler","_mouseUpHandler","_mouseMoveHandler","onMouseDown","onMouseOver","onMouseOut","onBodyClick","pauseAutoHide","recoverAutoHide","isCloseClickSeek","realTime","endedDiff","rLeft","timeIcon","resetActive","notSeek","_end","bufferedPoint","thumbnailPlugin","controlsMode","Icon","Icon2","_onMouseenter","_onMouseLeave","Play","_IconPlugin","Play2","btnClick","tipDom","changeLangTextKey","BackSVG","TopBackIcon","TopBackIcon2","screenBack","FullScreenSvg","ExitFullScreenSvg","Fullscreen","Fullscreen2","rotateFullscreen","handleFullscreen","toggleFullScreen","tipsDom","needBackIcon","topBackIcon","_onOrientationChange","getCssFullscreen","getRotateFullscreen","switchCallback","useScreenOrientation","unlockScreen","e2","aspectRatio","lockScreen","lockOrientationType","screen","lock","Time","Time2","isActiving","constrolsMode","createCenterTime","durationDom","timeDom","centerCurDom","centerDurDom","current","minWidthTime","timeStr","updateState","TimeSegmentsControls","TimeSegmentsControls2","updateSegments","_checkIfEnabled","changeIndex","curPos","lastCurrentTime","_this$curPos","_this$player3","getSeekTime","_this$player4","_onDurationChange","_onLoadedData","_onPlay","_segs","formatTimeSegments","_item","_segDuration","segDuration","last","_timeSegments$index","diff2","volumeLargeSvg","volumeSmallSvg","volumeMutedSvg","Volume","Volume2","bar","barRect","barH","updateVolumePos","onBarMouseUp","_d","isMoving","unFocus","showValueLabel","updateVolumeValue","volumeSmall","volumeLarge","volumeMuted","_timerId","changeMutedHandler","changeMuted","_onMouseenterHandler","onMouseenter","_onMouseleaveHandler","onMouseleave","onBarMousedown","onBarMouseMove","onVolumeChange","$labelValue","innerText","isForce","miniVolume","isShowVolumeValue","RotateSvg","Rotate","Rotate2","onBtnClick","innerRotate","updateRotateDeg","rootWidth","clientWidth","rootHeight","clientHeight","clockwise","videoRotateDeg","_transform","_styles","transformOrigin","factor","PipIcon","PipIconExit","PresentationMode","INLINE","PIP2","isPIPAvailable","isPip","exitPIP","requestPIP","showIcon","pMode","initPipEvents","switchPIP","pipIcon","pipIconExit","leavePIPCallback","pipWindow","enterPIPCallback","pictureInPictureWindow","onWebkitpresentationmodechanged","webkitPresentationMode","checkWebkitSetPresentationMode","pipWin","textContent","styleSheets","style2","cssRules","rule","rel","head","preferDocument","isDocPIPAvailable","pipOptions","playerRect","documentPictureInPicture","requestWindow","docPiPNode","docPiPStyle","pipRoot","parentElement","previousSibling","nextSibling","copyStyleIntoPiPWindow","append","cssContent","webkitSetPresentationMode","requestPictureInPicture","reason","_documentPictureInPic","exitPictureInPicture","_documentPictureInPic2","pictureInPictureElement","_isEnabled","pictureInPictureEnabled","disablePictureInPicture","webkitSupportsPresentationMode","protocol","Next","PlayNextIcon","PlayNextIcon2","urlList","nextHandler","playNext","changeSrc","DownloadSvg","Download","Download2","dUrl","newUrl","getAbsoluteURL","downloadUtil","_handler","div","ScreenShot","ScreenShot2","screenshotIcon","initSize","fitVideo","onClickBtn","filename","saveLink","MouseEvent","bubbles","view","initMouseEvent","dispatchEvent","canvas","canvasCtx","getContext","imageSmoothingEnabled","imageSmoothingQuality","shot","saveImg","saveScreenShot","option","quality","createCanvas","dx","dy","dw","dh","mediaRatio","canvasRatio","sx","sy","sw","sh","drawImage","toDataURL","OptionList","OptionList2","maxHeight","onItemClick","renderItemList","_delegates","attrKeys","selected","showText","changeCallback","curSelected","getAttrObj","LIST_TYPES","SIDE","MIDDLE","TOGGLE_MODES","HOVER","getListClassName","listType","IS_MOBILE","OptionsIcon","OptionsIcon2","switchActiveState","toggleMode","toggle","enterType","isIcons","curValue","hidePortrait","_resizeList","optionsList","activeEvent","onEnter","onLeave","onIconClick","_isIcons","focusAwhile","curItem","changeCurrentText","isItemClickHide","getTextByLang","itemList","_this$player$root$get","_maxH","heightLimit","_this$player$root$get2","listStyle","DefinitionIcon","_OptionsIcon","DefinitionIcon2","changeDefinitionList","definitionList","items","showItem","PlaybackRate","PlaybackRate2","curRate","itemInfo","_text","CssFullSceenSvg","ExitCssFullSceenSvg","CssFullScreen","CssFullScreen2","isCssfullScreen","handleCssFullscreen","contentIcon","switchTips","ErrorPlugin","ErrorPlugin2","errorRetry","handleError","retry","errorNote","Prompt","Prompt2","intervalId","customConfig","customOnClick","showPrompt","hidePrompt","interval","highlight","hideinterval","ISPOT","mergeISPOT","iSpot","APIS","_updateDotDom","dotDom","calcuPosition","initDots","_ispots","createDot","ispotsInit","isNew","template","positionDot","findDot","updateDot","needShow","dot","showDot","deleteDot","del","deleteAllDots","dotDoms","getElementsByTagName","updateAllDots","iSpots","ispot","positionDots","playerSize","_pop","pRect","rect1","_left","_diff","_t2","getAllDotsDom","getDotDom","initDotsAPI","ispots","progressDot","CALLBACK_MAP","dragmove","dragstart","dragend","mouseover","ProgressPreview","ProgressPreview2","isHideThumbnailHover","isDrag","_curDot","onDotMouseLeave","blurDot","enableBlur","focusDot","disableBlur","videoPreview","videothumbnail","handlerSpotClick","_event","transformTimeHook","setTimeContent","extTextRoot","previewLine","timePoint","timeText","tipText","_hasThumnail","bindEvents","onMousemove","onMousedown","onMouseup","handlerPreviewClick","updatePosition","cwidth","isflex","lwidth","showTips","isFocusDots","defaultText","hideTips","updateTimeText","updateLinePos","thumbnailConfig","isShowThumbnail","tRoot","isShowCoverPreview","totalWidth","widthPerSeconds","_activeDotId","isDefault","removeCallBack","miniWidth","Thumbnail","Thumbnail2","ratio","_preloadMark","initThumbnail","_this2$config","pic_num","containerWidth","containerHeight","row","col","urlIndex","indexInPage","rowIndex","colIndex","swidth","sHeight","getUrlByIndex","backgroundPosition","customStyle","getPosition","getBgColor","MiniProgress","MiniProgress2","stateClass","MODES","REAL_TIME","FRAME_RATE","POSTER","nowTime","checkIsSupportCanvas","ctx","isSupportCanvas","DynamicBg","DynamicBg2","_frameCount","startFrameCount","stop","renderOnTimeupdate","visibilityState","_checkIfCanStart","renderOnce","_isLoaded","startInterval","_sVideo","checkVideoIsSupport","videoPI","preTime","_loopType","dynamicBg","frameRate","rwidth","rheight","renderByPoster","onLoadedData","onVisibilitychange","canvasFilter","supportCanvasFilter","isInnerRender","webkitFilter","mask","addMask","background","maskBg","_p","_tVideo","HTMLVideoElement","flyVideo","_tagName","updateImg","_this$canvas$getBound","image","sourcePI","_this$canvas$getBound2","multiple","ZH","INFO","STATS_EVENTS$1","Stats","Stats2","actionData","_getTime","_stats","stats","getStats","JSON","stringify","downloadUrl","disabled","timestamp","timeFormat","toISOString","_recordUserActions","_recordInfo","_downloadStats","profile","_infoProfile","_info","startMs","endMs","dur","cat","ph","tid","ts","_this$_stats","mediaElem","mediaInfo","raw","timestat","_getTimeStats","_getProfile","allStat","msgs","stat","traceEvents","GapJump","GapJump2","seekingEventReceived","hasPlayed","smallGapLimit","gapDetectionThreshold","_getIndex","jumpTo","seekEnd","jumpSize","isGapSmall","BROWSER_GAP_TOLERANCE","useGapJump","isSafari","end_type","video_postion","onGapJump","threshold","bufferedInfo","_getBuffered","WaitingTimeoutJump","WaitingTimeoutJump2","jumpCnt","jumpCntMax","useWaitingTimeoutJump","onJump","waitingTime","DEFAULT_SPEED_TYPE","SPEED_TYPE","TestSpeed","TestSpeed2","speedListCache","initSpeedList","cnt","testSpeed","testTimeStep","speed","appendList","openSpeed","loadSize","testCnt","testSpeedUrl","xhr","headers","Range","setRequestHeader","onreadystatechange","getResponseHeader","saveSpeedMax","realTimeSpeed","getSpeedName","updateSpeed","getSpeed","avgSpeed","speedName","addSpeedTypeList","_onRealSpeedChange","namePrefix","FpsDetect","FpsDetect2","_lastDecodedFrames","_currentStuckCount","_lastCheckPoint","_payload","_startTick","_stopTick","_timer","_checkDecodeFPS","tick","enoughBuffer","buffers","curDecodedFrames","checkInterval","hidden","_this$_checkBuffer","_checkBuffer","reportFrame","stuckCount","_reset","_media$getVideoPlayba","currTime","curDecoded","_checkStuck","DefaultPreset","DefaultPreset2","_this$plugins","_this$plugins2","_this$plugins3","simulateMode","vodPlugins","contolsIcons","layers","PresetPlayer","_Player","PresetPlayer2","_iterableToArrayLimit","_arr","_n","done","return","_regeneratorRuntime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","makeInvokeMethod","tryCatch","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","value2","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","methodName","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","next2","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","reverse","skipTempReset","prev","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_slicedToArray","_arrayWithHoles","_nonIterableRest","_construct","Parent","Class","Parent2","Class2","Function","_isNativeFunction","_wrapNativeSuper","Map","Wrapper","_createForOfIteratorHelper","allowArrayLike","it","F","normalCompletion","didErr","step","_ERR_CODE","Buffer","Buffer2","buf","maxHole","buffers2","bufLen","lastEnd","reduce","nextStart","nextEnd","prevStart","prevEnd","behind","remaining","totalLength","isBrowser","ERR","MANIFEST","NETWORK","NETWORK_TIMEOUT","NETWORK_FORBIDDEN","NETWORK_NOTFOUND","NETWROK_RANGE_NOT_SATISFIABLE","DEMUX","REMUX","MEDIA","DRM","OTHER","RUNTIME","SUB_TYPES","FLV","HLS","MP4","FMP4","MSE_ADD_SB","MSE_APPEND_BUFFER","MSE_OTHER","MSE_FULL","MSE_CHANGE_TYPE","OPTION","DASH","LICENSE","CUSTOM_LICENSE","MSE_HIJACK","EME_HIJACK","SIDX","NO_CANPLAY_ERROR","BUFFERBREAK_ERROR","WAITING_TIMEOUT_ERROR","MEDIA_ERR_CODEC_NOT_SUPPORTED","MEDIA_ERR_URL_EMPTY","ERR_CODE","StreamingError","_Error","StreamingError2","subType","origin","_error$response","isTimeout","httpCode","LogCacheLevel","LOG_MAX_SIZE","SIMPLE_TYPE","Logger","Logger2","_prefix","logCacheLevel","logMaxSize","logSize","logTextArray","logCache","DEBUG","LOG","WARN","_console4","logText","finLogText","logable","delLog","_console5","group","table","groupEnd","toLocaleString","reduceDepth","objType","maxDepth","depth","includes","createPublicPromise","rej","promise","used","SafeJSON","getMediaSource","preferMMS","ManagedMediaSource","isMMS","mediaSource","getTimeRanges","ranges","TimeRanges","OP_NAME","APPEND","REMOVE","UPDATE_DURATION","MSE","MSE2","queue","_queue","op","opName","_this2$_sourceBuffer$","_op$context","costtime","_opst","_sourceBuffer","_startQueue","bindMedia","openLog","enable","_this$mediaSource","_url","_this$mediaSource2","streaming","_mseFullFlag","VIDEO","isReduceDuration","bufferEnd","_enqueueBlockingOp","_openPromise","isOpened","ms","onOpen","onOpen2","_st","_bindMedia","_callee","MediaSource2","useMMS","_context","unbindMedia","_onStartStreaming","_onEndStreaming","disableRemotePlayback","_unbindMedia","_callee2","hasMetadata","mseOpen","_context2","_x$promise","_x$promise$resolve","endOfStream","removeSourceBuffer","sb","addSourceBuffer","_onSBUpdateEnd","_onSBUpdateError","changeType","_enqueueOp","createSource","buffer","byteLength","_this9$_sourceBuffer$","appendBuffer","endTime","isInsertHead","allClear","_this$_queue$type","initQueue","isinit","setLiveSeekableRange","_enqueueBlockingOp2","_callee3","types","waiters","_context3","prom","updating","_x2","_x3","_x4","isFull","timestampOffset","abort","EVENT","TTFB","LOAD_RESPONSE_HEADERS","LOAD_COMPLETE","LOAD_RETRY","SOURCEBUFFER_CREATED","MEDIASOURCE_OPENED","ANALYZE_DURATION_EXCEEDED","APPEND_BUFFER","REMOVE_BUFFER","BUFFEREOS","KEYFRAME","CHASEFRAME","METADATA_PARSED","SEI","SEI_IN_TIME","FLV_SCRIPT_DATA","LOWDECODE","SWITCH_URL_SUCCESS","SWITCH_URL_FAILED","SPEED","HLS_MANIFEST_LOADED","HLS_LEVEL_LOADED","DEMUXED_TRACK","STREAM_EXCEPTION","LARGE_AV_FIRST_FRAME_GAP_DETECT","LARGE_VIDEO_DTS_GAP_DETECT","LARGE_AUDIO_DTS_GAP_DETECT","AUDIO_GAP_DETECT","AUDIO_OVERLAP_DETECT","MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT","isMediaPlaying","creationTime","webkitDroppedFrameCount","webkitDecodedFrameCount","concatUint8Array","prevLen","sleep","SeiService","SeiService2","Set","sei","_seiSet","toThrow","GapService","GapService2","maxJumpDistance","seekThreshold","_prevCurrentTime","timescale","_timescale","encodeType","audioCodec","videoCodec","fps","samplerate","channelCount","gop","encode","_data$onMetaData","onMetaData","framerate","track","codec","fpsNum","fpsDen","sampleRate","responseUrl","samples","sample","_startGopId","gopId","_bitsAccumulateDuration","_bitsAccumulateSize","units","MediaStatsService","MediaStatsService2","core","_core","_this$_core","_this$_core2","_this$_core2$speedInf","_this$_core3","_this$_core3$speedInf","_this$_core4","_this$_core4$speedInf","_this$_core5","_this$_core5$speedInf","_this$_core6","_this$_core6$bufferIn","_ref2$currentTime","_ref2$decodeFps","decodeFps","downloadSpeed","speedInfo","totalReceivedByte","totalSize","totalReceivedCost","totalCost","bufferInfo","_ref3","videoTrack","updateBitrate","setFpsFromScriptData","setVideoMeta","setAudioMeta","setDomain","_samples","TrackType","AUDIO","METADATA","VideoCodecType","AV1","AVC","HEVC","AudioCodecType","AAC","G711PCMA","G711PCMU","OPUS","WarningType","LARGE_AV_SHIFT","LARGE_VIDEO_GAP","LARGE_VIDEO_GAP_BETWEEN_CHUNK","LARGE_AUDIO_GAP","AUDIO_FILLED","AUDIO_DROPPED","AudioSample","AudioSample2","pts","sampleOffset","dependsOn","isNonSyncSample","originPts","dts","isFirefox","AAC2","FREQ","skip","frames","samplingFrequencyIndex","protectionSkipBytes","frameLength","objectType","_AAC$_getConfig","_getConfig","frameIndex","getFrameDuration","subarray","originCodec","_AAC$_getConfig2","samplingIndex","originObjectType","extensionSamplingIndex","LARGE_AV_FIRST_FRAME_GAP","AUDIO_GAP_OVERLAP_THRESHOLD_COUNT","MAX_SILENT_FRAME_DURATION","AUDIO_EXCETION_LOG_EMIT_DURATION","MAX_VIDEO_FRAME_DURATION","MAX_DTS_DELTA_WITH_NEXT_CHUNK","LARGE_AV_FIRST_FRAME_FORCE_FIX_THRESHOLD","TsFixer","TsFixer2","audioTrack","metadataTrack","fixerConfig","_baseDts","_baseVideoDts","_baseAudioDts","_baseDtsInited","_audioNextPts","_videoNextDts","_audioTimestampBreak","_videoTimestampBreak","_lastAudioExceptionGapDot","_lastAudioExceptionOverlapDot","_lastAudioExceptionLargeGapDot","_needForceFixLargeGap","forceFixLargeGap","_largeGapThreshold","largeGapThreshold","discontinuity","contiguous","vSamples","aSamples","firstVideoSample","firstAudioSample","vaDelta","_calculateBaseDts","vDeltaToNextDts","aDeltaToNextDts","_resetBaseDtsWhenStreamBreaked","_fixAudio","_fixVideo","exist","seiSamples","baseMediaDecodeTime","samp0","_samples$","refSampleDurationInt","sampleDuration","firstSample","nextSample","vDelta","warnings","nextDts","firstSampleDts","nextSampleDts","_samples$i","prevDts","first","_dts","_nextSample","expectFragEnd","originDts","refSampleDuration","_doFixAudioInternal","audioSamps","videoSamps","audioBasePts","videoBaseDts","baseDts","delta","largeGap","isFinite","calc","_audioLastSample","_videoLastSample","nextPts","silentFrame","getSilentFrame","silentSample","MAX_SIZE","pow","readBig16","readBig24","readBig32","readBig64","getAvcCodec","codecs","combineToFloat","integer","decimal","toDegree","matrix","scaled0","hypot","scaled1","atan2","PI","NALu","NALu2","dataLen","isHevc","uint","emulationPreventionBytesPositions","newLength","newData","sourceIndex","ExpGolomb","ExpGolomb2","_bytesAvailable","_loadWord","_bitsAvailable","availableBytes","workingBytes","_word","DataView","getUint32","skipBytes","bits","readBits","leadingZeroCount","skipLZ","skipBits","clz","readUEG","deltaScale","lastScale","nextScale","readEG","AVC2","spsParsed","spsSize","nalUnitSize","spsArr","ppsArr","spsCount","sps","parseSPS","removeEPB","ppsSize","ppsCount","eg","readUByte","profileIdc","profileCompatibility","levelIdc","skipUEG","chromaFormat","chromaFormatIdc","readBool","scalingListCount","skipScalingList","picOrderCntType","numRefFramesInPicOrderCntCycle","_i2","picWidthInMbsMinus1","picHeightInMapUnitsMinus1","frameMbsOnlyFlag","sarRatio","fixedFrame","frameCropLeftOffset","frameCropRightOffset","frameCropTopOffset","frameCropBottomOffset","aspectRatioIdc","numUnitsInTick","timeScale","HEVC2","hvcC","vpsParsed","nalUnitType","numNalus","nalSize","vpsArr","numOfArrays","vps","parseVPS","vpsMaxSubLayersMinus1","numTemporalLayers","_parseProfileTierLevel","spsMaxSubLayersMinus1","temporalIdNested","separateColourPlaneFlag","confWinLeftOffset","confWinRightOffset","confWinTopOffset","confWinBottomOffset","conformanceWindowFlag","bitDepthLumaMinus8","bitDepthChromaMinus8","subWidthC","subHeightC","maxSubLayersMinus1","generalTierFlag","generalProfileSpace","generalProfileIdc","generalProfileCompatibilityFlags","generalConstraintIndicatorFlags","generalLevelIdc","subLayerProfilePresentFlag","subLayerLevelPresentFlag","bitsAvailable","VideoTrack","VideoTrack2","sequenceNumber","present","pps","isVideoEncryption","AudioTrack","AudioTrack2","isAudioEncryption","VideoSample","VideoSample2","keyframe","Sample","Sample2","SeiSample","_Sample2","SeiSample2","_super2","MetadataTrack","MetadataTrack2","flvScriptSamples","TsDemuxer","TsDemuxer2","_fixer","_pmtId","_remainingPacketData","_videoPesData","_audioPesData","remainingLength","videoPid","audioPid","payloadUnitStartIndicator","adaptationFiledControl","tableEnd","programInfoLength","esPid","_parseVideoData","_parseAudioData","formatTimescale","fix","demux","pes","_parsePES","parseAnnexB","_createVideoSample","setToKeyframe","_gopId","parseSEI","spsInfo","ffByteFound","_pushVideoSample","lastSample","_parseAacData","_track$samples","parseADTS","sampleRateIndex","headerDataLen","startPrefix","pesLen","ptsDtsFlags","ByteReader","ByteReader2","dv","byteOffset","byteNum","getFloat32","getFloat64","getInt8","getInt16","getInt32","getUint8","getUint16","read","setUint8","setUint16","setUint32","uint8","unreadLength","fromCharCode","concatUint8s","BitReader","BitReader2","byte","MP4Parser","MP4Parser2","headerSize","subData","findBox","box","parseBox","trackId","baseDataOffsetPresent","flags","sampleDescriptionIndexPresent","defaultSampleDurationPresent","defaultSampleSizePresent","defaultSampleFlagsPresent","baseDataOffset","sampleDescriptionIndex","defaultSampleDuration","defaultSampleSize","defaultSampleFlags","reference_ID","earliest_presentation_time","first_offset","references","ref","tmp32","reference_type","referenced_size","subsegment_duration","starts_with_SAP","SAP_type","SAP_delta_time","mvhd","trak","pssh","nextTrackId","tkhd","mdia","fromUint8","int32","caculatedMatrix","readInt","rotation","mdhd","hdlr","minf","handlerType","vmhd","smhd","stbl","graphicsmode","opcolor","balance","_ret$stsd$entries$","_ret$stsd$entries$$si","_ret$stsd$entries$$si2","stsd","stts","ctts","stsc","stsz","stco","co64","default_IV_size","sinf","schi","tenc","stss","senc","iv","sampleCount","InitializationVector","subsamples","subsampleCount","_j","subsample","BytesOfClearData","BytesOfProtectedData","keyIds","systemId","toHex","numKeyIds","keyId","dataSize","data_size","kid","system_id","entryCount","av01","avc1","hvc1","mp4a","alaw","data2","start2","samplesize","esds","horizresolution","vertresolution","avcC","pasp","default_IsEncrypted","default_KID","frma","data_format","colorType","readString","colorPrimaries","transferCharacteristics","matrixCoefficients","fullRangeFlag","iccProfile","readToUint8","bodyStart","parseVisualSampleEntry","bodyData","av1C","colr","bitdepth","bit","fromByte","marker","seqProfile","seqLevelIdx0","seqTier0","highBitdepth","twelveBit","monochrome","chromaSubsamplingX","chromaSubsamplingY","chromaSamplePosition","reserved","initialPresentationDelayPresent","initialPresentationDelayMinusOne","configOBUs","configurationVersion","AVCProfileIndication","AVCLevelIndication","lengthSizeMinusOne","spsLength","ppsLength","_i3","_size","tmp","generalProfileCompatibility","avgFrameRate","_ret$vps","nalus","_ret$sps","_ret$pps","hSpacing","vSpacing","parseAudioSampleEntry","byteRead","_i4","firstChunk","samplesPerChunk","sampleSize","entrySizes","mfhd","traf","tfhd","tfdt","trun","dataOffset","firstSampleFlags","cts","isLeading","isDependedOn","hasRedundancy","paddingValue","degradationPriority","moov","_e$esds","_e$esds2","tracks","vTrack","_t$mdia","_t$mdia$hdlr","aTrack","_t$mdia2","_t$mdia2$hdlr","_vTrack$tkhd","_vTrack$mdia","_vTrack$mdia$minf","_vTrack$mdia$minf$stb","_vTrack$mdia2","_vTrack$mdia2$minf","_vTrack$mdia2$minf$st","_vTrackId","tkhdDuration","mvhdDurtion","mvhdTimecale","_e1$sinf","_e1$sinf$schi","_e1$sinf2","_e1$sinf2$schi","_e1$sinf3","_e1$sinf3$schi","_e1$sinf4","_e1$sinf4$frma","e1","videoSenc","useEME","kidValue","encv","_aTrack$tkhd","_e$esds3","_e$esds4","_aTrack$mdia","_aTrack$mdia$minf","_aTrack$mdia$minf$stb","_aTrack$mdia2","_aTrack$mdia2$minf","_aTrack$mdia2$minf$st","_aTrackId","_e$sinf","_e$sinf$frma","_e$sinf2","_e$sinf2$schi","_e$sinf3","_e$sinf3$schi","_e$sinf4","_e$sinf4$schi","getRateIndexByRate","audioSenc","enca","_videoTrack$encv","_audioTrack$enca","vkid","akid","videoSampleCount","_audioTrack$samples","audioSampleCount","segmentDuration","moof","defaultSize","defaultDuration","evaluateDefaultDuration","_t$mdia3","_t$mdia3$hdlr","_t$mdia4","_t$mdia4$hdlr","videoSamples","audioSamples","_vTrack$mdia3","_vTrack$mdia3$minf","videoStbl","getSamples","_aTrack$mdia3","_aTrack$mdia3$minf","_aTrack$mdia$mdhd","audioStbl","_stts","_stsc","_stsz","_stco","keyframeMap","cttsArr","cttsEntries","stscEntries","stcoEntries","stszEntrySizes","stssEntries","chunkIndex","chunkRunIndex","offsetInChunk","lastSampleInChunk","lastChunkInRun","dataReferenceIndex","frameCount","isFullBox","Decryptor","Decryptor2","crypto","msCrypto","subtle","webkitSubtle","externalDecryptor","_this$externalDecrypt","_decryptSegment","_decryptSegment2","seg","_decryptData","keyIv","_decryptData2","aesKey","decrypt","importKey","t0","t1","_x5","_x6","_x7","FMP4Demuxer","FMP4Demuxer2","partData","partDataStart","videoExist","audioExist","isAV01","dataStart","__lastRemainData","lastRemainDataEnd","__lastRemainDataStart","continuous","noDuplicateData","__nextMoofStart","moovBox","dataEnd","moovToTrack","moofBoxes","moofBox","__loadedMoofWraps","nextMoofStart","_iterator","moofWrap","moofStart","moofToSamples","videoBaseMediaDecodeTime","audioBaseMediaDecodeTime","xStart","sampleData","videoData","audioData","baseOffset","_moovBox","_moofBox","_baseOffset","probe","Concat","ResultConstructor","arrays","UINT32_MAX","MP42","FTYPHEV1","FTYPAVC1","ftyp","content","mvex","mvhd2","trak2","tkhd2","mdia2","mdhd2","hdlr2","HDLR_TYPES","minf2","VMHD","SMHD","DINF","extBox","stbl2","STTS","STSC","STSZ","STCO","opus","avc1hev1","stsd2","_concat$concat","avcc","btrt","schm","typ","boxes","fiel","_concat$concat2","hvcC2","ArrayBuffer","pcf","cif","write","_ref4","esds2","opusAudioDescription","opusSpecificConfig","dOps","Opus","mvex2","trex","trex2","moof2","mfhd2","sencLength","videoSencLength","saiz","saio","trun1","traf2","_sbgp","sbgp","_saiz","_saio","_senc","_trun2","_traf","_trun","_trun3","_sbgp2","_saiz2","_saio2","_senc2","_trun4","_traf2","sdtp","extension","writeUint32","samplesLength","writeUint16","upperWordBaseMediaDecodeTime","lowerWordBaseMediaDecodeTime","sampleLen","_samples$i$flag","_samples$i$cts","trackMP4","mdiaMP4","minfMP4","stblMP4","_ref5","_ref6","sampleDescIndex","samplesSizes","offsets","keyframeIndexes","_ref7","styp","durationCount","earliestTime","mdatSize","sidx","mdat2","mdat","dinf","dref","StblTable","FMP4Remuxer","FMP4Remuxer2","browserVersions","forceFirstIDR","videoInitSegment","audioInitSegment","initSegment","videoSegment","audioSegment","createInit","hasVideo","hasAudio","initMerge","hasSample","_remuxVideo","_remuxAudio","mdata","_sample","mdatView","_offset2","_sample2","u","_offset","STREAM_PARSED","NO_AUDIO_TRACK","SUBTITLE_SEGMENTS","SUBTITLE_PLAYLIST","SEI_PAYLOAD_TIME","APPEND_COST","Transmuxer","Transmuxer2","hls","isMP4","needRemux","_demuxer","_isMP4","_remuxer","videoChunk","audioChunk","needInit","demuxer","demuxAndFix","vParsed","firstDts","firstPts","samplesDuration","aParsed","newId","_initSegmentId","_fireEvents","mseLowLatency","totalDuration","_this$_remuxer$remux","remux","logCC","meta","_excluded","_excluded2","BufferService","BufferService2","softDecode","_softVideo","_mse","decryptor","_decryptor","_this$_transmuxer","_this$_transmuxer$_de","_this$_transmuxer$_de2","_transmuxer","_this$_mse","_this$_mse2","_this$_mse3","hasOpTasks","_this$_mse4","_updateDuration","_sourceCreated","chunk","_directAppend","mix","_createMseSource","_appendBuffer","segment","afterAppend","_this$_transmuxer$tra","_this$_transmuxer$tra2","isFirstAppend","videoRest","audioRest","_this2$hls","_this2$hls2","_needInitSegment","transmux","setTrackExist","_handleCodecChange","task","_x8","_removeBuffer","_args3","clearBuffer","removeEnd","removeBuffer","_evictBuffer","_callee4","bufferBehind","_context4","evictBuffer","_x9","_clearAllBuffer","_callee5","_context5","clearAllBuffer","_callee6","reuseMse","_args6","_context6","_endOfStream","_callee7","_context7","_setLiveSeekableRange","_callee8","_context8","_x10","_x11","_detachMedia","_callee9","_context9","detachMedia","_destroy","_callee10","_this$_decryptor","_context10","tasks","codecList","sourceBuffer","getSourceBuffer","_this$_mse5","getConfig","cfg","maxPlaylistSize","retryCount","retryDelay","pollRetryCount","loadTimeout","manifestLoadTimeout","preloadTime","useLowLatency","targetLatency","maxLatency","allowedStreamTrackChange","seiInTime","manifestList","minSegmentsStartPlay","preferMMSStreaming","LoaderType","FETCH","XHR","ResponseType","ARRAY_BUFFER","NetError","NetError2","isPlainObject","isDate","getRangeValue","setUrlParams","hashIndex","createResponse","contentLength","age","firstByteTime","priOptions","calculateSpeed","byteLen","milliSecond","CACHESIZE","FetchLoader","FetchLoader2","_this$_abortControlle","onProgress","onTimeout","onCancel","transformResponse","credentials","cache","redirect","referrer","referrerPolicy","onProcessMinLen","_aborted","_onProcessMinLen","_onCancel","_abortController","AbortController","_running","_range","_vid","_priOptions","signal","_timeoutTimer","rangeValue","Headers","fetch","_response","ok","json","_loadChunk","arrayBuffer","_cancel","_reader","st","getReader","_writeIdx","pump","_this3$_range","startRange","startByte","curLen","retData","temp","_receivedLength","loaderType","onRetryError","transformRequest","transformError","integrity","XhrLoader","XhrLoader2","req","_onProgress","_headers","_withCredentials","_body","_method","_timeout","_runing","_responseType","_firstRtt","_onTimeout","_request","_loadCompleteResolve","_loadCompleteReject","_startLoad","chunkSize","_currentChunkSizeKB","_internalOpen","_startTime","_xhr","withCredentials","_onLoad","_onReadyStatechange","errorEvent","_errorEvent$currentTa","_errorEvent$currentTa2","_errorEvent$currentTa3","currentTarget","statusText","ontimeout","_this$_range","byteStart","_this$_range2","responseURL","_getHeaders","_transformResponse","headerLines","getAllResponseHeaders","header","Task","Task2","alive","_loaderType","_loader","_retryCount","_retryTimer","_canceled","_retryCheckFunc","retryCheckFunc","_this$_config","rest","isRetry","running","NetLoader","NetLoader2","_currentTask","_processTask","cancels","_alive","finally","_this3$_currentTask","_this3$_alive","MasterPlaylist","MasterPlaylist2","MediaType","Audio","Video","SubTitle","ClosedCaptions","KeySystems","CLEAR_KEY","FAIRPLAY","WIDEVINE","PLAYREADY","flatArray","MediaStream","MediaStream2","AudioStream","_MediaStream","AudioStream2","SubTitleStream","_MediaStream3","SubTitleStream2","_super3","MasterStream","MasterStream2","MediaPlaylist","MediaPlaylist2","MediaSegment","MediaSegment2","parentUrl","prevSegment","byteRange","bytes","MediaSegmentKey","MediaSegmentKey2","segKey","keyFormat","keyFormatVersions","sn","setIVFromSN","isKeyFormatValid","isMethodValid","isSegmentEncrypted","isValidKeySystem","REGEXP_TAG","REGEXP_ATTR","REGEXP_ABSOLUTE_URL","REGEXP_URL_PAIR","getLines","parseTag","parseAttr","getAbsoluteUrl","pairs","CODECS_REGEXP","getCodecs","re","isValidDaterange","dateRangeWithSameId","_badValueForSameId","DURATION","_endDate","_startDate","cue","enumeratedStringList","CUE","post","ID","END_ON_NEXT","CLASS","attrValue","dict","parseMasterPlaylist","lines","master","audioStreams","subtitleStreams","_tag","stream","TYPE","URI","autoSelect","AUTOSELECT","NAME","LANGUAGE","CHANNELS","channels","_stream","_attr","BANDWIDTH","RESOLUTION","_attr$RESOLUTION$spli","_attr$RESOLUTION$spli2","CODECS","textCodec","audioGroup","subtitleGroup","SUBTITLES","streams","stream2","parseMediaPlaylist","curSegment","curInitSegment","curKey","curSN","curCC","endOfList","partSegmentIndex","targetDuration","lowLatency","partTargetDuration","canBlockReload","partHoldBack","canSkipUntil","canSkipDateRanges","startSN","startCC","setByteRange","_attr2","independent","cc","partIndex","clone","dataTime","_data$split","_data$split2","_attr3","METHOD","KEYFORMAT","KEYFORMATVERSIONS","IV","_attr4","BYTERANGE","isInitSegment","_attr5","skippedSegments","MAX_SAFE_INTEGER","_attr6","dateRanges","endDate","END_DATE","lastSegment","isLast","endSN","endPartIndex","live","endCC","M3U8Parser","M3U8Parser2","isMediaPlaylist","ManifestLoader","ManifestLoader2","elapsed","retryTime","_useLowLatency","_this$hls$config","fetchOptions","_onLoaderRetry","_audioLoader","_subtitleLoader","_load","audioUrl","subtitleUrl","toLoad","videoText","audioText","subtitleText","videoResUrl","audioResUrl","subtitleResUrl","_yield$Promise$all","_yield$Promise$all2","subtitle","_audio$response","_subtitle$response","_audio$response2","onPreM3U8Parse","playlist","audioPlaylist","subtitlePlaylist","_playlist","_emitOnLoaded","isMaster","_playlist2","cb","errorCb","clamp","Stream","Stream2","_setLLPlaybackPoint","_this$segments$","_this$lastSegment","lastSeg","_this$currentSubtitle","currentSubtitleStream","currentAudioStream","_clearSegments","snDiff","_updateSegments","newSegs","segs","toSwitch","maxStartPoint","usefulSegs","sliceStart","segObj","_endSeg$sn","endSeg","hasNew","toAppend","endTimeBeforeAppend","lastCC","Playlist","Playlist2","_this$currentStream","currentStream","_this$currentStream2","_this$currentSegments","currentSegments","_segmentPointer","_this$currentSegments2","_this$currentStream3","_this$currentStream4","currentSubtitleEndSn","_this$currentStream5","liveEdge","_this$currentStream6","_this$currentSegments3","_this$currentSegments4","_this$currentStream7","_this$currentStream8","_this$currentStream9","getAudioSegment","_this$currentSegments5","dvrWindow","_this$currentSegments6","_this$currentSegments7","setNextSegmentByIndex","newSubtitleSegs","updateSubtitle","_this$currentSegments8","_this$currentStream10","switchSubtitle","clearOldSegment","nbSb","findSegmentIndexByTime","getSegmentByIndex","updateSegmentsRanges","SKIP_SMALL_CHUNK","MAX_CHUNK_SAVE_SIZE","MAX_SEGMENT_SAVE_SIZE","LONGTIME_NO_RECEIVE","BandwidthService","BandwidthService2","opts","_opts","totalByte","_speeds","_this$_opts","_this$_opts2","skipChunkSize","_totalSize","_totalCost","_chunkSpeed","_chunkCache","chunkCountForSpeed","_this$_opts3","cost","longtimeNoReceived","SegmentLoader","SegmentLoader2","_bandwidthService","addRecord","_mapCache","_keyCache","_segmentLoader","_audioSegmentLoader","_keyLoader","getLatestSpeed","getAvgSpeed","audioSeg","loadInit","loadAudioInit","loadVideoSegment","loadAudioSegment","_loadSegment","_loadSegment2","segLoader","_seg$key","mapKey","mapKeyIv","_seg$initSegment$key","mapUrl","_keyUrl","keyUrl","Hls","Hls2","_cfg","_this$_playlist","nextSegment","minFrameDuration","maxBufferThroughout","bInfo","bufferThroughout","_segmentProcessing","_tryEos","_bufferService","msStreaming","_urlSwitching","_prevSegSn","_loadSegmentDirect","_disconnectTimer","_reloadOnPlay","disconnectTime","_clear","seekRange","newSeekTime","curSeg","segIndex","_onCheckQuotaExceeded","currentSegment","_this$_seiService","latency","_seiService","throw","_checkStreamTrackChange","segLoaderError","_isProcessQuotaExceeded","bufferMaxHoleTolerance","fatal","_emitError","_gapService","do","_manifestLoader","_onLoadeddata","_onPause","hasSubtitle","_this$_bufferService","targetSeg","_args4","clearSwitchStatus","_switchUrlOpts","_loadData","_loadData2","manifest","_this$_switchUrlOpts","_this$_switchUrlOpts3","_this$_switchUrlOpts4","_this$_switchUrlOpts2","switchTimePoint","segIdx","nextSeg","bufferClearStartPoint","_this$_switchUrlOpts5","_loadM3U8","setNextSegmentBySN","_prevSegCc","_getSeamlessSwitchPoint","nbSegments","_pollM3U8","_replay","isPlayEmit","_switchURL","defaultOpts","_options","appended","_args7","t2","seamlessSwitch","_switchStream","force","curStream","curId","_args8","_refreshM3U8","switchStream","_switchAudioStream","audioStream","_args9","switchAudioStream","_switchSubtitleStream","stopPoll","switchSubtitleStream","_callee11","_context11","_callee12","_this$_seiService2","_context12","_loadM3U","_callee13","_this$config$manifest","_this$config$manifest2","_this$_playlist$curre","_context13","parseText","upsertPlaylist","_stream$currentAudioS","_stream$currentSubtit","mediaPlaylist","pollInterval","_this$_playlist$lastS","isEmpty","poll","p1","p3","switchToNoEmpty","hadSegmentLoaded","_loadSegmentDirect2","_callee14","loadOnce","cachedError","_this$_playlist$curre2","sameStream","_context14","_reqAndBufferSegment","feedbackLiveEdge","moveSegmentPointer","_reqAndBufferSegment2","_callee15","_this$_bufferService2","responses","before","segStart","_context15","decryptBuffer","_onCheckQuotaExceeded2","_callee16","inBuffered","mediaTime","_context16","changedSeg","checkSegmentTrackChange","_clear2","_callee17","_context17","_reset2","_callee18","_this$_seiService3","_args18","_context18","_tickTimer","_tick","_tickInterval","_error$originError","_this$media2","_this$media3","_this$_seiService4","nextLoadPoint","latestKbps","_this$_bufferService3","_this$_bufferService4","_this$_playlist2","eosAllowed","isBuffered","msIsOpened","msHasOpTasks","WebAssembly","Logger$1","localStorage","getItem","enableLogger","disableLogger","PluginExtension","PluginExtension2","_this$_plugin","_this$_plugin$player","_this$_plugin2","_this$_plugin2$player","innerDegrade","degradeInfo","_degrade","originVideo","TAG","newVideo","degradeVideo","degrade","replaceChild","hlsPlugin","_init","setPlayMode","_onLowDecode","_this$_opts3$media","parseSwitchUrlArgs","HlsPlugin","HlsPlugin2","_this$hls","_this$hls2","_this$hls3","_this$player$config","hlsOpts","__allowHlsEmptyUrl__","isMMSOnly","_this2$player$config","_this2$player$config$","keepStatusAfterSwitch","_keepPauseStatus","onSwitchUrl","defineGetterOrSetter","_this2$hls$media","pluginExtension","forceDegradeToVideo","_this2$pluginExtensio","_onSwitchSubtitle","_transError","_transCoreEvent","_this$pluginExtension","_emitSeiPaylodTime","seiJson","Sidebar","watch","nv","$route","query","immediate","mapActions","toggleLoading","moment","getVideoInfo","initPlayer","getMenuInfo","classifyInfo","getVideos","pageNum","$router","videoCover","dispose","beforeUnmount"],"sourceRoot":""}