var z=Object.defineProperty,I=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var k=(e,a,s)=>a in e?z(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s,h=(e,a)=>{for(var s in a||(a={}))L.call(a,s)&&k(e,s,a[s]);if(y)for(var s of y(a))N.call(a,s)&&k(e,s,a[s]);return e},x=(e,a)=>I(e,V(a));import{b as A}from"./index.90779013.js";import{T as B,C as M}from"./Card.d7e2cdc6.js";import{S as T}from"./Sidebar.606a9025.js";import{_ as U,m as D,a as F,r,o as n,c as i,b as u,F as g,d as p,f as l,w as C,g as E}from"./index.3f821aa2.js";const K={name:"Index",components:{Title:B,Card:M,Sidebar:T},data(){return{_ads:[],data:[],suffixMap:{"ko-KR":"\uB354 \uBCF4\uAE30","en-US":"More related videos","zh-CN":"\u66F4\u591A"}}},watch:{menus(){this.getVideos()}},computed:h({},D({ads:e=>e.common.ads,menus:e=>e.common.menus,language:e=>e.common.language})),methods:x(h({},F({toggleLoading:"common/toggleLoading"})),{goAd(e){window.open(e)},async getVideos(){if(this.toggleLoading(!0),this.menus&&this.menus.length){let e=(this.menus.length+1)*12+1,a=Math.ceil(e/this.ads.length),s=[];for(let t=0;t<a;t++)s=s.concat(this.ads);s.shift(),this._ads=s;const f=async(t,d)=>{let{rows:_,code:m}=await A({pageNum:1,pageSize:8,classifyId:t.classifyId,specialId:t.specialId});m==200&&this.data.push({id:t.id,category:t,ads:s.slice((d+1)*12,(d+2)*12),adsSide:s.slice((d+1)*5,(d+2)*5),videos:_})};for(let t=0;t<this.menus.length;t++)await f(this.menus[t],t),this.toggleLoading(!1)}}}),mounted(){this.getVideos()}},R={class:"home-container"},j={class:"home-wrapper"},q={class:"ads"},G={class:"list"},H={class:"ads h5-hide"};function J(e,a,s,f,t,d){const _=r("van-loading"),m=r("van-image"),w=r("Title"),S=r("Card"),b=r("Sidebar");return n(),i("div",R,[u("div",j,[u("div",q,[(n(!0),i(g,null,p(t._ads.slice(0,12),(o,c)=>(n(),i("div",{class:"ads-item",key:o.title+"_"+c},[l(m,{onClick:v=>d.goAd(o.link),fit:"cover",position:"center","lazy-load":!0,src:o.picUrl},{loading:C(()=>[l(_,{type:"spinner",size:"20"})]),_:2},1032,["onClick","src"])]))),128))]),(n(!0),i(g,null,p(t.data,o=>(n(),i("div",{class:"category-part",key:o.id},[l(w,{class:"page-title",name:o.category.classifyName,suffix:t.suffixMap[e.language],item:o.category},null,8,["name","suffix","item"]),u("div",G,[(n(!0),i(g,null,p(o.videos,c=>(n(),E(S,{class:"video-card",item:c},null,8,["item"]))),256))]),u("div",H,[(n(!0),i(g,null,p(o.ads,(c,v)=>(n(),i("div",{class:"ads-item",key:c.title+"_"+v},[l(m,{onClick:O=>d.goAd(c.link),fit:"cover",position:"center","lazy-load":!0,src:c.picUrl},{loading:C(()=>[l(_,{type:"spinner",size:"20"})]),_:2},1032,["onClick","src"])]))),128))])]))),128))]),l(b,{processedData:t.data,class:"sidebar"},null,8,["processedData"])])}var Z=U(K,[["render",J],["__scopeId","data-v-8eb6de98"]]);export{Z as default};
