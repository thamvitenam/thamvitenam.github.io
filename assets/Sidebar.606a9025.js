var z=Object.defineProperty;var v=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var f=(e,a,s)=>a in e?z(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s,y=(e,a)=>{for(var s in a||(a={}))b.call(a,s)&&f(e,s,a[s]);if(v)for(var s of v(a))D.call(a,s)&&f(e,s,a[s]);return e};import{b as I}from"./index.90779013.js";import{C as x,T as A}from"./Card.d7e2cdc6.js";import{m as B,_ as N,r as _,o as i,c as n,b as h,F as m,d as u,f as d,w as k}from"./index.3f821aa2.js";const T={name:"Sidebar",components:{Card:x,Title:A},props:{processedData:{type:[Array,Boolean],default(){return!1}}},data(){return{_ads:[],data:[],titleMap:{"ko-KR":"\uCD94\uCC9C\uC601\uC0C1","en-US":"Hot","zh-CN":"\u63A8\u8350\u89C6\u9891"}}},computed:y({},B({ads:e=>e.common.ads,menus:e=>e.common.menus,language:e=>e.common.language})),methods:{goAd(e){window.open(e)},async initData(){if(this.menus&&this.menus.length){let e=(this.menus.length+1)*5+1,a=Math.ceil(e/this.ads.length),s=[];for(let t=0;t<a;t++)s=s.concat(this.ads);s.shift(),this._ads=s;const g=async(t,l)=>{let{rows:r,code:p}=await I({page:0,pageSize:8,classifyId:t.classifyId,specialId:t.specialId});p==200&&this.data.push({id:t.id,category:t,adsSide:s.slice((l+1)*5,(l+2)*5),videos:r})};for(let t=0;t<this.menus.length;t++)await g(this.menus[t],t)}}},mounted(){this.processedData?this.data=this.processedData:this.initData()}},M={class:"sidebar"},U={class:"ads"},V={class:"ads-item"},F={class:"list"},$={class:"video-card-wrapper"},E={class:"ads"};function H(e,a,s,g,t,l){const r=_("van-loading"),p=_("van-image"),C=_("Title"),S=_("Card");return i(),n("div",M,[h("div",U,[(i(!0),n(m,null,u(e.ads.slice(1,6),o=>(i(),n("div",V,[d(p,{onClick:c=>l.goAd(o.link),fit:"cover",position:"center","lazy-load":!0,src:o.picUrl},{loading:k(()=>[d(r,{type:"spinner",size:"20"})]),_:2},1032,["onClick","src"])]))),256))]),(i(!0),n(m,null,u(t.data,o=>(i(),n("div",{class:"category-part",key:o.id},[d(C,{class:"page-title",name:o.category.classifyName+" "+t.titleMap[e.language],item:o.category,size:"small",suffix:""},null,8,["name","item"]),h("div",F,[(i(!0),n(m,null,u(o.videos.slice(0,6),c=>(i(),n("div",$,[d(S,{class:"video-card",size:"small",item:c},null,8,["item"])]))),256))]),h("div",E,[(i(!0),n(m,null,u(o.adsSide,(c,w)=>(i(),n("div",{class:"ads-item",key:c.title+"_"+w},[d(p,{onClick:K=>l.goAd(c.link),fit:"cover",position:"center","lazy-load":!0,src:c.picUrl},{loading:k(()=>[d(r,{type:"spinner",size:"20"})]),_:2},1032,["onClick","src"])]))),128))])]))),128))])}var G=N(T,[["render",H],["__scopeId","data-v-4112c434"]]);export{G as S};
